(function(){function BH(){this.mq={};this.md={}}BH.xj=[];BH.ug=function(N){var c=BH.xj;if(c.length!=0){var X=new Q(d.E.jR);
for(var l=0;l<c.length;l++)c[l].C(X)}window.requestAnimationFrame(BH.ug)};window.requestAnimationFrame(BH.ug);
BH.prototype._vw=function(N){var c=this.mq[N];if(c==null)return!1;return c.length>0};BH.prototype.addEventListener=function(N,c){this.i(N,c,null)};
BH.prototype.i=function(N,c,X){if(this.mq[N]==null){this.mq[N]=[];this.md[N]=[]}this.mq[N].push(c);this.md[N].push(X);
if(N==d.E.jR){var l=BH.xj;if(l.indexOf(this)==-1)l.push(this)}};BH.prototype.removeEventListener=function(N,c){var X=this.mq[N];
if(X==null)return;var l=X.indexOf(c);if(l<0)return;var C=this.md[N];X.splice(l,1);C.splice(l,1);if(N==d.E.jR&&X.length==0){var q=BH.xj;
q.splice(q.indexOf(this),1)}};BH.prototype.C=function(N){N.currentTarget=this;if(N.target==null)N.target=this;
var c=this.mq[N.type];if(c==null)return;var X=this.md[N.type];for(var l=0;l<c.length;l++){if(X[l]==null)c[l](N);
else c[l].call(X[l],N)}};function Bs(){BH.call(this);this.mg={};this.ME={};this.M_={};Bs.MT=this}Bs.prototype=new BH;
Bs._BU="Preview";Bs.tK=120;Bs.IC=20;Bs.cols=8;Bs.jL=function(N){var c=N.name.postScriptName;if(c==null)return null;
return c.replace(/ /g,"-")};Bs._BP=function(N){var c=N.name,X=c.typoFamilyName?c.typoFamilyName:c.fontFamily,l=c.typoSubfamilyName?c.typoSubfamilyName:c.fontSubfamily,C="JUICE,Latin Modern Mono,Latin Modern Sans,Libre Caslon,Londrina,Panefresco,Perspective Sans,Plasma Drip,SF Shai Fontai,SF Toontime,SF Wasabi,SF Wonder Comic,Sansumi,Solveig,Theano,UnifrakturMaguntia,Varela,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,itsadzoke".split(",");
for(var q=0;q<C.length;q++)if(X.startsWith(C[q])){var J=X.slice(C[q].length);X=C[q];if(J.startsWith(" ")||J.startsWith("-"))J=J.slice(1);
if(J!=""){l=J+" "+l}}return[X,l]};Bs.prototype.MK=function(N){if(this.mg[N])return this.mg[N];if(this.ME[N])return null;
var c=null,X=this.Xn();if(X[N]!=null)c=X[N][5];if(c==null){var l;if(this.ml[N])l=this.ml[N];else{var C="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),q=N.toLowerCase(),J=0;
if(q.indexOf("sans")!=-1)J=0;else if(q.indexOf("serif")!=-1)J=4;var Z=q.indexOf("bold")!=-1,W=q.indexOf("italic")!=-1||q.indexOf("oblique")!=-1;
if(Z&&W)J+=3;else if(W)J+=2;else if(Z)J+=1;l=C[J]}if(this.M_[l]==null)alert(BT.get([22,6,0])+" "+N+" "+BT.get([22,6,1])+". "+BT.get([22,6,2])+" "+l+".");
this.M_[l]=!0;return this.MK(l)}this.ME[N]="a";var s=new Q(d.E.m,!0);s.data={I:d.L.jx,mz:{url:"rsrc/fonts/"+c}};
this.C(s)};Bs.prototype.HO=function(N){alert(BT.get([22,6,0])+" "+N.name.fullName+" "+BT.get([23,0])+".");
var c=Bs.jL(N),X=!1,l=FNTS.list;for(var C=0;C<l.length;C++)if(l[C][2]==c)X=!0;if(!X){var q=Bs._Uo(N),J=document.createElement("canvas"),Z=J.getContext("2d");
J.width=Bs.tK;J.height=Bs.IC;var W=Bs.IC*.75/N.head.unitsPerEm;Z.translate(5,Bs.IC*.75);Z.scale(W,-W);
Z.fillStyle="#000000";var s=Typr.U.stringToGlyphs(N,Bs._BU);Typr.U.pathToContext(Typr.U.glyphsToPath(N,s),Z);
Z.fill();q.MI=J.toDataURL();this.j$(q,l.length);l.push(q)}delete this.ME[c];this.mg[c]=N};Bs._UI=function(){return Bs.Kn};
Bs.BZ=[[160,255],.7,[256,383],.7,[913,929,931,969],.7,[1040,1119],.7,[1473,1479,1488,1514,1520,1524],.7,[1569,1594,1600,1749],.7,[12592,12687,44032,42927],.7,[19968,40895],.05];
Bs.Kn="Latin-1,Latin Ext. A,Greek,Cyrillic,Hebrew,Arabic,Hangul,Chi-Jap-Kor".split(",");Bs._Uo=function(N,c,X){var l=N.name,O=0;
if(Bs.jL(N)==null){console.log(N);throw"No postScriptName!"}var C=Bs.BZ,q=[];for(var J=0;J<C.length;
J+=2){var Z=0,W=0,s=C[J],t=C[J+1];for(var T=0;T<s.length;T+=2){for(var g=s[T];g<=s[T+1];g++){var R=Typr.U.codeToGlyph(N,g);
if(R==0)W++;else Z++}}var P=Z/(Z+W);if(P>t)q[J>>1]=1;else q[J>>1]=0}for(var J=0;J<q.length;J++)O+=q[J]<<J;
var b=Bs._BP(N);return[b[0],b[1],Bs.jL(N),O,X,c]};Bs._Lu=function(N,c){if(N[2]<c[2])return-1;if(N[2]>c[2])return 1;
return 0};Bs.prototype.ml={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DeajVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","":""};
Bs.prototype.Xn=function(){if(FNTS.map==null){var N=FNTS.list;for(var c=0;c<N.length;c++)this.j$(N[c],c)}return FNTS.map};
Bs.prototype.j$=function(N,c){var X=N[0],l=N[1];N.MB=c;if(FNTS.map==null)FNTS.map={};FNTS.map[N[2]]=N;
if(FNTS.mapFS==null)FNTS.mapFS={};FNTS.mapFS[X+"---"+l]=N;if(FNTS.mapSub==null)FNTS.mapSub={};if(FNTS.mapSub[X]==null)FNTS.mapSub[X]=[];
if(FNTS.mapSub[X].indexOf(l)==-1)FNTS.mapSub[X].push(l)};Bs.prototype.Bu=function(N,c){this.Xn();return FNTS.mapFS[N+"---"+c]};
Bs.prototype.Mc=function(N){this.Xn();return FNTS.mapSub[N]};Bs.prototype._PW=function(){this.Xn();return FNTS.mapSub;
var N=FNTS.list,c=[];for(var X=0;X<N.length;X++)if(c.indexOf(N[X][0])==-1)c.push(N[X][0]);return c};
var BR={Ta:0,he:null,Mi:null,jI:null,sf:null,G$:null,my:!0,mj:0,Gx:!1},_T=0;BR.oK=function(){return BR._v_()!=null};
BR.oh=function(){return BR.G$};BR.oP=function(N){window.addEventListener("message",BR._Ki,!1);setInterval(BR._N,5e3);
if(BR.oK()){BR.he=N;BR.Xc()}else setTimeout(N,1)};BR._N=function(){if(BR.oK()&&BR.Gx){BR.Yu(BR.WS());
BR.Gx=!1}};BR.Rb=function(N){BR.he=N;var c="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
BR.jI=window.open(c,"_blank")};BR._EO=function(){localStorage.removeItem(BR.Ta+"_uid");localStorage.removeItem(BR.Ta+"_provider");
localStorage.removeItem(BR.Ta+"_token");BR.G$=null};BR._Ki=function(N){if(N.data instanceof ArrayBuffer)return;
if(N.data.charAt(0)!="{")return;var c=JSON.parse(N.data);if(c.prms==null)return;var X=c.prms.split(",");
if(X[0]=="papi_logged_in"){localStorage[BR.Ta+"_uid"]=X[1];BR.eU(X[2]);localStorage[BR.Ta+"_provider"]=X[3];
BR.jI.close();BR.Xc()}if(X[0]=="payment_complete"){BR.sf.close();BR.Xc()}};BR._v_=function(){var N=localStorage[BR.Ta+"_token"];
if(N!=null&&Date.now()*.001+10<parseInt(N.split("-")[0]))return N;return null};BR.eU=function(N){var c=localStorage[BR.Ta+"_token"];
if(c!=null&&parseInt(N.split("-")[0])<parseInt(c.split("-")[0]))return;localStorage[BR.Ta+"_token"]=N;
clearTimeout(BR.mj);BR.mj=setTimeout(BR._vK,Math.min(1e9,parseInt(N.split("-")[0])*1e3-Date.now()-20*1e3))};
BR._vK=function(){var N=new XMLHttpRequest;N.open("POST","https://www.photopea.com/papi/record_new.php",!0);
N.onload=BR._CA;var c=BR.GZ()+"&read=2";N.setRequestHeader("Content-type","application/x-www-form-urlencoded");
N.send(c)};BR.Xc=function(){var N=new XMLHttpRequest;N.open("POST","https://www.photopea.com/papi/record_new.php",!0);
N.onload=BR._Ck;var c=BR.GZ()+"&read=1";N.setRequestHeader("Content-type","application/x-www-form-urlencoded");
N.send(c)};BR.Yu=function(N){var c=new XMLHttpRequest;c.open("POST","https://www.photopea.com/papi/record_new.php",!0);
c.onload=BR._Le;var X=BR.GZ()+"&read=0&score=0&spublic="+BR.my+"&record="+encodeURIComponent(JSON.stringify(N));
c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.send(X)};BR._Ck=function(N){var c=JSON.parse(N.target.response);
if(c.error){}else{BR.G$=c.user;var X=BR.WS(),l=c.record;if(c.record){BR.my=c.spublic;BR._E(l)}else if(X)BR.Yu(X)}BR.eU(c.token);
if(BR.he){BR.he();BR.he=null}if(BR.Mi){BR.Mi();BR.Mi=null}};BR._CA=function(N){var c=JSON.parse(N.target.response);
BR.eU(c.token)};BR._Le=function(N){var c=JSON.parse(N.target.response);BR.eU(c.token);if(BR.Mi)BR.Xc()};
BR.GZ=function(){return"app="+BR.Ta+"&uid="+localStorage[BR.Ta+"_uid"]+"&token="+localStorage[BR.Ta+"_token"]};
BR.mY=function(){return BR.WS()};BR.Ma=function(N,c){BR._E(N);BR.Gx=!0;if(c){BR.Mi=c;BR._N()}};BR.WS=function(){var N=localStorage[BR.Ta+"_stateLocal"],c;
if(N==null)return null;try{c=JSON.parse(N)}catch(Bj){return null}return c};BR._E=function(N){var c=JSON.stringify(N);
localStorage[BR.Ta+"_stateLocal"]=c};BR.order=function(N,c,X){BR.he=X;var l="https://www.photopea.com/papi/order.php?ptype="+c+"&param="+N+"&uid="+localStorage[BR.Ta+"_uid"]+"&token="+localStorage[BR.Ta+"_token"];
BR.sf=window.open(l,"_blank")};var BT={};BT.__=0;BT._T={};BT.get=function(N){var c=JSON.stringify(N);
if(BT._T[c]!=null)return BT._T[c];var X=LNG.tables[0],l=LNG.tables[BT.__],C=BT._I(N,l);if(C!=null)return C;
return BT._I(N,X)};BT._I=function(N,c){for(var X=0;X<N.length;X++){c=c[N[X]];if(c==null)return null}return c};
BT._B=function(){return LNG.langs};BT._Lx=function(N){BT.__=N};BT._LP=function(N){for(var c=0;c<LNG.langs.length;
c++)if(LNG.langs[c].code==N)BT.__=c};BT._v=function(){return LNG.langs[BT.__].code};BT._EN=function(N){for(var c=0;
c<N.length;c+=2)BT._T[JSON.stringify(N[c])]=N[c+1]};BT._U=function(N){var c=-1,X=BT._B();for(var l=0;
l<X.length;l++)if(X[l].code==N)c=l;return c};var Bk={_L:0,_C:{expires_at:0},_Z:[]};Bk._R=function(N){if(N)Bk._Z.splice(0,0,N);
if(Bk._L==1)return;if(Bk._C.expires_at>Date.now()*.001+30){while(Bk._Z.length>0)Bk._Z.pop()()}else{if(Bk._L==0)Bk._L=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:Bk._L==2?!1:!0},Bk._$m)}};
Bk._$m=function(N){if(N&&!N.error){Bk._C=N;Bk._L=!1;Bk._R()}else if(Bk._L==1){Bk._L=2;Bk._R()}else alert("Error: "+N.error)};
Bk._h=function(){return"access_token="+Bk._C.access_token+"&token_type="+Bk._C.token_type};function BC(){}BC._r={_Bc:["PNG","JPG","SVG","GIF","PDF"],_Rb:["WEBP","BMP","PPM","TIFF","DDS"]};
BC._x=function(N){if(!(N instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var c=new Uint8Array(N),X=BC._Re,l;
if(X(c,[56,66,80,83]))l="psd";if(X(c,[103,105,109,112,32,120,99,102,32]))l="xcf";if(X(c,[137,80,78,71,13,10,26,10]))l="png";
if(X(c,[87,76]))l="cdr";if(X(c,[82,73,70,70])){var C=BD.ZB(c),q=C.cY;if(q=="WEBP")l="webp";else if(q.slice(0,3)=="CDR")l="cdr";
else l=q}if(X(c,[255,216,255]))l="jpg";if(X(c,[0,0,0,12,106,80,32,32]))l="jpg";if(X(c,[0,0,0,0,48,0,1,0]))l="jpg";
if(X(c,[71,73,70,56]))l="gif";if(X(c,[0,0,0,2,121,102,113,76]))l="msh";if(X(c,[0,0,0,3,121,102,113,76]))l="msh";
if(X(c,[0,2]))l="alv";if(X(c,[0,6,0,1]))l="abr";if(X(c,[0,6,0,2]))l="abr";if(X(c,[0,9,0,2]))l="abr";
if(X(c,[0,10,0,2]))l="abr";if(X(c,[56,66,70,83]))l="shc";if(X(c,[56,66,80,84]))l="pat";if(X(c,[0,4,0,5]))l="acv";
if(X(c,[56,66,71,82]))l="grd";if(X(c,[99,117,115,104]))l="csh";if(X(c,[0,1,0,0]))l="ttf";if(X(c,[79,84,84,79]))l="otf";
if(X(c,[68,68,83,32]))l="dds";if(X(c,[80,86,82,3]))l="pvr";if(X(c,[0,0,1,0]))l="ico";if(X(c,[66,77]))l="bmp";
if(X(c,[80,49]))l="ppm";if(X(c,[80,50]))l="ppm";if(X(c,[80,51]))l="ppm";if(X(c,[80,52]))l="ppm";if(X(c,[80,53]))l="ppm";
if(X(c,[80,54]))l="ppm";if(X(c,[73,73,42,0]))l="tiff";if(X(c,[77,77,0,42]))l="tiff";if(X(c,[83,81,76,105]))l="sketch";
if(X(c,[80,75])){var J=UZIP.parse(N,!0);if(J["document.json"])l="sketch";if(J.manifest)l="xd"}if(X(c,[123]))l="json";
if(X(c,[60,115,118,103]))l="svg";if(X(c,[60,63,120,109]))l="svg";if(X(c,[60,33,100,111]))l="html";if(X(c,[60,33,68,79]))l="html";
if(X(c,[13,10,60,33]))l="html";if(X(c,[37,33]))l="eps";if(X(c,[37,80,68,70]))l="pdf";if(X(c,[32,32,32,37,80,68,70]))l="pdf";
return l};BC._Re=function(N,c){for(var X=0;X<c.length;X++)if(N[X]!=c[X])return!1;return!0};BC._A=function(N){return BC[N.toUpperCase()]};
BC._k=function(N){var c=BC._r._Bc,X=BC._r._Rb,l,C=[];if(N==null)l=c.concat(X);else l=N==0?c:X;for(var N=0;
N<l.length;N++)if(BC[l[N]]._c)C.push(l[N]);return C};BC._u=function(N,c,X,l,C){var q=new Uint8Array(N),J=d.S("canvas","");
J.width=c;J.height=X;var Z=J.getContext("2d"),W=Z.getImageData(0,0,c,X);for(var s=0;s<c*X*4;s++)W.data[s]=q[s];
Z.putImageData(W,0,0);var t=J.toDataURL("image/"+l,C),T=BC._p(t);return T.buffer};BC._p=function(N){var c=atob(N.split(",").pop()),X=new Uint8Array(c.length);
for(var l=0;l<c.length;l++)X[l]=c.charCodeAt(l);return X};BC._a=function(N,c,X){var l=new Uint8Array(BC.PNG._c([[N.buffer,0]],c,X));
return"data:image/png;base64,"+BC._w(l.buffer)};BC._i=function(N,c,X,l,C){if(C==null)C=0;var q="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",J="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+q+"<g transform=\"translate(64 64) scale("+.25*Math.round(d.V())+")\">";
if(N==1)J+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
J+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+C+")\" xlink:href=\""+c+"\" x=\""+80*X+"\" y=\""+80*l+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var Z=new Uint8Array(J.length);Bl.SA(J,Z,0);return"data:image/svg+xml;base64,"+BC._w(Z.buffer)};BC._w=function(N){var c=new Uint8Array(N),X="";
for(var l=0;l<c.length;l++)X+=String.fromCharCode(c[l]);return btoa(X)};BC._V=function(N,c,X,l,C){if(X==null)X=N.h;
if(l==null)l=N.s;var q=BC[c.toUpperCase()];if(q._F)return q._c(N,X,l,C);var J=[],Z=[];for(var W=0;W<N.R.length;
W++){var s=N.R[W];if(s.getName().slice(0,3)=="_a_"){J.push(W);Z.push(s.iw())}}if(J.length==0){var t;
if(X==N.h&&l==N.s)t=N.VN().buffer;else{var T=H.r.kP([N.VN(),new u(0,0,N.h,N.s)],new Bh(X/(N.h+.001),0,0,l/(N.s+.001),0,0));
t=T.buffer}return q._c([[t,0]],X,l,C)}var g=[];for(var W=0;W<J.length;W++){var R=J[W],t;for(var P=0;
P<J.length;P++)N.R[J[P]].io(J[P]==R);N.cC();N._();N.cE();if(X==N.h&&l==N.s)t=N.VN().buffer.slice(0);
else{var T=H.r.kP([N.VN(),new u(0,0,N.h,N.s)],new Bh(X/(N.h+.001),0,0,l/(N.s+.001),0,0));t=T.buffer}var O=N.R[R].getName().split(",");
g.push([t,O[1]?parseInt(O[1]):50])}for(var W=0;W<J.length;W++)N.R[J[W]].io(Z[W]);N._();N.cE();var b=q._c(g,X,l,C);
return b};BC.PNG={};BC.PNG._c=function(N,c,X,l){if(l==null)l=[100,!1];var C=l[0],q=C==100?0:Math.max(2,Math.floor(C*5)),J=[],Z=[];
for(var W=0;W<N.length;W++){J.push(N[W][0]);Z.push(N[W][1])}var s=UPNG.encode(J,c,X,q,Z,l[1]);return s};
BC.PNG._l=function(N){var c=UPNG.decode(N),X=UPNG.toRGBA8(c),l=c.width,C=c.height;if(X.length==1)return[{M$:new u(0,0,l,C),data:X[0]}];
var q=[];for(var J=0;J<X.length;J++){q.push({MU:"_a_frm"+J+","+c.frames[J].delay,M$:new u(0,0,l,C),data:X[J]})}return q};
BC.PPM={};BC.PPM._c=function(N,c,X,l){var C=new Uint8Array(N[0][0]),q=c*X,J=q*3,Z="P6\n"+c+" "+X+"\n255\n",W=Z.length,s=I.a(W+J,!0);
for(var t=0;t<W;t++)s[t]=Z.charCodeAt(t);for(var t=0;t<q;t++){var T=t*4,g=t*3+W;s[g]=C[T];s[g+1]=C[T+1];
s[g+2]=C[T+2]}return s.buffer};BC.PPM._l=function(N){N=new Uint8Array(N);var c=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],X=0,l=String.fromCharCode(N[0])+String.fromCharCode(N[1]),C=[],q=0,J=l=="P1"||l=="P4"?2:3;
for(X=2;X<N.length;X++){var Z=N[X],W=String.fromCharCode(Z);if(Z=="#".charCodeAt(0)){while(N[X]!="\n".charCodeAt(0))X++;
continue}var s=c.indexOf(Z)!=-1;if(q==0&&!s){C.push(W);q=1;continue}if(q==1&&!s){C[C.length-1]+=W;continue}if(q==1&&s){q=0;
if(C.length==J)break;continue}}var t=parseInt(C[0]),T=parseInt(C[1]),g=t*T*4,R=l=="P1"||l=="P4"?1:255/parseInt(C[2]),P=I.a(g);
if(l=="P1"||l=="P2"||l=="P3"){var O="",b=0,q=0,z="#".charCodeAt(0);for(var m=X;m<N.length;m++){var Z=N[m],W=String.fromCharCode(Z),s=c.indexOf(Z)!=-1;
if(Z==z){while(N[m]!="\n".charCodeAt(0))m++}else if(q==0&&!s){O=W;q=1}else if(q==1){if(s){q=0;var f=parseInt(O);
O="";if(l=="P1"){P[b]=P[b+1]=P[b+2]=(1-f)*255;P[b+3]=255;b+=4}if(l=="P2"){P[b]=P[b+1]=P[b+2]=Math.round(f*R);
P[b+3]=255;b+=4}if(l=="P3"){P[b]=Math.round(f*R);b++;if((b&3)==3){P[b]=255;b++}}}else O+=W}}}var B=t*T;
if(l=="P4")for(var K=0;K<T;K++){var j=K*8*Math.ceil(t/8);for(var S=0;S<t;S++){var m=j+S,r=N[X+1+(m>>3)];
r=r>>7-(m&7)&1;var n=K*t+S<<2;P[n]=P[n+1]=P[n+2]=(1-r)*255;P[n+3]=255}}if(l=="P5")for(var m=0;m<B;m++){var n=4*m;
P[n]=P[n+1]=P[n+2]=Math.round(N[X+1+m]*R);P[n+3]=255}if(l=="P6")for(var m=0;m<B;m++){var n=4*m,o=X+1+3*m;
P[n]=Math.round(N[o]*R);P[n+1]=Math.round(N[o+1]*R);P[n+2]=Math.round(N[o+2]*R);P[n+3]=255}return[{M$:new u(0,0,t,T),data:P.buffer}]};
BC.DDS={};BC.DDS._c=function(N,c,X,l){var C=new Uint8Array(N[0][0]);if((c&3)!=0||(X&3)!=0){var q=c+(4-(c&3)),J=X+(4-(X&3)),Z=new Uint8Array(q*J*4);
I.Tr(Z,4278190080);I.TF(C,new u(0,0,c,X),Z,new u(0,0,q,J));C=Z;c=q;X=J}return UTEX.DDS.encode(C.buffer,c,X)};
BC.DDS._l=function(N){var c=UTEX.DDS.decode(N)[0];return[{M$:new u(0,0,c.width,c.height),data:c.image}]};
BC.JPG={};BC.JPG._c=function(N,c,X,l){if(l==null)l=[70];var C=new Uint8Array(N[0][0].byteLength),q=new u(0,0,c,X);
I.Tr(C,4294967295);I.B.Ih("norm",new Uint8Array(N[0][0]),q,C,q,q,1);return BC._u(C,c,X,"jpeg",l[0]/100)};
BC.JPG._l=function(N){N=new Uint8Array(N);if(N[0]==255){var c=new JpegImage;c.parse(N);var X=c.width,l=c.height,C={width:X,height:l,data:new Uint8Array(X*l*4)};
c.copyToImageData(C);return[{M$:new u(0,0,X,l),data:C.data.buffer}]}else if(N[3]==0){var q=new Uint8Array(N.length+1);
for(var J=0;J<N.length;J++)q[J]=N[J];var c=new PDFJS.Jbig2Image,Z={data:q,start:0,end:q.length},W=c.parseChunks([Z]);
for(var J=0;J<W.length;J++)W[J]^=255;var X=_.Y(N,11),l=_.Y(N,15),s=Math.ceil(X/8),t=I.a(X*l*4);for(var T=0;
T<l;T++){var g=T*s;for(var R=0;R<X;R++){var P=(T*X+R)*4,O=(W[g+(R>>3)]>>(7-(R&7)<<0)&1)*255;t[P]=O;t[P+1]=O;
t[P+2]=O;t[P+3]=255}}return[{M$:new u(0,0,X,l),data:t.buffer}]}else{var c=new PDFJS.JpxImage;c.parse(N);
var X=c.width,l=c.height,b=c.tiles,z=c.componentsCount,m=new Uint8Array(X*l*4),f=new u(0,0,X,l);for(var c=0;
c<b.length;c++){var B=b[c],K=B.width,j=B.height,S=K*j,_T=B.items,r=new u(B.left,B.top,K,j),n=new Uint8Array(S*4);
if(z==1)for(var J=0;J<S;J++){var o=_T[J],P=J*4;n[P]=o;n[P+1]=o;n[P+2]=o;n[P+3]=255}else if(z==3)for(var J=0;
J<S;J++){var y=J*3,P=J*4;n[P]=_T[y];n[P+1]=_T[y+1];n[P+2]=_T[y+2];n[P+3]=255}else console.log("Unknown number of components: "+z);
I.TF(n,r,m,f)}return[{M$:f,data:m.buffer}]}};BC.WEBP={};BC.WEBP._c=function(N,c,X,l){if(l==null)l=[70];
return BC._u(N[0][0],c,X,"webp",l[0]/100)};BC.WEBP._l=function(N){var c=new Date().getTime(),X=new Uint8Array(N),l={width:{value:0},height:{value:0}},C=new WebPDecoder;
X=BC.WEBP._CY(X);var q=C.WebPDecoderConfig,J=q.j,Z=C.WEBP_CSP_MODE;J.J=4;var W=C.WebPDecode(X,X.length,q),s=new Uint8Array(J.c.RGBA.ma);
for(var t=0;t<s.length;t+=4){var T=s[t+1],g=s[t+2],R=s[t+3],P=s[t];s[t]=T;s[t+1]=g;s[t+2]=R;s[t+3]=P}return[{M$:new u(0,0,q.j.width,q.j.height),data:s.buffer}]};
BC.WEBP._CY=function(N){var c=new Array,X=N.length,l;for(l=0;l<X;++l)c.push(N[l]);return c};BC.BMP={};
BC.BMP._c=function(N,c,X,l){var C=new Uint8Array(N[0][0]),q={ML:c,MC:X,MZ:24,MR:0,MP:0},J=new Ib,Z=4*Math.floor((q.MZ*q.ML+31)/32),W=0;
_.Rw(J,W,"BM");W+=2;_.Rg(J,W,Z*X+16+40);W+=4;_.Rg(J,W,0);W+=4;_.Rg(J,W,54);W+=4;J.zG(W,40);_.Rg(J,W,40);
W+=4;BC.BMP.___(J.data,W,q);W+=36;J.zG(W,Z*X);for(var s=0;s<X;s++){var t=W+(X-1-s)*Z;for(var T=0;T<c;
T++){var g=(s*c+T)*4,R=C[g+3]*(1/255);J.data[t+T*3+2]=C[g]*R;J.data[t+T*3+1]=C[g+1]*R;J.data[t+T*3+0]=C[g+2]*R}}W+=Z*X+2;
var P=new Uint8Array(W);for(var O=0;O<W;O++)P[O]=J.data[O];return P.buffer};BC.BMP._l=function(N){N=new Uint8Array(N);
var c=0,X=_.Ra(N,c,2);c+=2;if(X!="BM"){alert("Unsupported BMP format: "+X);return}var l=_.Rq(N,c);c+=4;
c+=4;var C=_.Rq(N,c);c+=4;return[BC.BMP._y(N.buffer,c)]};BC.BMP._y=function(N,c){N=new Uint8Array(N);
var X=_.Rq(N,c),l;c+=4;if(X==40)l=BC.BMP._Tl(N,c);else{alert("Unsupported BMP header format: "+X+" Bytes");
return}c+=X-4;if(l.MR!=0){alert("Unsupported BMP compression: "+l.MR);return}var C=c,q=4*Math.floor((l.MZ*l.ML+31)/32),J=new Uint8Array(l.ML*l.MC*4);
I.set(J,255);var Z=c;if(l.MZ<24)Z+=4*Math.pow(2,l.MZ);if(l.MZ==32)for(var W=0;W<l.MC;W++){var s=Z+(l.MC-1-W)*q;
for(var t=0;t<l.ML;t++){var T=(W*l.ML+t)*4;J[T]=N[s+t*4+2];J[T+1]=N[s+t*4+1];J[T+2]=N[s+t*4+0];J[T+3]=N[s+t*4+3]}}if(l.MZ==24)for(var W=0;
W<l.MC;W++){var s=Z+(l.MC-1-W)*q;for(var t=0;t<l.ML;t++){var T=(W*l.ML+t)*4;J[T]=N[s+t*3+2];J[T+1]=N[s+t*3+1];
J[T+2]=N[s+t*3+0]}}if(l.MZ==8)for(var W=0;W<l.MC;W++){var s=Z+(l.MC-1-W)*q;for(var t=0;t<l.ML;t++){var T=(W*l.ML+t)*4,g=N[s+t];
J[T]=N[C+4*g+2];J[T+1]=N[C+4*g+1];J[T+2]=N[C+4*g+0]}}if(l.MZ==4)for(var W=0;W<l.MC;W++){var s=Z+(l.MC-1-W)*q;
for(var t=0;t<l.ML;t++){var T=(W*l.ML+t)*4,g=N[s+(t>>1)];g=g>>4-4*(t&1);g=g&15;J[T]=N[C+4*g+2];J[T+1]=N[C+4*g+1];
J[T+2]=N[C+4*g+0]}}if(l.MZ==1)for(var W=0;W<l.MC;W++){var s=Z+(l.MC-1-W)*q;for(var t=0;t<l.ML;t++){var T=(W*l.ML+t)*4,R=N[s+(t>>3)];
R=R>>7-(t&7);R=R&1;J[T]=N[C+4*R+2];J[T+1]=N[C+4*R+1];J[T+2]=N[C+4*R+0]}}return{M$:new u(0,0,l.ML,l.MC),data:J.buffer}};
BC.BMP._Tl=function(N,c){var X={};X.ML=_.Rm(N,c);c+=4;X.MC=_.Rm(N,c);c+=4;var l=_.Ry(N,c);c+=2;if(l!=1)alert("unsupported number of color planes: "+l);
X.MZ=_.Ry(N,c);c+=2;X.MR=_.Rq(N,c);c+=4;var C=_.Rq(N,c);c+=4;var q=_.Rq(N,c);c+=4;var J=_.Rq(N,c);c+=4;
X.MP=_.Rq(N,c);c+=4;c+=4;return X};BC.BMP.___=function(N,c,X){_.Rd(N,c,X.ML);c+=4;_.Rd(N,c,X.MC);c+=4;
_.Rj(N,c,1);c+=2;_.Rj(N,c,X.MZ);c+=2;_.Rd(N,c,X.MR);c+=4;var l=4*Math.floor((X.MZ*X.ML+31)/32);_.Rd(N,c,l*X.MC+2);
c+=4;_.Rd(N,c,2834);c+=4;_.Rd(N,c,2834);c+=4;_.Rd(N,c,X.MP);c+=4;c+=4};BC.GIF={};BC.GIF._c=function(N,c,X,l){if(l==null)l=[100,!1];
if(l[1]){N=N.slice(0);N.reverse()}var C=[],q=[],g=null;for(var J=0;J<N.length;J++){C.push(N[J][0]);q.push(N[J][1])}var Z=Math.round(2+254*l[0]/100),W=UPNG.encode.compress(C,c,X,Z,!0),s=W.plte,t=new Uint8Array(4),T=new Uint32Array(t.buffer);
for(var J=0;J<s.length;J++){T[0]=s[J];var R=t[0];t[0]=t[2];t[2]=R;s[J]=T[0];if(T[0]==0)g=J}while(s.length<256)s.push(0);
var P=new Uint8Array(2e3+c*X*N.length),O=new GifWriter(P,c,X,{palette:s,loop:0});for(var J=0;J<N.length;
J++){var b=W.frames[J],z=b.rect,m=b.blend,f=b.dispose;O.addFrame(z.x,z.y,z.width,z.height,b.img,{transparent:g,disposal:f+1,delay:Math.round(q[J]/10)})}return P.slice(0,O.end()).buffer};
BC.GIF._l=function(N){var c=new Uint8Array(N),X=new GifReader(c),l=[],C=X.numFrames(),q=X.width,J=X.height,Z=I.a(q*J*4),W=new u(0,0,q,J),s=0;
for(var t=0;t<C;t++){var T=X.frameInfo(t);X.decodeAndBlitFrameRGBA(t,Z);l.push({M$:W.clone(),MU:"_a_frm"+t+","+T.delay*10,data:Z.slice(0).buffer});
if(T.disposal==2){var g=I.a(T.width*T.height*4);I.TF(g,new u(T.x,T.y,T.width,T.height),Z,W)}if(T.disposal==3){var R=new Uint8Array(l[s].data);
for(var P=0;P<Z.length;P++)Z[P]=R[P]}if(T.disposal!=3)s=t}return l};BC.ICO={};BC.ICO._l=function(N){N=new Uint8Array(N);
var c=4,X=_.Ry(N,c);c+=2;var l=[];for(var C=0;C<X;C++){var q=BC.ICO._EW(N,c+C*16),J=N.buffer.slice(q.offset,q.offset+q.size),Z=BC._x(J);
Z=Z?Z:"bmp";if(Z=="png"){var W=BC._A(Z);return W._l(J)}else{var s=BC.BMP._y(J,0),J=I.a(q.ML*q.MC*4);
I.TF(new Uint8Array(s.data),new u(0,0,s.M$.h,s.M$.s),J,new u(0,q.MC,q.ML,q.MC));s.data=J.buffer;s.M$.s=q.MC;
q.Mh=s;l.push(q)}}l.sort(function(t,T){if(t.ML!=T.ML)return t.ML-T.ML;return t.Mr-T.Mr});return[l.pop().Mh]};
BC.ICO._EW=function(N,c){var X={};X.ML=N[c];c++;if(X.ML==0)X.ML=256;X.MC=N[c];c++;if(X.MC==0)X.MC=256;
X._Te=N[c];c++;c++;X._L_=_.Ry(N,c);c+=2;X.Mr=_.Ry(N,c);c+=2;X.size=_.Rq(N,c);c+=4;X.offset=_.Rq(N,c);
c+=4;return X};BC.TIFF={};BC.TIFF._l=function(N){var c=Date.now(),X=UTIF.decode(N);UTIF.decodeImages(N,X);
for(var l=0;l<X.length;l++){var C=X[l]}for(var l=0;l<X.length;l++){var C=X[l];if(C.t33421==null)continue;
if(X[0]!=C){for(var q in X[0])if(q[0]=="t"&&C[q]==null)C[q]=X[0][q]}return[C]}var J=[];for(var l=0;l<X.length;
l++){var C=X[l];if(C.width==null)continue;var Z=UTIF.toRGBA8(C).buffer;J.push({M$:new u(0,0,C.width,C.height),data:Z})}return J};
BC.TIFF._c=function(N,c,X,l){return UTIF.encodeImage(N[0][0],c,X)};BC.PSD={};BC.PSD._F=!0;BC.PSD._l=function(N,c){BA.ZB(N,c)};
BC.PSD._c=function(N,c,X,l){if(l==null)l=[!1,!1];if(!l[0])N.VN();var C=new Ib,q=BA.Zs(N,C,l),J=new Uint8Array(C.data.buffer.slice(0,q));
return J.buffer};BC.SKETCH={};BC.SKETCH._F=!0;BC.SKETCH._l=function(N,c){BS.ZB(N,c)};BC.XD={};BC.XD._F=!0;
BC.XD._l=function(N,c){_v.ZB(N,c)};BC.XCF={};BC.XCF._F=!0;BC.XCF._l=function(N,c){Bp.ZB(N,c)};BC.SVG={};
BC.SVG._F=!0;BC.SVG._c=function(N,c,X,l){if(l==null)l=[!0,!1,!1,!1,!0,!0];var C=BB.Zr(N,{_Bq:l[0],hidden:l[1],MQ:l[2],_TU:l[3],names:l[4],Mk:l[5],_Pf:c,_Ul:X});
return C};BC.SVG._l=function(N,c){BB.ZB(N,c)};BC.EPS={};BC.EPS._F=!0;BC.EPS._l=function(N,c){var X=new BQ(c);
PSI.Parse(N,X)};BC.PDF={};BC.PDF._F=!0;BC.PDF._c=function(N,c,X,l){if(l==null)l=[!1,!1];var C=Bv.Zr(N,l);
return C};BC.PDF._l=function(N,c){var X=new BQ(c);PDFI.Parse(N,X)};BC.CDR={};BC.CDR._F=!0;BC.CDR._l=function(N,c){return Bf.ZB(N,c)};
function I(){}I._H=document.createElement("canvas");I.N=I._H.getContext("2d");I._Y=function(N,c,X,l){l=Math.log(l)/Math.log(2);
l=Math.round(l);for(var C=0;C<X;C++)for(var q=0;q<c;q++){var J=C*c+q<<2,Z=(C>>l)+(q>>l)&1==1?204:255;
N[J]=N[J+1]=N[J+2]=Z;N[J+3]=255}};I._z=function(N){var c=N.toString(16);while(c.length<6)c="0"+c;return c};
I._Ee=function(N){return parseInt(N,16)};I._m=function(N){return.3*N.W+.59*N.d+.11*N.w};I._M=function(N){return Math.max(N.W,N.d,N.w)-Math.min(N.W,N.d,N.w)};
I._G=function(N,c,X){return.3*N+.59*c+.11*X};I._vn=function(N,c,X){return Math.max(N,c,X)-Math.min(N,c,X)};
I._X=function(N,c){var X=c-N,l=Math.abs(X),C=X-1,q=X+1;if(Math.abs(C)<l)X=C;else if(Math.abs(q)<l)X=q;
return X};I._n=function(N,c,X,l){return(c-X)*l/(N-X)};I._e=function(N){return N<.0031308?12.92*N:1.055*Math.pow(N,1/2.4)-.055};
I._Ej=function(N){return N<.04045?N/12.92:Math.pow((N+.055)/1.055,2.4)};I._EH=function(N,c,X,l){if(X<c)X+=l;
if(N<c)N+=l;return(N-c)/(X-c)};I._EV=function(N,c){var X=Math.min(N.length,c.length);for(var l=0;l<X;
l+=4){var C=N[l],q=N[l+1],J=N[l+2];c[l]=16+Math.floor(65.481/255*C+128.553/255*q+24.966/255*J+.5);c[l+1]=128-Math.floor(37.797/255*C-74.203/255*q+112/255*J+.5);
c[l+2]=128+Math.floor(112/255*C-93.786/255*q-18.214/255*J+.5);c[l+3]=N[l+3]}};I._d=function(N,c,X){var l=Math.max(N,c,X),C=Math.min(N,c,X),q,J,Z=(l+C)*.5;
if(l==C)q=J=0;else{var W=l-C;J=Z>.5?W/(2-l-C):W/(l+C);switch(l){case N:q=(c-X)/W+(c<X?6:0);break;case c:q=(X-N)/W+2;
break;case X:q=(N-c)/W+4;break}q*=1/6}return{MC:q,Mw:J,MV:Z}};I._g=function(N,c,X){if(X<0)X+=1;if(X>1)X-=1;
if(X<1/6)return N+(c-N)*6*X;if(X<1/2)return c;if(X<2/3)return N+(c-N)*(2/3-X)*6;return N};I.TE=function(N,c,X){var l,C,q;
if(c==0)l=C=q=X;else{var J=X<.5?X*(1+c):X+c-X*c,Z=2*X-J;l=I._g(Z,J,N+1/3);C=I._g(Z,J,N);q=I._g(Z,J,N-1/3)}return{W:l,d:C,w:q}};
I.T_=function(N,c,X){var l=Math.max(N,c,X),C=Math.min(N,c,X),q,J,Z=l,W=l-C;J=l==0?0:W/l;if(l==C)q=0;
else{switch(l){case N:q=(c-X)/W+(c<X?6:0);break;case c:q=(X-N)/W+2;break;case X:q=(N-c)/W+4;break}q/=6}return{MC:q,Mw:J,L_:Z}};
I.TT=function(N,c,X){var l,C,q,J,Z,W,s,t;J=Math.floor(N*6);Z=N*6-J;W=X*(1-c);s=X*(1-Z*c);t=X*(1-(1-Z)*c);
switch(J%6){case 0:l=X,C=t,q=W;break;case 1:l=s,C=X,q=W;break;case 2:l=W,C=X,q=t;break;case 3:l=W,C=s,q=X;
break;case 4:l=t,C=W,q=X;break;case 5:l=X,C=W,q=s;break}return{W:l,d:C,w:q}};I.TI=function(N,c,X){var l=c-I._m(N);
X.W=N.W+l;X.d=N.d+l;X.w=N.w+l;I._Ea(X)};I.TB=function(N,c,X){var l=N.W,C=N.d,q=N.w;if(l==C&&C==q){X.W=X.d=X.w=0}else if(l>C){if(l>q){if(C>q){X.W=c;
X.d=I._n(l,C,q,c);X.w=0}else{X.W=c;X.w=I._n(l,q,C,c);X.d=0}}else{X.w=c;X.W=I._n(q,l,C,c);X.d=0}}else{if(l<q){if(C>q){X.d=c;
X.w=I._n(C,q,l,c);X.W=0}else{X.w=c;X.d=I._n(q,C,l,c);X.W=0}}else{X.d=c;X.W=I._n(C,l,q,c);X.w=0}}};I._Ea=function(N){var c=N.W,X=N.d,l=N.w,C=I._G(c,X,l),q=Math.min(c,X,l),J=Math.max(c,X,l);
if(q<0){var Z=C/(C-q);c=C+(c-C)*Z;X=C+(X-C)*Z;l=C+(l-C)*Z}if(J>1){var Z=(1-C)/(J-C);c=C+(c-C)*Z;X=C+(X-C)*Z;
l=C+(l-C)*Z}N.W=c;N.d=X;N.w=l};I.TK=function(N,c,X,l,C,q){var J=new Uint32Array(N.buffer),Z=0;l=Math.log(l)/Math.log(2);
l=Math.round(l);for(var W=0;W<X;W++)for(var s=0;s<c;s++){J[Z++]=(W+q>>l)+(s+C>>l)&1==1?4291348680:4294967295}};
I._TF=function(N,c,X){return(N>>X)+(c>>X)&1==1?200:255};I.T$=function(N,c){var X=N.length;for(var l=0;
l<X;l+=4)c[l>>2]=Math.floor(N[l+0]*.3+N[l+1]*.59+N[l+2]*.11+.5)};I._Rl=function(N,c){var X=c.length;
for(var l=0;l<X;l+=4){var C=N[l>>2];c[l]=C;c[l+1]=C;c[l+2]=C}};I.TL=function(N,c){var X=N.u,l=N.W,C=N.d,q=N.w,J=Math.min(N.u.length,c.buffer.byteLength>>>2),Z=4*Math.floor(J/4),W=new Uint32Array(c.buffer),s=new Uint32Array(X.buffer),t=new Uint32Array(l.buffer),T=new Uint32Array(C.buffer),g=new Uint32Array(q.buffer);
for(var R=0;R<Z;R+=4){var P=s[R>>2],O=g[R>>2],b=T[R>>2],z=t[R>>2];W[R]=P<<24|(O&255)<<16|(b&255)<<8|z&255;
W[R+1]=(P&65280)<<16|(O&65280)<<8|b&65280|(z&65280)>>>8;W[R+2]=(P&16711680)<<8|O&16711680|(b&16711680)>>>8|(z&16711680)>>>16;
W[R+3]=P&4278190080|(O&4278190080)>>>8|(b&4278190080)>>>16|(z&4278190080)>>>24}for(var R=Z;R<J;R++)W[R]=X[R]<<24|q[R]<<16|C[R]<<8|l[R]};
I._Pt=function(N,c,X,l){var C=N.u,q=N.W,J=N.d,Z=N.w,W=new Uint32Array(c.buffer),s=l.x-X.x,t=s+l.h,T=l.y-X.y,g=T+l.s;
for(var R=T;R<g;R++){var P=R*X.h+s;for(var O=s;O<t;O++){W[P]=C[P]<<24|Z[P]<<16|J[P]<<8|q[P];P++}}};I.TZ=function(N,c){var X=c.u,l=c.W,C=c.d,q=c.w,J=Math.min(c.u.length,N.buffer.byteLength>>>2),Z=4*Math.floor(J/4),W=new Uint32Array(N.buffer),s=new Uint32Array(X.buffer),t=new Uint32Array(l.buffer),T=new Uint32Array(C.buffer),g=new Uint32Array(q.buffer);
for(var R=0;R<Z;R+=4){var P=W[R],O=W[R+1],b=W[R+2],z=W[R+3];t[R>>2]=P&255|(O&255)<<8|(b&255)<<16|z<<24;
T[R>>2]=(P&65280)>>8|O&65280|(b&65280)<<8|(z&65280)<<16;g[R>>2]=(P&16711680)>>16|(O&16711680)>>8|b&16711680|(z&16711680)<<8;
s[R>>2]=P>>>24|O>>>24<<8|b>>>24<<16|z&4278190080}for(var R=Z;R<J;R++){var m=W[R];l[R]=m>>0&255;C[R]=m>>8&255;
q[R]=m>>16&255;X[R]=m>>24&255}};I.TR=function(N,c,X){var l=new Uint8Array(N.buffer),C=Math.min(l.length/4,c.length);
for(var q=0;q<C;q++){c[q]=l[(q<<2)+X]}};I.TP=function(N,c,X){var l=new Uint8Array(c.buffer),C=new Uint32Array(N.buffer),q=Math.min(l.length/4,N.length),J=0;
while(J+4<q){var Z=C[J>>>2];l[(J<<2)+X]=Z&255;l[(J<<2)+X+4]=Z>>>8&255;l[(J<<2)+X+8]=Z>>>16&255;l[(J<<2)+X+12]=Z>>>24;
J+=4}while(J<q){l[(J<<2)+X]=N[J];J++}};I.clone=function(N){return N.slice(0)};I.Th=function(N,c){I.set(N.u,c);
I.set(N.W,c);I.set(N.d,c);I.set(N.w,c)};I.set=function(N,c){c=Math.round(c);var X=c<<24|c<<16|c<<8|c,l=new Uint32Array(N.buffer),C=l.length;
for(var q=0;q<C;q++)l[q]=X};I.Tr=function(N,c,X){if(X==null)X=0;var l=new Uint32Array(N.buffer),C=l.length;
for(var q=0;q<C;q++)l[q]=l[q]&X|c};I.__H=function(N,c,X,l,C){if(C==null)C=0;var q=new Uint32Array(N.buffer);
X=X.vm(c);var J=X.x-c.x,Z=X.y-c.y,W=X.h,s=X.s,t=c.h;for(var T=0;T<s;T++){var g=(Z+T)*t+J;for(var R=0;
R<W;R++){q[g]=q[g]&C|l;g++}}};I._Eg=function(N,c){I.Tx(N.u,c.u);I.Tx(N.W,c.W);I.Tx(N.d,c.d);I.Tx(N.w,c.w)};
I.Tx=function(N,c){c.set(N);return;var N=new Uint32Array(N.buffer),c=new Uint32Array(c.buffer),X=Math.min(N.length,c.length);
for(var l=0;l<X;l++){c[l]=N[l]}};I._Ch=function(N,c){return I.TA(N.u,c.u)&&I.TA(N.W,c.W)&&I.TA(N.d,c.d)&&I.TA(N.w,c.w)};
I.TA=function(N,c){var X=N.buffer.byteLength,l=c.buffer.byteLength,C=new Uint32Array(N.buffer,0,X>>2),q=new Uint32Array(c.buffer,0,l>>2);
if(X!=l)return!1;var J=C.length;for(var Z=0;Z<J;Z++)if(q[Z]!=C[Z])return!1;return!0};I.Tk=function(N){var c=new Uint32Array(N.buffer),X=c.length;
for(var l=0;l<X;l++)c[l]=~c[l]};I._$f=function(N){var c=N.length;for(var X=3;X<c;X+=4)N[X]=~N[X]};I._PL=function(N){return N+(N%4==0?0:4-N%4)};
I.a=function(N,c){if(c==null)c=!1;if(!c)N=I._PL(N);try{var X=new Uint8Array(N)}catch(Bj){alert("Not enough RAM! (need "+(N>>20)+" MB)",7e3);
throw Bj}return X};I.Ti=function(N){var c=N.length,X=N[c-2],l=N[c-1];while(l.h>=2||l.s>=2){var C=I.Tw(X,l);
N.push(C.Ml,C.rect);X=C.Ml;l=C.rect}};I.Tw=function(N,c,X){var l=c.h,C=c.s,q=l>>1,J=C>>1,Z=new u(c.x,c.y,q,J);
if(N==null)return{rect:Z};var W=X&&X.length==q*J*4?X:I.a(q*J*4),s=new Uint32Array(N.buffer),t=new Uint32Array(W.buffer);
for(var T=0;T<J;T++)for(var g=0;g<q;g++){var R=T*q+g,P=(T<<1)*l+(g<<1),O=s[P],b=s[P+1],z=s[P+l],m=s[P+l+1],f=O>>>24,B=b>>>24,K=z>>>24,j=m>>>24,S=(O>>>0&255)*f+(b>>>0&255)*B+(z>>>0&255)*K+(m>>>0&255)*j,r=(O>>>8&255)*f+(b>>>8&255)*B+(z>>>8&255)*K+(m>>>8&255)*j,n=(O>>>16&255)*f+(b>>>16&255)*B+(z>>>16&255)*K+(m>>>16&255)*j,o=f+B+K+j;
if(o==0)t[R]=0;else{var y=1/o;S=~~(S*y+.5);r=~~(r*y+.5);n=~~(n*y+.5);t[R]=o+2>>>2<<24|n<<16|r<<8|S}}return{rect:Z,Ml:W}};
I._Pr=function(N,c,X){var l=c.h,C=c.s,q=l>>1,J=C>>1,Z=new u(c.x,c.y,q,J);if(N==null)return{rect:Z};var W=X&&X.length==q*J*4?X:I.a(q*J*4),s=new Uint32Array(N.buffer),t=new Uint32Array(W.buffer);
for(var T=0;T<J;T++)for(var g=0;g<q;g++){var R=T*q+g,P=(T<<1)*l+(g<<1),O=s[P],b=s[P+1],z=s[P+l],m=s[P+l+1],f=2+(O>>>0&255)+(b>>>0&255)+(z>>>0&255)+(m>>>0&255)>>>2,B=2+(O>>>8&255)+(b>>>8&255)+(z>>>8&255)+(m>>>8&255)>>>2,K=2+(O>>>16&255)+(b>>>16&255)+(z>>>16&255)+(m>>>16&255)>>>2;
t[R]=4278190080|K<<16|B<<8|f}return{rect:Z,Ml:W}};I._Pu=function(N,c,X){var l=c.h,C=c.s,q=2*Math.floor(l/3),J=2*Math.floor(C/3),Z=new u(c.x,c.y,q,J);
if(N==null)return{rect:Z};var W=X&&X.length==q*J*4?X:I.a(q*J*4),s=new Uint32Array(N.buffer),t=new Uint32Array(W.buffer);
for(var T=0;T<J;T+=2)for(var g=0;g<q;g+=2){var R=T*q+g,P=(T*3>>>1)*l+(g*3>>>1),O=s[P],b=s[P+1],z=s[P+2],m=s[P+l],f=s[P+1+l],B=s[P+2+l],K=s[P+l+l],j=s[P+1+l+l],S=s[P+2+l+l],r=O>>>24<<2,n=(O>>>16&255)*r,o=(O>>>8&255)*r,y=(O&255)*r,D=b>>>24<<1,x=(b>>>16&255)*D,A=(b>>>8&255)*D,e=(b&255)*D,U=z>>>24<<2,L=(z>>>16&255)*U,Y=(z>>>8&255)*U,E=(z&255)*U,i=m>>>24<<1,a=(m>>>16&255)*i,V=(m>>>8&255)*i,G=(m&255)*i,$=f>>>24,p=(f>>>16&255)*$,w=(f>>>8&255)*$,BX=(f&255)*$,Bn=B>>>24<<1,Be=(B>>>16&255)*Bn,BW=(B>>>8&255)*Bn,Bt=(B&255)*Bn,Bq=K>>>24<<2,Bd=(K>>>16&255)*Bq,Bg=(K>>>8&255)*Bq,sE=(K&255)*Bq,s_=j>>>24<<1,sT=(j>>>16&255)*s_,sI=(j>>>8&255)*s_,sB=(j&255)*s_,ss=S>>>24<<2,sK=(S>>>16&255)*ss,sv=(S>>>8&255)*ss,s$=(S&255)*ss,sU=r+D+i+$,sL=U+D+Bn+$,sC=Bq+s_+i+$,sZ=ss+s_+Bn+$,sR=sU==0?0:1/sU,sP=sL==0?0:1/sL,sh=sC==0?0:1/sC,sr=sZ==0?0:1/sZ,sS=0,sf=0,sx=0,sQ=0;
sS=~~(.5+(y+e+G+BX)*sR);sf=~~(.5+(o+A+V+w)*sR);sx=~~(.5+(n+x+a+p)*sR);sQ=~~(.5+sU*(1/9));t[R]=sQ<<24|sx<<16|sf<<8|sS;
sS=~~(.5+(E+e+Bt+BX)*sP);sf=~~(.5+(Y+A+BW+w)*sP);sx=~~(.5+(L+x+Be+p)*sP);sQ=~~(.5+sL*(1/9));t[R+1]=sQ<<24|sx<<16|sf<<8|sS;
sS=~~(.5+(sE+sB+G+BX)*sh);sf=~~(.5+(Bg+sI+V+w)*sh);sx=~~(.5+(Bd+sT+a+p)*sh);sQ=~~(.5+sC*(1/9));t[R+q]=sQ<<24|sx<<16|sf<<8|sS;
sS=~~(.5+(s$+sB+Bt+BX)*sr);sf=~~(.5+(sv+sI+BW+w)*sr);sx=~~(.5+(sK+sT+Be+p)*sr);sQ=~~(.5+sZ*(1/9));t[R+q+1]=sQ<<24|sx<<16|sf<<8|sS}return{rect:Z,Ml:W}};
I._Pm=function(N,c,X){var l=c.h,C=c.s,q=2*Math.floor(l/3),J=2*Math.floor(C/3),Z=new u(c.x,c.y,q,J);if(N==null)return{rect:Z};
var W=X&&X.length==q*J*4?X:I.a(q*J*4),s=new Uint32Array(N.buffer),t=new Uint32Array(W.buffer);for(var T=0;
T<J;T+=2)for(var g=0;g<q;g+=2){var R=T*q+g,P=(T*3>>>1)*l+(g*3>>>1),O=s[P],b=s[P+1],z=s[P+2],m=s[P+l],f=s[P+1+l],B=s[P+2+l],K=s[P+l+l],j=s[P+1+l+l],S=s[P+2+l+l],r=(O>>>16&255)<<2,n=(O>>>8&255)<<2,o=(O&255)<<2,y=(b>>>16&255)<<1,D=(b>>>8&255)<<1,x=(b&255)<<1,A=(z>>>16&255)<<2,e=(z>>>8&255)<<2,U=(z&255)<<2,L=(m>>>16&255)<<1,Y=(m>>>8&255)<<1,E=(m&255)<<1,i=f>>>16&255,a=f>>>8&255,V=f&255,G=(B>>>16&255)<<1,$=(B>>>8&255)<<1,p=(B&255)<<1,w=(K>>>16&255)<<2,BX=(K>>>8&255)<<2,Bn=(K&255)<<2,Be=(j>>>16&255)<<1,BW=(j>>>8&255)<<1,Bt=(j&255)<<1,Bq=(S>>>16&255)<<2,Bd=(S>>>8&255)<<2,Bg=(S&255)<<2,sE=0,s_=0,sT=0;
sE=~~(.5+(o+x+E+V)*(1/9));s_=~~(.5+(n+D+Y+a)*(1/9));sT=~~(.5+(r+y+L+i)*(1/9));t[R]=255<<24|sT<<16|s_<<8|sE;
sE=~~(.5+(U+x+p+V)*(1/9));s_=~~(.5+(e+D+$+a)*(1/9));sT=~~(.5+(A+y+G+i)*(1/9));t[R+1]=255<<24|sT<<16|s_<<8|sE;
sE=~~(.5+(Bn+Bt+E+V)*(1/9));s_=~~(.5+(BX+BW+Y+a)*(1/9));sT=~~(.5+(w+Be+L+i)*(1/9));t[R+q]=255<<24|sT<<16|s_<<8|sE;
sE=~~(.5+(Bg+Bt+p+V)*(1/9));s_=~~(.5+(Bd+BW+$+a)*(1/9));sT=~~(.5+(Bq+Be+G+i)*(1/9));t[R+q+1]=255<<24|sT<<16|s_<<8|sE}return{rect:Z,Ml:W}};
I.TJ=function(N,c,X,l){var C=I.Tw,q=I._Pu,s=0,T;if(N){var J=255,Z=N.length;Z-=(Z>>>3&7)<<3;for(var W=3;
W<Z;W+=32)J=J&N[W]&N[W+4]&N[W+8]&N[W+12]&N[W+16]&N[W+20]&N[W+24]&N[W+28];if(J==255){C=I._Pr;q=I._Pm}}var t=X;
while(t<.499){s++;t*=2}if(t<.5001)T=C(N,c,l);else T=q(N,c,l);for(var W=0;W<s;W++)T=C(T.Ml,T.rect,l);
return T};I.Ty=function(N,c,X,l){var C=c.vm(l),q=Math.max(0,C.x-c.x),J=Math.max(0,C.x-l.x),Z=Math.max(0,C.y-c.y),W=Math.max(0,C.y-l.y),s=C.h,t=C.s;
for(var T=0;T<t;T++){var g=(Z+T)*c.h+q,R=(W+T)*l.h+J;for(var P=0;P<s;P++){X[R+P]=N[g+P]}}};I.Tj=function(N,c,X,l){if(c.TA(l)){I.TP(N,X,3);
return}var C=c.vm(l),q=Math.max(0,C.x-c.x),J=Math.max(0,C.x-l.x),Z=Math.max(0,C.y-c.y),W=Math.max(0,C.y-l.y),s=C.h,t=C.s;
for(var T=0;T<t;T++){var g=(Z+T)*c.h+q,R=(W+T)*l.h+J;for(var P=0;P<s;P++)X[(R+P<<2)+3]=N[g+P]}};I.To=function(N,c,X,l){var C=c.vm(l),q=Math.max(0,C.x-c.x),J=Math.max(0,C.x-l.x),Z=Math.max(0,C.y-c.y),W=Math.max(0,C.y-l.y),s=C.h,t=C.s;
for(var T=0;T<t;T++){var g=(Z+T)*c.h+q,R=(W+T)*l.h+J;for(var P=0;P<s;P++)X[R+P]=N[(g+P<<2)+3]}};I._Zu=function(N,c,X,l){var C=c.vm(l),q=Math.max(0,C.x-c.x),J=Math.max(0,C.x-l.x),Z=Math.max(0,C.y-c.y),W=Math.max(0,C.y-l.y),s=C.h,t=C.s;
for(var T=0;T<t;T++){var g=(Z+T)*c.h+q,R=(W+T)*l.h+J;for(var P=0;P<s;P++)X[R++]=N[g++]}};I.TF=function(N,c,X,l,C){if(c.TA(l)&&(C==null||C.TA(l))){I.Tx(N,X);
return}N=new Uint32Array(N.buffer),X=new Uint32Array(X.buffer);var q=c.vm(l);if(C)q=q.vm(C);var J=Math.max(0,q.x-c.x),Z=Math.max(0,q.x-l.x),W=Math.max(0,q.y-c.y),s=Math.max(0,q.y-l.y),t=q.h,T=q.s,g=t&3,R=g==0?t:t-g;
for(var P=0;P<T;P++){var O=(W+P)*c.h+J,b=(s+P)*l.h+Z,z=0;while(z<R){X[b+z]=N[O+z];X[b+z+1]=N[O+z+1];
X[b+z+2]=N[O+z+2];X[b+z+3]=N[O+z+3];z+=4}if(g==1){X[b+z]=N[O+z]}else if(g==2){X[b+z]=N[O+z];X[b+z+1]=N[O+z+1]}else if(g==3){X[b+z]=N[O+z];
X[b+z+1]=N[O+z+1];X[b+z+2]=N[O+z+2]}}};I.TH=function(N,c,X,l){var C=c.vm(l),q=Math.max(0,C.x-c.x),J=Math.max(0,C.x-l.x),Z=Math.max(0,C.y-c.y),W=Math.max(0,C.y-l.y),s=C.h,t=C.s,T=N.u,g=N.W,R=N.d,P=N.w,O=X.u,b=X.W,z=X.d,m=X.w;
for(var f=0;f<t;f++){var B=(Z+f)*c.h+q,K=(W+f)*l.h+J;for(var j=0;j<s;j++){O[K+j]=T[B+j];b[K+j]=g[B+j];
z[K+j]=R[B+j];m[K+j]=P[B+j]}}};I.TN=function(N,c){for(var X=0;X<N.length;X++)if(N[X]!=c)return!1;return!0};
I.TY=function(N){return N+1+(N>>>8)>>>8};I.round=function(N,c){if(c==null)c=128;var X=N.length;for(var l=0;
l<X;l++)N[l]=N[l]<c?0:255};I.Tz=function(N,c){var X=N.length;for(var l=0;l<X;l++)N[l]=Math.round(N[l]*c)};
I._Kg=function(N,c){var X=N.length;for(var l=0;l<X;l+=4)N[l+3]=Math.round(N[l+3]*c)};I.Tm=function(N,c){var X=new Uint32Array(N.buffer),l=new Uint32Array(c.buffer),C=X.length;
for(var q=0;q<C;q++){var J=X[q],Z=l[q];l[q]=I.TY((J>>>24)*(Z>>>24))<<24|I.TY((J>>>16&255)*(Z>>>16&255))<<16|I.TY((J>>>8&255)*(Z>>>8&255))<<8|I.TY((J&255)*(Z&255))}};
I._sR=function(N,c){var X=N.length;for(var l=0;l<X;l++)c[(l<<2)+3]=I.TY(c[(l<<2)+3]*N[l])};I._Zq=function(N,c,X,l){var C=Math.max(0,l.x-c.x),q=Math.max(0,c.x-l.x),J=Math.max(0,l.y-c.y),Z=Math.max(0,c.y-l.y),W=Math.min(c.x+c.h,l.x+l.h)-Math.max(c.x,l.x),s=Math.min(c.y+c.s,l.y+l.s)-Math.max(c.y,l.y);
for(var t=0;t<s;t++){var T=(J+t)*c.h+C,g=(Z+t)*l.h+q;for(var R=0;R<W;R++){X[g]=I.TY(X[g]*N[T]);T++;g++}}};
I.Tb=function(N,c,X,l){var C=Math.max(0,l.x-c.x),q=Math.max(0,c.x-l.x),J=Math.max(0,l.y-c.y),Z=Math.max(0,c.y-l.y),W=Math.min(c.x+c.h,l.x+l.h)-Math.max(c.x,l.x),s=Math.min(c.y+c.s,l.y+l.s)-Math.max(c.y,l.y);
for(var t=0;t<s;t++){var T=(J+t)*c.h+C,g=((Z+t)*l.h+q<<2)+3;for(var R=0;R<W;R++){X[g]=I.TY(X[g]*N[T]);
T++;g+=4}}};I.TX=function(N,c,X,l){var C=Math.max(0,l.x-c.x),q=Math.max(0,c.x-l.x),J=Math.max(0,l.y-c.y),Z=Math.max(0,c.y-l.y),W=Math.min(c.x+c.h,l.x+l.h)-Math.max(c.x,l.x),s=Math.min(c.y+c.s,l.y+l.s)-Math.max(c.y,l.y);
for(var t=0;t<s;t++){var T=((J+t)*c.h+C<<2)+3,g=((Z+t)*l.h+q<<2)+3;for(var R=0;R<W;R++){X[g]=I.TY(X[g]*N[T]);
T+=4;g+=4}}};I._Tm=function(N,c,X,l){var C=1/255,q=Math.max(0,l.x-c.x),J=Math.max(0,c.x-l.x),Z=Math.max(0,l.y-c.y),W=Math.max(0,c.y-l.y),s=Math.min(c.x+c.h,l.x+l.h)-Math.max(c.x,l.x),t=Math.min(c.y+c.s,l.y+l.s)-Math.max(c.y,l.y);
for(var T=0;T<t;T++){var g=(Z+T)*c.h+q,R=(W+T)*l.h+J;for(var P=0;P<s;P++){X[R]=C*X[R]*(255-N[g]);g++;
R++}}};I._CB=function(N,c){var X=[];for(var l=0;l<256;l++)X.push(0);var C=N.length,q=1/255;for(var l=0;
l<C;l++)X[N[l]]+=c[l]*q;return X};I.TW=function(N){var c=new Float64Array(256),X=new Float64Array(256),l=new Float64Array(256),C=new Float64Array(256),q=N.length;
for(var J=0;J<q;J+=4){var Z=N[J+3]*(1/255);X[N[J+0]]+=Z;l[N[J+1]]+=Z;C[N[J+2]]+=Z}for(var J=0;J<256;
J++)c[J]=X[J]+l[J]+C[J];return[c,X,l,C]};I.Tt=function(N,c){var X=new Uint32Array(N.buffer),l=X.length;
for(var C=0;C<l;C++){var q=X[C],J=q&255,Z=q>>8&255,W=q>>16&255,s=q>>24&255;X[C]=c[J]|c[Z]<<8|c[W]<<16|c[s]<<24}};
I._IC=function(N,c,X,l,C,q,J){var Z=new Uint32Array(N.buffer),W=new Uint32Array(c.buffer),s=Z.length,t=0;
while(256<<t<X.length)t++;var T=(1<<t)-1;for(var g=0;g<s;g++){var R=Z[g],P=(R&255)<<t,O=(R>>>8&255)<<t,b=(R>>>16&255)<<t,z=R>>>24&255;
if(q)P=O=b=Math.round(P*.3+O*.59+b*.11);var m=X[P],f=l[O],B=C[b];if(J){var K=I._G(P,O,b),j=I._G(m,f,B);
if(K>j){var S=(K-j)/(255-j);m+=S*(255-m);f+=S*(255-f);B+=S*(255-B)}else if(j==0)m=f=B=0;else{var S=K/j;
m=S*m;f=S*f;B=S*B}}W[g]=m|f<<8|B<<16|z<<24}};I._UG=function(N){var c=new Uint32Array(256),l=0;for(var X=0;
X<N.length;X++)c[N[X]]++;for(var X=0;X<256;X++)if(c[X]>c[l])l=X;return l};I.Tg=function(N,c){var X=c.h,l=c.s,top=0,C=0,q=0,J=0,Z=!1,W=0;
Z=!1;for(var s=0;s<l;s++){var t=s*X;for(var T=0;T<X;T++)if(N[t+T]!=W)Z=!0;if(Z)break;else top++}Z=!1;
for(var s=l-1;s>=0;s--){var t=s*X;for(var T=0;T<X;T++)if(N[t+T]!=W)Z=!0;if(Z)break;else q++}Z=!1;for(var T=0;
T<X;T++){for(var s=0;s<l;s++)if(N[s*X+T]!=W)Z=!0;if(Z)break;else C++}Z=!1;for(var T=X-1;T>=0;T--){for(var s=0;
s<l;s++)if(N[s*X+T]!=W)Z=!0;if(Z)break;else J++}var g=new u(c.x+C,c.y+top,X-C-J,l-top-q);return g.BH()?new u(0,0,0,0):g};
I.IE=function(N,c){var X=new Uint32Array(N.buffer),l=c.h,C=c.s,top=0,q=0,J=0,Z=0,W=!1,s=X[0];W=!1;for(var t=0;
t<C;t++){var T=t*l;for(var g=0;g<l;g++)if(X[T+g]!=s)W=!0;if(W)break;else top++}W=!1;for(var t=C-1;t>=0;
t--){var T=t*l;for(var g=0;g<l;g++)if(X[T+g]!=s)W=!0;if(W)break;else J++}W=!1;for(var g=0;g<l;g++){for(var t=0;
t<C;t++)if(X[t*l+g]!=s)W=!0;if(W)break;else q++}W=!1;for(var g=l-1;g>=0;g--){for(var t=0;t<C;t++)if(X[t*l+g]!=s)W=!0;
if(W)break;else Z++}var R=new u(c.x+q,c.y+top,l-q-Z,C-top-J);return R.BH()?new u(0,0,0,0):R};I.I_=function(N){var c=I.Tg(N.channel,N.rect);
if(c.TA(N.rect))return;var X=I.a(c.n());I.Ty(N.channel,N.rect,X,c);N.channel=X;N.rect=c};I.IT=function(N){var c=I.a(N.buffer.length>>2);
I.TR(N.buffer,c,3);var X=I.Tg(c,N.rect);if(X.TA(N.rect))return;var l=new I.a(X.n()*4);I.TF(N.buffer,N.rect,l,X);
N.buffer=l;N.rect=X};I.extend=function(N,c,X){if(N.rect.PN(c))return;var l=N.rect.vz(c),C=I.a(l.n());
if(X!=null)I.set(C,X);I.Ty(N.channel,N.rect,C,l);N.rect=l;N.channel=C};I._Ef=function(N,c){if(N.rect.PN(c))return;
var X=N.rect.vz(c),l=I.a(X.n()*4);I.TF(N.buffer,N.rect,l,X);N.rect=X;N.buffer=l};I.IB=function(N,c,X){if(!X.PH(N))return!1;
var l=Math.floor(N.x)-X.x,C=Math.floor(N.y)-X.y,q=C*X.h+l;return c[q]>128};I._KI=function(N,c,X){if(!X.PH(N))return!1;
var l=Math.floor(N.x)-X.x,C=Math.floor(N.y)-X.y,q=C*X.h+l;return c[4*q+3]>128};I.IK=function(N){if(I.Iv.length<N){I.Iv=I.a(N);
I.set(I.Iv,255)}return I.Iv};I.Iv=I.a(0);I.I$=function(N){if(I.IU.length<N)I.IU=I.a(N);return I.IU};
I.IU=I.a(0);I.IL=function(N){this.u=I.a(N);this.W=I.a(N);this.d=I.a(N);this.w=I.a(N)};I.IL.prototype.clone=function(){var N=this.u.length,c=new I.IL(1);
c.u=I.clone(this.u);c.W=I.clone(this.W);c.d=I.clone(this.d);c.w=I.clone(this.w);return c};I.B={};I.B.IZ=new Float64Array(256);
I.B.IR=new Uint8Array(256*256);I.B.IP=new Uint8Array(256*256);(function(){for(var N=0;N<256;N++)I.B.IZ[N]=255/N;
for(var N=0;N<256;N++)for(var c=0;c<256;c++)I.B.IR[N*256+c]=N==0?0:Math.round(c*255/N);for(var N=0;N<256;
N++)for(var c=0;c<256;c++)I.B.IP[N*256+c]=Math.round(N*(255-c)/255)}());I.B.Ih=function(N,c,X,l,C,q,J,Z){if(Z==null)Z=_$.cd();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(N)==-1){J=J*Z.fill;Z.fill=1;Z.style=!1}var W="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),s="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),t=I.B[N+"F"];
if(N=="norm")I.B._Pp(c,X,l,C,q,J,t,Z.MJ?1:0);else if(N=="diss")I.B._BO(c,X,l,C,q,J,t,Z.MJ?1:0);else if(W.indexOf(N)!=-1)I.B._Bj(c,X,l,C,q,J,t,Z);
else if(s.indexOf(N)!=-1)I.B._Bo(c,X,l,C,q,J,t,Z.MJ?1:0)};I.B._Eb=function(N,c,X){return N==0?0:1-Math.min(1,(1-c)/(N*X+1-X))};
I.B.__B=function(N,c,X){return N*X==1?1:Math.min(1,c/(1-N*X))};I.B.If=function(N){return N<=.25?((16*N-12)*N+4)*N:Math.sqrt(N)};
I.B.normF=function(N,c,X){return N};I.B.darkF=function(N,c,X){return Math.min(N,c)};I.B["mul F"]=function(N,c,X){return N*c};
I.B.idivF=function(N,c,X){var l=N*X+1-X;return c==1?1:1-c>=l?0:1-(1-c)/l};I.B.lbrnF=function(N,c,X){return Math.max(0,N*X+c-X)};
I.B.dkClF=function(N,c,X){var l=I._m(N)<I._m(c)?N:c;X.W=l.W;X.d=l.d;X.w=l.w;return X};I.B.liteF=function(N,c,X){return Math.max(N,c)};
I.B.scrnF=function(N,c,X){return c+N-c*N};I.B["div F"]=function(N,c,X){N*=X;return c==0?0:c>=1-N?1:c/(1-N)};
I.B.lddgF=function(N,c,X){N*=X;return Math.min(1,N+c)};I.B.lgClF=function(N,c,X){var l=I._m(N)>I._m(c)?N:c;
X.W=l.W;X.d=l.d;X.w=l.w;return X};I.B.overF=function(N,c,X){return I.B.hLitF(c,N,X)};I.B.sLitF=function(N,c,X){return N<=.5?c-(1-2*N)*c*(1-c):c+(2*N-1)*(I.B.If(c)-c)};
I.B.hLitF=function(N,c,X){return N<=.5?I.B["mul F"](2*N,c,X):I.B.scrnF(2*N-1,c,X)};I.B.vLitF=function(N,c,X){return N<=.5?I.B._Eb(2*N,c,X):I.B.__B(2*N-1,c,X)};
I.B.lLitF=function(N,c,X){return N<=.5?I.B.lbrnF(2*N,c,X):I.B.lddgF(2*N-1,c,X)};I.B.pLitF=function(N,c,X){return N<=.5?I.B.darkF(2*N,c,X):I.B.liteF(2*N-1,c,X)};
I.B.hMixF=function(N,c,X){if(X>.99)return N+c<1?0:1;return Math.min(1,Math.max(0,(c+N*X-X)/(1-X+1e-6)))};
I.B.diffF=function(N,c,X){N*=X;return Math.abs(N-c)};I.B.smudF=function(N,c,X){return N+c-2*N*c};I.B.fsubF=function(N,c,X){return Math.max(c-N,0)};
I.B.fdivF=function(N,c,X){return Math.min(c/N,1)};I.B["hue F"]=function(N,c,X){I.TB(N,I._M(c),X);I.TI(X,I._m(c),X)};
I.B["sat F"]=function(N,c,X){I.TB(c,I._M(N),X);I.TI(X,I._m(c),X)};I.B.colrF=function(N,c,X){I.TI(N,I._m(c),X)};
I.B["lum F"]=function(N,c,X){I.TI(c,I._m(N),X)};I.B._Pp=function(N,c,X,l,C,q,J,Z){var W=c.vm(l).vm(C),s=Math.max(0,W.x-c.x),t=Math.max(0,W.x-l.x),T=Math.max(0,W.y-c.y),g=Math.max(0,W.y-l.y),R=W.h,P=W.s,O=c.h,b=l.h,z=I.B.IR,m=I.B.IP,f=new Uint32Array(N.buffer),B=new Uint32Array(X.buffer);
for(var K=0;K<P;K++){var j=(T+K)*O+s,S=(g+K)*b+t;for(var r=0;r<R;r++){var n=f[j+r],D=255;if(n>>>24==0)continue;
if(n>>>24==255&&q==1&&Z==0){B[S+r]=f[j+r];continue}var o=B[S+r],y=255*q&255;if(Z==0){y=(n>>>24)*q&255;
D=o>>>24}var x=m[D<<8|y],A=y+x,e=n&255,U=n>>>8&255,L=n>>>16&255,Y=o&255,E=o>>>8&255,i=o>>>16&255;B[S+r]=Z*(o>>>24)+(1-Z)*A<<24|z[A<<8|I.TY(L*y+i*x)]<<16|z[A<<8|I.TY(U*y+E*x)]<<8|z[A<<8|I.TY(e*y+Y*x)]}}};
I.B._Zb=function(N,c,X,l,C,q){var J=c.vm(l).vm(C),Z=Math.max(0,J.x-c.x),W=Math.max(0,J.x-l.x),s=Math.max(0,J.y-c.y),t=Math.max(0,J.y-l.y),T=J.h,g=J.s,R=c.h,P=l.h,O=I.B.IR,b=I.B.IP,z=new Uint32Array(N.buffer),m=new Uint32Array(X.buffer),f=Math.floor(Math.random()*16777215),B=0;
for(var K=0;K<g;K++){var j=(s+K)*R+Z,S=(t+K)*P+W;for(var r=0;r<T;r++){var n=z[j+r];if(n>>>24==0)continue;
if(n>>24==255&&q==1){m[S+r]=n;continue}var o=m[S+r],y=(n>>>24)*q*(1/255),D=(o>>>24)*(1/255),x=D*(1-y),A=y+x,e=n&255,U=n>>>8&255,L=n>>>16&255,Y=o&255,E=o>>>8&255,i=o>>>16&255;
B>>>=8;if((r&3)==0)B=I.B.Ip(S+r+f);var a=A==0?0:1/A,V=Math.floor(A*(256*255))+(B&255)>>>8,G=Math.floor((L*y+i*x)*a+.5),$=Math.floor((U*y+E*x)*a+.5),p=Math.floor((e*y+Y*x)*a+.5);
m[S+r]=V<<24|G<<16|$<<8|p}}};I.B._Bj=function(N,c,X,l,C,q,J,Z){var W=1/255,s=W*q,t=Z.MJ?1:0,T=Z.fill,g=Z.style,R=c.vm(l).vm(C),P=Math.max(0,R.x-c.x),O=Math.max(0,R.x-l.x),b=Math.max(0,R.y-c.y),z=Math.max(0,R.y-l.y),m=R.h,f=R.s,B=c.h,K=l.h,j=new Uint32Array(N.buffer),S=new Uint32Array(X.buffer);
for(var r=0;r<f;r++){var n=(b+r)*B+P,o=(z+r)*K+O;for(var y=0;y<m;y++,n++,o++){var D=j[n],e=1;if(D>>>24==0)continue;
var x=S[o],A=q;if(t==0){A=(D>>>24)*s;e=(x>>>24)*W}var U=e*(1-A),L=A+U,Y=255/L,E=(D&255)*W,i=(D>>>8&255)*W,a=(D>>>16&255)*W,V=(x&255)*W,G=(x>>>8&255)*W,$=(x>>>16&255)*W,p=g?1:A,w=((1-e)*A*E+(1-p)*e*V+p*e*J(E,V,(1+A-p)*T))*Y,BX=((1-e)*A*i+(1-p)*e*G+p*e*J(i,G,(1+A-p)*T))*Y,Bn=((1-e)*A*a+(1-p)*e*$+p*e*J(a,$,(1+A-p)*T))*Y;
L=A*T+e*(1-A*T);var Be=Math.round(L*255);S[o]=t*(x>>>24)+(1-t)*Be<<24|Bn<<16|BX<<8|w}}};I.B._Bo=function(N,c,X,l,C,q,J,Z){var W=1/255,s=W*q,t=c.vm(l).vm(C),T=Math.max(0,t.x-c.x),g=Math.max(0,t.x-l.x),R=Math.max(0,t.y-c.y),P=Math.max(0,t.y-l.y),O=t.h,b=t.s,z=new Uint32Array(N.buffer),m=new Uint32Array(X.buffer),f={W:0,d:0,w:0},B={W:0,d:0,w:0},K={W:0,d:0,w:0};
for(var j=0;j<b;j++){var S=(R+j)*c.h+T,r=(P+j)*l.h+g;for(var n=0;n<O;n++,S++,r++){var o=z[S],y=m[r],D=q,x=1;
if(Z==0){D=(o>>>24)*s;x=(y>>>24)*W}var A=x*(1-D),e=D+A,U=255/e,L=(o&255)*W,Y=(o>>>8&255)*W,E=(o>>>16&255)*W,i=(y&255)*W,a=(y>>>8&255)*W,V=(y>>>16&255)*W;
f.W=L;f.d=Y;f.w=E;B.W=i;B.d=a;B.w=V;J(f,B,K);var G=(((1-x)*L+x*K.W)*D+i*A)*U,$=(((1-x)*Y+x*K.d)*D+a*A)*U,p=(((1-x)*E+x*K.w)*D+V*A)*U,w=Z*(y>>>24)+(1-Z)*Math.round(e*255);
m[r]=w<<24|p<<16|$<<8|G}}};I.B.Iu=function(N){N=N^61^N>>16;N=N+(N<<3);N=N^N>>4;N=N*668265261;N=N^N>>15;
return(N&16777215)*(1/16777215)};I.B.Ip=function(N){N=N^61^N>>16;N=N+(N<<3);N=N^N>>4;N=N*668265261;N=N^N>>15;
return N};I.B._BO=function(N,c,X,l,C,q,J,Z){var W=1/255,s=W*q,t=Math.round(q*(256*256*256/255)),T=c.vm(l).vm(C),g=Math.max(0,T.x-c.x),R=Math.max(0,T.x-l.x),P=Math.max(0,T.y-c.y),O=Math.max(0,T.y-l.y),b=T.h,z=T.s,m=new Uint32Array(N.buffer),f=new Uint32Array(X.buffer);
for(var B=0;B<z;B++){var K=(P+B)*c.h+g,j=(O+B)*l.h+R;for(var S=0;S<b;S++,K++,j++){var r=m[K],n=f[j],o=Z*255+(1-Z)*(r>>>24);
if((I.B.Ip(K)&16777215)>=o*t)continue;f[j]=r&16777215|Z*(n>>>24)+(1-Z)*255<<24}}};I.B._PI=function(N,c,X){for(var l=0;
l<N.length;l+=4){var C=X[l>>>2];if(C==0)continue;var q=C*(1/255),J=1/q,Z=c[l],W=c[l+1],s=c[l+2],t=N[l],T=N[l+1],g=N[l+2];
c[l]=Math.min(255,Math.max(0,Math.round((Z-(1-q)*t)*J)));c[l+1]=Math.min(255,Math.max(0,Math.round((W-(1-q)*T)*J)));
c[l+2]=Math.min(255,Math.max(0,Math.round((s-(1-q)*g)*J)));c[l+3]=255}};I.B.Iw=function(N,c,X,l,C,q,J,Z,W,s){if(s==null)s=!1;
if(C&&!c.TA(q)){var t=I.a(c.n()*4);I.set(t,J);I.Ty(C,q,t,c);C=t;q=c}if(s){if(C==null)I.B._st(N,c,X,l,C,Z,W);
else I.B._vI(N,c,X,l,C,Z,W)}else{if(C==null)I.B._sr(N,c,X,l,C,Z,W);else I.B._ZZ(N,c,X,l,C,Z,W)}};I.B._sr=function(N,c,X,l,C,q,J){var Z=1/255,W=c.vm(l).vm(q),s=Math.max(0,W.x-c.x),t=Math.max(0,W.x-l.x),T=Math.max(0,W.y-c.y),g=Math.max(0,W.y-l.y),R=W.h,P=W.s,O=new Uint32Array(N.buffer),b=new Uint32Array(X.buffer),z=I.B.IR,m=J*255&255;
for(var f=0;f<P;f++){var B=(T+f)*c.h+s,K=(g+f)*l.h+t;for(var j=0;j<R;j++,B++,K++){var S=O[B],r=b[K],n=S>>>24,o=r>>>24,y=I.TY(m*n+(255-m)*o),D=I.TY(n*m),x=I.TY(o*(255-m)),A=S&255,e=S>>>8&255,U=S>>>16&255,L=r&255,Y=r>>>8&255,E=r>>>16&255,i=D*A+L*x,a=D*e+Y*x,V=D*U+E*x;
i=z[y<<8|I.TY(i)];a=z[y<<8|I.TY(a)];V=z[y<<8|I.TY(V)];b[K]=y<<24|V<<16|a<<8|i}}};I.B._st=function(N,c,X,l,C,q,J){var Z=1/255,W=c.vm(l).vm(q),s=Math.max(0,W.x-c.x),t=Math.max(0,W.x-l.x),T=Math.max(0,W.y-c.y),g=Math.max(0,W.y-l.y),R=W.h,P=W.s,O=new Uint32Array(N.buffer),b=new Uint32Array(X.buffer),z=I.B.IR,m=J*16777215&16777215;
for(var f=0;f<P;f++){var B=(T+f)*c.h+s,K=(g+f)*l.h+t;for(var j=0;j<R;j++,B++,K++){if((I.B.Ip(B)&16777215)<m)b[K]=O[B]}}};
I.B._ZZ=function(N,c,X,l,C,q,J){var Z=1/255,W=c.vm(l).vm(q),s=Math.max(0,W.x-c.x),t=Math.max(0,W.x-l.x),T=Math.max(0,W.y-c.y),g=Math.max(0,W.y-l.y),R=W.h,P=W.s,O=new Uint32Array(N.buffer),b=new Uint32Array(X.buffer),z=I.B.IR;
for(var m=0;m<P;m++){var f=(T+m)*c.h+s,B=(g+m)*l.h+t;for(var K=0;K<R;K++,f++,B++){var j=C[f]*J&255;if(j==0)continue;
if(j==255){b[B]=O[f];continue}var S=O[f],r=b[B],n=S>>>24,o=r>>>24,y=I.TY(j*n+(255-j)*o),D=I.TY(n*j),x=I.TY(o*(255-j)),A=S&255,e=S>>>8&255,U=S>>>16&255,L=r&255,Y=r>>>8&255,E=r>>>16&255,i=z[y<<8|I.TY(D*A+L*x)],a=z[y<<8|I.TY(D*e+Y*x)],V=z[y<<8|I.TY(D*U+E*x)];
b[B]=y<<24|V<<16|a<<8|i}}};I.B._vI=function(N,c,X,l,C,q,J){var Z=1/255,W=c.vm(l).vm(q),s=Math.max(0,W.x-c.x),t=Math.max(0,W.x-l.x),T=Math.max(0,W.y-c.y),g=Math.max(0,W.y-l.y),R=W.h,P=W.s,O=new Uint32Array(N.buffer),b=new Uint32Array(X.buffer),z=I.B.IR,m=Math.round(J*257);
for(var f=0;f<P;f++){var B=(T+f)*c.h+s,K=(g+f)*l.h+t;for(var j=0;j<R;j++,B++,K++){var S=C[B]*m;if((I.B.Ip(B)&65535)<S)b[K]=O[B]}}};
I.B.__r=function(N,c,X,l,C,q,J){var Z=1/255,W=c.vm(l).vm(q),s=Math.max(0,W.x-c.x),t=Math.max(0,W.x-l.x),T=Math.max(0,W.y-c.y),g=Math.max(0,W.y-l.y),R=W.h,P=W.s,O=new Uint32Array(N.buffer),b=new Uint32Array(X.buffer),z=Math.floor(Math.random()*l.n()),m=I.B._LZ;
for(var f=0;f<P;f++){var B=(T+f)*c.h+s,K=(g+f)*l.h+t;for(var j=0;j<R;j++){var S=C[B+j]*J;if(S==0)continue;
if(S==255){b[K+j]=O[B+j];continue}var r=O[B+j],n=b[K+j],o=r>>>24,y=n>>>24,D=o*S*(1/255),x=y*(255-S)*(1/255),A=r&255,e=r>>>8&255,U=r>>>16&255,L=n&255,Y=n>>>8&255,E=n>>>16&255,i=I.B.Ip(K+j+z),a=Math.floor((D+x)*256+.5)+(i>>>0&255)>>>8,V=a==0?0:256/(D+x),G=A*D+L*x,$=e*D+Y*x,p=U*D+E*x,w=Math.floor(G*V+.5)+(i>>>8&255)>>>8,BX=Math.floor($*V+.5)+(i>>>16&255)>>>8,Bn=Math.floor(p*V+.5)+(i>>>21&248)>>>8;
b[K+j]=a<<24|Bn<<16|BX<<8|w}}};I.B._LZ=function(N){return Math.floor(N+Math.random())};I.B.Io=function(N,c,X,l,C,q,J){var Z=1/255,W=c.vm(l).vm(q),s=Math.max(0,W.x-c.x),t=Math.max(0,W.x-l.x),T=Math.max(0,W.y-c.y),g=Math.max(0,W.y-l.y),R=W.h,P=W.s;
for(var O=0;O<P;O++){var b=(T+O)*c.h+s,z=(g+O)*l.h+t;for(var m=0;m<R;m++,b++,z++){var f=J*C[b]*Z;if(f==0)continue;
if(f==1){X[z]=N[b];continue}X[z]=N[b]*f+X[z]*(1-f)}}};I.blur={};I.blur.IO=function(N){if(I.blur.IF.length<N)I.blur.IF=I.a(N);
return I.blur.IF};I.blur.IF=I.a(0);I.blur.IH=function(N){if(I.blur.IN.length<N)I.blur.IN=new Float32Array(N);
return I.blur.IN};I.blur.IN=new Float32Array(0);I.blur.IY=function(N,c,X,l){var C=X.h,q=X.s;I.blur._KW(N,c,C,q,l)};
I.blur.Iz=function(N,c,X,l){var C=X.h,q=X.s;I.blur._Z_(N,c,C,q,l)};I.blur.ID=function(N,c,X,l){var C=X.h,q=X.s;
l=Math.round(l);var J=I.blur.IO(C*q);I.Tx(N,c);I.blur.BI(c,J,C,q,l)};I.blur.Im=function(N,c,X,l){var C=X.h,q=X.s;
l=Math.round(l);var J=I.blur.IH(C*q);I.Tx(N,c);I.blur.BB(c,J,C,q,l)};I.blur.IM=function(N,c){var X=Math.sqrt(12*N*N/c+1),l=Math.floor(X);
if(l%2==0)l--;var C=l+2,q=(12*N*N-c*l*l-4*c*l-3*c)/(-4*l-4),J=Math.round(q),Z=[];for(var W=0;W<c;W++)Z.push(W<J?l:C);
return Z};I.blur._Zh=function(N,c,X,l,C){var q=Math.ceil(C*2.57);for(var J=0;J<l;J++)for(var Z=0;Z<X;
Z++){var W=0,s=0;for(var t=J-q;t<J+q+1;t++)for(var T=Z-q;T<Z+q+1;T++){var g=Math.min(X-1,Math.max(0,T)),R=Math.min(l-1,Math.max(0,t)),P=(T-Z)*(T-Z)+(t-J)*(t-J),O=Math.exp(-P/(2*C*C))/(Math.PI*2*C*C);
W+=N[R*X+g]*O;s+=O}c[J*X+Z]=Math.round(W/s)}};I.blur._Ud=function(N,c,X,l,C){var q=I.blur._Cd(C),J=Math.ceil(C*2.57);
for(var Z=0;Z<l;Z++)for(var W=0;W<X;W++){var s=0,t=0;for(var T=Z-J;T<Z+J+1;T++){var g=Math.abs(T-Z)*(J+1);
for(var R=W-J;R<W+J+1;R++){var P=Math.min(X-1,Math.max(0,R)),O=Math.min(l-1,Math.max(0,T)),b=Math.abs(R-W),z=q[g+b];
s+=N[O*X+P]*z;t+=z}}c[Z*X+W]=Math.round(s/t)}};I.blur._UX=function(N,c,X,l,C){var q=I.blur.IM(C,3);I.blur.In(N,c,X,l,(q[0]-1)/2);
I.blur.In(c,N,X,l,(q[1]-1)/2);I.blur.In(N,c,X,l,(q[2]-1)/2)};I.blur.In=function(N,c,X,l,C){for(var q=0;
q<l;q++)for(var J=0;J<X;J++){var Z=0;for(var W=q-C;W<q+C+1;W++)for(var s=J-C;s<J+C+1;s++){var t=Math.min(X-1,Math.max(0,s)),T=Math.min(l-1,Math.max(0,W));
Z+=N[T*X+t]}c[q*X+J]=Math.round(Z/((C+C+1)*(C+C+1)))}};I.blur._Uc=function(N,c,X,l,C){var q=I.blur.IM(C,3);
I.blur.IW(N,c,X,l,(q[0]-1)/2);I.blur.IW(c,N,X,l,(q[1]-1)/2);I.blur.IW(N,c,X,l,(q[2]-1)/2)};I.blur.IW=function(N,c,X,l,C){for(var q=0;
q<N.length;q++)c[q]=N[q];I.blur._vH(c,N,X,l,C);I.blur._Cb(N,c,X,l,C)};I.blur._Ui=function(N,c,X,l,C){I.blur._Bn(N,c,X,l,C);
I.blur._T$(c,N,X,l,C)};I.blur._vH=function(N,c,X,l,C){for(var q=0;q<l;q++)for(var J=0;J<X;J++){var Z=0;
for(var W=J-C;W<J+C+1;W++){var s=Math.min(X-1,Math.max(0,W));Z+=N[q*X+s]}c[q*X+J]=Math.round(Z/(C+C+1))}};
I.blur._Bn=function(N,c,X,l,C){var q=1/(C+C+1);for(var J=0;J<l;J++)for(var Z=0;Z<X;Z++){var W=0;for(var s=Z-C;
s<Z+C+1;s++){var t=Math.min(X-1,Math.max(0,s));W+=N[J*X+t]}c[J*X+Z]=W*q}};I.blur._Cb=function(N,c,X,l,C){for(var q=0;
q<l;q++)for(var J=0;J<X;J++){var Z=0;for(var W=q-C;W<q+C+1;W++){var s=Math.min(l-1,Math.max(0,W));Z+=N[s*X+J]}c[q*X+J]=Math.round(Z/(C+C+1))}};
I.blur._T$=function(N,c,X,l,C){var q=1/(C+C+1);for(var J=0;J<l;J++)for(var Z=0;Z<X;Z++){var W=0;for(var s=J-C;
s<J+C+1;s++){var t=Math.min(l-1,Math.max(0,s));W+=N[t*X+Z]}c[J*X+Z]=W*q}};I.blur._KW=function(N,c,X,l,C){var q=I.blur.IM(C,3),J=I.blur.IO(X*l);
I.Tx(N,c);I.blur.BI(c,J,X,l,q[0]-1>>1);I.blur.BI(c,J,X,l,q[1]-1>>1);I.blur.BI(c,J,X,l,q[2]-1>>1)};I.blur._Z_=function(N,c,X,l,C){var q=I.blur.IM(C,3),J=I.blur.IH(X*l);
I.Tx(N,c);I.blur.BB(c,J,X,l,(q[0]-1)/2);I.blur.BB(c,J,X,l,(q[1]-1)/2);I.blur.BB(c,J,X,l,(q[2]-1)/2)};
I.blur.BI=function(N,c,X,l,C){I.blur._Er(N,c,X,l,C);I.blur._CZ(c,N,X,l,C)};I.blur.BB=function(N,c,X,l,C){I.blur._EB(N,c,X,l,C);
I.blur._KD(c,N,X,l,C)};I.blur.Bs=[];I.blur.BK=function(N){if(I.blur.Bs[N])return I.blur.Bs[N];var c=1/(N+N+1),X=(N+N+1)*256,l=I.a(X);
for(var C=0;C<X;C++)l[C]=Math.round(C*c);I.blur.Bs[N]=l;return l};I.blur._Er=function(N,c,X,l,C){var q=1/(C+C+1),J=X-C-C-1,Z=I.blur.BK(C),W=0,s=0,t=0;
for(var T=0;T<l;T++){W=T*X;s=W;t=W+C;var g=N[W],R=N[W+X-1],P=(C+1)*g;for(var O=0;O<C;O++)P+=N[W+O];for(var O=0;
O<=C;O++){P+=N[t++]-g;c[W++]=Z[P]}for(var O=0;O<J;O++){P+=N[t+O]-N[s+O];c[W+O]=Z[P]}t+=J;s+=J;W+=J;for(var O=X-C;
O<X;O++){P+=R-N[s++];c[W++]=Z[P]}}};I.blur._EB=function(N,c,X,l,C){var q=1/(C+C+1),J=X-C-C-1,Z=0,W=0,s=0;
for(var t=0;t<l;t++){Z=t*X;W=Z;s=Z+C;var T=N[Z],g=N[Z+X-1],R=(C+1)*T;for(var P=0;P<C;P++){R+=N[Z+P]}for(var P=0;
P<=C;P++){R+=N[s++]-T;c[Z++]=R*q}for(var P=0;P<J;P++){R+=N[s+P]-N[W+P];c[Z+P]=R*q}s+=J;W+=J;Z+=J;for(var P=X-C;
P<X;P++){R+=g-N[W++];c[Z++]=R*q}}};I.blur._CZ=function(N,c,X,l,C){var q=1/(C+C+1),J=l-C-C-1,Z=I.blur.BK(C);
for(var W=0;W<X;W++){var s=W,t=s,T=s+C*X,g=N[s],R=N[s+X*(l-1)],P=(C+1)*g;for(var O=0;O<C;O++)P+=N[s+O*X];
for(var O=0;O<=C;O++){P+=N[T]-g;c[s]=Z[P];T+=X;s+=X}for(var O=0;O<J;O++){var b=O*X;P+=N[T+b]-N[t+b];
c[s+b]=Z[P]}t+=J*X;T+=J*X;s+=J*X;for(var O=l-C;O<l;O++){P+=R-N[t];c[s]=Z[P];t+=X;s+=X}}};I.blur._KD=function(N,c,X,l,C){var q=1/(C+C+1),J=l-C-C-1;
for(var Z=0;Z<X;Z++){var W=Z,s=W,t=W+C*X,T=N[W],g=N[W+X*(l-1)],R=(C+1)*T;for(var P=0;P<C;P++)R+=N[W+P*X];
for(var P=0;P<=C;P++){R+=N[t]-T;c[W]=R*q;t+=X;W+=X}for(var P=0;P<J;P++){var O=P*X;R+=N[t+O]-N[s+O];c[W+O]=R*q}s+=J*X;
t+=J*X;W+=J*X;for(var P=l-C;P<l;P++){R+=g-N[s];c[W]=R*q;s+=X;W+=X}}};I.blur._Cd=function(N){var c=Math.ceil(N*2.57),X=new Float32Array((c+1)*(c+1));
for(var l=0;l<c+1;l++)for(var C=0;C<c+1;C++){var q=C*C+l*l;X[l*(c+1)+C]=Math.exp(-q/(2*N*N))/(N*N*Math.PI*2)}return X};
I.P={};I.P.a=function(N,c,X,l){var C=[];for(var q=0;q<4;q++)for(var J=0;J<4;J++)C.push(N+X*J/3,c+l*q/3);
return C};I.P.BR=function(N,c){var X=N.slice(0);for(var l=0;l<4;l++)for(var C=0;C<4;C++){var q=2*(l*4+C),J=2*(C*4+(3-l));
if(c){var Z=q;q=J;J=Z}X[J]=N[q];X[J+1]=N[q+1]}return X};I.P._Kk=new Float64Array(16);I.P.drawImage=function(N,c,X,l,C,q,J){if(J==null)J=!1;
var Z=q.h,W=q.s,g=2;C=new Uint32Array(C.buffer);c=new Uint32Array(c.buffer);var s=I.P.k.Bl(N,0,1,0,1,X,l),t=s.My,T=s.Mj,R=1/g,P=I.P.Bh,O=new Float64Array(2),b=new Uint32Array(30);
for(var z=0;z<W;z++)for(var m=0;m<Z;m++){var f=m+q.x+.5,B=z+q.y+.5,K=I.P.k._Bh(t,T,f,B,b),D=0,x=0,A=0,e=0;
if(K==0)continue;var j=z*Z+m,S=I.P.IB(N,f,B,t,b,K,!0),r=P[0]*X,n=P[1]*l;if(J){if(S!=-1&&0<r&&r<X&&0<n&&n<l){var o=Math.floor(n)*X+Math.floor(r);
C[j]=c[o]}continue}var y=S!=-1&&(1<r&&r<X-1)&&(1<n&&n<l-1);if(t[S+8]<.95){I.sv.sS(r,n,c,X,l,C,j,!1);
continue}for(var U=0;U<g;U++)for(var L=0;L<g;L++){var f=m+q.x+(U+.5)*R,B=z+q.y+(L+.5)*R,S=0;S=I.P.IB(N,f,B,t,b,K,!0);
if(S!=-1){var r=P[0],n=P[1],r=Math.floor(r*X);n=Math.floor(n*l);var Y=c[n*X+r],E=Y>>>24;D+=(Y&255)*E;
x+=(Y>>>8&255)*E;A+=(Y>>>16&255)*E;e+=E}}if(e!=0){var i=1/e;D=~~(D*i+.5);x=~~(x*i+.5);A=~~(A*i+.5);e=~~(e*R*R+.5);
C[j]=e<<24|A<<16|x<<8|D}}};I.P.Bh=new Float64Array(5*20);I.P._Tw=new Uint32Array(5*5*20);I.P.IB=function(N,c,X,l,C,q,J){var Z=I.P.Bh,W=I.P._Tw,s=0,t=0;
for(var T=0;T<q;T++){var g=C[T],R=s;s=I.P.Bf(N,c,X,l,g+4,J,Z,s);if(s!=R){W[t]=g;t+=5}}if(s==0)return-1;
else if(s==5)return W[0];else{var P=0;for(var T=0;T<s;T+=5)if(Z[T+4]<Z[P+4])P=T;Z[0]=Z[P];Z[1]=Z[P+1];
Z[2]=Z[P+2];Z[3]=Z[P+3];return W[P]}};I.P.BS=new Array(10);I.P.Bf=function(N,c,X,l,C,q,J,Z){var W=I.P.BS,s=0,t=0,T=0,g=0,R=0,P=0,O=0,b=l[C],z=l[C+1],m=l[C+2],f=l[C+3],B=(m-c)*(m-c)+(f-X)*(f-X);
for(var K=0;K<5&&B>.05;K++){I.P.BA(W,0,z);I.P.BQ(W,4,b);I.P.Bk(N,W);s=W[8];t=W[9];I.P.BQ(W,0,z);I.P.BA(W,4,b);
I.P.Bk(N,W);T=W[8];g=W[9];R=1/(s*g-t*T);P=(m-c)*R;O=(f-X)*R;b+=-g*P+T*O;z+=+t*P-s*O;I.P.Bx(N,b,z,W);
m=W[8];f=W[9];B=(m-c)*(m-c)+(f-X)*(f-X)}if(q&&(b<0||b>1||z<0||z>1||B>.25))return Z;J[Z]=b;J[Z+1]=z;J[Z+2]=m;
J[Z+3]=f;J[Z+4]=s*g-t*T;return Z+5};I.P.apply=function(N,c,X){var l=X.x,C=X.y,q=1/X.h,J=1/X.s,Z=I.P.BS;
for(var W=0;W<c.length;W+=2){var s=(c[W]-l)*q,t=(c[W+1]-C)*J;I.P.Bx(N,s,t,Z);c[W]=Z[8];c[W+1]=Z[9]}};
I.P.Bx=function(N,c,X,l){I.P.BA(l,0,X);I.P.BA(l,4,c);I.P.Bk(N,l)};I.P.BQ=function(N,c,X){var l=1-X;N[c]=-3*(l*l);
N[c+1]=3*(l*l)-6*(X*l);N[c+2]=6*(X*l)-3*(X*X);N[c+3]=3*(X*X)};I.P.BA=function(N,c,X){var l=1-X;N[c]=l*(l*l);
N[c+1]=3*X*(l*l);N[c+2]=3*(X*X)*l;N[c+3]=X*X*X};I.P.Bk=function(N,c){var X=0,l=0,C=0;C=c[0]*c[4];X+=N[0]*C;
l+=N[1]*C;C=c[0]*c[5];X+=N[2]*C;l+=N[3]*C;C=c[0]*c[6];X+=N[4]*C;l+=N[5]*C;C=c[0]*c[7];X+=N[6]*C;l+=N[7]*C;
C=c[1]*c[4];X+=N[8]*C;l+=N[9]*C;C=c[1]*c[5];X+=N[10]*C;l+=N[11]*C;C=c[1]*c[6];X+=N[12]*C;l+=N[13]*C;
C=c[1]*c[7];X+=N[14]*C;l+=N[15]*C;C=c[2]*c[4];X+=N[16]*C;l+=N[17]*C;C=c[2]*c[5];X+=N[18]*C;l+=N[19]*C;
C=c[2]*c[6];X+=N[20]*C;l+=N[21]*C;C=c[2]*c[7];X+=N[22]*C;l+=N[23]*C;C=c[3]*c[4];X+=N[24]*C;l+=N[25]*C;
C=c[3]*c[5];X+=N[26]*C;l+=N[27]*C;C=c[3]*c[6];X+=N[28]*C;l+=N[29]*C;C=c[3]*c[7];X+=N[30]*C;l+=N[31]*C;
c[8]=X;c[9]=l};I.P.k={};I.P.k.If=12;I.P.k.Bp=new Uint32Array(50);I.P.k._Bh=function(N,c,X,l,C){var q=0,J=I.P.k.Bp,Z=1;
J[0]=0;while(Z!=0){var W=J[--Z];if(N[W+0]<=X&&N[W+1]<=l&&X<N[W+2]&&l<N[W+3]){if(c[W+W+18]==0){C[q]=W;
q++}else{J[Z]=c[W+W+18];J[Z+1]=c[W+W+19];Z+=2}}}return q};I.P.k._Bu=function(N,c,X,l,C){var q=0,J=I.P.k._Bp,Z=I.P.k.Bp,W=1,s=0,t=999999999999;
Z[0]=0;while(W!=0){var T=Z[--W],g=J(X,l,N[T+0],N[T+1]),R=J(X,l,N[T+0],N[T+3]),P=J(X,l,N[T+2],N[T+1]),O=J(X,l,N[T+2],N[T+3]),b=Math.min(g,Math.min(R,Math.min(P,O))),z=Math.max(g,Math.max(R,Math.max(P,O)));
if(b>t)continue;if(c[T+T+18]==0){if(z<t){t=z;s=T}}else{Z[W]=c[T+T+18];Z[W+1]=c[T+T+19];W+=2}}C[q]=s;
q++;return q};I.P.k._Bp=function(N,c,X,l){return(X-N)*(X-N)+(l-c)*(l-c)};I.P.k.BV=null;I.P.k.Bc=null;
I.P.k.Bl=function(N,c,X,l,C,q,J){if(q==null){q=1;J=1}I.P.k.Bc=N;if(I.P.k.BV==null){I.P.k.BV={My:new Float64Array(15e3*8),Mj:null};
I.P.k.BV.Mj=new Uint32Array(I.P.k.BV.My.buffer)}var Z=I.P.k.BV;I.P.k.BJ(N,c,X,l,C,0,Z.My,Z.Mj,0,q,J);
return Z};I.P.k.BJ=function(N,c,X,l,C,q,J,Z,W,s,t){var T=I.z.sX(N),g=W,R=I.P.k.Bc,P=(c+X)/2,O=(l+C)/2,b=I.P.BS,z=I.P.Bh,m=I.P._Kk,w,BX,Bn;
I.P.Bx(R,P,O,b);var f=b[8],B=b[9];m[0]=P;m[1]=O;m[2]=f;m[3]=B;I.P.Bf(R,f+1,B,m,0,!1,z,0);var K=(P-z[0])*s,j=(O-z[1])*t,S=Math.sqrt(K*K+j*j);
I.P.Bf(R,f,B+1,m,0,!1,z,0);var r=(P-z[0])*s,n=(O-z[1])*t,o=Math.sqrt(r*r+n*n);J[g]=T.x;J[g+1]=T.y;J[g+2]=T.x+T.h;
J[g+3]=T.y+T.s;J[g+4]=P;J[g+5]=O;J[g+6]=f;J[g+7]=B;J[g+8]=.5*(S+o);Z[g+g+18]=0;Z[g+g+19]=0;W+=10;I.P.BA(b,0,.1);
I.P.BQ(b,4,.1);I.P.Bk(N,b);var y=b[8],D=b[9];I.P.BQ(b,0,.1);I.P.BA(b,4,.7);I.P.Bk(N,b);var x=b[8],A=b[9];
I.P.BA(b,0,.8);I.P.BQ(b,4,.8);I.P.Bk(N,b);var e=b[8],U=b[9];I.P.BQ(b,0,.9);I.P.BA(b,4,.2);I.P.Bk(N,b);
var L=b[8],Y=b[9],E=(e-y)*(e-y)+(L-x)*(L-x)+(U-D)*(U-D)+(Y-A)*(Y-A);if(W>=J.length){console.log("Buffer not long enough");
throw"e"}if(q==I.P.k.If||E<2)return W;var i=I.P.k.By(N,!0),a=I.z.sX(i[0]),V=I.z.sX(i[1]),G=I.P.k.By(N,!1),$=I.z.sX(G[0]),p=I.z.sX(G[1]);
if(a.h+a.s+V.h+V.s<$.h+$.s+p.h+p.s){Bn=!0;w=i[0];BX=i[1]}else{Bn=!1;w=G[0];BX=G[1]}var Be=(c+X)/2,BW=(l+C)/2,Bt=c,Bq=l,Bd=X,Bg=C,sE=c,s_=l,sT=X,sI=C;
if(Bn){Bd=sE=Be}else{Bg=s_=BW}Z[g+g+18]=W;W=I.P.k.BJ(w,Bt,Bd,Bq,Bg,q+1,J,Z,W,s,t);Z[g+g+19]=W;W=I.P.k.BJ(BX,sE,sT,s_,sI,q+1,J,Z,W,s,t);
var sB=Z[g+g+18],ss=Z[g+g+19];J[g]=Math.min(J[sB],J[ss]);J[g+1]=Math.min(J[sB+1],J[ss+1]);J[g+2]=Math.max(J[sB+2],J[ss+2]);
J[g+3]=Math.max(J[sB+3],J[ss+3]);return W};I.P.k.By=function(N,c){var X=0,l=0,C=0,q=0,J=0,Z=0,W=0,s=0,t=N.slice(0),T=N.slice(0);
for(var g=0;g<4;g++){X=c?N[g*8+2*0]:N[0*8+2*g];l=c?N[g*8+2*0+1]:N[0*8+2*g+1];C=c?N[g*8+2*1]:N[1*8+2*g];
q=c?N[g*8+2*1+1]:N[1*8+2*g+1];J=c?N[g*8+2*2]:N[2*8+2*g];Z=c?N[g*8+2*2+1]:N[2*8+2*g+1];W=c?N[g*8+2*3]:N[3*8+2*g];
s=c?N[g*8+2*3+1]:N[3*8+2*g+1];var R=(X+C)/2,P=(l+q)/2,O=(C+J)/2,b=(q+Z)/2,z=(J+W)/2,m=(Z+s)/2,f=(R+O)/2,B=(P+b)/2,K=(O+z)/2,j=(b+m)/2,S=(f+K)/2,r=(B+j)/2;
if(c){t[g*8+2*0]=X;t[g*8+2*0+1]=l;t[g*8+2*1]=R;t[g*8+2*1+1]=P;t[g*8+2*2]=f;t[g*8+2*2+1]=B;t[g*8+2*3]=S;
t[g*8+2*3+1]=r;T[g*8+2*0]=S;T[g*8+2*0+1]=r;T[g*8+2*1]=K;T[g*8+2*1+1]=j;T[g*8+2*2]=z;T[g*8+2*2+1]=m;T[g*8+2*3]=W;
T[g*8+2*3+1]=s}else{t[0*8+2*g]=X;t[0*8+2*g+1]=l;t[1*8+2*g]=R;t[1*8+2*g+1]=P;t[2*8+2*g]=f;t[2*8+2*g+1]=B;
t[3*8+2*g]=S;t[3*8+2*g+1]=r;T[0*8+2*g]=S;T[0*8+2*g+1]=r;T[1*8+2*g]=K;T[1*8+2*g+1]=j;T[2*8+2*g]=z;T[2*8+2*g+1]=m;
T[3*8+2*g]=W;T[3*8+2*g+1]=s}}return[t,T]};I.Bj={};I.Bj._Za=function(N,c,X){var l=I.Bj._$D(c,X),C=I.Bj._$F(l,N,c,X);
return{pm:l,MV:C}};I.Bj._sD=function(N,c,X){var l=Math.round(N.length/8),C=new Uint32Array(l),q=new Uint8Array(l),J=new Uint32Array(l);
I.Tr(C,4294967295,0);C[X]=0;var Z=new Bm(l);Z.push(X,C[X]);var W={pm:N,MV:c,LU:C,Mo:q,MO:J,pz:Z,_sa:X};
return W};I.Bj.BF=function(N,c){var X=N.pm,l=N.MV,C=N.LU,q=N.Mo,J=N.MO,Z=N.pz;while(!Z.BH()&&(c==null||q[c]==0)){var W=Z.pop();
q[W]=1;for(var s=0;s<8;s++){var t=X[8*W+s];if(t==-1||q[t])continue;var T=C[W]+l[8*W+s];if(Z.contains(t)&&T<C[t])Z.remove(t,C[t]);
if(!Z.contains(t)){C[t]=T;J[t]=W;Z.push(t,C[t])}}}};function Bm(N){this.MH=new Uint32Array(N);this.list=[];
this.MN=0;this.MY=4294967295}Bm.prototype.BH=function(){return this.MN==0};Bm.prototype.push=function(N,c){var X=this.list;
if(X[c]==null)X[c]=[];X[c].push(N);this.MN++;this.MH[N]=X[c].length-1+1;this.MY=Math.min(this.MY,c)};
Bm.prototype.pop=function(){this.MN--;var N=this.list,c=this.MY,X=N[c].pop();if(N[c].length==0)N[c]=null;
this.BN();this.MH[X]=0;return X};Bm.prototype.contains=function(N){return this.MH[N]!=0};Bm.prototype.remove=function(N,c){this.MN--;
var X=this.list,l=this.MH[N]-1;if(l==X[c].length-1)X[c].pop();else{var C=X[c].pop();X[c][l]=C;this.MH[C]=l+1}if(X[c].length==0)X[c]=null;
this.MH[N]=0;this.BN()};Bm.prototype.BN=function(){if(this.MN==0){this.MY=4294967295;return}var N=this.MY,c=this.list;
while(c[N]==null)N++;this.MY=N};I.Bj._KY=function(N,c,X){var l=new Float32Array(c*X);for(var C=0;C<X;
C++)for(var q=0;q<c;q++){var J=C*c+q,Z=-16*N[J];if(1<q&&q<c-2&&1<C&&C<X-2){Z+=N[J-c-c];Z+=N[J-c-1]+2*N[J-c]+N[J-c+1];
Z+=N[J-2]+2*N[J-1]+2*N[J+1]+N[J+2];Z+=N[J+c-1]+2*N[J+c]+N[J+c+1];Z+=N[J+c+c]}l[J]=Z/16}return l};I.Bj._vb=function(N,c,X){var l=new Float32Array(c*X),C=0,s=0;
for(var q=0;q<X;q++)for(var J=0;J<c;J++){var Z=0,W=0;if(0<J&&J<c-1)Z=N[C+1]-N[C-1];if(0<q&&q<X-1)W=N[C+c]-N[C-c];
l[C]=Math.sqrt(Z*Z+W*W);C++}var t=c*X;for(var C=0;C<t;C++)s=Math.max(s,l[C]);for(var C=0;C<t;C++)l[C]=1-l[C]/s;
return l};I.Bj._$V=function(N,c,X){var l=new Float32Array(c*X*2),C=0;for(var q=0;q<X;q++)for(var J=0;
J<c;J++){var Z=0,W=0;if(0<J&&J<c-1&&0<q&&q<X-1){Z=2*N[C+1]-2*N[C-1];W=2*N[C+c]-2*N[C-c]}var s=Math.sqrt(Z*Z+W*W);
if(s!=0){l[2*C]=Z/s;l[2*C+1]=W/s}else{l[2*C]=Z;l[2*C+1]=W}C++}return l};I.Bj._$F=function(N,c,X,l){var C=I.Bj._KY(c,X,l),q=I.Bj._vb(c,X,l),J=I.Bj._$V(c,X,l),Z=256,W=new Float32Array(Z);
for(var s=0;s<Z;s++)W[s]=Math.acos(-1+2*s/(Z-1));var t=[-1,0,1,1,1,0,-1,-1],T=[-1,-1,-1,0,1,1,1,0],g=1/Math.sqrt(2),R=new Uint8Array(X*l*8),P=X*l;
for(var O=0;O<P;O++){var b=C[O],z=J[2*O+1],m=-J[2*O];for(var f=0;f<8;f++){var B=8*O+f,K=N[B];if(K==-1)R[B]=-1;
else{var j=f%2==0,S=b*C[K]>=0?0:1,r=q[K]*(j?1:g),n=1,o=J[2*K+1],y=-J[2*K];if(!(z==0&&m==0||o==0&&y==0)){var D=t[f],x=T[f];
if(z*t[f]+m*T[f]<0){D=-D;x=-x}if(j){D*=g;x*=g}var A=z*D+m*x,e=o*D+y*x,U=2/(3*Math.PI)*(W[Math.floor((.5+.5*A)*(Z-1))]+W[Math.floor((.5+.5*e)*(Z-1))]);
n=U}R[B]=Math.round(6*(.43*S+.43*n+.14*r))}}}return R};I.Bj._$D=function(N,c){var X=new Int32Array(N*c*8),l=X,C=0,q=0;
for(var J=0;J<c;J++)for(var Z=0;Z<N;Z++){if(J>0&&Z>0)l[q++]=C-N-1;else l[q++]=-1;if(J>0)l[q++]=C-N;else l[q++]=-1;
if(J>0&&Z<N-1)l[q++]=C-N+1;else l[q++]=-1;if(Z<N-1)l[q++]=C+1;else l[q++]=-1;if(J<c-1&&Z<N-1)l[q++]=C+N+1;
else l[q++]=-1;if(J<c-1)l[q++]=C+N;else l[q++]=-1;if(J<c-1&&Z>0)l[q++]=C+N-1;else l[q++]=-1;if(Z>0)l[q++]=C-1;
else l[q++]=-1;C++}return X};I.BG={};I.BG._Tq=function(N,c){var X=N.slice(0);for(var l=0;l<N.length;
l++)X[l]*=c;return X};I.BG.BX=function(N){var c=N.slice(0),X=0;for(var l=0;l<N.length;l++)X+=N[l];for(var l=0;
l<N.length;l++)c[l]/=X;return c};I.BG.Bn=function(N,c,X,l,C,q){var J=q-1>>1,Z=new Uint32Array(N.buffer),c=new Uint8ClampedArray(c.buffer);
for(var W=0;W<l;W++)for(var s=0;s<X;s++){var t=0,T=0,g=0;for(var R=0;R<q;R++)for(var P=0;P<q;P++){var O=C[R*q+P];
if(O==0)continue;var b=Math.min(X-1,Math.max(0,s+P-J)),z=Math.min(l-1,Math.max(0,W+R-J)),m=Z[z*X+b];
t+=(m&255)*O;T+=(m>>8&255)*O;g+=(m>>16&255)*O}var f=W*X+s<<2;c[f]=Math.abs(t);c[f+1]=Math.abs(T);c[f+2]=Math.abs(g)}};
I.BG.Be=function(N,c,X,l,C,q,J,Z){if(q<=10)I.BG._sV(N,c,X,l,C,q,J,Z);else I.BG._sS(N,c,X,l,C,q,J,Z)};
I.BG._sS=function(N,c,X,l,C,q,J,Z){var W=0,s=new Uint32Array(16),t=new Uint32Array(256),T=new Uint32Array(1*l),g=new Uint32Array(16*l),R=new Uint32Array(256*l),P=Math.min(q,l),O=Math.min(q,C);
for(var b=0;b<O;b++)I.BG.sT(R,g,T,N,c,l,b);for(var b=0;b<C;b++){if(b+q<C)I.BG.sT(R,g,T,N,c,l,b+q);if(b-q-1>=0)I.BG._Rr(R,g,T,N,c,l,b-q-1);
I.set(t,0);I.set(s,0);W=0;for(var z=0;z<P;z++){I.BG.ss(t,s,R,g,z);W+=T[z]}for(var z=0;z<l;z++){if(z+q<l&&T[z+q]!=0){W+=T[z+q];
I.BG.ss(t,s,R,g,z+q)}if(z-q-1>=0&&T[z-q-1]!=0){W-=T[z-q-1];I.BG._Pn(t,s,R,g,z-q-1)}var m=W==0?0:J(t,s,N[b*l+z],W,Z);
X[b*l+z]=m}}};I.BG._sV=function(N,c,X,l,C,q,J,Z){var W=0,s=new Uint32Array(16),t=new Uint32Array(256);
for(var T=0;T<C;T++){I.set(t,0);I.set(s,0);W=0;var g=Math.max(T-q,0),R=Math.min(C,T+q+1);for(var P=0;
P<q;P++)W+=I.BG.Bq(t,s,N,c,g*l+P,l,R*l+P,1);for(var P=0;P<l;P++){if(P+q<l)W+=I.BG.Bq(t,s,N,c,g*l+P+q,l,R*l+P+q,1);
if(P-q-1>=0)W+=I.BG.Bq(t,s,N,c,g*l+P-q-1,l,R*l+P-q-1,-1);var O=W==0?0:J(t,s,N[T*l+P],W,Z);X[T*l+P]=O}}};
I.BG.Bq=function(N,c,X,l,C,q,J,Z){var W=0;while(C<J){var s=l[C]*Z,t=X[C];N[t]+=s;c[t>>>4]+=s;W+=s;C+=q}return W};
I.BG._sy=function(N,c,X,l,C){var q=15;while(c[q]==0&&q>0)q--;q=(q<<4)+15;while(N[q]==0&&q>0)q--;return q};
I.BG._sO=function(N,c,X,l,C){var q=0;while(c[q]==0&&q<15)q++;q=q<<4;while(N[q]==0&&q<255)q++;return q};
I.BG._RQ=function(N,c,X,l,C){var q=l>>>1,J=0,Z=0;while(J<=q)J+=c[Z++];if(Z>0){Z--;J-=c[Z]}Z=Z<<4;while(J<=q)J+=N[Z++];
return Z-1};I.BG.s_=function(N,c,X,l,C){var q=C[0],J=0,Z=0,W=Math.max(0,X-q),s=Math.min(256,X+q+1);while(W<s){J+=W*N[W];
Z+=N[W];W++}return Z==0?0:J/Z};I.BG.sT=function(N,c,X,l,C,q,J){var Z=J*q;for(var W=0;W<q;W++,Z++){var s=C[Z],t=l[Z];
N[W<<8|t]+=s;c[W<<4|t>>>4]+=s;X[W]+=s}};I.BG._Rr=function(N,c,X,l,C,q,J){var Z=J*q;for(var W=0;W<q;W++,Z++){var s=C[Z],t=l[Z];
N[W<<8|t]-=s;c[W<<4|t>>>4]-=s;X[W]-=s}};I.BG.sB=function(N){var c=N.length,X=0;for(var l=0;l<c;l++)X+=N[l];
return X};I.BG.ss=function(N,c,X,l,C){for(var q=0;q<16;q++){if(l[C<<4|q]==0)continue;c[q]+=l[C<<4|q];
var J=q<<4,Z=C<<8|J;N[J]+=X[Z];N[J+1]+=X[Z+1];N[J+2]+=X[Z+2];N[J+3]+=X[Z+3];N[J+4]+=X[Z+4];N[J+5]+=X[Z+5];
N[J+6]+=X[Z+6];N[J+7]+=X[Z+7];N[J+8]+=X[Z+8];N[J+9]+=X[Z+9];N[J+10]+=X[Z+10];N[J+11]+=X[Z+11];N[J+12]+=X[Z+12];
N[J+13]+=X[Z+13];N[J+14]+=X[Z+14];N[J+15]+=X[Z+15]}};I.BG._Pn=function(N,c,X,l,C){for(var q=0;q<16;q++){if(l[C<<4|q]==0)continue;
c[q]-=l[C<<4|q];var J=q<<4,Z=C<<8|J;N[J]-=X[Z];N[J+1]-=X[Z+1];N[J+2]-=X[Z+2];N[J+3]-=X[Z+3];N[J+4]-=X[Z+4];
N[J+5]-=X[Z+5];N[J+6]-=X[Z+6];N[J+7]-=X[Z+7];N[J+8]-=X[Z+8];N[J+9]-=X[Z+9];N[J+10]-=X[Z+10];N[J+11]-=X[Z+11];
N[J+12]-=X[Z+12];N[J+13]-=X[Z+13];N[J+14]-=X[Z+14];N[J+15]-=X[Z+15]}};I.sv={};I.sv.s$=function(N){var c=H.r.kS(N.Trnf),X=N.Sz.v,l=I.sv.sU(c,new u(0,0,X.Wdth.v,X.Hght.v));
return I.sv.sC(l)};I.sv.sU=function(N,c){var N=N.slice(0),X=N[0],l=N[1],C=N[2],q=N[3],J=N[6],Z=N[7],W=N[4],s=N[5],t=0,T=0,g=1,R=0,P=0,O=1,b=1,z=1;
if(c){t=c.x;T=c.y;g=c.x+c.h;R=c.y;P=c.x;O=c.y+c.s;b=c.x+c.h;z=c.y+c.s}var m=[[t,T,1,0,0,0,-t*X,-T*X,X],[0,0,0,t,T,1,-t*l,-T*l,l],[g,R,1,0,0,0,-g*C,-R*C,C],[0,0,0,g,R,1,-g*q,-R*q,q],[P,O,1,0,0,0,-P*J,-O*J,J],[0,0,0,P,O,1,-P*Z,-O*Z,Z],[b,z,1,0,0,0,-b*W,-z*W,W],[0,0,0,b,z,1,-b*s,-z*s,s]],f=[0,0,0,0,0,0,0,0],B=I.vn.vW.Kw(m,f);
if(B!=0)f=[0,0,0,0,0,0,0,0];return f};I.sv.sL=function(N){return Math.abs(N[6])<1e-10&&Math.abs(N[7])<1e-10};
I.sv.sC=function(N){return new Bh(N[0],N[3],N[1],N[4],N[2],N[5])};I.sv.sZ=function(N){return[N.u,N.Mz,N.MD,N.w,N.Mm,N.MM,0,0]};
I.sv.apply=function(N,c){var X=new Float64Array(2);for(var l=0;l<c.length;l+=2){var C=c[l],q=c[l+1];
I.sv.sR(C,q,N,X);c[l]=X[0];c[l+1]=X[1]}};I.sv.sR=function(N,c,X,l){var C=1/(X[6]*N+X[7]*c+1);l[0]=(X[0]*N+X[1]*c+X[2])*C;
l[1]=(X[3]*N+X[4]*c+X[5])*C};I.sv.sP=function(N,c){var X=new Float64Array(2);I.sv.sR(c.x,c.y,N,X);return new k(X[0],X[1])};
I.sv.drawImage=function(N,c,X,l,C,q,J){if(J==null)J=!1;var Z=I.sv.Tk(N),W=!0,s=0;for(var t=0;t<8;t++){var T=Math.round(N[t]);
if(t!=2&&t!=5)s+=Math.abs(T);if(Math.abs(T-N[t])>1e-9)W=!1}var g=Math.abs(N[6])<1e-9&&Math.abs(N[7])<1e-9,R=(Math.abs(N[0])<1e-9&&Math.abs(N[4])<1e-9||Math.abs(N[1])<1e-9&&Math.abs(N[3])<1e-9)&&g;
if(J||W&&s==X+l&&g){I.sv._ZK(Z,c,X,l,C,q);return}var P=q.h,O=q.s,b=new Float64Array(2);C=new Uint32Array(C.buffer);
c=new Uint32Array(c.buffer);for(var z=0;z<O;z++)for(var m=0;m<P;m++){var f=z*P+m,o=0,y=0,L=0,Y=0,E=0,i=0;
C[f]=0;var B=m+q.x+.5,K=z+q.y+.5;I.sv.sR(B,K,Z,b);var j=b[0],S=b[1],r=j*X,n=S*l;if(r<-1||r>X+1||n<-1||n>l+1)continue;
I.sv.sR(j+1/X,S,N,b);o=b[0]-B;y=b[1]-K;var D=o*o+y*y;I.sv.sR(j,S+1/l,N,b);o=b[0]-B;y=b[1]-K;var x=o*o+y*y,A=1/Math.sqrt(Math.max(D,x));
if(A<.8){I.sv.sS(r,n,c,X,l,C,f,R);continue}var e=Math.round(A*3);if(r<.6||r>X-.6||n<.6||n>l-.6){e=Math.max(e,5)}var U=1/e;
for(var t=0;t<e;t++)for(var a=0;a<e;a++){var V=m+q.x+(t+.5)*U,G=z+q.y+(a+.5)*U;I.sv.sR(V,G,Z,b);var r=b[0],n=b[1];
if(r<0||r>=1||n<0||n>=1)continue;r=Math.floor(r*X),n=Math.floor(n*l);var $=n*X+r,p=c[$],w=p>>>24;L+=(p&255)*w;
Y+=(p>>>8&255)*w;E+=(p>>>16&255)*w;i+=w}if(i!=0){var BX=1/ i;L=~~(L*BX+.5);Y=~~(Y*BX+.5);E=~~(E*BX+.5);
i=~~(i*U*U+.5);C[f]=i<<24|E<<16|Y<<8|L}}};I.sv._ZK=function(N,c,X,l,C,q){var J=q.x+q.h,Z=q.y+q.s,W=0,s=new Uint32Array(C.buffer),t=new Uint32Array(c.buffer),T=N[0]*X,g=N[1]*X,R=N[2]*X,P=N[3]*l,O=N[4]*l,b=N[5]*l,z=N[6],m=N[7];
for(var f=q.y+.5;f<Z;f++)for(var B=q.x+.5;B<J;B++){var K=1/(z*B+m*f+1),j=(T*B+g*f+R)*K,S=(P*B+O*f+b)*K;
if(0<j&&j<X&&0<S&&S<l){var r=Math.floor(S)*X+Math.floor(j);s[W]=t[r]}else s[W]=0;W++}};I.sv.Tk=function(N){var c=N[4]-N[5]*N[7],X=N[2]*N[7]-N[1],l=N[1]*N[5]-N[2]*N[4],C=N[5]*N[6]-N[3],q=N[0]-N[2]*N[6],J=N[3]*N[2]-N[0]*N[5],Z=N[3]*N[7]-N[4]*N[6],W=N[1]*N[6]-N[0]*N[7],s=1/(N[0]*N[4]-N[1]*N[3]);
return[c*s,X*s,l*s,C*s,q*s,J*s,Z*s,W*s]};I.sv.sr=function(N,c){var X=N[0],l=N[1],C=N[2],q=N[3],J=N[4],Z=N[5],W=N[6],s=N[7],t=c[0],T=c[1],g=c[2],R=c[3],P=c[4],O=c[5],b=c[6],z=c[7],m=[X*t+l*R+C*b,X*T+l*P+C*z,X*g+l*O+C,q*t+J*R+Z*b,q*T+J*P+Z*z,q*g+J*O+Z,W*t+s*R+b,W*T+s*P+z],f=1/(W*g+s*O+1);
for(var B=0;B<8;B++)m[B]*=f;return m};I.sv.sS=function(N,c,X,l,C,q,J,Z){var W=N,s=c,g=0,R=0,P=0,O=0,U=0,L=0,Y=0;
N-=.499999;c-=.499999;var t=Math.floor(N),T=Math.floor(c);if(Z){var b=t<0?0:t>l-1?l-1:t,z=t<-1?0:t>l-2?l-1:t+1,m=T<0?0:T>C-1?C-1:T,f=T<-1?0:T>C-2?C-1:T+1;
g=X[m*l+b];R=X[m*l+z];P=X[f*l+b];O=X[f*l+z]}else{var B=T*l+t,K=t>=0&&t<l,j=t+1>=0&&t+1<l,S=T>=0&&T<C,r=T+1>=0&&T+1<C;
if(K&&S)g=X[B];if(j&&S)R=X[B+1];if(K&&r)P=X[B+l];if(j&&r)O=X[B+l+1]}var n=N-t,o=c-T,y=(1-o)*(1-n)*(g>>>24),D=(1-o)*n*(R>>>24),x=o*(1-n)*(P>>>24),A=o*n*(O>>>24),e=y+D+x+A;
U+=y*(g&255);L+=y*(g>>>8&255);Y+=y*(g>>>16&255);U+=D*(R&255);L+=D*(R>>>8&255);Y+=D*(R>>>16&255);U+=x*(P&255);
L+=x*(P>>>8&255);Y+=x*(P>>>16&255);U+=A*(O&255);L+=A*(O>>>8&255);Y+=A*(O>>>16&255);if(e==0)q[J]=0;else{var E=1/e;
U=~~(U*E+.5);L=~~(L*E+.5);Y=~~(Y*E+.5);e=~~(e+.5);q[J]=e<<24|Y<<16|L<<8|U}};I.c={};I.c._TY=function(N,c){return N+.5};
I.c._Iu=function(N,c){return 2*Math.sqrt(N*N+c*c)};I.c._IJ=function(N,c){return(Math.PI+Math.atan2(-c,-N))/(2*Math.PI)};
I.c._TJ=function(N,c){return Math.abs(N*2)};I.c._Iy=function(N,c){return 2*(Math.abs(N)+Math.abs(c))};
I.c.sp=function(N,c,X,l,C,q,J,Z,W,s,t){var T=X.h,g=X.s,R=X.x,P=X.y,O=l[0],b=l[1],z=l[2],m=l[3],f=I.c.sa(N.Clrs.v,W,s),B=J?0:1,K=512,j=I.c.sV(N,f,K),S=new Uint8Array(j.buffer),r=new Uint32Array(c.buffer);
if(Z<5){for(var n=0,o=0;n<g;n++)for(var y=0;y<T;y++,o+=4){var D=y-C+R,x=n-q+P,A=O*D+b*x,e=z*D+m*x,U=0;
if(Z==0)U=A+.5;else if(Z==1)U=2*Math.sqrt(A*A+e*e);else if(Z==2)U=(Math.PI+Math.atan2(-e,-A))/(2*Math.PI);
else if(Z==3)U=Math.abs(A*2);else if(Z==4)U=2*(Math.abs(A)+Math.abs(e));U=B*U+(1-B)*(1-U);var L=Math.max(0,Math.min(K-1,Math.round(U*K)))<<2;
c[o]=S[L];c[o+1]=S[L+1];c[o+2]=S[L+2];c[o+3]=S[L+3]}}else{var Y=t.MG-t.Mb,E=1/Y,i=t.MX.h-X.h>>1,a=t.MX.s-X.s>>1,V=t.MX.h,G=-.6*E,$=(-.6+.4)*E,p=(-.6+2*.4)*E,w=(-.6+3*.4)*E;
for(var n=0,o=0;n<g;n++)for(var y=0;y<T;y++,o+=4){var BX=0,Bn=0,Be=0,BW=0,Bt=(n+a)*V+y+i,U=(t.Mn[Bt]-t.Mb)*E,L=0;
U=B*U+(1-B)*(1-U);if(U<=0||U>=1){L=(U<=0?0:K-1)<<2;c[o]=S[L];c[o+1]=S[L+1];c[o+2]=S[L+2];c[o+3]=S[L+3];
continue}L=Math.max(0,Math.min(K-1,Math.round((U+G)*K)))<<2;Bn+=S[L];Be+=S[L+1];BW+=S[L+2];BX+=S[L+3];
L=Math.max(0,Math.min(K-1,Math.round((U+$)*K)))<<2;Bn+=S[L];Be+=S[L+1];BW+=S[L+2];BX+=S[L+3];L=Math.max(0,Math.min(K-1,Math.round((U+p)*K)))<<2;
Bn+=S[L];Be+=S[L+1];BW+=S[L+2];BX+=S[L+3];L=Math.max(0,Math.min(K-1,Math.round((U+w)*K)))<<2;Bn+=S[L];
Be+=S[L+1];BW+=S[L+2];BX+=S[L+3];c[o]=Bn>>2;c[o+1]=Be>>2;c[o+2]=BW>>2;c[o+3]=BX>>2}}};I.c.sa=function(N,c,X){var l=[];
for(var C=0;C<N.length;C++){var q;if(N[C].v.Type.v.Clry=="FrgC")q={W:c>>16&255,d:c>>8&255,w:c&255};else if(N[C].v.Type.v.Clry=="BckC")q={W:X>>16&255,d:X>>8&255,w:X&255};
else q=I.c.si(N[C].v.Clr.v);l.push(q)}return l};I.c.si=function(N){var c,X=N.classID;if(X=="RGBC")c={W:N.Rd.v,d:N.Grn.v,w:N.Bl.v};
else if(X=="HSBC"){c=I.TT(N.H.v.val/360,N.Strt.v/100,N.Brgh.v/100);c.W*=255;c.d*=255;c.w*=255}else if(X=="CMYC"){var l=100-N.Cyn.v,C=100-N.Mgnt.v,q=100-N.Ylw.v,J=100-N.Blck.v,Z=255*l*J*1e-4,W=255*(.2*l+.8*C)*J*1e-4,s=255*(.2*C+.8*q)*J*1e-4;
c={W:Z,d:W,w:s}}else if(X=="Grsc")c={W:255-N.Gry.v,d:255-N.Gry.v,w:255-N.Gry.v};else console.log(N);
return c};I.c.sw=function(N){return{classID:"RGBC",Rd:{t:"doub",v:N.W},Grn:{t:"doub",v:N.d},Bl:{t:"doub",v:N.w}}};
I.c.sV=function(N,c,X){var l=new Uint32Array(X),C=1/(X-0);for(var q=0;q<X;q++)l[q]=I.c.sc(N,c,q*C);return l};
I.c.sc=function(N,c,X){var l=N.Intr.v/4096,C=4096,q=1/C,J=N.Clrs.v.length-1,Z=N.Trns.v.length-1,W=-1,s=0,t=0,T=0,g=0;
while(W<Z&&N.Trns.v[W+1].v.Lctn.v<=X*C)W++;if(W==-1){s=N.Trns.v[0].v.Opct.v.val*(255/100)}else if(W==Z){s=N.Trns.v[W].v.Opct.v.val*(255/100)}else{var R=I.c.sl(N.Trns.v,q,W,X,l);
s=(R*N.Trns.v[W].v.Opct.v.val+(1-R)*N.Trns.v[W+1].v.Opct.v.val)*(255/100)}W=-1;while(W<J&&N.Clrs.v[W+1].v.Lctn.v<=X*C)W++;
if(W==-1){var P=c[0];t=P.W;T=P.d;g=P.w}else if(W==J){var P=c[W];t=P.W;T=P.d;g=P.w}else{var O=c[W],b=c[W+1],z=I.c.sl(N.Clrs.v,q,W,X,l);
t=z*O.W+(1-z)*b.W;T=z*O.d+(1-z)*b.d;g=z*O.w+(1-z)*b.w}s+=.5;t+=.5;T+=.5;g+=.5;return s<<24|g<<16|T<<8|t};
I.c.sl=function(N,c,X,l,C){if(N.length==2)C*=.5;var q=N[X].v.Lctn.v*c,J=N[X+1].v.Lctn.v*c,Z=q+N[X+1].v.Mdpn.v*.01*(J-q),W;
if(l<Z)W=.5*(l-q)/(Z-q);else W=.5+.5*(l-Z)/(J-Z);W=.5+.5*(C*Math.cos(Math.PI*W)+(1-C)*(1-2*W));return W};
I.c.sJ=function(N,c){var X=Math.PI*N.Angl.v.val/180,l=N.Scl.v.val/100,C=N.Ofst.v,q=C.Hrzn.v.val/100,J=C.Vrtc.v.val/100,Z=Math.cos(X),W=-Math.sin(X),s=.5*c.s,t=s*(Z/W),T=Math.sqrt(s*s+t*t),g=.5*c.h,R=g*(W/Z),P=Math.sqrt(g*g+R*R),O=Math.min(T,P)*l,b=c.x+c.h/2+q*c.h,z=c.y+c.s/2+J*c.s;
return[new k(b,z),new k(b+Z*O,z+W*O)]};I.c.sy=function(N,c,X,l){var C=c.x-N.x,q=-(c.y-N.y),J=Math.sqrt(C*C+q*q),Z=Math.atan2(q,C),W=Math.cos(Z),s=-Math.sin(Z),t=.5*X.s,T=t*(W/s),g=Math.sqrt(t*t+T*T),R=.5*X.h,P=R*(s/W),O=Math.sqrt(R*R+P*P),b=J/Math.min(g,O),z=(N.x-X.x-X.h/2)/X.h,m=(N.y-X.y-X.s/2)/X.s;
l.Angl.v.val=180*Z/Math.PI;l.Scl.v.val=b*100;var f=l.Ofst.v;f.Hrzn.v.val=z*100;f.Vrtc.v.val=m*100};I.c.sj=function(N,c){for(var X=0;
X<N.length;X++){var l=N[X],C=Math.round(l[0]*4096),q=l[1],J=l[2];if(J==null)J=1;var Z=I.c.sw({W:q[0]*255,d:q[1]*255,w:q[2]*255});
c.Clrs.v[X]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:C},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:Z},Type:{t:"enum",v:{Clry:"UsrS"}}}};
c.Trns.v[X]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:C},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(J*100)}}}}}};
I.so={};I.so.sO=function(N,c,X,l,C){var q=!1,P=1,A=0,e=0,G=0,sB=0;if(!c.PN(C)){var J=c.vz(C),Z=I.a(J.n()*4);
I.TF(N,c,Z,J);N=Z;c=J}var W=I.a(c.n());I.Ty(X,C,W,c);I.round(W);C=C.vm(c);var s=C.h,t=C.s,T=s*3<t?2:1,g=t*3<s?2:1;
if(C.n()*(T*2+1)*(g*2+1)<c.n()){var J=new u(C.x-s*T,C.y-t*T,s*(T*2+1),t*(g*2+1)).vm(c),Z=I.a(J.n()*4);
I.TF(N,c,Z,J);var R=I.a(J.n());I.Ty(W,c,R,J);c=J;N=Z;W=R}while((c.h+c.s)/2/P>400)P++;var O=N,b=c,z=W,m=Math.floor(b.h/P),f=Math.floor(b.s/P);
N=I.a(m*f*4);I.scale.vc(O,b.h,b.s,N,m,f,1/P);W=I.a(m*f);I.scale.vV(z,b.h,b.s,W,m,f,1/P);I.round(W,1);
var B=I.Tg(W,new u(0,0,m,f));if(B.BH())return;var K=Math.round((B.h+B.s)/2/15),j=Date.now(),S=I.a(m*f*4);
I._EV(N,S);var r=Int16Array,n=new r(m*f*24),o=new r(64),y=new r(64),D=new r(64),x=new r(64);for(var U=3;
U<f-4;U++)for(var L=3;L<m-4;L++){var Y=U*m+L;if(W[Y]==255)continue;if(I.so._RW(S,W,L,U,m,f,o,y,D)!=0)continue;
I.so.sq(o,x);n[A]=L;n[A+1]=U;I.so.Tx(o,n,A+4,12);A+=16;I.so.sq(y,x);I.so.Tx(y,n,A,4);A+=4;I.so.sq(D,x);
I.so.Tx(D,n,A,4);A+=4;var E=n[A-24+5],i=n[A-24+6];n[A-24+5]=n[A-24+20];n[A-24+6]=n[A-24+16];n[A-24+16]=E;
n[A-24+20]=i;e++}if(e==0)return;if(q)console.log(Date.now()-j,"FWHT computed");j=Date.now();var a=[];
I.so.sb(0,e-1,a,n,new r(2*24));if(q)console.log(Date.now()-j,"KD tree computed");j=Date.now();var V=new Float32Array(m*f*4);
for(var $=0;$<e;$++){var p=$,w=I.so.__S(p,n,a,K);if(w==-1)continue;var BX=p*24,Bn=w*24,Be=n[BX],BW=n[BX+1],Bt=n[Bn],Bq=n[Bn+1];
G+=I.so.getError(Bn,BX,n,1e99);var Bd=Bt-Be,Bg=Bq-BW;V[(f+Bg)*2*m+(m+Bd)]+=1}if(q)console.log(Date.now()-j,"NN found");
j=Date.now();var sE=[],s_=1/(2*m);for(var $=0;$<V.length;$++){if(V[$]>0){var U=Math.floor($*s_),L=$-U*2*m;
sE.push({x:L-m,y:U-f,q:V[$],Me:-1})}}sE.sort(function(sA,sk){return sk.q-sA.q});var sT=new Int32Array(m*f),sI=[];
for(var $=0;$<m*f;$++){if(W[$]==255){sT[$]=sB;sI.push($%m,Math.floor($/m));sB++}else if(N[($<<2)+3]<200){sT[$]=-2}else{sT[$]=-1}}var ss=I.so._Cu(m,f,sE,sT,sI,sB);
if(ss==null){return}var sK=ss.MW,top=ss.top;sK=I.so._CH(sK,N,m,f,top,sT,sI,sB);if(q)console.log(Date.now()-j,"optimal labeling found");
j=Date.now();var J=C.clone();J.PY(1,1);J=J.vm(b);var sv=I.a(J.n()*4),s$=I.a(J.n());I.TF(O,b,sv,J);var sU=b.h,sL=b.s;
for(var U=0;U<sL;U++)for(var L=0;L<sU;L++){if(z[U*sU+L]==0)continue;var sC=Math.min(Math.floor(L/P),m-1),sZ=Math.min(Math.floor(U/P),f-1),sR=sT[sZ*m+sC],sP=sK[sR],sh=top[sP],sr=L+sh.x*P,sS=U+sh.y*P,sf=sS*sU+sr<<2,sQ=(U-J.y+b.y)*J.h+(L-J.x+b.x)<<2;
sv[sQ]=O[sf];sv[sQ+1]=O[sf+1];sv[sQ+2]=O[sf+2];sv[sQ+3]=O[sf+3];sv[sQ+3]=O[sf+3];s$[sQ>>2]=sP+1}if(q)console.log(Date.now()-j,"copied back");
j=Date.now();I.v$.sO(sv,s$,J,1e-4,1e3);if(q)console.log(Date.now()-j,"poisson smooth");j=Date.now();
I.TF(sv,J,l,C)};I.so.sF=function(N,c,X,l,C,q){return I.so.sM(N+C.x,c+C.y,X,l)&&q[(c+C.y)*X+(N+C.x)]==-1?0:1e9};
I.so._CH=function(N,c,X,l,top,C,q,J){var Z=Date.now(),W=[-1,0,0,-1,1,0,0,1],s=1e99,t=[],T=[],g=2*(J*2*3+J*2),R=null,P=0,O=0,b=0,z=1e99;
while(!0&&Date.now()<Z+12e3){b++;var m=null,f=s;for(var B=0;B<top.length;B++){var K=top[B],j=0,S=J+2,r=0;
for(var n=0;n<J;n++){var o=q[n*2],y=q[n*2+1],D=top[N[n]],x=I.so.sF(o,y,X,l,K,C),A=N[n]==B?1e9:I.so.sF(o,y,X,l,D,C);
for(var e=0;e<4;e++){if(e==0&&o==0||e==1&&y==0||e==2&&o==X-1||e==3&&y==l-1)continue;var U=W[2*e],L=W[2*e+1],Y=o+U,E=y+L,i=C[E*X+Y];
if(i==-2){}else if(i==-1){x+=3*I.so.sm(Y+K.x,E+K.y,Y,E,X,l,c,C);x+=2*I.so.sm(Y+K.x+U,E+K.y+L,Y+U,E+L,X,l,c,C);
A+=3*I.so.sm(Y+D.x,E+D.y,Y,E,X,l,c,C);A+=2*I.so.sm(Y+D.x+U,E+D.y+L,Y+U,E+L,X,l,c,C)}else if(e>1){if(N[n]==N[i]){var a=0;
a+=I.so.sm(o+D.x,y+D.y,o+K.x,y+K.y,X,l,c,C);a+=I.so.sm(Y+D.x,E+D.y,Y+K.x,E+K.y,X,l,c,C);t[j]=n;t[j+1]=i;
T[j]=a;T[j+1]=a;j+=2}else{var V=top[N[i]],G=S,$=0,p=0,w=0;S++;$+=I.so.sm(o+D.x,y+D.y,o+K.x,y+K.y,X,l,c,C);
$+=I.so.sm(Y+D.x,E+D.y,Y+K.x,E+K.y,X,l,c,C);p+=I.so.sm(o+V.x,y+V.y,o+K.x,y+K.y,X,l,c,C);p+=I.so.sm(Y+V.x,E+V.y,Y+K.x,E+K.y,X,l,c,C);
w+=I.so.sm(o+V.x,y+V.y,o+D.x,y+D.y,X,l,c,C);w+=I.so.sm(Y+V.x,E+V.y,Y+D.x,E+D.y,X,l,c,C);t[j]=n;t[j+1]=G;
T[j]=$;T[j+1]=$;j+=2;t[j]=i;t[j+1]=G;T[j]=p;T[j+1]=p;j+=2;t[j]=G;t[j+1]=J+1;T[j]=w;T[j+1]=0;j+=2}}}t[j]=J;
t[j+1]=n;T[j]=x;T[j+1]=0;j+=2;t[j]=n;t[j+1]=J+1;T[j]=A;T[j+1]=0;j+=2;r+=Math.min(x,A)}if(r>f)continue;
var BX=I.Ms.Kw(S,j,J,J+1,t,T,f);if(BX.LU<f){f=BX.LU;var Bn=N.slice(0);I.so._CF(Bn,j,t,BX.Mt,B,J);m=Bn}}if(f*1>=s){break}s=f;
N=m;if((b&3)==0){if(f*1.03>=z)break;z=f}if((b&3)==0){var Be=0*top.length;for(var n=0;n<top.length&&top.length>Be;
n++){if(N.indexOf(n)!=-1)continue;top.splice(n,1);for(var i=0;i<N.length;i++)if(N[i]>n)N[i]--;n--}}}return N};
I.so._CF=function(N,c,X,l,C,q){for(var J=0;J<l.length;J++){var Z=l[J]<<1,W=0,s=0;if(Z<c){W=X[Z];s=X[Z+1]}else{s=X[Z];
W=X[Z+1]}if(W==q&&N[s]!=C)N[s]=C}};I.so.sY=function(top,N,c,X,l,C,q,J,Z){for(var W=0;W<c.length;W++){var s=c[W],t=!0;
if(J!=null&&!(I.so.sM(J+s.x,Z+s.y,C,q)&&X[C*(Z+s.y)+J+s.x]==-1))continue;if(s.Me==-1)s.Me=I.so._Ci(s,X,l,C,q);
if(s.Me<=0)continue;for(var T=0;T<top.length;T++){var g=top[T],R=s.x-g.x,P=s.y-g.y;if(R*R+P*P<N){t=!1;
break}}if(t)return s}return null};I.so._Ci=function(N,c,X,l,C){var q=0;for(var J=0;J<X.length;J+=2){var Z=X[J]+N.x,W=X[J+1]+N.y;
if(I.so.sM(Z,W,l,C)&&c[l*W+Z]==-1)q++}return q/(X.length>>1)};I.so._Cu=function(N,c,X,l,C,q){var top=[];
for(var J=0;J<60;J++){var Z=I.so.sY(top,25,X,l,C,N,c);if(Z==null)break;else top.push(Z)}if(top.length==0)return null;
var W=[];for(var J=0;J<q;J++){var s=C[J*2],t=C[J*2+1],T=-1,g=0;while(!0){g++;var R=Math.random();T=Math.floor(R*.99999*top.length);
var P=top[T],O=s+P.x,b=t+P.y;if(I.so.sM(O,b,N,c)&&l[b*N+O]==-1)break;if(g>100){var Z;Z=I.so.sY(top,0,X,l,C,N,c,s,t);
if(Z==null)return null;top.push(Z);g=0}}W.push(T)}return{top:top,MW:W}};I.so.sm=function(N,c,X,l,C,q,J,Z){if(N==X&&c==l)return 0;
if(N<0||c<0||N>=C||c>=q||X<0||l<0||X>=C||l>=q||Z[c*C+N]!=-1||Z[l*C+X]!=-1)return 1e7;var W=c*C+N<<2,s=l*C+X<<2,t=J[W]-J[s],T=J[W+1]-J[s+1],g=J[W+2]-J[s+2];
return 1+(t*t+T*T+g*g)};I.so.sM=function(N,c,X,l){return N>=0&&N<X&&c>=0&&c<l};I.so.__S=function(N,c,X,l){var C=24*N,q=c[C],J=c[C+1],Z=l*l,W=0,g=1e9;
while(X[W]!=99)if(c[C+X[W]]<X[W+1])W=X[W+2];else W=X[W+3];var s=X[W+1],t=X[W+2],T=-1;for(var R=s;R<=t;
R++){var W=R,P=W*24,O=c[P],b=c[P+1];if((O-q)*(O-q)+(b-J)*(b-J)<Z)continue;var z=I.so.getError(P,C,c,g);
if(z<g){g=z;T=W}}return T};I.so.getError=function(N,c,X,l){var C=0;for(var q=4;q<24;q+=4){var J=X[c+q]-X[N+q],Z=X[c+q+1]-X[N+q+1],W=X[c+q+2]-X[N+q+2],s=X[c+q+3]-X[N+q+3];
C+=J*J+Z*Z+W*W+s*s;if(C>=l)return C+1}return C};I.so.sb=function(N,c,X,l,C){var q=16,R=0;if(c-N<=q){X.push(99,N,c);
return}I.so.sX(N,c,l,C);var J=-1,Z=-1;for(var W=4;W<24;W++){var s=C[2*W+1]-C[2*W];if(s>Z){Z=s;J=W}}var t=N+c>>1,T=I.so._vV(t,N,c,l,J),g=-1;
for(var W=N;W<=c;W++)if(l[24*W+J]==T){if(g==-1)g=W;R=W}if(N+8<g&&g-N>c-R)t=g;else if(R+1<c-8)t=R+1;else if(c-N<64){X.push(99,N,c);
return}else t=t;var P=X.length;X.push(J,T,0,0);X[P+2]=P+4;I.so.sb(N,t-1,X,l,C);X[P+3]=X.length;I.so.sb(t,c,X,l,C)};
I.so.sX=function(N,c,X,l){for(var C=0;C<48;C+=4){l[C]=3e4;l[C+1]=-3e4;l[C+2]=3e4;l[C+3]=-3e4}for(var C=N;
C<=c;C++){var q=C*24;for(var J=0;J<24;J++){var Z=X[q+J],W=l[J<<1],s=l[(J<<1)+1];if(Z<W)l[J<<1]=Z;if(Z>s)l[(J<<1)+1]=Z}}};
I.so.sn=function(N,c,X){var l=0,C=0;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;
C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;
C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;
C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;
C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;
C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;
C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;
C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;
C++;l=X[N+C];X[N+C]=X[c+C];X[c+C]=l;C++};I.so.se=function(N,c,X,l){var C=X+l>>>1,q=N[24*C+c];while(X<=l){while(N[24*X+c]<q)X++;
while(N[24*l+c]>q)l--;if(X<=l){if(N[24*X+c]!=N[24*l+c])I.so.sn(X*24,l*24,N);X++;l--}}return X};I.so._vV=function(N,c,X,l,C){var q=0;
while(c!=X){q=I.so.se(l,C,c,X);if(N<q)X=q-1;else c=q}return l[N*24+C]};I.so.Tx=function(N,c,X,l){for(var C=0;
C<l;C++)c[X+C]=N[C]};I.so._RW=function(N,c,X,l,C,q,J,Z,W){var s=(l-3)*C+(X-3),t=s<<2;for(var T=0;T<8;
T++){if(c[s]+c[s+1]+c[s+2]+c[s+3]+c[s+4]+c[s+5]+c[s+6]+c[s+7]!=0||N[t+3]<200||N[t+7]<200||N[t+11]<200||N[t+15]<200||N[t+19]<200||N[t+23]<200||N[t+27]<200||N[t+31]<200)return 1;
var g=T<<3;J[g+0]=N[t+0];Z[g+0]=N[t+1];W[g+0]=N[t+2];J[g+1]=N[t+4];Z[g+1]=N[t+5];W[g+1]=N[t+6];J[g+2]=N[t+8];
Z[g+2]=N[t+9];W[g+2]=N[t+10];J[g+3]=N[t+12];Z[g+3]=N[t+13];W[g+3]=N[t+14];J[g+4]=N[t+16];Z[g+4]=N[t+17];
W[g+4]=N[t+18];J[g+5]=N[t+20];Z[g+5]=N[t+21];W[g+5]=N[t+22];J[g+6]=N[t+24];Z[g+6]=N[t+25];W[g+6]=N[t+26];
J[g+7]=N[t+28];Z[g+7]=N[t+29];W[g+7]=N[t+30];t+=C<<2;s+=C}return 0};I.so.sq=function(N,c){c[0]=N[32]+N[0];
c[1]=N[33]+N[1];c[2]=N[34]+N[2];c[3]=N[35]+N[3];c[4]=N[36]+N[4];c[5]=N[37]+N[5];c[6]=N[38]+N[6];c[7]=N[39]+N[7];
c[8]=N[40]+N[8];c[9]=N[41]+N[9];c[10]=N[42]+N[10];c[11]=N[43]+N[11];c[12]=N[44]+N[12];c[13]=N[45]+N[13];
c[14]=N[46]+N[14];c[15]=N[47]+N[15];c[16]=N[48]+N[16];c[17]=N[49]+N[17];c[18]=N[50]+N[18];c[19]=N[51]+N[19];
c[20]=N[52]+N[20];c[21]=N[53]+N[21];c[22]=N[54]+N[22];c[23]=N[55]+N[23];c[24]=N[56]+N[24];c[25]=N[57]+N[25];
c[26]=N[58]+N[26];c[27]=N[59]+N[27];c[28]=N[60]+N[28];c[29]=N[61]+N[29];c[30]=N[62]+N[30];c[31]=N[63]+N[31];
c[32]=N[0]-N[32];c[33]=N[1]-N[33];c[34]=N[2]-N[34];c[35]=N[3]-N[35];c[36]=N[4]-N[36];c[37]=N[5]-N[37];
c[38]=N[6]-N[38];c[39]=N[7]-N[39];c[40]=N[8]-N[40];c[41]=N[9]-N[41];c[42]=N[10]-N[42];c[43]=N[11]-N[43];
c[44]=N[12]-N[44];c[45]=N[13]-N[45];c[46]=N[14]-N[46];c[47]=N[15]-N[47];c[48]=N[16]-N[48];c[49]=N[17]-N[49];
c[50]=N[18]-N[50];c[51]=N[19]-N[51];c[52]=N[20]-N[52];c[53]=N[21]-N[53];c[54]=N[22]-N[54];c[55]=N[23]-N[55];
c[56]=N[24]-N[56];c[57]=N[25]-N[57];c[58]=N[26]-N[58];c[59]=N[27]-N[59];c[60]=N[28]-N[60];c[61]=N[29]-N[61];
c[62]=N[30]-N[62];c[63]=N[31]-N[63];N[0]=c[16]+c[0];N[1]=c[17]+c[1];N[2]=c[18]+c[2];N[3]=c[19]+c[3];
N[4]=c[20]+c[4];N[5]=c[21]+c[5];N[6]=c[22]+c[6];N[7]=c[23]+c[7];N[8]=c[24]+c[8];N[9]=c[25]+c[9];N[10]=c[26]+c[10];
N[11]=c[27]+c[11];N[12]=c[28]+c[12];N[13]=c[29]+c[13];N[14]=c[30]+c[14];N[15]=c[31]+c[15];N[16]=c[0]-c[16];
N[17]=c[1]-c[17];N[18]=c[2]-c[18];N[19]=c[3]-c[19];N[20]=c[4]-c[20];N[21]=c[5]-c[21];N[22]=c[6]-c[22];
N[23]=c[7]-c[23];N[24]=c[8]-c[24];N[25]=c[9]-c[25];N[26]=c[10]-c[26];N[27]=c[11]-c[27];N[28]=c[12]-c[28];
N[29]=c[13]-c[29];N[30]=c[14]-c[30];N[31]=c[15]-c[31];c[0]=N[8]+N[0];c[1]=N[9]+N[1];c[2]=N[10]+N[2];
c[3]=N[11]+N[3];c[4]=N[12]+N[4];c[5]=N[13]+N[5];c[6]=N[14]+N[6];c[7]=N[15]+N[7];c[8]=N[0]-N[8];c[9]=N[1]-N[9];
c[10]=N[2]-N[10];c[11]=N[3]-N[11];c[12]=N[4]-N[12];c[13]=N[5]-N[13];c[14]=N[6]-N[14];c[15]=N[7]-N[15];
N[0]=c[4]+c[0];N[1]=c[5]+c[1];N[2]=c[6]+c[2];N[3]=c[7]+c[3];N[4]=c[0]-c[4];N[5]=c[1]-c[5];N[6]=c[2]-c[6];
N[7]=c[3]-c[7];N[8]=c[12]+c[8];N[9]=c[13]+c[9];N[10]=c[14]+c[10];N[11]=c[15]+c[11];N[12]=c[8]-c[12];
N[13]=c[9]-c[13];N[14]=c[10]-c[14];N[15]=c[11]-c[15];c[0]=N[2]+N[0];c[1]=N[3]+N[1];c[2]=N[0]-N[2];c[3]=N[1]-N[3];
c[4]=N[6]+N[4];c[5]=N[7]+N[5];c[6]=N[4]-N[6];c[7]=N[5]-N[7];c[8]=N[10]+N[8];c[9]=N[11]+N[9];c[10]=N[8]-N[10];
c[11]=N[9]-N[11];c[12]=N[14]+N[12];c[13]=N[15]+N[13];c[14]=N[12]-N[14];c[15]=N[13]-N[15];N[0]=c[1]+c[0];
N[1]=c[0]-c[1];N[2]=c[3]+c[2];N[3]=c[2]-c[3];N[4]=c[5]+c[4];N[5]=c[4]-c[5];N[6]=c[7]+c[6];N[7]=c[6]-c[7];
N[8]=c[9]+c[8];N[9]=c[8]-c[9];N[10]=c[11]+c[10];N[11]=c[10]-c[11];N[12]=c[13]+c[12];N[13]=c[12]-c[13];
N[14]=c[15]+c[14];N[15]=c[14]-c[15]};I.so._Bf=function(){var N="",c=64,X="v",l="t",C="a",q=5,J,Z,W;for(J=c>>1;
J>0;J>>=1,q--){for(Z=0;Z<c;Z++){W=(Z>>q&1)!=0;if(W){N+=l+"["+Z+"] = "+X+"["+(-J+Z)+"] - "+X+"["+Z+"];  "}else{N+=l+"["+Z+"] = "+X+"["+(J+Z)+"] + "+X+"["+Z+"];  "}}C=X;
X=l;l=C;N+="\n"}console.log(N)};I.so._Bx=function(N,c,X){var l=c,C=X,q=l,J=0,W,s,t;while(N>>J!=2)J++;
var Z=J;for(W=N>>1;W>0;W>>=1,J--){for(s=0;s<N;s++){t=(s>>J&1)!=0;if(t)C[s]=l[-W+s]-l[s];else C[s]=l[W+s]+l[s]}q=l;
l=C;C=q}if((Z&1)==1)for(W=0;W<N;W++)X[W]=l[W]};I.KE={};I.KE.K_=function(N,c,X,l,C,q,J,Z){var W=Date.now(),s=new Uint32Array(N.buffer),t=new Uint32Array(c.buffer),T=J/X,g=Z/l,R=1/T,P=1/g,O=new Float64Array(2),b=3,z=1/b,m=1/(b*b),f=0,B=0,K=X,j=l;
if(C){f=C.x;B=C.y;K=C.h;j=C.s}for(var S=0;S<j;S++)for(var r=0;r<K;r++){var n=f+r,o=B+S,y=o*X+n,D=y<<1,x=y<<2;
I.KE.__A(q,J,Z,(n+.5)*T,(o+.5)*g,O);var A=O[0]*R,e=O[1]*P;if(A==0&&e==0)t[y]=s[y];else{I.sv.sS(n+A+.4999,o+e+.4999,s,X,l,t,y,!1)}}};
I.KE.__A=function(N,c,X,l,C,q){var J=~~l,Z=~~C,W=l-J,s=C-Z,t=(1-s)*(1-W),T=(1-s)*W,g=s*(1-W),R=s*W,P=J==c-1?J:J+1,O=Z==X-1?Z:Z+1,b=Z*c+J<<1,z=Z*c+P<<1,m=O*c+J<<1,f=O*c+P<<1;
q[0]=t*N[b]+T*N[z]+g*N[m]+R*N[f];q[1]=t*N[b+1]+T*N[z+1]+g*N[m+1]+R*N[f+1]};I.KE.KI=new Float32Array(512);
I.KE.KB=function(N){if(I.KE.KI.length<N)I.KE.KI=new Float32Array(N);return I.KE.KI};I.KE._RY=function(N,c,X,l,C){var q=1/N,J=[-1,1,-N,N],Z=l.length,W=I.KE.KB(Z*2);
for(var s=0;s<2;s++){for(var t=0;t<Z;t++){var T=l[t],g=T<<1,R=t<<1,P=Math.floor(T*q),O=T-N*P,b=X[g],z=X[g+1],m=0,f=0;
if(O!=0&&O!=N-1){var B=T-1<<1,K=T+1<<1,j=X[B],S=X[K],r=X[B+1],n=X[K+1],o=b-(j+S)*.5,y=z-(r+n)*.5;m-=o*C;
f-=y*C}if(P!=0&&P!=c-1){var B=T-N<<1,K=T+N<<1,j=X[B],S=X[K],r=X[B+1],n=X[K+1],o=b-(j+S)*.5,y=z-(r+n)*.5;
m-=o*C;f-=y*C}W[R]=b+m;W[R+1]=z+f}for(var t=0;t<Z;t++){var g=l[t]<<1,R=t<<1;X[g]=W[R];X[g+1]=W[R+1]}}};
I.KE._RU=function(N,c,X,l,C,q,J,Z,W,s,t){var T=Math.max(0,Math.floor(C-J-1)),g=Math.min(c,Math.ceil(C+J+1)),R=Math.max(0,Math.floor(q-J-1)),P=Math.min(X,Math.ceil(q+J+1)),O=2*c,b=J*J,z=1/J,m=0,f=I.KE.KB((g-T)*(P-R)*2);
for(var B=R;B<P;B++)for(var K=T;K<g;K++){var j=B*c+K,S=j<<1,r=C-K,n=q-B,o=r*r+n*n;if(o<b){t[m]=j;var y=Math.sqrt(o),D=y*z,x=D/y;
r*=x;n*=x;var A=Math.exp(-4*D),e=.96*(1-D*D),U=W*((1-Z)*A+Z*e);if(l==1){f[m<<1]=N[S]*(1-U*.05);f[(m<<1)+1]=N[S+1]*(1-U*.05)}else{var L=0,Y=0,a,V,G,$;
if(l==0){L=s.x*U;Y=s.y*U}else if(l==2){}else if(l==3){L=U*n;Y=-U*r}else if(l==4){L=U*r;Y=U*n}else if(l==5){L=-U*r;
Y=-U*n}var E=N[S],i=N[S+1];if(K==0||K!=c-1&&L<0){a=1+N[S+2]-E;G=N[S+3]-i}else{a=E-N[S-2]+1;G=i-N[S-1]}if(B==0||B!=X-1&&Y<0){V=N[S+O]-E;
$=1+N[S+O+1]-i}else{V=E-N[S-O];$=i-N[S-O+1]+1}f[m<<1]=-(a*L+V*Y-E);f[(m<<1)+1]=-(G*L+$*Y-i)}m++}}for(var p=0;
p<m;p++){var S=t[p]<<1,w=p<<1;N[S]=f[w];N[S+1]=f[w+1]}};I.KE._$x=function(N){var c=N[0],X=N[0],l=N[1],C=N[1];
for(var q=0;q<N.length;q+=2){var J=N[q],Z=N[q+1];if(J<c)c=J;else if(J>X)X=J;if(Z<l)l=Z;else if(Z>C)C=Z}return[c,l,X,C]};
I.KE._Bk=function(N,c){var X=[],l=Math.floor(c.length/3);for(var C=0;C<l;C++)X.push(C);var q=I.KE._$x(N);
return I.KE.KU(N,c,X,X.length,q)};I.KE.KU=function(N,c,X,l,C){if(l<60)return X;var q=C,J=C.slice(0),Z=[],W=[],s=0,t=0,T=0;
if(C[3]-C[1]>C[2]-C[0])T=1;else T=0;var g=(C[0+T]+C[2+T])*.5;q[2+T]=J[0+T]=g;for(var R=0;R<l;R++){var P=X[R],O=P*3,b=N[(c[O+0]<<1)+T],z=N[(c[O+1]<<1)+T],m=N[(c[O+2]<<1)+T];
if(b<=g||z<=g||m<=g){Z[s++]=P}if(b>g||z>g||m>g){W[t++]=P}}if(s==l||t==l||s+t>l*1.3)return X;return{axis:T,Mq:g,Md:I.KE.KU(N,c,Z,s,q),Mg:I.KE.KU(N,c,W,t,J)}};
I.KE._sh=function(N,c,X,l,C){while(X.Md!=null){if(X.axis==0&&l<=X.Mq||X.axis==1&&C<=X.Mq)X=X.Md;else X=X.Mg}return I.KE._Bb(N,c,X,l,C)};
I.KE._sW=function(N,c,X){return X[0]<=N&&N<=X[2]&&X[1]<=c&&c<=X[3]};I.KE._Bb=function(N,c,X,l,C){for(var q=0;
q<X.length;q++){var J=X[q],Z=J*3,W=c[Z+0]<<1,s=c[Z+1]<<1,t=c[Z+2]<<1,T=N[W+0],g=N[W+1],R=N[s+0],P=N[s+1],O=N[t+0],b=N[t+1],z=R-T,m=P-g,f=O-T,B=b-g,K=l-T,j=C-g,S=z*B-f*m;
if(S==0)return[W>>>1,s>>>1,t>>>1,1,0,0];var r=1/S,n=(K*B-f*j)*r,o=(z*j-K*m)*r;if(n>=0&&o>=0&&n+o<=1)return[W>>>1,s>>>1,t>>>1,1-n-o,n,o]}return null};
I.KR={};I.KR.KP=function(N){var c=~~(N+.5);return c<0?0:c>255?255:c};I.KR.transform=function(N,c,X){var l=I.KR.KP,C=N.W.length;
for(var q=0;q<C;q++){var J=N.W[q],Z=N.d[q],W=N.w[q];c.W[q]=l(X[0]*J+X[1]*Z+X[2]*W+X[3]*255);c.d[q]=l(X[4]*J+X[5]*Z+X[6]*W+X[7]*255);
c.w[q]=l(X[8]*J+X[9]*Z+X[10]*W+X[11]*255)}};I.KR._ZM=function(N,c,X){var l=I.KR.KP,C=N.length;for(var q=0;
q<C;q+=4){var J=N[q],Z=N[q+1],W=N[q+2];c[q]=l(X[0]*J+X[1]*Z+X[2]*W+X[3]*255);c[q+1]=l(X[4]*J+X[5]*Z+X[6]*W+X[7]*255);
c[q+2]=l(X[8]*J+X[9]*Z+X[10]*W+X[11]*255)}};I.KR.Kr=function(N,c,X){return[1,0,0,N,0,1,0,c,0,0,1,X,0,0,0,1]};
I.KR.KS=function(N,c,X){return[N,0,0,0,0,c,0,0,0,0,X,0,0,0,0,1]};I.KR._Ie=function(N){return[N[0],N[1],N[2],N[4],N[5],N[6],N[8],N[9],N[10]]};
I.KR.Kx=function(N){return[N[0],N[1],N[2],0,N[3],N[4],N[5],0,N[6],N[7],N[8],0,0,0,0,1]};I.KR.KQ=function(N,c){return[N[0]*c[0]+N[1]*c[1]+N[2]*c[2]+N[3]*c[3],N[4]*c[0]+N[5]*c[1]+N[6]*c[2]+N[7]*c[3],N[8]*c[0]+N[9]*c[1]+N[10]*c[2]+N[11]*c[3],N[12]*c[0]+N[13]*c[1]+N[14]*c[2]+N[15]*c[3]]};
I.KR._Zo=function(N){var c=[];c[0]=N[0];c[1]=N[4];c[2]=N[8];c[3]=N[12];c[4]=N[1];c[5]=N[5];c[6]=N[9];
c[7]=N[13];c[8]=N[2];c[9]=N[6];c[10]=N[10];c[11]=N[14];c[12]=N[3];c[13]=N[7];c[14]=N[11];c[15]=N[15];
return c};I.KR.multiply=function(N,c){var X=[];X[0]=N[0]*c[0]+N[1]*c[4]+N[2]*c[8]+N[3]*c[12];X[1]=N[0]*c[1]+N[1]*c[5]+N[2]*c[9]+N[3]*c[13];
X[2]=N[0]*c[2]+N[1]*c[6]+N[2]*c[10]+N[3]*c[14];X[3]=N[0]*c[3]+N[1]*c[7]+N[2]*c[11]+N[3]*c[15];X[4]=N[4]*c[0]+N[5]*c[4]+N[6]*c[8]+N[7]*c[12];
X[5]=N[4]*c[1]+N[5]*c[5]+N[6]*c[9]+N[7]*c[13];X[6]=N[4]*c[2]+N[5]*c[6]+N[6]*c[10]+N[7]*c[14];X[7]=N[4]*c[3]+N[5]*c[7]+N[6]*c[11]+N[7]*c[15];
X[8]=N[8]*c[0]+N[9]*c[4]+N[10]*c[8]+N[11]*c[12];X[9]=N[8]*c[1]+N[9]*c[5]+N[10]*c[9]+N[11]*c[13];X[10]=N[8]*c[2]+N[9]*c[6]+N[10]*c[10]+N[11]*c[14];
X[11]=N[8]*c[3]+N[9]*c[7]+N[10]*c[11]+N[11]*c[15];X[12]=N[12]*c[0]+N[13]*c[4]+N[14]*c[8]+N[15]*c[12];
X[13]=N[12]*c[1]+N[13]*c[5]+N[14]*c[9]+N[15]*c[13];X[14]=N[12]*c[2]+N[13]*c[6]+N[14]*c[10]+N[15]*c[14];
X[15]=N[12]*c[3]+N[13]*c[7]+N[14]*c[11]+N[15]*c[15];return X};I.KR.Tk=function(N){var c=[];c[0]=N[5]*N[10]*N[15]-N[5]*N[14]*N[11]-N[6]*N[9]*N[15]+N[6]*N[13]*N[11]+N[7]*N[9]*N[14]-N[7]*N[13]*N[10];
c[1]=-N[1]*N[10]*N[15]+N[1]*N[14]*N[11]+N[2]*N[9]*N[15]-N[2]*N[13]*N[11]-N[3]*N[9]*N[14]+N[3]*N[13]*N[10];
c[2]=N[1]*N[6]*N[15]-N[1]*N[14]*N[7]-N[2]*N[5]*N[15]+N[2]*N[13]*N[7]+N[3]*N[5]*N[14]-N[3]*N[13]*N[6];
c[3]=-N[1]*N[6]*N[11]+N[1]*N[10]*N[7]+N[2]*N[5]*N[11]-N[2]*N[9]*N[7]-N[3]*N[5]*N[10]+N[3]*N[9]*N[6];
c[4]=-N[4]*N[10]*N[15]+N[4]*N[14]*N[11]+N[6]*N[8]*N[15]-N[6]*N[12]*N[11]-N[7]*N[8]*N[14]+N[7]*N[12]*N[10];
c[5]=N[0]*N[10]*N[15]-N[0]*N[14]*N[11]-N[2]*N[8]*N[15]+N[2]*N[12]*N[11]+N[3]*N[8]*N[14]-N[3]*N[12]*N[10];
c[6]=-N[0]*N[6]*N[15]+N[0]*N[14]*N[7]+N[2]*N[4]*N[15]-N[2]*N[12]*N[7]-N[3]*N[4]*N[14]+N[3]*N[12]*N[6];
c[7]=N[0]*N[6]*N[11]-N[0]*N[10]*N[7]-N[2]*N[4]*N[11]+N[2]*N[8]*N[7]+N[3]*N[4]*N[10]-N[3]*N[8]*N[6];c[8]=N[4]*N[9]*N[15]-N[4]*N[13]*N[11]-N[5]*N[8]*N[15]+N[5]*N[12]*N[11]+N[7]*N[8]*N[13]-N[7]*N[12]*N[9];
c[9]=-N[0]*N[9]*N[15]+N[0]*N[13]*N[11]+N[1]*N[8]*N[15]-N[1]*N[12]*N[11]-N[3]*N[8]*N[13]+N[3]*N[12]*N[9];
c[10]=N[0]*N[5]*N[15]-N[0]*N[13]*N[7]-N[1]*N[4]*N[15]+N[1]*N[12]*N[7]+N[3]*N[4]*N[13]-N[3]*N[12]*N[5];
c[11]=-N[0]*N[5]*N[11]+N[0]*N[9]*N[7]+N[1]*N[4]*N[11]-N[1]*N[8]*N[7]-N[3]*N[4]*N[9]+N[3]*N[8]*N[5];c[12]=-N[4]*N[9]*N[14]+N[4]*N[13]*N[10]+N[5]*N[8]*N[14]-N[5]*N[12]*N[10]-N[6]*N[8]*N[13]+N[6]*N[12]*N[9];
c[13]=N[0]*N[9]*N[14]-N[0]*N[13]*N[10]-N[1]*N[8]*N[14]+N[1]*N[12]*N[10]+N[2]*N[8]*N[13]-N[2]*N[12]*N[9];
c[14]=-N[0]*N[5]*N[14]+N[0]*N[13]*N[6]+N[1]*N[4]*N[14]-N[1]*N[12]*N[6]-N[2]*N[4]*N[13]+N[2]*N[12]*N[5];
c[15]=N[0]*N[5]*N[10]-N[0]*N[9]*N[6]-N[1]*N[4]*N[10]+N[1]*N[8]*N[6]+N[2]*N[4]*N[9]-N[2]*N[8]*N[5];var X=N[0]*c[0]+N[1]*c[4]+N[2]*c[8]+N[3]*c[12];
for(var l=0;l<16;l++)c[l]/=X;return c};I.KR.Kk=function(N){var c=[],X=N[5]*N[10]*N[15]-N[5]*N[14]*N[11]-N[6]*N[9]*N[15]+N[6]*N[13]*N[11]+N[7]*N[9]*N[14]-N[7]*N[13]*N[10],l=-N[4]*N[10]*N[15]+N[4]*N[14]*N[11]+N[6]*N[8]*N[15]-N[6]*N[12]*N[11]-N[7]*N[8]*N[14]+N[7]*N[12]*N[10],C=N[4]*N[9]*N[15]-N[4]*N[13]*N[11]-N[5]*N[8]*N[15]+N[5]*N[12]*N[11]+N[7]*N[8]*N[13]-N[7]*N[12]*N[9],q=-N[4]*N[9]*N[14]+N[4]*N[13]*N[10]+N[5]*N[8]*N[14]-N[5]*N[12]*N[10]-N[6]*N[8]*N[13]+N[6]*N[12]*N[9];
return N[0]*X+N[1]*l+N[2]*C+N[3]*q};I.KR.Ku=I.KR.Kx([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
I.Ms={};I.Ms.Ka=new Uint32Array(1);I.Ms.Ki=function(N,c,X,l,C,q){var J=new Uint32Array(N),Z=0,W=I.Ms.Ka;
if(W.length<c*4)I.Ms.Ka=W=new Uint32Array(c*4);var s=new Float64Array(W.buffer);for(var t=0;t<c;t+=2){var T=C[t],g=C[t+1],R=q[t],P=q[t+1];
W[Z]=g;s[Z+2>>1]=R;W[Z+1]=J[T];J[T]=Z+1;Z+=4;W[Z]=T;s[Z+2>>1]=P;W[Z+1]=J[g];J[g]=Z+1;Z+=4}return{Mo:W,GE:s,G_:J}};
I.Ms.Kw=function(N,c,X,l,C,q,J){var Z=1,W=I.Ms.Ki(N,c,X,l,C,q),s=W.Mo,t=W.GE,T=W.G_,g=new Uint32Array(N),R=new I.Ms.Kj(N),O=1,B=0;
R.push(X);R.push(l);var P=new I.Ms.Kj(N),b=new Uint8Array(N),z=new Uint32Array(N);b[X]=1;b[l]=2;var m=new Uint32Array(N),f=new Uint32Array(N);
f[X]=f[l]=0;m[X]=m[l]=1;while(!0){var K=-1,D=0,L=1e30;while(!R.Ky()&&K==-1){var j=R.top(),S=b[j],r=T[j]-1;
while(r!=-1){var n=s[r],o=b[n],y=r^S-1<<2;if(t[y+2>>1]!=0){if(o==0){I.Ms.KV(j,r,n,b,z,f,m);R.push(n)}else if(o==S&&m[n]<=m[j]&&f[n]>f[j])I.Ms.KV(j,r,n,b,z,f,m);
else if(o!=S){K=y}}r=s[r+1]-1}if(K!=-1)break;R.pop()}if(K==-1){break}O++;var x=K;while(x!=-1){g[D]=x;
D++;x=z[s[x^4]]-1}var A=D>>1;for(var e=0;e<A;e++){var U=g[e];g[e]=g[D-e-1];g[D-e-1]=U}x=z[s[K]]-1;while(x!=-1){g[D]=x^4;
D++;x=z[s[x^4]]-1}for(var e=0;e<D;e++)L=Math.min(L,t[g[e]+2>>1]);B+=L;if(B>=J)return{Mt:null,LU:B};for(var e=0;
e<D;e++){var Y=g[e],E=Y^4,j=s[E],n=s[Y];t[Y+2>>1]-=L;t[E+2>>1]+=L;if(t[Y+2>>1]==0&&b[j]==b[n]){if(b[j]==1){z[n]=0;
P.push(n)}if(b[j]==2){z[j]=0;P.push(j)}}}while(!P.Ky()){var j=P.pop(),S=b[j],r=T[j]-1,i=S==1?4:0,a=0,V=0,G=1e9;
while(r!=-1){var n=s[r],$=r^4,y=r^i;if(b[n]==S&&t[y+2>>1]>0&&I.Ms._$t(n,X,l,z,s,O,m,f)+1<G){a=n;V=$;
G=f[n]+1}r=s[r+1]-1}if(V!=0){I.Ms.KV(a,V,j,b,z,f,m);continue}r=T[j]-1;while(r!=-1){var n=s[r],y=r^i;
if(b[n]==S){if(t[y+2>>1]>0){R.push(n)}if(z[n]==r+1){z[n]=0;P.push(n)}}r=s[r+1]-1}b[j]=0;R.remove(j)}}var p=[];
for(var e=0;e<c;e+=2){var j=C[e],n=C[e+1];if(b[j]==1&&b[n]!=1){p.push(e>>1)}if(b[n]==1&&b[j]!=1){p.push(c+e>>1)}}return{Mt:p,LU:B}};
I.Ms.KV=function(N,c,X,l,C,q,J){l[X]=l[N];C[X]=c+1;q[X]=q[N]+1;J[X]=J[N]};I.Ms._$t=function(N,c,X,l,C,q,J,Z){var W=N,s=l[N]-1,t=0;
while(s!=-1&&J[N]!=q){N=C[s^4];s=l[N]-1;t++}if(s==-1&&N!=c&&N!=X)return 1e9;var T=Z[N]+t;t=0;s=l[W]-1;
while(W!=N){Z[W]=T-t;t++;J[W]=q;W=C[s^4];s=l[W]-1}return T};I.Ms._KL=function(N,c,X,l,C,q){var J=I.Ms.Ki(N,c,X,l,C,q),Z=J.Mo,W=J.GE,s=J.G_,t=0,T=0,g=new Uint32Array(N*2),R=new I.Ms.KJ(N),P=0;
while(!0){R.reset();R.push(X);for(var O=0;O<N;O++)g[O<<1]=0;while(!R.Ky()){var b=R.pop(),z=s[b]-1;while(z!=-1){P=Z[z];
if(g[P<<1]==0&&W[z+2>>1]>0&&P!=X){g[P<<1]=b+1;g[(P<<1)+1]=z;R.push(P)}z=Z[z+1]-1}if(g[l<<1]!=0){break}}if(g[l<<1]==0){break}var m=1e30;
P=l;while(!0){var f=g[P<<1]-1;if(f==-1)break;var B=g[(P<<1)+1];m=Math.min(m,W[B+2>>1]);P=f}P=l;while(!0){var f=g[P<<1]-1;
if(f==-1)break;var B=g[(P<<1)+1],K=B^4;W[B+2>>1]-=m;W[K+2>>1]+=m;P=f}t+=m}var j=[];for(var O=0;O<c;O+=2){var f=C[O],P=C[O+1];
if((g[f<<1]!=0||f==X)&&g[P<<1]==0&&P!=X){j.push(O>>1)}if((g[P<<1]!=0||P==X)&&g[f<<1]==0&&f!=X){j.push(c+O>>1)}}return{Mt:j,LU:t}};
I.Ms.KJ=function(N){N|=N>>1;N|=N>>2;N|=N>>4;N|=N>>8;N|=N>>16;this.GT=new Uint32Array(N+1);this.GI=N;
this.GB=0;this.Gs=0};I.Ms.KJ.prototype={push:function(N){var c=this.Gs;this.GT[c]=N;this.Gs=c+1&this.GI},pop:function(){var N=this.GB,c=this.GT[N];
this.GB=N+1&this.GI;return c},Ky:function(){return this.GB==this.Gs},reset:function(){this.GB=0;this.Gs=0}};
I.Ms.Kj=function(N){N|=N>>1;N|=N>>2;N|=N>>4;N|=N>>8;N|=N>>16;this.GT=new Uint32Array(N+1);this.GK=new Uint32Array(N+1);
this.GI=N;this.GB=0;this.Gs=0};I.Ms.Kj.prototype={top:function(){return this.GT[this.GB]},_KC:function(){return this.GT[this.Gs]},push:function(N){if(this.GK[N]!=0)return;
this.GK[N]=this.Gs+1;var c=this.Gs;this.GT[c]=N;this.Gs=c+1&this.GI},pop:function(){var N=this.GB,c=this.GT[N];
this.GK[c]=0;this.GB=N+1&this.GI;return c},Ky:function(){return this.GB==this.Gs},remove:function(N){var c=this.GK[N]-1;
if(c==-1)return;this.GK[N]=0;if(c==this.GB){this.pop();return}var X=this.pop();this.GT[c]=X;this.GK[X]=c+1},KO:function(N){return N+this.GI+1&this.GI}};
I.Ms.KF=function(N,c,X){var l=I.Ms.se(N,c,X);if(c<l-1)I.Ms.KF(N,c,l-1);if(l<X)I.Ms.KF(N,l,X)};I.Ms.se=function(N,c,X){var l=N[c+X>>>1];
while(c<=X){while(N[c]<l)c++;while(N[X]>l)X--;if(c<=X){I.Ms.sn(N,c,X);c++;X--}}return c};I.Ms.sn=function(N,c,X){var l=N[c];
N[c]=N[X];N[X]=l};I.z={};I.z.clone=function(N){return{Gv:N.Gv.slice(0),l:N.l.slice(0)}};I.z.KN=function(N){if(N.length<6)return!0;
var c=N.length-4;for(var X=0;X<c;X+=2)if(!I.z.KY(N[X],N[X+1],N[X+2],N[X+3],N[X+4],N[X+5]))return!1;if(!I.z.KY(N[c],N[c+1],N[c+2],N[c+3],N[0],N[1]))return!1;
if(!I.z.KY(N[c+2],N[c+3],N[0],N[1],N[2],N[3]))return!1;return!0};I.z.KY=function(N,c,X,l,C,q){return(c-l)*(C-X)+(X-N)*(q-l)>=0};
I.z._sv=function(N){var c={},X=null,l=0,C={M:2,L:2,Q:4,C:6};for(var q=0;q<N.Gv.length;q++){var J=N.Gv[q];
if(J.charAt(0)=="#"){if(c[J]==null)c[J]={l:[],Gv:[]};X=c[J]}else if(J!="X"){X.Gv.push(J);var Z=C[J];
if(Z==null)Z=0;for(var W=0;W<Z;W++)X.l.push(N.l[l+W]);l+=Z}}return c};I.z._Ua=function(N){var c=[{type:6},{type:8,all:0}],X=N.l,l=N.Gv,C=0,q,J,Z=!0;
for(var W=0;W<l.length;W++){var s=l[W];if(s=="M"){if(q==null){q={type:0,length:0,GU:Z?1:-1,GL:2};c.push(q)}var t=new k(X[C],X[C+1]);
J={type:1,GC:t.clone(),t:t,GR:t.clone()};c.push(J);C+=2;Z=!1}if(s=="C"){var t=new k(X[C+4],X[C+5]),T=c[c.length-1],g;
if(l[W+1]=="Z"&&t.TA(J.t)){g=J}else{g={type:1,GC:t.clone(),t:t,GR:t.clone()};c.push(g)}T.GR=new k(X[C],X[C+1]);
g.GC=new k(X[C+2],X[C+3]);C+=6}if(s=="Z"){q.length=c.length-c.indexOf(q)-1;q=null}if(s=="X")Z=!0}if(q&&q.length==0)q.length=c.length-c.indexOf(q)-1;
return c};I.z.KM=function(N){var c={l:[],Gv:[]};for(var X=0;X<N.length;X++){if(N[X].type>5)continue;
var l=N[X].length;if(X==N.length-1)break;var C=N[X].type==3;I.z._sP(c,N,X+1,l,C);if(!C)c.Gv.push("Z");
X+=l}return c};I.z._sP=function(N,c,X,l,C){var q=c[X],J=null;N.l.push(q.t.x,q.t.y);N.Gv.push("M");for(var Z=X;
Z<X+l-1;Z++){q=c[Z];J=c[Z+1];if(q.GR.TA(q.t)&&J.GC.TA(J.t)){N.l.push(J.t.x,J.t.y);N.Gv.push("L")}else{N.l.push(q.GR.x,q.GR.y,J.GC.x,J.GC.y,J.t.x,J.t.y);
N.Gv.push("C")}}if(!C){q=c[Z];J=c[X];if(q.GR.TA(q.t)&&J.GC.TA(J.t)){N.l.push(J.t.x,J.t.y);N.Gv.push("L")}else{N.l.push(q.GR.x,q.GR.y,J.GC.x,J.GC.y,J.t.x,J.t.y);
N.Gv.push("C")}}};I.z._KZ=function(N){var c=N.l,X=[],l,C=0;for(var q=0;q<N.Gv.length;q++){var J=N.Gv[q];
if(J=="C"){l.push(c[C++],c[C++],c[C++],c[C++],c[C++],c[C++])}else if(J=="Z"){}else{l=[];if(J!="M"){l.push(J);
q++}l.push(c[C++],c[C++]);X.push(l)}}return X};I.z.KX=function(N,c,X,l){for(var C=0;C<N.length;C+=2){var q=N[C],J=N[C+1],Z=c[C],W=c[C+1];
X[C]=q+(Z-q)*l;X[C+1]=J+(W-J)*l}};I.z.Kp=function(N,c,X){for(var l=0;l<N.length;l+=2){var C=N[l],q=N[l+1];
X[l]=C*c.u+q*c.Mz+c.MD;X[l+1]=C*c.w+q*c.Mm+c.MM}};I.z.sX=function(N){var c=99999999999,X=-c,l=99999999999,C=-l;
for(var q=0;q<N.length;q+=2){var J=N[q],Z=N[q+1];c=Math.min(c,J);l=Math.min(l,Z);X=Math.max(X,J);C=Math.max(C,Z)}return new u(c,l,X-c,C-l)};
I.z.Ke=function(N,c){var X=Math.max(c.x,Math.min(c.x+c.h,N.x)),l=Math.max(c.y,Math.min(c.y+c.s,N.y)),C=N.x-X,q=N.y-l;
return Math.sqrt(C*C+q*q)};I.z.KW=function(N){if(N.BH())return new u(Math.floor(N.x),Math.floor(N.y),Math.ceil(N.h),Math.ceil(N.s));
var c=Math.floor(N.x),X=Math.ceil(N.x+N.h),l=Math.floor(N.y),C=Math.ceil(N.y+N.s);return new u(c,l,X-c,C-l)};
I.z.Kt=function(N){return I.z.KW(I.z.sX(N))};I.z.Kq=function(N){var c=N.x,X=N.y,l=N.x+N.h,C=N.y+N.s;
return{Gv:["M","L","L","L","L"],l:[c,X,l,X,l,C,c,C,c,X]}};I.z.concat=function(N,c,X){if(X==null)X=new Bh;
for(var l=0;l<c.l.length;l+=2){var C=c.l[l],q=c.l[l+1];N.l.push(C*X.u+q*X.Mz+X.MD);N.l.push(C*X.w+q*X.Mm+X.MM)}for(var l=0;
l<c.Gv.length;l++)N.Gv.push(c.Gv[l])};I.z.Kd=function(N){var c=N.l,X=[],l=[],C=0,q=0,J=0,Z=0,W=0,s=0,t=0,T=0,g=0;
for(var R=0;R<N.Gv.length;R++){var P=N.Gv[R];if(P=="M"){q=c[C];J=c[C+1];C+=2;l.push(P);X.push(q,J)}else if(P=="C"){Z=c[C];
W=c[C+1];s=c[C+2];t=c[C+3];T=c[C+4];g=c[C+5];C+=6;l.push(P);X.push(Z,W,s,t,T,g);q=T;J=g}else if(P=="Q"){Z=c[C];
W=c[C+1];s=c[C+2];t=c[C+3];C+=4;var O=Z-q,b=W-J,z=s-Z,m=t-W;l.push("C");X.push(q+2/3*O,J+2/3*b,Z+1/3*z,W+1/3*m,s,t);
q=s;J=t}else if(P=="L"){Z=c[C];W=c[C+1];C+=2;var f=Z-q,B=W-J;l.push("C");X.push(q,J,Z,W,Z,W);q=Z;J=W}else l.push(P)}return{Gv:l,l:X}};
I.z.Kg=function(N,c){var X=N.l,l=[],C=[],q=0,J=0,Z=0,W=0,s=0,t=0,T=0,g=0,R=0;for(var P=0;P<N.Gv.length;
P++){var O=N.Gv[P];if(O=="M"){J=X[q];Z=X[q+1];q+=2;C.push(O);l.push(J,Z)}else if(O=="C"){W=X[q];s=X[q+1];
t=X[q+2];T=X[q+3];g=X[q+4];R=X[q+5];q+=6;I.z.vE(J,Z,W,s,t,T,g,R,c,C,l,0);J=g;Z=R}else C.push(O)}return{Gv:C,l:l}};
I.z.vE=function(N,c,X,l,C,q,J,Z,W,s,t,T){var g=Math.sqrt((J-N)*(J-N)+(Z-c)*(Z-c)),R=Math.sqrt((J-C)*(J-C)+(Z-q)*(Z-q))+Math.sqrt((C-X)*(C-X)+(q-l)*(q-l))+Math.sqrt((X-N)*(X-N)+(l-c)*(l-c)),P=(g+R)/2;
if(P<=W){s.push("C");t.push(X,l,C,q,J,Z)}else{var O=0,b=0,z=0,m=0,f=0,B=0,K=0,j=0,S=0,r=0,n=0,o=0,y=0;
b=(N+X)/2;z=(c+l)/2;m=(X+C)/2;f=(l+q)/2;B=(C+J)/2;K=(q+Z)/2;j=(b+m)/2;S=(z+f)/2;r=(m+B)/2;n=(f+K)/2;
o=(j+r)/2;y=(S+n)/2;I.z.vE(N,c,b,z,j,S,o,y,W,s,t,T+1);I.z.vE(o,y,r,n,B,K,J,Z,W,s,t,T+1)}};I.z.__g=function(N,c){var X=c.slice(0),l=N.length/2,C=.553,q=[],J=[];
for(var Z=0;Z<l;Z++){var W=(Z+1)%l,s=N[2*Z]-N[2*W],t=N[2*Z+1]-N[2*W+1];J.push(Math.sqrt(s*s+t*t))}for(var Z=0;
Z<l;Z++){var T=(Z-1+l)%l,W=(Z+1)%l,g=c[Z],R=g+c[T],P=g+c[W];if(R!=0)X[Z]=Math.min(X[Z],J[T]*g/R);if(P!=0)X[Z]=Math.min(X[Z],J[Z]*g/P)}for(var Z=0;
Z<l;Z++){var W=(Z+1)%l,O=(Z+2)%l,b=X[Z],z=X[W],m=N[2*Z],f=N[2*Z+1],B=N[2*W],K=N[2*W+1],j=N[2*O],S=N[2*O+1],r=0,n=0,o=0,y=0;
if(J[Z]!=0){r=(B-m)/J[Z];n=(K-f)/J[Z]}if(J[W]!=0){o=(j-B)/J[W];y=(S-K)/J[W]}q.push(m+b*r,f+b*n,m+b*r,f+b*n,B-z*r,K-z*n);
q.push(B-z*r,K-z*n,B-z*r*(1-C),K-z*n*(1-C),B+z*o*(1-C),K+z*y*(1-C))}return q};I.vT=function(){};I.vT.vT=function(N,c,X){var l=N,C=c,q=X,J=1;
while(N.n()>110*110){var Z=I.a(N.n()*4);I.TP(X,Z,3);var W=I.Tw(Z,N),s=I.Tw(c,N);N=s.rect;c=s.Ml;X=I.a(N.n());
I.TR(W.Ml,X,3);J*=2}var t=Date.now(),T=I.vT.vI(N,c,X);if(J!=1){var t=Date.now(),g=I.a(N.n()*4);I.TP(T,g,3);
var R=H.r.kP([g,N],new Bh(l.h/N.h,0,0,l.s/N.s,0,0),!1);R.rect.x=l.x;R.rect.y=l.y;T=I.a(l.n());I.To(R.buffer,R.rect,T,l);
var t=Date.now();T=I.vT.vI(l,C,T)}return T};I.vT.vI=function(N,c,X){var l=N.h,C=N.s,q=N.h*N.s,J=new Uint8Array(q),Z=new Uint8Array(q),W=I.clone(c),s=I.clone(c),T,g,B=0,K=0,E=0;
for(var t=0;t<q;t++){if(X[t]==0){J[t]=0;Z[t]=0;s[(t<<2)+3]=0}else if(X[t]==255){J[t]=1;Z[t]=2;W[(t<<2)+3]=0}else{J[t]=0;
Z[t]=1;s[(t<<2)+3]=0}}for(var R=0;R<2;R++){var P=R==0?W:s,O=[],b=I.clone(P);for(var t=0;t<b.length;t+=4)if(b[t+3]==0){b[t]=b[t+1]=b[t+2]=0}var z=UPNG.quantize(b.buffer,6).plte;
for(var t=1;t<z.length;t++){var m=z[t].est;O.push({GP:m.q,Gh:[0,0,0,0],pm:0,pn:null,Gr:null,GS:0,Kk:0,Gf:null})}if(R==0)g=O;
else T=O}var f=new Float32Array(l*C*2);for(var j=0;j<C;j++)for(var S=0;S<l;S++){var t=j*l+S,r=t<<2,n=0,o=0,y=0,D=0;
if(S!=l-1){var R=t+1,x=R<<2;n=c[r]-c[x];o=c[r+1]-c[x+1];y=c[r+2]-c[x+2];D=n*n+o*o+y*y;f[t+t]=D;B+=D;
K++}if(j!=C-1){var A=t+l,e=A<<2;n=c[r]-c[e];o=c[r+1]-c[e+1];y=c[r+2]-c[e+2];D=n*n+o*o+y*y;f[t+t+1]=D;
B+=D;K++}}var U=B/K;for(var t=0;t<f.length;t++)f[t]=50*Math.exp(-.001*f[t]);var L=new Uint16Array(q),Y=new Uint16Array(q),i=Date.now();
while(!0){E++;if(T.length==0||g.length==0)break;I.vT._Zs(T,g,Y,L,c,J);if(T.length==0||g.length==0)break;
var a=[],V=[],K=0,G=Date.now(),Bt=0,Bq=0;for(var j=0;j<C;j++)for(var S=0;S<l;S++){var t=j*l+S,r=t<<2,$=J[t],p=Z[t];
if((p==0||p==2)&&(S==0||Z[t-1]==p)&&(S==l-1||Z[t+1]==p)&&(j==0||Z[t-l]==p)&&(j==C-1||Z[t+l]==p))continue;
if(S!=l-1){a.push(t,t+1);V.push(f[t+t],f[t+t])}if(j!=C-1){a.push(t,t+l);V.push(f[t+t+1],f[t+t+1])}var N=c[r]*(1/255),w=c[r+1]*(1/255),BX=c[r+2]*(1/255),Bn=I.vT.vB(g,L[t],N,w,BX),Be=I.vT.vB(T,Y[t],N,w,BX);
if(isNaN(Bn))throw"a";if(isNaN(Be))throw"b";if(p==0){Bn=0;Be=1e9}if(p==2){Bn=1e9;Be=0}a.push(q,t);V.push(Bn,0);
a.push(t,q+1);V.push(Be,0)}var BW=I.Ms.Kw(q+2,a.length,q,q+1,a,V,1e20);if(BW.Mt==null){console.log("no cut");
break}for(var t=0;t<BW.Mt.length;t++){var Bd=BW.Mt[t]<<1,Bg=0,sE=0,s_=0;if(Bd<a.length){Bg=a[Bd];sE=a[Bd+1];
s_=V[Bd]}else{sE=a[Bd];Bg=a[Bd+1];s_=V[Bd+1]}if(Bg==q&&J[sE]!=0){Bt++;J[sE]=0}if(sE==q+1&&J[Bg]!=1){Bq++;
J[Bg]=1}}if(Bt+Bq<=.02*q||E>5||Date.now()-i>500)break}var sT=I.a(q*4),sI=I.a(q);for(var t=0;t<c.length;
t+=4){if(J[t>>2]==0)continue;sT[t]=c[t];sT[t+1]=c[t+1];sT[t+2]=c[t+2];sT[t+3]=c[t+3];sI[t>>2]=255}return sI};
I.vT.vB=function(N,c,X,l,C){var q=0,J=N[c],Z=X-J.GP[0],W=l-J.GP[1],s=C-J.GP[2];if(J.pm==0||J.Kk<1e-20)q+=.99;
else{q+=J.GS*(1/Math.sqrt(J.Kk))*Math.exp(-.5*I.vT._Ky(Z,W,s,J.Gf))}var t=q>=1?0:-Math.log(q);if(isNaN(t)){console.log(q);
console.log(J);console.log(N);console.log(J.Kk,Math.sqrt(J.Kk),1/Math.sqrt(J.Kk));throw"e"}return t};
I.vT._Zs=function(N,c,X,l,C,q){for(var J=0;J<2;J++){var Z=J==0?c:N;for(var W=0;W<Z.length;W++){var s=Z[W];
s.pm=0;s.Gh=[0,0,0,0];s.Gr=[0,0,0,0,0,0,0,0,0]}}for(var W=0;W<C.length;W+=4){var t=C[W]*(1/255),T=C[W+1]*(1/255),g=C[W+2]*(1/255),Z,R;
l[W>>2]=I.vT.vK(c,t,T,g);X[W>>2]=I.vT.vK(N,t,T,g);if(q[W>>2]==0){Z=c;R=l[W>>2]}else{Z=N;R=X[W>>2]}var s=Z[R],P=s.Gr,O=s.GP;
s.pm++;var b=t-O[0],z=T-O[1],m=g-O[2];s.Gh[0]+=t;s.Gh[1]+=T;s.Gh[2]+=g;P[0]+=b*b;P[1]+=b*z;P[2]+=b*m;
P[3]+=z*b;P[4]+=z*z;P[5]+=z*m;P[6]+=m*b;P[7]+=m*z;P[8]+=m*m}for(var J=0;J<2;J++){var Z=J==0?N:c,f=0;
for(var W=0;W<Z.length;W++)f+=Z[W].pm;if(f==0)continue;for(var W=0;W<Z.length;W++){var s=Z[W],B=1/s.pm,K=s.pn=[];
s.GP=[s.Gh[0]*B,s.Gh[1]*B,s.Gh[2]*B];s.GS=s.pm/f;var b=s.Gh[0],z=s.Gh[1],m=s.Gh[2],j=[b*b,b*z,b*m,z*b,z*z,z*m,m*b,m*z,m*m],S=[];
for(var r=0;r<9;r++)S[r]=s.Gr[r]-j[r]*B;for(var r=0;r<9;r++)K[r]=s.Gr[r]*B;var n=I.KR.Kx(K);s.Kk=I.KR.Kk(n);
s.Gf=I.KR._Ie(I.KR.Tk(n))}}};I.vT.vK=function(N,c,X,l){var C=0,q=1e9;for(var J=0;J<N.length;J++){var Z=N[J].GP,W=c-Z[0],s=X-Z[1],t=l-Z[2],T=W*W+s*s+t*t;
if(T<q){q=T;C=J}}return C};I.vT._Ky=function(N,c,X,l){var C=N*l[0]+c*l[3]+X*l[6],q=N*l[1]+c*l[4]+X*l[7],J=N*l[2]+c*l[5]+X*l[8];
return C*N+q*c+J*X};I.v$=function(){};I.v$.sO=function(N,c,X,l,C){var q=X.h,J=X.s,Z=new Int32Array(q*J),W=0;
for(var s=0;s<q*J;s++)if(c[s]!=0){Z[s]=W;W++}else if(N[(s<<2)+3]<200){Z[s]=-2}else Z[s]=-1;if(W==0)return;
var t=new I.vG(W,W),T=new Float64Array(3*W),g=1/255,R=[-q,-1,1,q];for(var P=0;P<J;P++)for(var O=0;O<q;
O++){var b=P*q+O,s=Z[b],z=s*3,B=0,K=0;if(s==-1||s==-2)continue;var m=[],f=[];for(var j=0;j<4;j++){if(j==2){K=m.length;
m.push(0);f.push(s)}var S=b+R[j],r=Z[S];if(j==0&&P==0||j==1&&O==0||j==2&&O==q-1||j==3&&P==J-1||r==-2)continue;
B++;if(r==-1){T[z+0]+=N[4*S+0];T[z+1]+=N[4*S+1];T[z+2]+=N[4*S+2]}else{m.push(-1);f.push(r);if(c[b]==c[S]){T[z+0]+=N[4*b+0]-N[4*S+0];
T[z+1]+=N[4*b+1]-N[4*S+1];T[z+2]+=N[4*b+2]-N[4*S+2]}}}m[K]=B;t.sT(m,f)}var n=new Float64Array(3*W);for(var s=0;
s<q*J;s++)if(Z[s]!=-1){var o=Z[s],y=o*3;n[y]=N[4*s+0];n[y+1]=N[4*s+1];n[y+2]=N[4*s+2]}t._Be(n,T,l,C);
for(var s=0;s<q*J;s++){var o=Z[s];if(o==-1)continue;N[4*s+0]=Math.round(Math.max(0,Math.min(255,n[3*o+0])));
N[4*s+1]=Math.round(Math.max(0,Math.min(255,n[3*o+1])));N[4*s+2]=Math.round(Math.max(0,Math.min(255,n[3*o+2])))}};
I.rect={};I.rect.vU=function(N){var c=new u;for(var X=0;X<N.length;X++)c=c.vz(N[X]);return c};I.rect._KF=function(N,c){var X=I.rect.vU,l=new UnionFind(N.length),S=1e3,r=1e3;
for(var C=0;C<N.length;C++)for(var q=C+1;q<N.length;q++){if(!c)continue;var J=N[C],Z=N[q],g=1e9,R=1e9;
if(J.PD(Z)){l.link(C,q);continue}var W=J.x+J.h,s=J.y+J.s,t=Z.x+Z.h,T=Z.y+Z.s;if((W<Z.x||t<J.x)&&(s<Z.y||T<J.y))continue;
if(!(s<Z.y||T<J.y))g=Math.min(Math.abs(W-Z.x),Math.abs(J.x-t));if(!(W<Z.x||t<J.x))R=Math.min(Math.abs(s-Z.y),Math.abs(J.y-T));
var P=Math.min(g,R),O=Math.min(J.h,J.s,Z.h,Z.s);if(P<.3*O)l.link(C,q)}var b=[],z={};for(var C=0;C<N.length;
C++){var m=l.find(C),f=N[C];if(z[m]==null){z[m]=b.length;b.push([])}b[z[m]].push(f)}var B=[],K=[];for(var C=0;
C<b.length;C++){B.push(X(b[C]));var j=X(b[C]);j.KO=C;K.push(j)}K.sort(function(Y,E){return Math.max(E.s,E.h)-Math.max(Y.s,Y.h)});
var n=new NETXUS.RectanglePacker(S,r);while(!0){var o=!1;n.reset(S,r);for(var C=0;C<K.length;C++){var y=n.findCoords(K[C].h,K[C].s);
if(y){K[C].x=y.x;K[C].y=y.y}else{S=Math.floor(S*1.1);r=Math.floor(r*1.1);o=!0;break}}if(o)continue;break}for(var C=0;
C<b.length;C++){var D=K[C],x=D.KO,A=B[x],e=b[x],U=D.x-A.x,L=D.y-A.y;for(var q=0;q<e.length;q++)e[q].offset(U,L)}};
I.vC=function(){};I.vC.vZ=Math.floor(16*window.devicePixelRatio);I.vC.vR={};I.vC.vP=0;I.vC._Kz=function(N,c){var X=Math.round(I.vC.vZ*.5);
I.vC.vP=X;var l=document.createElement("canvas");l.width=l.height=X;var C=l.getContext("2d");C.font=X*1.5+"px monospace";
var q="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var J=0;J<q.length;J++){C.fillStyle="#"+I._z(c);C.fillRect(0,0,X,X);
C.fillStyle="#"+I._z(N);C.fillText(q[J],0,X);I.vC.vR[q[J]]=C.getImageData(0,0,X,X).data}};I.vC._KG=function(N,c,X){var l=0,C=0,q=4*I.vC.vZ;
for(var J=6;J>=0;J--){var Z=Math.pow(10,J);if(5*Z*N.o<=q){l=5*Z;C=10;break}if(2*Z*N.o<=q){l=2*Z;C=4;
break}if(1*Z*N.o<=q){l=1*Z;C=10;break}}var W=Math.ceil(l*N.o),s=I.a(W*I.vC.vZ*4);I.Tr(s,4278190080|X);
for(var J=0;J<I.vC.vZ;J++)I.vC.vf(s,4*J*W,c);for(var J=0;J<W;J++)I.vC.vf(s,4*((I.vC.vZ-1)*W+J),c);if(l==2)C=2;
if(l==5)C=5;if(l>1)for(var J=1;J<C;J++)I.vC._Kt(s,J*(W/C),W,(J&1)==1?.8:.7,c);return{GQ:s,step:l}};I.vC._Kt=function(N,c,X,l,C){var c=Math.round(c);
for(var q=Math.round(I.vC.vZ*l);q<I.vC.vZ-1;q++)I.vC.vf(N,4*(q*X+c),C)};I.vC.vf=function(N,c,X){N[c+0]=X>>16&255;
N[c+1]=X>>8&255;N[c+2]=X&255};I.vC._Cn=function(N,c,X){var l=c&255,C=c>>8&255,q=c>>16&255,z,m,f,B;c=Math.round(l*.6)<<16|Math.round(C*.6)<<8|Math.round(q*.6);
I.vC._Kz(Math.round(l*.8)<<16|Math.round(C*.8)<<8|Math.round(q*.8),X);var J=this._KG(N,c,X),Z=N.cR(0,0),W=N.cR(N.N.h,N.N.s),s=Math.floor(Z.x/J.step)*J.step,t=Math.ceil(W.x/J.step)*J.step,T=Math.floor(Z.y/J.step)*J.step,g=Math.ceil(W.y/J.step)*J.step,R=N.cP(s,T),P=N.cP(t,T),O=J.step*N.o,b=Math.ceil(O);
z=N.GA.data;m=new u(0,0,N.N.h,I.vC.vZ);f=new u(0,0,b,I.vC.vZ);B=new u(0,Math.round(I.vC.vZ*.08),I.vC.vP,I.vC.vP);
for(var K=0;K<(t-s)/J.step;K++){f.x=Math.round(R.x+K*O);I.TF(J.GQ,f,z,m,f);var j=(s+K*J.step).toString(10);
for(var S=0;S<j.length;S++){B.x=f.x+3+S*Math.round(I.vC.vP*.8);var r=I.vC.vR[j[S]];I.TF(r,B,z,m,B)}}var n=new Uint32Array(J.GQ.buffer),o=new Uint32Array(J.GQ.length);
for(var y=0;y<b;y++)for(var D=0;D<I.vC.vZ;D++){o[y*I.vC.vZ+D]=n[D*b+y]}J.GQ=new Uint8Array(o.buffer);
z=N.Gk.data;m=new u(0,0,I.vC.vZ,N.N.s);f=new u(0,0,I.vC.vZ,b);B=new u(Math.round(I.vC.vZ*.2),0,I.vC.vP,I.vC.vP);
for(var K=0;K<(g-T)/J.step;K++){f.y=Math.round(R.y+K*O);I.TF(J.GQ,f,z,m,f);var j=Math.abs(T+K*J.step).toString(10);
for(var S=0;S<j.length;S++){B.y=f.y+3+S*Math.round(I.vC.vP*1.15);var r=I.vC.vR[j[S]];I.TF(r,B,z,m,B)}}};
I.scale={};I.scale.vQ=document.createElement("canvas");I.scale.vA=I.scale.vQ.getContext("2d");I.scale._Kd=document.createElement("canvas");
I.scale._KR=I.scale._Kd.getContext("2d");I.scale.vp=function(N,c,X){var l=I.scale.vQ,C=I.scale.vA;l.width=c;
l.height=X;var q=C.createImageData(c,X),J=N.length;for(var Z=0;Z<J;Z++)q.data[Z]=N[Z];C.putImageData(q,0,0);
return C.createPattern(l,"repeat")};I.scale._Kx=function(N,c,X,l,C,q,J,Z){var W=I.scale.vw(N,X,l,C,q,J,Z);
I.TZ(W.data,c)};I.scale._vT=function(N,c,X,l,C,q,J,Z){var W=I.scale.vw(N,X,l,C,q,J,Z);I.Tx(W.data,c)};
I.scale.vw=function(N,c,X,l,C,q,J){var Z=I.scale.vQ,W=I.scale.vA;Z.width=c;Z.height=X;W.rect(0,0,c,X);
W.translate(q,J);W.scale(l,C);W.fillStyle=N;W.fill();return W.getImageData(0,0,c,X)};I.scale.vV=function(N,c,X,l,C,q,J){if(J<1)I.scale._v$(N,c,X,l,C,q,Math.round(1/J));
else I.scale._Rv(N,c,X,l,C,q,J)};I.scale.vc=function(N,c,X,l,C,q,J,Z){if(Z)Z=Z.vm(new u(0,0,c,X));N=new Uint32Array(N.buffer);
l=new Uint32Array(l.buffer);if(J<1)I.scale._R_(N,c,X,l,C,q,Math.round(1/J),Z);else I.scale._CN(N,c,X,l,C,q,J)};
I.scale._Rv=function(N,c,X,l,C,q,J){for(var Z=0;Z<X;Z++)for(var W=0;W<c;W++){var s=N[Z*c+W],t=Math.min(J,C-W*J),T=Math.min(J,q-Z*J);
for(var g=0;g<T;g++)for(var R=0;R<t;R++)l[(J*Z+g)*C+J*W+R]=s}};I.scale._v$=function(N,c,X,l,C,q,J){for(var Z=0;
Z<q;Z++)for(var W=0;W<C;W++){var s=0,t=Math.min(J,c-W*J),T=Math.min(J,X-Z*J);for(var g=0;g<T;g++)for(var R=0;
R<t;R++)s+=N[(J*Z+g)*c+(J*W+R)];l[Z*C+W]=Math.round(s/(t*T))}};I.scale._CN=function(N,c,X,l,C,q,J){for(var Z=0;
Z<X;Z++)for(var W=0;W<c;W++){var s=N[Z*c+W],t=Math.min(J,C-W*J),T=Math.min(J,q-Z*J);for(var g=0;g<T;
g++)for(var R=0;R<t;R++)l[(J*Z+g)*C+J*W+R]=s}};I.scale._R_=function(N,c,X,l,C,q,J,Z){var W=0,s=C,t=0,T=q;
if(Z){W=Math.floor(Z.x/J);s=Math.ceil((Z.x+Z.h)/J);t=Math.floor(Z.y/J);T=Math.ceil((Z.y+Z.s)/J)}for(var g=t;
g<T;g++)for(var R=W;R<s;R++){var P=0,O=0,b=0,z=0,m=Math.min(J,c-R*J),f=Math.min(J,X-g*J);for(var B=0;
B<f;B++)for(var K=0;K<m;K++){var j=N[(J*g+B)*c+J*R+K],S=j>>>24;P+=S;O+=S*(j>>>16&255);b+=S*(j>>>8&255);
z+=S*(j&255)}if(P!=0){var r=1/P;l[g*C+R]=P/(m*f)<<24|O*r<<16|b*r<<8|z*r}else l[g*C+R]=0}};I.G={};I.G._ZG=function(N,c,X){var l=128,C=0,q=X.h,J=X.s;
for(var Z=0;Z<J;Z++)for(var W=0;W<q;W++){if(N[C]>=l&&(W==0||N[C-1]<l||(W==q-1||N[C+1]<l)||(Z==0||N[C-q]<l)||(Z==J-1||N[C+q]<l)))c[C]=255;
C++}};I.G.vF=function(N,c,X,l,C,q,J,Z){if(C==null){C=0;q=0;J=X.h;Z=X.s}var W=X.h,s=X.s;c=new Uint8Array(c.buffer);
var t=new Uint32Array(c.buffer);for(var T=q;T<Z;T++){var g=T*W+C;for(var R=C;R<J;R++){if(N[g]>>7==1&&(T==0||N[g-W]>>7==0||(R==0||N[g-1]>>7==0)||(R==W-1||N[g+1]>>7==0)||(T==s-1||N[g+W]>>7==0))){t[g]=(R+T&4)==0?0:l;
c[(g<<2)+3]=255}g++}}};I.vH={};I.vH.vN=function(N,c,X){var l,C;if(X=="front"){l=N.rect.clone();C=I.vH._ZO}if(X=="union"){l=N.rect.vz(c.rect);
C=I.vH.vz}if(X=="difference"){l=c.rect.clone();C=I.vH._vQ}if(X=="intersection"){l=N.rect.vm(c.rect);
C=I.vH.vm}if(X=="xor"){l=N.rect.vz(c.rect);C=I.vH._BC}if(l.BH())return null;var q=I.a(l.n());I.Ty(c.channel,c.rect,q,l);
var J=I.a(l.n());I.Ty(N.channel,N.rect,J,l);C(J,q,q);var Z=I.Tg(q,l);if(Z.BH())return null;if(!Z.TA(l)){var W=I.a(Z.n());
I.Ty(q,l,W,Z);q=W;l=Z}return{channel:q,rect:l}};I.vH._ZO=function(N,c,X){for(var l=0;l<N.length;l++)X[l]=N[l]};
I.vH.vz=function(N,c,X){for(var l=0;l<N.length;l++)X[l]=Math.min(N[l]+c[l],255)};I.vH._vQ=function(N,c,X){for(var l=0;
l<N.length;l++)X[l]=Math.max(c[l]-N[l],0)};I.vH.vm=function(N,c,X){var l=1/255;for(var C=0;C<N.length;
C++)X[C]=N[C]*c[C]*l};I.vH._BC=function(N,c,X){var l=1/255;for(var C=0;C<N.length;C++)X[C]=Math.min(N[C]+c[C],255)-N[C]*c[C]*l};
I.vG=function(N,c){this.L=[];this.Gu=[0];this.Gp=[];this.If=[];this.Ga=[];this.rows=N;this.cols=c;this.Gi=!1};
I.vG.prototype.sT=function(N,c){var X=N.length,l=this.Gu.length-1;for(var C=0;C<X;C++){var q=N[C],J=c[C];
if(J==l){this.If.push(q);this.Ga.push(q==0?0:1/q)}else{this.L.push(q);this.Gp.push(J)}}this.Gu.push(this.L.length)};
I.vG.prototype.freeze=function(){if(this.Gi)return;this.Gi=!0;this.Gw=new Float64Array(this.L)};I.vG.prototype._vO=function(N,c){this.freeze();
var X=this.rows,l=this.Gw,C=this.Gu,q=this.Gp,J=this.Ga;for(var Z=0;Z<3500;Z++){var W=0;for(var s=0;
s<X;s++){var t=c[s],T=C[s],g=C[s+1];if(g-T==4)t-=l[T]*N[q[T]]+l[T+1]*N[q[T+1]]+l[T+2]*N[q[T+2]]+l[T+3]*N[q[T+3]];
else for(var R=T;R<g;R++)t-=l[R]*N[q[R]];N[s]=J[s]*t}}};I.vG.prototype._Be=function(N,c,X,l){var C=Date.now();
this.freeze();if(X==null)X=5e-7;if(l==null)l=1e9;var q=this.rows,J=q*3,Z=this.Gw,W=this.Gu,s=this.Gp,t=this.Ga;
while(!0){var T=0;for(var g=0;g<q;g++){var R=g*3,P=c[R],O=c[R+1],b=c[R+2],z=W[g],m=W[g+1];if(m-z==4){var f=Z[z],B=Z[z+1],K=Z[z+2],j=Z[z+3],S=s[z]*3,r=s[z+1]*3,n=s[z+2]*3,o=s[z+3]*3;
P-=f*N[S+0]+B*N[r+0]+K*N[n+0]+j*N[o+0];O-=f*N[S+1]+B*N[r+1]+K*N[n+1]+j*N[o+1];b-=f*N[S+2]+B*N[r+2]+K*N[n+2]+j*N[o+2]}else for(var y=z;
y<m;y++){var f=Z[y],S=s[y]*3;P-=f*N[S+0];O-=f*N[S+1];b-=f*N[S+2]}var D=t[g],x=N[R+0],A=N[R+1],e=N[R+2];
N[R+0]=D*P;N[R+1]=D*O;N[R+2]=D*b;T+=.4*Math.pow(N[R+0]-x,2)+.5*Math.pow(N[R+1]-A,2)+.1*Math.pow(N[R+2]-e,2);
if(isNaN(T)){console.log(D,t,N);throw"e"}}if(T/q<X||Date.now()>C+l)break}};I.vn={};I.vn.ve=function(N,c,X){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:N},Vrtc:{t:"doub",v:c},Cnty:{t:"bool",v:X}}}};
I.vn.vW={};I.vn.vW.Kw=function(N,c){var X=N.length;for(var l=0;l<X;l++){var C=0,q=Number.NEGATIVE_INFINITY;
for(var J=l;J<X;J++)if(Math.abs(N[J][l])>q){C=J;q=Math.abs(N[J][l])}I.vn.vW._CP(N,l,C);for(var J=l+1;
J<X;J++){if(N[l][l]==0)return 1;var Z=N[J][l]/N[l][l];for(var W=l;W<X+1;W++)N[J][W]-=N[l][W]*Z}}for(var J=X-1;
J>=0;J--){if(N[J][J]==0)return 1;var s=N[J][X]/N[J][J];c[J]=s;for(var W=J-1;W>=0;W--){N[W][X]-=N[W][J]*s;
N[W][J]=0}}return 0};I.vn.vW._BW=function(N,c){var X=[];for(var l=0;l<N;l++){X.push([]);for(var C=0;
C<c;C++)X[l].push(0)}return X};I.vn.vW._vd=function(N){for(var c=0;c<N.length;c++)console.log(JSON.stringify(N[c]))};
I.vn.vW._CP=function(N,c,X){var l=N[c];N[c]=N[X];N[X]=l};I.vn.vg=function(N,c,X){var l=N.length-1,C=I.vn.vW._BW(l+1,l+2);
for(var q=1;q<l;q++){C[q][q-1]=1/(N[q]-N[q-1]);C[q][q]=2*(1/(N[q]-N[q-1])+1/(N[q+1]-N[q]));C[q][q+1]=1/(N[q+1]-N[q]);
C[q][l+1]=3*((c[q]-c[q-1])/((N[q]-N[q-1])*(N[q]-N[q-1]))+(c[q+1]-c[q])/((N[q+1]-N[q])*(N[q+1]-N[q])))}C[0][0]=2/(N[1]-N[0]);
C[0][1]=1/(N[1]-N[0]);C[0][l+1]=3*(c[1]-c[0])/((N[1]-N[0])*(N[1]-N[0]));C[l][l-1]=1/(N[l]-N[l-1]);C[l][l]=2/(N[l]-N[l-1]);
C[l][l+1]=3*(c[l]-c[l-1])/((N[l]-N[l-1])*(N[l]-N[l-1]));I.vn.vW.Kw(C,X)};I.vn._PN=function(N,c,X,l){if(N<=c[0])return X[0];
if(N>=c[c.length-1])return X[c.length-1];var C=1;while(c[C]<N)C++;var q=c[C],J=c[C-1],Z=X[C],W=X[C-1],s=(N-J)/(q-J),t=l[C-1]*(q-J)-(Z-W),T=-l[C]*(q-J)+(Z-W),g=(1-s)*W+s*Z+s*(1-s)*(t*(1-s)+T*s);
return g};I.vn.$_=function(N,c,X,l){var C={GV:[N[0]],Gc:[c[0]],Gl:[]};l[0]=C;for(var q=1;q<N.length-1;
q++){C.GV.push(N[q]);C.Gc.push(c[q]);if(X[q]==!1){I.vn.vg(C.GV,C.Gc,C.Gl);C={GV:[N[q]],Gc:[c[q]],Gl:[]}}l[q]=C}C.GV.push(N[q]);
C.Gc.push(c[q]);I.vn.vg(C.GV,C.Gc,C.Gl);l[q]=C};I.vn.$T=function(N,c,X,l){if(N<=c[0])return X[0];if(N>=c[c.length-1])return X[c.length-1];
var C=1;while(c[C]<N)C++;var q=l[C-1];return I.vn._PN(N,q.GV,q.Gc,q.Gl)};I.vn.$I=function(N){var c={GV:[],Gc:[],GJ:[]};
for(var X=0;X<N.length;X++){c.GV[X]=N[X].v.Hrzn.v;c.Gc[X]=N[X].v.Vrtc.v;c.GJ[X]=N[X].v.Cnty?N[X].v.Cnty.v:!0}return c};
I.vn.$B=function(N,c){var X=I.vn.$I(N),l=[];I.vn.$_(X.GV,X.Gc,X.GJ,l);var C=[];for(var q=0;q<c;q++)C[q]=1/255*Math.max(0,Math.min(255,I.vn.$T(q*(255/(c-1)),X.GV,X.Gc,l)));
return C};I.vn._Lq=function(N,c,X){var l=Math.round(N.length/20),C=c-N.length,q=X?(N[l]-N[0])/l:0,J=X?N[0]-C*q:N[N.length-1],Z=[];
for(var W=0;W<C;W++)Z.push(J+W*q);return X?Z.concat(N):N.concat(Z)};I.vn.$K=function(N,c,X){var l=I.vn.$I(N),C=[];
I.vn.$_(l.GV,l.Gc,l.GJ,C);var q=new Uint8Array(c),J=c/256;for(var Z=0;Z<c;Z++)q[Z]=Math.max(0,Math.min(c-1,I.vn.$T(Z*J,l.GV,l.Gc,C)));
if(X){q[0]=0;if(q[1]>100)q[1]=.4*q[1];if(q[2]>150)q[1]=.7*q[2]}return q};I.vn.$v=function(N,c){var X=new Uint8Array(N.length);
for(var l=0;l<N.length;l++)X[l]=c[N[l]];return X};I.vn.$$=function(N,c,X){var l=d.S("canvas","");l.width=c;
l.height=X;var C=l.getContext("2d"),q=I.vn.$K(N,256);C.scale(c/255,X/255);C.fillStyle="#fff";C.fillRect(0,0,255,255);
C.fillStyle="#333";C.beginPath();C.moveTo(0,255);for(var J=0;J<q.length;J++)C.lineTo(J,255-q[J]);C.lineTo(255,255);
C.closePath();C.fill();return l.toDataURL()};I.style={};I.style.stroke=function(N,c,X,l){var C=X.h,q=X.s,J=new Float64Array(C*q);
I.style.$C(N,J,C,q);I.style.$U(c,X,J,X,l)};I.style.$U=function(N,c,X,l,C){var q=c.vm(l),J=q.h,Z=q.s;
C+=.5;var W=q.x-c.x,s=q.y-c.y,t=c.h,T=q.x-l.x,g=q.y-l.y,R=l.h;for(var P=0;P<Z;P++){var O=(P+g)*R+T,b=(P+s)*t+W;
for(var z=0;z<J;z++){var m=Math.max(0,Math.min(1,C-X[O+z]));N[b+z]=Math.round(m*255)}}};I.style._$b=function(N,c,X,l){for(var C=0;
C<X;C++)for(var q=0;q<c;q++){var J=C*c+q,Z=0,W=0,s=N[J];if(q==0||C==0){Z=N[J+1]-s;W=N[J+c]-s}else if(q==X-1||C==c-1){Z=s-N[J-1];
W=s-N[J-c]}else{Z=N[J+1]-N[J-1];W=N[J+c]-N[J-c]}if(Z!=0||W!=0){var t=1/Math.sqrt(Z*Z+W*W);Z*=t;W*=t}l[J+J]=Z;
l[J+J+1]=W}};I.style.$C=function(N,c,X,l){var C=I.style.$Z(N,X,l);for(var q=0;q<l;q++)for(var J=0;J<X;
J++){var Z=q*X+J,W=C[Z*2],s=C[Z*2+1],t=(q+s)*X+J+W;if(W==0&&s==0){c[Z]=0;continue}var T=Math.sqrt(W*W+s*s),g=N[t]*(1/255),R=1/T,P=Math.abs(W)*R,O=Math.abs(s)*R;
if(O>P){var b=O;O=P;P=b}c[Z]=T+I.style._Tv(P,O,g)}};I.style.$Z=function(N,c,X){var l=!0;for(var C=0;
C<N.length;C++)l=l&&(N[C]==0||N[C]==255);var q=new Int16Array(c*X*2);if(l)I.style._LO(N,q,c,X);else I.style._Tx(N,q,c,X);
return q};I.style._Tv=function(N,c,X){return(.5-X)*N;var l=c/N,C=0;if(X<=l)C=.5*(N+c)-Math.sqrt(2*N*c*X);
else if(X<=1-l)C=(.5-X)*N;else C=-.5*(N+c)+Math.sqrt(2*N*c*(1-X));return C};I.style._Tx=function(N,c,X,l){var C=X*l;
for(var q=0;q<C;q++)if(N[q]==0){c[q*2]=16383;c[q*2+1]=16383}for(var J=1;J<=l-1;J++){var q=J*X;for(var Z=0;
Z<=X-1;Z++)I.style.$r(c,N,X,q+Z<<1,-1);for(var Z=1;Z<=X-1;Z++)I.style.$h(c,N,X,q+Z<<1,-1);for(var Z=X-2;
Z>=0;Z--)I.style.$h(c,N,X,q+Z<<1,1)}for(var J=l-2;J>=0;J--){var q=J*X;for(var Z=0;Z<=X-1;Z++)I.style.$r(c,N,X,q+Z<<1,1);
for(var Z=1;Z<=X-1;Z++)I.style.$h(c,N,X,q+Z<<1,-1);for(var Z=X-2;Z>=0;Z--)I.style.$h(c,N,X,q+Z<<1,1)}};
I.style.$h=function(N,c,X,l,C){var q=(l>>>1)+C<<1,J=N[l],Z=N[l+1],W=N[q]+C,s=N[q+1],t=W*W+s*s,T=J*J+Z*Z;
if(s!=16383&&(J==16383||Math.sqrt(t)+(.5-c[(l>>>1)+s*X+W]*(1/255))<Math.sqrt(T)+(.5-c[(l>>>1)+Z*X+J]*(1/255)))){N[l]=W;
N[l+1]=s}};I.style.$r=function(N,c,X,l,C){var q=(l>>>1)+C*X<<1,J=N[l],Z=N[l+1],W=N[q],s=N[q+1]+C,t=W*W+s*s,T=J*J+Z*Z;
if(W!=16383&&(J==16383||Math.sqrt(t)+(.5-c[(l>>>1)+s*X+W]*(1/255))<Math.sqrt(T)+(.5-c[(l>>>1)+Z*X+J]*(1/255)))){N[l]=W;
N[l+1]=s}};I.style._LO=function(N,c,X,l){var C=X*l;for(var q=0;q<C;q++)if(N[q]==0){c[q*2]=16383;c[q*2+1]=16383}for(var J=1;
J<=l-1;J++){var q=J*X;for(var Z=0;Z<=X-1;Z++)I.style.$x(c,N,X,q+Z<<1,-1);for(var Z=1;Z<=X-1;Z++)I.style.$f(c,N,X,q+Z<<1,-1);
for(var Z=X-2;Z>=0;Z--)I.style.$f(c,N,X,q+Z<<1,1)}for(var J=l-2;J>=0;J--){var q=J*X;for(var Z=0;Z<=X-1;
Z++)I.style.$x(c,N,X,q+Z<<1,1);for(var Z=1;Z<=X-1;Z++)I.style.$f(c,N,X,q+Z<<1,-1);for(var Z=X-2;Z>=0;
Z--)I.style.$f(c,N,X,q+Z<<1,1)}};I.style.$f=function(N,c,X,l,C){var q=(l>>>1)+C<<1,J=N[l],Z=N[l+1],W=N[q]+C,s=N[q+1],t=W*W+s*s,T=J*J+Z*Z;
if(s!=16383&&(J==16383||t<T)){N[l]=W;N[l+1]=s}};I.style.$x=function(N,c,X,l,C){var q=(l>>>1)+C*X<<1,J=N[l],Z=N[l+1],W=N[q],s=N[q+1]+C,t=W*W+s*s,T=J*J+Z*Z;
if(W!=16383&&(J==16383||t<T)){N[l]=W;N[l+1]=s}};I.style._UQ=function(N,c,X,l,C){var q=X*l,J=(X+l+1)*1.01;
for(var Z=0;Z<q;Z++)if(N[Z]<=C)c[Z]=J;for(var W=1;W<X;W++)c[W]=Math.min(c[W],c[W-1]);for(var s=1;s<l;
s++){var Z=s*X;c[Z]=Math.min(c[Z],Math.min(c[Z-X]+1,c[Z-X+1]+Math.SQRT2));for(var W=1;W<X-1;W++){var t=c[++Z],T=Math.min(c[Z-1]+1,Math.min(c[Z-X-1]+Math.SQRT2,Math.min(c[Z-X]+1,c[Z-X+1]+Math.SQRT2)));
if(T<t)c[Z]=T}Z++;c[Z]=Math.min(c[Z],Math.min(c[Z-1]+1,Math.min(c[Z-X-1]+Math.SQRT2,c[Z-X]+1)))}for(var W=X-2;
W>=0;W--)c[W+q-X]=Math.min(c[W+q-X],c[W+q-X+1]);for(var s=l-2;s>=0;s--){var Z=s*X+X-1;c[Z]=Math.min(c[Z],Math.min(c[Z+X]+1,c[Z+X-1]+Math.SQRT2));
for(var W=X-2;W>=1;W--){var t=c[--Z],T=Math.min(c[Z+1]+1,Math.min(c[Z+X-1]+Math.SQRT2,Math.min(c[Z+X]+1,c[Z+X+1]+Math.SQRT2)));
if(T<t)c[Z]=T}Z--;c[Z]=Math.min(c[Z],Math.min(c[Z+1]+1,Math.min(c[Z+X]+1,c[Z+X+1]+Math.SQRT2)))}};I.style._Lj=function(N,c,X,l,C){var q=new Int32Array(X*l);
I.style._EY(N,q,X,l,C);I.style._$h(q,c,X,l)};I.style._EY=function(N,c,X,l,C){var q=new Int32Array(l);
for(var J=0;J<X;J++){var Z=X+l;for(var W=l-1;W>=0;W--){if(N[W*X+J]>C)Z=0;else Z++;q[W]=Z}Z=X+l;for(var W=0;
W<l;W++){if(N[W*X+J]>C)Z=0;else Z++;c[W*X+J]=Z<q[W]?-Z:q[W]}}};I.style._$h=function(N,c,X,l){var C=(X+l)*(X+l),q=new Float64Array(X),J=new Uint16Array(X);
for(var Z=0;Z<l;Z++){var W=Z*X,s=0;J[0]=0;q[0]=-C;q[1]=+C;for(var t=1;t<X;t++){var T=N[t+W]*N[t+W]+t*t,g=(T-(N[J[s]+W]*N[J[s]+W]+J[s]*J[s]))/(2*t-2*J[s]);
while(g<=q[s]){s--;g=(T-(N[J[s]+W]*N[J[s]+W]+J[s]*J[s]))/(2*t-2*J[s])}s++;J[s]=t;q[s]=g;q[s+1]=C}s=0;
for(var t=0;t<X;t++){while(q[s+1]<t)s++;var R=J[s]-t,P=N[J[s]+W],O=Z*X+t<<1;c[O]=R;c[O+1]=P}}};I.style._TS=function(N,c){for(var X=0;
X<N.length;X++){var l=N[X],C;if(l<5)C=!1;else C=I.style.Iu(X)<64+l*.5;var q=255*Math.sqrt(Math.sqrt(l/255));
N[X]=(1-c)*l+c*(C?q:0)}};I.style.Iu=function(N){N=N^61^N>>16;N=N+(N<<3);N=N^N>>4;N=N*668265261;N=N^N>>15;
return N&255};I.$a={};I.$a.$i=function(N,c,X){var l=N.canvas;if(l.width!=c||l.height!=X)d.jE(l,c,X,N)};
I.$a.$w=function(N,c,X,l,C,q){I.$a.$i(N,c,X);if(q==null)q=!1;var J=C.channel,Z=C.rect,W=!C.isEnabled;
c=Math.floor(c*d.V());X=Math.floor(X*d.V());if(c*X==0)return;var s=N.createImageData(c,X),t=s.data,T=1/c,g=1/X;
for(var R=0;R<X;R++)for(var P=0;P<c;P++){var O=R*c+P,b=O*4,z=Math.round(l.x+P*T*l.h),m=Math.round(l.y+R*g*l.s),f=0;
if(z<Z.x||z>=Z.x+Z.h||m<Z.y||m>=Z.y+Z.s)f=C.color;else f=J[(m-Z.y)*Z.h+(z-Z.x)];f=255*(255-C.Gy)+f*C.Gy>>>8;
if(q)f=170+Math.round(.4*(f-170));t[b]=f;t[b+1]=f;t[b+2]=f;t[b+3]=255}N.putImageData(s,0,0);if(W)I.$a.$H(N,c,X)};
I.$a._sl=function(N,c,X,l){N.fillStyle="#eeeeee";N.fillRect(.6*c,.6*X,c,X);N.lineWidth=1.5;var C=.65*c,q=.95*c,J=.65*X,Z=.95*X,W=.75*c,s=.85*c,t=.75*X,T=.85*X;
N.beginPath();N.moveTo(C,J);N.lineTo(q,J);N.lineTo(q,Z);N.lineTo(C,Z);N.lineTo(C,J);N.moveTo(W,t);N.lineTo(s,t);
N.lineTo(s,T);N.lineTo(W,T);N.lineTo(W,t);N.closePath();N.stroke()};I.$a._$k=function(N,c,X){var l,C,q;
c=Math.floor(d.V()*c);X=Math.floor(d.V()*X);l=Math.ceil(Math.min(c,X)*.4);C=c-l;q=X-l;N.scale(1/d.V(),1/d.V());
N.fillStyle="#eeeeee";N.fillRect(C,q,c,X);N.lineWidth=1;N.strokeRect(C+2.5,q+2.5,c-C-5,X-q-5);var J=N.createImageData(3,3);
I.Tr(J.data,4278190080);J.data[4*4]=J.data[4*4+1]=J.data[4*4+2]=238;N.putImageData(J,C+1,q+1);N.putImageData(J,c-4,q+1);
N.putImageData(J,C+1,X-4);N.putImageData(J,c-4,X-4)};I.$a.$l=function(N,c,X,l,C,q,J){I.$a.$i(N,c,X);
c=Math.floor(c*d.V());X=Math.floor(X*d.V());if(c*X==0)return;var Z=N.createImageData(c,X),W=Z.data,s=1/c,t=1/X,T=1/255;
I._Y(W,c,X,4);var g=q.x,R=q.x+q.h,P=q.y,O=q.y+q.s;for(var b=0;b<X;b++)for(var z=0;z<c;z++){var m=b*c+z,f=m*4,B=Math.round(l.x+z*s*l.h),K=Math.round(l.y+b*t*l.s);
if(B<g||B>=R||K<P||K>=O){}else{var j=W[f],S=W[f+1],r=W[f+2],n=W[f+3],o=(K-q.y)*q.h+(B-q.x)<<2;n=C[o+3]*T;
j=C[o+0]*n+j*(1-n);S=C[o+1]*n+S*(1-n);r=C[o+2]*n+r*(1-n);W[f]=j;W[f+1]=S;W[f+2]=r;W[f+3]=255}}N.putImageData(Z,0,0);
if(J)I.$a.$H(N,c,X)};I.$a._LU=function(N,c,X,l){I.$a.$i(N,c,X);N.fillStyle=I.$a.si(l.Clr.v);N.fillRect(0,0,c,X);
I.$a.$N(N,c,X)};I.$a._$i=function(N,c,X,l){I.$a.$i(N,c,X);N.fillStyle="#ffffff";N.fillRect(0,0,c,X);
N.fillStyle="#000000";N.font=""+X*.7+"px serif";N.fillText("T",(c-X*.43)/2,X*.75);N.fillText("T",(c-X*.43)/2,X*.75)};
I.$a._L$=function(N,c,X){I.$a.$i(N,c,X);N.clearRect(0,0,c,X);N.font=X*.7+"px serif";N.fillText(":(",(c-X*.43)/2,X*.7)};
I.$a._Br=function(N,c,X,l){I.$a.$i(N,c,X);var C=BP.get(l),q=BT.get(BP.names[C]).substring(0,3);N.fillStyle="#ffffff";
N.fillRect(0,0,c,X);N.fillStyle="#000000";N.font=X*.55+"px sans-serif";var J=N.measureText(q);N.fillText(q,(c-J.width)/2,X*.67);
N.fillRect(0,0,c,X*.1);N.fillRect(0,X*.9,c,X*.1)};I.$a._TG=function(N,c,X,l){I.$a.$i(N,c,X);var C=N.canvas.width,q=N.canvas.height,J=N.getImageData(0,0,C,q);
I.c.sp(l.Grad.v,new Uint8Array(J.data.buffer),new u(0,0,C,q),[1/C,0,0,1/q],C/2,q/2,!1,0,16711680,65280);
N.putImageData(J,0,0);I.$a.$N(N,c,X)};I.$a._sn=function(N,c,X,l,C){I.$a.$i(N,c,X);var q=N,J=_$.cg(l.Ptrn.v,C.add.Patt),Z=J.Gj;
I.$a.$l(N,c,X,Z,J.Ml,Z,!1);I.$a.$N(q,c,X)};I.$a.$H=function(N,c,X){N.strokeStyle="#bb0000";N.lineWidth=3;
N.beginPath();N.moveTo(c*.15,X*.15);N.lineTo(c*.85,X*.85);N.moveTo(c*.85,X*.15);N.lineTo(c*.15,X*.85);
N.closePath();N.stroke()};I.$a.$H=function(N,c,X){N.strokeStyle="#bb0000";N.lineWidth=3;N.beginPath();
N.moveTo(c*.15,X*.15);N.lineTo(c*.85,X*.85);N.moveTo(c*.85,X*.15);N.lineTo(c*.15,X*.85);N.closePath();
N.stroke()};I.$a.$N=function(N,c,X){N.fillStyle="#eeeeee";N.fillRect(0,X*.75,c,X*.25);N.beginPath();
N.moveTo(0,X*.75);N.lineTo(c,X*.75);N.moveTo(c*.1,X*.875);N.lineTo(c*.9,X*.875);N.moveTo(c*.65,X*.825);
N.lineTo(c*.65,X*.95);N.closePath();N.stroke()};I.$a.si=function(N){var c=I.c.si(N),X=Math.round(c.W)<<16|Math.round(c.d)<<8|Math.round(c.w);
return"#"+I._z(X)};I.D={};I.D.$z=function(N,c,X){var l=[],C=-1;for(var q=0;q<N.length;q++){var J=N[q];
if((J.type==0||J.type==3)&&J.GU!=-1)C++;if(J.type>5||J.type==0||J.type==3)continue;if(c!=null&&c.indexOf(C)==-1)continue;
if(X!=null&&X.indexOf(q)==-1)continue;l.push(J.GC.x);l.push(J.GC.y);l.push(J.t.x);l.push(J.t.y);l.push(J.GR.x);
l.push(J.GR.y)}return l};I.D.$D=function(N,c,X,l){var C=0,q=-1;for(var J=0;J<c.length;J++){var Z=c[J];
if((Z.type==0||Z.type==3)&&Z.GU!=-1)q++;if(Z.type>5||Z.type==0||Z.type==3)continue;if(X!=null&&X.indexOf(q)==-1)continue;
if(l!=null&&l.indexOf(J)==-1)continue;Z.GC.Cj(N[C],N[C+1]);Z.t.Cj(N[C+2],N[C+3]);Z.GR.Cj(N[C+4],N[C+5]);
C+=6}};I.D.$m=function(N,c,X,l){var C=I.D.$z(N,X,l);I.z.Kp(C,c,C);I.D.$D(C,N,X,l)};I.D._IQ=function(N,c,X,l){var C=I.D.$z(N,X,l);
I.sv.apply(c,C);I.D.$D(C,N,X,l)};I.D.__W=function(N,c){var X=I.D._TT(N,40);for(var l=0;l<X.length;l++)N[l]=X[l];
var C=I.D.$z(N);I.P.apply(c,C,I.z.sX(C));I.D.$D(C,N)};I.D._TT=function(N,c){var X=[];for(var l=0;l<N.length;
l++){var C=N[l];if(C.type>5){X.push(JSON.parse(JSON.stringify(C)));continue}var q=I.D.__m(N,l+1,C.length);
q=I.z.Kg(q,c);var J=I.D._Zf(q);l+=C.length;C=JSON.parse(JSON.stringify(C));C.length=J.length;X.push(C);
for(var Z=0;Z<J.length;Z++)X.push(J[Z])}return X};I.D.__m=function(N,c,X){var l={Gv:["M"],l:[]},C=N[c],q=N[c+X-1];
l.l.push(C.t.x,C.t.y);for(var J=1;J<X;J++){var Z=N[c+J-1],W=N[c+J];l.Gv.push("C");l.l.push(Z.GR.x,Z.GR.y,W.GC.x,W.GC.y,W.t.x,W.t.y)}l.Gv.push("C");
l.l.push(q.GR.x,q.GR.y,C.GC.x,C.GC.y,C.t.x,C.t.y);return l};I.D._Zf=function(N){var c=[],X=N.Gv,l=N.l,C=0,q=l.length;
c.push({type:2,GC:new k(l[q-4],l[q-3]),t:new k(l[0],l[1]),GR:new k(l[2],l[3])});for(var J=0;J<X.length-2;
J++){var Z=J*6+4;c.push({type:2,GC:new k(l[Z],l[Z+1]),t:new k(l[Z+2],l[Z+3]),GR:new k(l[Z+4],l[Z+5])})}return c};
I.D._Ut=function(N){for(var c=0;c<N.length;c++){if(N[c].type>5)continue;var X=N[c].length;if(!(X==4||X==6||X==8)){c+=X;
continue}for(var l=0;l<X;l++){var C=N[c+1+l],q=N[c+1+(l+1)%X],J=Math.min(C.t.x,q.t.x),Z=Math.min(C.t.y,q.t.y),W=0,s=0;
if(C.t.x<q.t.x){W=C.t.y-Z;s=W-(q.t.x-J)}else{W=q.t.y-Z;s=W-(C.t.x-J)}if(Math.abs(s)<.2*W)return W}}return-1};
I.D.$W=function(N,c){var X=null,l=-1;for(var C=0;C<N.length;C++){if(N[C].type>5)continue;var q=N[C].length;
if((N[C].type==0||N[C].type==3)&&N[C].GU!=-1)l++;if(c!=null&&c.indexOf(l)==-1)continue;if(C==N.length-1)break;
var J=N[C].type==3;if(X==null)X=I.D.$q(N,C+1,q,J);else{var Z=I.D.$q(N,C+1,q,J);if(c!=null||N[C].GU==0||N[C].GU==-1||N[C].GU==1){var W=Math.min(X.x,Z.x),s=Math.min(X.y,Z.y),t=Math.max(X.x+X.h,Z.x+Z.h),T=Math.max(X.y+X.s,Z.y+Z.s);
X.x=W;X.y=s;X.h=t-W;X.s=T-s}else if(N[C].GU==2)X=X;else if(N[C].GU==3)X=X.vm(Z)}C+=q}if(X==null||X.h<0||X.s<0)X=new u(0,0,0,0);
return X};I.D._Tr=new Float64Array(4);I.D.$q=function(N,c,X,l){var C=I.D._Tr;C[0]=1e30;C[1]=1e30;C[2]=-1e30;
C[3]=-1e30;var q=N[c+X-1];if(!l)I.D.$d(q.t.x,q.t.y,q.GR.x,q.GR.y,N[c].GC.x,N[c].GC.y,N[c].t.x,N[c].t.y,C);
for(var J=c;J<c+X-1;J++){var Z=N[J],W=N[J+1];if(Z.t.TA(Z.GR)&&W.GC.TA(W.t)){C[0]=Math.min(C[0],Math.min(Z.t.x,W.t.x));
C[1]=Math.min(C[1],Math.min(Z.t.y,W.t.y));C[2]=Math.max(C[2],Math.max(Z.t.x,W.t.x));C[3]=Math.max(C[3],Math.max(Z.t.y,W.t.y))}else I.D.$d(Z.t.x,Z.t.y,Z.GR.x,Z.GR.y,W.GC.x,W.GC.y,W.t.x,W.t.y,C)}return new u(C[0],C[1],C[2]-C[0],C[3]-C[1])};
I.D.$d=function(N,c,X,l,C,q,J,Z,W){var s=1e30,t=1e30,T=-1e30,g=-1e30,R=40,P=X-N,O=l-c,b=C-X,z=q-l,m=J-C,f=Z-q,B=1/R;
for(var K=0;K<R+1;K++){var j=K*B,S=N+j*P,r=c+j*O,n=X+j*b,o=l+j*z,y=C+j*m,D=q+j*f,x=S+j*(n-S),A=r+j*(o-r),e=n+j*(y-n),U=o+j*(D-o),L=x+j*(e-x),Y=A+j*(U-A);
if(L<s)s=L;if(Y<t)t=Y;if(L>T)T=L;if(Y>g)g=Y}W[0]=Math.min(W[0],s);W[1]=Math.min(W[1],t);W[2]=Math.max(W[2],T);
W[3]=Math.max(W[3],g)};I.D.$g=function(N){I.D.UT();var c=new paper.CompoundPath(N),X=I.D.UR(c);return X};
I.D.UE=function(N){var c=2,X=I.D.UU(N),l=!1,C=!1;for(var q=2;q<N.length;q++){var J=N[q].GU;if(J!=null){if(J==2||J==0)l=!0;
if(J==-1)C=!0}}if(C){var Z=I.z.KM(N);return{Go:Typr.U.pathToSVG({crds:Z.l,cmds:Z.Gv},c),GO:l?1:0}}if(l&&N.length<5e3&&X>1)N=I.D.U_(N);
var W=I.D.UP(N),Z=new paper.CompoundPath({fillRule:"nonzero"});for(var q=0;q<W.length;q++){var s=W[q][0],t=W[q][1];
if(!l){if(s.clockwise)s.reverse()}Z.addChild(s)}return{Go:Z.exportSVG({precision:c}).getAttribute("d"),GO:0}};
I.D.U_=function(N){I.D.UT();var c,X=I.D.UP(N),l=[];for(var C=0;C<X.length;C++){var q=X[C][0],J=X[C][1];
if(Math.abs(q.area)<1e-5)l.push(q);else if(c==null)c=q;else{c=c[J](q);c.remove()}}if(c==null)c=new paper.CompoundPath(l);
else{if(c.segments)c=new paper.CompoundPath(c);for(var C=0;C<l.length;C++){c.children.push(l[C])}}var Z=N.slice(0,2);
Z=Z.concat(I.D.UR(c));return Z};I.D.UT=function(){if(I.D.GF==null){var N=d.S("canvas");paper.setup(N);
I.D.GF=!0}};I.D._K_=function(N,c){I.D.UT();var X=[],l=I.D.UP(N),C=new paper.Path.Rectangle(new paper.Rectangle(c.x,c.y,c.h,c.s));
C.remove();C.fillColor=new paper.Color(1,0,0);for(var q=0;q<l.length;q++)if(C.intersects(l[q][0])||C.contains(l[q][0].segments[0].point))X.push(q);
return X};I.D.IB=function(N,c,X,l){I.D.UT();var C=X?{curves:!0,tolerance:l}:null,q=new paper.Point(c.x,c.y),J=I.D.UP(N);
for(var Z=J.length-1;Z>=0;Z--){var W=J[Z][0],s=W.hitTest(q,C);if(s!=null)return{MB:Z,GH:X?s.location.index:null}}return{MB:-1}};
I.D.UB=function(N,c){var X=[[],[],[]];for(var l=0;l<N.length;l++){var C=N[l];if(C.type>5||C.type==0||C.type==3)continue;
if(c.PH(C.t))X[0].push(l);if(c.PH(C.GC))X[1].push(l);if(c.PH(C.GR))X[2].push(l)}return X};I.D._Uz=function(N,c){var X=N.slice(0,2),l=null;
for(var C=2;C<N.length;C++){if(N[C].type==0||N[C].type==3){if(l!=null&&l.length==0){X.pop();if(N[C].GU==-1)N[C].GU=l.GU}l=N[C];
X.push(l)}else{if(c.indexOf(C)==-1)X.push(N[C]);else l.length--}}return X};I.D._Th=function(N,c){var X=N.slice(0,2),l=-1;
for(var C=2;C<N.length;C++){if((N[C].type==0||N[C].type==3)&&N[C].GU!=-1)l++;if(c.indexOf(l)==-1)X.push(N[C])}return X};
I.D._BQ=function(N,c){var X=N.slice(0,2),l=-1;for(var C=2;C<N.length;C++){if((N[C].type==0||N[C].type==3)&&N[C].GU!=-1)l++;
if(c.indexOf(l)!=-1)X.push(N[C])}return X};I.D._Zj=function(N){var c=0;for(var X=0;X<N.length;X++)if(N[X].type==0||N[X].type==3)c=X;
return N[c]};I.D.UU=function(N){var c=-1;for(var X=0;X<N.length;X++)if((N[X].type==0||N[X].type==3)&&N[X].GU!=-1)c++;
return c+1};I.D.UL=function(N,c){var X=-1;for(var l=0;l<N.length;l++)if((N[l].type==0||N[l].type==3)&&N[l].GU!=-1){X++;
if(X==c)return l}return-1};I.D._Pa=function(N,c){var X=-1;for(var l=0;l<N.length;l++)if((N[l].type==0||N[l].type==3)&&N[l].GU!=-1){if(l>=c)return X;
X++}return X};I.D._UY=function(N,c){var X=-1,l=0;for(var C=0;C<N.length;C++){if((N[C].type==0||N[C].type==3)&&N[C].GU!=-1)X++;
if(X==c)l++}return l};I.D.UR=function(N){var c=N.segments?[N]:N.children,X=[];for(var l=0;l<c.length;
l++){var C=c[l],q=C.segments,J=C.closed?0:3,Z=X.length,W=null;if(q.length<=1)continue;X.push({type:J,length:q.length,GU:0,GL:2});
for(var s=0;s<q.length;s++){var t=q[s],T=new k(t.handleIn.x,t.handleIn.y),g=new k(t.handleOut.x,t.handleOut.y),R=new k(t.point.x,t.point.y),P={type:J+1,GC:R.add(T),t:R,GR:R.add(g)};
if(W==null)W=P;X.push(P);if(s+1==q.length&&k.CO(W.t,P.t)<1e-5){X.pop();X[Z].length--;W.GC=P.GC;if(J==3)for(var O=Z;
O<X.length;O++)X[O].type-=3}}}return X};I.D.UP=function(N){I.D.UT();var c=[],X,l=new paper.Color(1,0,0);
for(var C=0;C<N.length;C++){if(N[C].type>5)continue;var q=N[C].length,J;if(C==N.length-1)break;var Z=N[C].type==3;
if(C==2){if(!I.D.US(N))J="subtract";else J="unite"}else{if(N[C].GU==0)J="exclude";if(N[C].GU==1)J="unite";
if(N[C].GU==2)J="subtract";if(N[C].GU==3)J="intersect"}if(N[C].GU!=-1)X=[];for(var W=0;W<q;W++){var s=N[C+1+W],t=s.GC.Co(s.t),T=s.GR.Co(s.t);
X.push([[s.t.x,s.t.y],[t.x,t.y],[T.x,T.y]])}if(N[C+1+q]==null||N[C+1+q].GU!=-1){var g=new paper.Path(X);
g.remove();g.closed=!Z;g.fillRule="evenodd";g.fillColor=l;c.push([g,J])}C+=q}return c};I.D._E$=function(N){for(var c=0;
c<N.length;c++){var X=N[c];if(X.t==null)continue;if(!X.t.TA(X.GC)||!X.t.TA(X.GR))return!1}return!0};
I.D._Rd=function(N){if(N.length<=5)return 0;var c=0,X=N.length-3-1;for(var l=0;l<X;l++){var C=N[3+l],q=N[3+l+1];
if(C.type==0||q.type==0)return 0;c+=(q.t.x-C.t.x)*(C.t.y+q.t.y)}c+=(N[3].t.x-N[3+X].t.x)*(N[3+X].t.y+N[3+1].t.y);
return-c*.5};I.D.US=function(N){if(N.length==2)return N[1].all==0;var c=N[2];if(N[1].all==1){if(c.GU==1||c.GU==3)return!0;
return!1}else{if(c.GU==1||c.GU==3||c.GU==0)return!0;return!1}};I.D._CS=0;I.D.Ux=0;I.D._PF=0;I.D._UL=function(N,c,X,l){var C=I._H,q=I.N;
C.width=X.h;C.height=X.s;if(!I.D.US(N))q.fillRect(0,0,X.h,X.s);var J=X.n();I.D._CS+=J;if(J>I.D.Ux){I.D.Ux=J}if(l!=null){var Z=!1;
for(var W=0;W<N.length;W++)if(N[W].GU==-1)Z=!0;if(!Z)N=I.D.U_(N)}var s=I.D.UU(N);for(var W=0;W<N.length;
W++){if(N[W].type>5)continue;var t=N[W].length;if(t==0)continue;if(W==N.length-1)break;var T=N[W].type==3;
if(W==2){if(!I.D.US(N))q.globalCompositeOperation="destination-out";else q.globalCompositeOperation="source-over"}else{var g;
if(N[W].GU==0)g="xor";if(N[W].GU==1)g="source-over";if(N[W].GU==2)g="destination-out";if(N[W].GU==3)g="source-in";
if(N[W].GU!=-1&&l==null)q.globalCompositeOperation=g}if(N[W].GU!=-1){q.beginPath();if(l){var R=l.strokeStyleLineWidth.v.val,P=l.strokeStyleLineAlignment.v.strokeStyleLineAlignment,O=l.strokeStyleLineCapType.v.strokeStyleLineCapType,b=l.strokeStyleLineJoinType.v.strokeStyleLineJoinType,z=l.strokeStyleMiterLimit.v,m=[],f=l.strokeStyleLineDashSet.v;
for(var B=0;B<f.length;B++)m.push(f[B].v.val*R);q.setLineDash(m);q.lineCap=["butt","round","square"][F.cF.cH.indexOf(O)];
q.lineJoin=["miter","round","bevel"][F.cF.join.indexOf(b)];q.lineWidth=F.cF.cN.indexOf(P)==1?R:R*=2;
q.miterLimit=z}}I.D._$j(q,N,W+1,t,-X.x,-X.y,T);if(T){}else q.closePath();if(N[W+1+t]==null||N[W+1+t].GU!=-1){if(l)q.stroke();
else q.fill("evenodd")}W+=t}if(X.BH())return;var K=q.getImageData(0,0,X.h,X.s);I.TR(K.data,c,3)};I.D._$j=function(N,c,X,l,C,q,J){var Z=c[X],W=null;
N.moveTo(Z.t.x+C,Z.t.y+q);for(var s=X;s<X+l-1;s++){Z=c[s];W=c[s+1];N.bezierCurveTo(Z.GR.x+C,Z.GR.y+q,W.GC.x+C,W.GC.y+q,W.t.x+C,W.t.y+q)}if(!J){Z=c[s];
W=c[X];N.bezierCurveTo(Z.GR.x+C,Z.GR.y+q,W.GC.x+C,W.GC.y+q,W.t.x+C,W.t.y+q)}};I.D.Uu=function(N,c,X){var l=[],C=X?4:1,q=!1;
if(c!=null)for(var J=0;J<c.length;J++)if(c[J]!=0){q=!0;break}if(c!=null&&q){var Z=I.z.__g(N,c),W=Z.length/6;
for(var J=0;J<W;J++){var s=J*6,t=(J-1+W)%W*6,T=Z[s],g=Z[s+1],R=Z[s+2],P=Z[s+3],O=Z[t+4],b=Z[t+5];l.push({type:C,GC:new k(O,b),t:new k(T,g),GR:new k(R,P)})}}else{for(var J=0;
J<N.length;J+=2){var z=new k(N[J],N[J+1]);l.push({type:C,GC:z.clone(),t:z.clone(),GR:z.clone()})}}return l};
I.D._$y=function(N,c){I.D.UT();var X=new paper.Path;X.remove();var l=N.length-1,C=Math.sqrt((N[l-1]-N[0])*(N[l-1]-N[0])+(N[l]-N[1])*(N[l]-N[1]))<3;
X.closed=C;for(var q=0;q<N.length;q+=2)X.add(new paper.Point(N[q],N[q+1]));X.simplify(c);var J=[{type:6},{type:8,all:0}];
J=J.concat(I.D.UR(X));return J};I.D.Ua={};I.D.Ua.Ui=function(N,c,X){var l=[{type:6},{type:8,all:0}],C=null;
l.push({type:X?3:0,GU:1,length:0,GN:0,GY:0,GL:1});if(c!=0){C=[];for(var q=0;q<N.length;q+=2)C.push(c)}l=l.concat(I.D.Uu(N,C,X));
l[2].length=l.length-3;return l};I.D.Ua._$w=function(N,c,X,l,C){var q=[],J=[],Z=.553,W=1,s=-1;q.push({type:1,GC:new k(0,Z),t:new k(0,0),GR:new k(0,-Z)});
C+=2;for(var t=0;t<C;t++){var T={type:1};if(t==0){T.t=new k(1,-1);T.GC=new k(1-Z,-1);T.GR=new k(1+Z,-1)}else{var g=-(t+2)*Math.PI/2,R=1+((t&1)==1?t-1:t),P=Math.sin(g),O=Math.cos(g);
W+=R*(P-O);s+=R*(O+P);T.t=new k(W,s);T.GC=new k(W+R*O*Z,s-R*P*Z);if((t&1)==1)R+=2;T.GR=new k(W-R*O*Z,s+R*P*Z)}var b={type:1,GC:new k(-T.GR.x,-T.GR.y),t:new k(-T.t.x,-T.t.y),GR:new k(-T.GC.x,-T.GC.y)};
q.push(T);if(t<C-2)J.push(b)}J.reverse();q=q.concat(J);var z=[{type:6},{type:8,all:0}];z.push({type:0,GU:1,length:q.length,GN:0,GY:0,GL:1});
z=z.concat(q);var m=new Bh(X/C,0,0,X/C,0,0);m.rotate(l);m.translate(N,c);I.D.$m(z,m);return z};I.D.Ua.Rect=function(N,c,X,l,C){var q=[N,c,N+X,c,N+X,c+l,N,c+l];
return I.D.Ua.Ui(q,C)};I.D.Ua._$a=function(N,c,X,l,C,q){var J=[],Z=2*Math.PI/C;for(var W=0;W<C;W++)J.push(Math.cos(W*Z),Math.sin(W*Z));
var s=new Bh(X,0,0,X,0,0);s.rotate(l);s.translate(N,c);I.z.Kp(J,s,J);return I.D.Ua.Ui(J,q)};I.D.Ua._$u=function(N,c,X,l,C,q,J){var Z=[],W=Math.PI/C;
for(var s=0;s<C*2;s++){var t=(s&1)==0?1:J;Z.push(t*Math.cos(s*W),t*Math.sin(s*W))}var T=new Bh(X,0,0,X,0,0);
T.rotate(l);T.translate(N,c);I.z.Kp(Z,T,Z);return I.D.Ua.Ui(Z,q)};I.D.Ua.Ul=function(N,c,X,l,C){var q=Math.sqrt((X-N)*(X-N)+(l-c)*(l-c));
C/=2;var J=[-C,0,C,0,C,q,-C,q],Z=new Bh(1,0,0,1,0,0);Z.rotate(Math.atan2(-l+c,X-N)+Math.PI/2);Z.translate(N,c);
I.z.Kp(J,Z,J);return I.D.Ua.Ui(J,0)};I.D.Ua.UJ=function(N,c,X,l){var C=[{type:6},{type:8,all:0}],T=.553;
C.push({type:0,GU:1,length:4,GN:0,GY:0,GL:1});var q=N,J=c,Z=N+X,W=c+l,N=(q+Z)/2,c=(J+W)/2,s=(q-Z)/2,t=(J-W)/2;
C.push({type:1,GC:new k(N-T*s,c-t),t:new k(N,c-t),GR:new k(N+T*s,c-t)});C.push({type:1,GC:new k(N+s,c-T*t),t:new k(N+s,c),GR:new k(N+s,c+T*t)});
C.push({type:1,GC:new k(N+T*s,c+t),t:new k(N,c+t),GR:new k(N-T*s,c+t)});C.push({type:1,GC:new k(N-s,c+T*t),t:new k(N-s,c),GR:new k(N-s,c-T*t)});
return C};I.D.Ua._Ek=function(N,c,X,l,C){var q=[{type:6},{type:8,all:0}];q.push({type:3,GU:1,length:5,GN:0,GY:0,GL:1});
var J=Math.min(l,C),Z=Math.max(l,C),W=(Z-J)/4,s=Math.cos(W/2),t=Math.sin(W/2),T=(4-s)/3,g=(1-s)*(3-s)/(3*t),R=T,P=-g,O=s,b=-t,z=new k(s,t),m=new k(T,g),f=new k(R,P),B=new k(O,b),K=new Bh;
K.rotate(W);q.push({type:4,GC:z.clone(),t:z.clone(),GR:m.clone()});q.push({type:4,GC:f.clone(),t:B.clone(),GR:B.clone()});
for(var j=0;j<3;j++){z=K.CM(z);m=K.CM(m);f=K.CM(f);B=K.CM(B);q[q.length-1].GR=m;q.push({type:4,GC:f.clone(),t:B.clone(),GR:B.clone()})}K.rotate(-Math.PI/2-W/2);
K.concat(new Bh(X,0,0,X,N,c));I.D.$m(q,K);return q};I.Uj={};I.Uj.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
I.Uj.Uo=function(N){var c=N.warpStyle.v.warpStyle;if(c=="warpNone")return!0;else if(c=="warpCustom"){var X=!1,l=N.customEnvelopeWarp.v.meshPoints.v.arr,C=l[0].arr,q=l[1].arr;
for(var J=0;J<4;J++)for(var Z=0;Z<4;Z++)if(C[J]!=C[Z*4+J]||q[J*4]!=q[J*4+Z])X=!0;return!X}else return N.warpValue.v==0&&N.warpPerspective.v==0&&N.warpPerspectiveOther.v==0};
I.Uj.a=function(N){var c={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(N){c.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:N.y}},Left:{t:"UntF",v:{type:"#Pxl",val:N.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:N.y+N.s}},Rght:{t:"UntF",v:{type:"#Pxl",val:N.x+N.h}}}};
c.uOrder={t:"long",v:4};c.vOrder={t:"long",v:4}}return c};I.Uj._LR=function(N,c,X,l){for(var C=0;C<N.length;
C+=2){var q=N[C],J=N[C+1],Z=(q-c.x)/c.h,W=(J-c.y)/c.s,s=(1-X)/2,t=1-s,T=s+Z*(t-s);W=.5+(W-.5)*T*2;var g=(1-l)/2,R=1-g,P=g+W*(R-g);
Z=.5+(Z-.5)*P*2;q=c.x+Z*c.h;J=c.y+W*c.s;N[C]=q;N[C+1]=J}};I.Uj.UF=function(N,c){var X=[],l=[];for(var C=0;
C<N.length;C+=2){X.push(N[C]);l.push(N[C+1])}var q=[];q.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:X});
q.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:l});c.warpStyle.v.warpStyle="warpCustom";c.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:q}}}}};
I.Uj.UH=function(N,c){if(c==null){var X=N.bounds.v,l=X.Left.v.val,C=X.Rght.v.val,q=X.Top.v.val,J=X.Btom.v.val;
c=new u(l,q,C-l,J-q)}if(c.BH())c.h=c.s=1;var Z=[],W=N.warpStyle.v.warpStyle;if(W=="warpCustom"){var s=N.customEnvelopeWarp.v.meshPoints.v.arr,t=s[0].arr,T=s[1].arr;
for(var g=0;g<16;g++)Z.push(t[g],T[g])}else Z=I.Uj.Uj(c,W,N.warpRotate.v.Ornt=="Hrzn",N.warpValue.v/100,N.warpPerspective.v/100,N.warpPerspectiveOther.v/100);
return Z};I.Uj.Uj=function(N,c,X,l,C,q){var J=I.P.a(N.x,N.y,N.h,N.s);if(c=="warpNone")return J;var Z=JSON.parse(JSON.stringify(N)),W=new Bh;
if(!X){W.translate(-N.x,-N.y);W.rotate(-Math.PI/2);W.translate(N.s,0);I.z.Kp(J,W,J);N=new u(0,0,N.s,N.h);
J=I.P.BR(J,!1)}I.Uj._$r(J,N,c,l,C,q);if(!X){J=I.P.BR(J,!0);N=Z;W.Tk();I.z.Kp(J,W,J)}if(l==0)I.Uj._LR(J,N,C,q);
else{var W=new Bh(1/N.h,0,0,1/N.s,-N.x,-N.y);W.translate(-.5,-.5);I.z.Kp(J,W,J);I.Uj._Lh(J,q,C);W.Tk();
I.z.Kp(J,W,J)}return J};I.Uj._$r=function(N,c,X,l,C,q){for(var J=0;J<4;J++){for(var Z=0;Z<4;Z++){var W=2*(4*J+Z),s=N[W]-c.x,t=N[W+1]-c.y,T=s,g=t;
if(l!=0){var R=c.h/2,P=c.s/2;T-=R;g-=P;var O=T,b=T,z=-P,m=P,f=Math.abs(l),B=Math.tan((1-f)*Math.PI/2),K=Math.sqrt(B*B+1),j=Math.atan2(1,B),S=T/R*j,r=R*K,n=R*K+c.s,o=Math.cos(j),y=Math.sin(j),D=I.Uj._Lr(o,y),x=I.Uj._LS(o,y),A=-B*R+D*r;
if(X=="warpArc"){O=Math.sin(S)*n;z=B*R-Math.cos(j)*n+P;b=Math.sin(S)*r;m=B*R-Math.cos(j)*r+P;if(Z==1||Z==2){O=Z==1?-x*n:x*n;
b=Z==1?-x*r:x*r;z=B*R+P-D*n;m=B*R+P-D*r}if(l<0){var e=O;O=b;b=e;e=z;z=-m;m=-e}}if(X=="warpArcLower"){if(Z==1||Z==2){b=Z==1?-x*r:x*r;
m=l<0?P-A:P+A}}if(X=="warpArcUpper"||X=="warpArch"||X=="warpBulge"){if(Z==1||Z==2){O=Z==1?-x*r:x*r;z=l<0?-P+A:-P-A}if(X=="warpArch"){b=O;
m=z+2*P}if(X=="warpBulge"){b=O;m=-z}}if(X=="warpFish"||X=="warpFlag"||X=="warpWave"){if(Z==1){z-=l*4*P;
m+=l*4*P}if(Z==2){z+=l*4*P;m-=l*4*P}if(X=="warpFlag"||X=="warpWave")z=m-2*P}if(X=="warpRise"){if(Z<2)z=-P+l*P*4;
m=z+2*P}var U=(g+P)/c.s;T=O+U*(b-O);g=z+U*(m-z);if(X=="warpWave"){if(J==0)g=-P;if(J==3)g=P;if(J==1||J==2)g=2*P*(J/3-.5)*(1/3)+g*(2/3)}if(X=="warpFisheye"){if((J==1||J==2)&&(Z==1||Z==2)){T=T+4*T*l;
g=g+4*g*l}}if(X=="warpInflate"){var L=2/3;if((J==1||J==2)&&(Z==1||Z==2)){T=T+.5*T*l;g=g+.5*g*l}else if(J==1||J==2)T=T+L*T*l;
else if(Z==1||Z==2)g=g+L*g*l}if(X=="warpSqueeze"){var L=2/3;if((J==1||J==2)&&(Z==1||Z==2)){if(l>0)T=T-L*T*l;
else g=g+L*g*l}else if(J==1||J==2)T=T-L*T*l;else if(Z==1||Z==2)g=g+L*g*l}if(X=="warpTwist"){if((J==1||J==2)&&(Z==1||Z==2)){var Y=l*Math.PI/2,K=1+Math.abs(l)*2,E=T*Math.cos(Y)-g*Math.sin(Y),i=T*Math.sin(Y)+g*Math.cos(Y);
T=E*K;g=i*K}}if(X=="warpShellLower"||X=="warpShellUpper"){if(X=="warpShellUpper"){J=3-J;g=-g}if(J>2||J==2&&(Z==0||Z==3)){if(l>0){var a=r+J/3*2*P;
T=Math.sin(S)*a;g=-B*R-P+Math.cos(S)*a;if(Z==1||Z==2){T=Z==1?-x*a:x*a;g=-B*R-P+D*a}}else{if((Z==1||Z==2)&&J==3){T=Z==1?-x*r:x*r;
g=B*R-D*r+P}else if(J==2){g=P-P*(2/3)*Math.cos(S);T=T+P*(2/3)*Math.sin(S)}}}if(X=="warpShellUpper"){J=3-J;
g=-g}}T+=R;g+=P}s=T,t=g;N[W]=s+c.x;N[W+1]=t+c.y}}};I.Uj._Lh=function(N,c,X){var l=[];for(var C=0;C<4;
C++)l.push(1-X+C/3*2*X);var q=[];for(var C=0;C<4;C++)q.push(1-c+C/3*2*c);var J=[0,0,0,0],Z=[0,0,0,0];
for(var W=0;W<4;W++)for(var C=0;C<4;C++){var s=2*(4*W+C),t=N[s],T=N[s+1];J[C]+=t/4;Z[C]+=T/4}for(var W=0;
W<4;W++)for(var C=0;C<4;C++){var g=l[C],s=2*(4*W+C),t=N[s],T=N[s+1],R=J[C],P=Z[C];N[s]=R+g*(t-R);N[s+1]=P+g*(T-P)}var O=N.slice(0);
for(var W=0;W<4;W++)for(var C=1;C<3;C++){var s=2*(4*W+C),t=N[s],T=N[s+1],b=s+(C==1?-2:2),z=N[b],m=N[b+1];
N[s]=t-z;N[s+1]=T-m}var f=N[0],B=N[1],K=N[8],j=N[9],S=N[16],r=N[17],n=N[24],o=N[25],y=N[6],D=N[7],x=N[14],A=N[15],e=N[22],U=N[23],L=N[30],Y=N[31],E=y-f,i=D-B,a=x-K,V=A-j,G=e-S,$=U-r,p=L-n,w=Y-o;
for(var W=0;W<4;W++){var BX=2*W*4,Bn=0,Be=0,BW=W==1?.33:.66,Bt=1-BW;if(W==0){Bn=E;Be=i}if(W==1){Bn=Bt*E+BW*-p;
Be=Bt*i+BW*-w}if(W==2){Bn=Bt*E+BW*-p;Be=Bt*i+BW*-w}if(W==3){Bn=-p;Be=-w}N[BX]=N[BX]+Bn/2;N[BX+1]=N[BX+1]+Be/2;
N[BX+6]=N[BX+6]-Bn/2;N[BX+7]=N[BX+7]-Be/2}for(var W=0;W<4;W++)for(var C=1;C<3;C++){var s=2*(4*W+C),t=N[s],T=N[s+1],b=s+(C==1?-2:2),z=N[b],m=N[b+1],g=2*W/3;
N[s]=z+g*t;N[s+1]=m+g*T}for(var W=1;W<3;W++)for(var C=1;C<3;C++){var s=2*(4*W+C),t=N[s],T=N[s+1],Bq=W==1?-8:-16,Bd=W==1?16:8,Bg=N[s+Bq],sE=N[s+Bq+1],s_=N[s+Bd],sT=N[s+Bd+1],g=W/3;
t=(1-g)*Bg+g*s_;T=(1-g)*sE+g*sT;N[s]=t;N[s+1]=T}I.z.KX(O,N,N,c)};I.Uj._Lr=function(N,c){return(4-N)*(1/3)};
I.Uj._LS=function(N,c){return(1-N)*(3-N)/(3*c)};I.raw={};I.raw._Lf=function(N){var c=N.width,X=N.height,l=new Float32Array(c*X),C=0,q=0,z=0;
I.raw._LQ(N,l);I.raw.UX(2,N,l,c,X);var J=c,Z=X;if(N.t50829){var W=N.t50829;C=W[1];q=W[0];J=W[3];Z=W[2]}if(N.t50719){var s=N.t50719;
C+=s[0]>>1<<1;q+=s[1]>>1<<1}if(N.t50720){var t=N.t50720;J=C+t[0];Z=q+t[1]}var T=J-C,g=Z-q,R=new Float32Array(T*g*3);
if(N.t277[0]!=1)throw"More than 1 sample per pixel!";var P=N.t33421,O=N.t33421;if(P.length!=2||P[0]!=2||P[1]!=2)throw"Unknown CFA pattern size";
var b=JSON.stringify(N.t33422);if(b=="[0,1,1,2]")z=0;else if(b=="[1,0,2,1]")z=1;else if(b=="[2,1,1,0]")z=2;
else if(b=="[1,2,0,1]")z=3;else throw"Unknown CFA pattern";for(var m=0;m<g;m+=2)for(var f=0;f<T;f+=2){var B=(m+q)*c+f+C,K=l[B-1],j=l[B],S=l[B+1];
B+=c;var r=l[B-1],n=l[B],o=l[B+1],y=(m*T+f)*3;if(z==0){R[y]=j;R[y+1]=K;R[y+2]=r;R[y+3]=j;R[y+4]=S;R[y+5]=o;
y+=T*3;R[y]=j;R[y+1]=n;R[y+2]=r;R[y+3]=j;R[y+4]=n;R[y+5]=o}else if(z==1){R[y]=K;R[y+1]=j;R[y+2]=n;R[y+3]=S;
R[y+4]=j;R[y+5]=n;y+=T*3;R[y]=K;R[y+1]=r;R[y+2]=n;R[y+3]=S;R[y+4]=o;R[y+5]=n}else if(z==2){R[y]=r;R[y+1]=K;
R[y+2]=j;R[y+3]=o;R[y+4]=S;R[y+5]=j;y+=T*3;R[y]=r;R[y+1]=n;R[y+2]=j;R[y+3]=o;R[y+4]=n;R[y+5]=j}else if(z==3){R[y]=n;
R[y+1]=j;R[y+2]=K;R[y+3]=n;R[y+4]=o;R[y+5]=S;y+=T*3;R[y]=n;R[y+1]=r;R[y+2]=K;R[y+3]=n;R[y+4]=o;R[y+5]=S}}I.raw.UX(3,N,R,T,g);
var D=N.t274[0],x=T,A=g;if(D==1){}else{if(D==6){x=g;A=T}else if(D==8){x=g;A=T}else throw"unknown orientation "+D;
var e=R.slice(0);for(var m=0;m<A;m++)for(var f=0;f<x;f++){var U=f,L=m;if(D==6){L=g-1-f;U=m}if(D==8){U=T-1-m;
L=f}var B=(L*T+U)*3,y=(m*x+f)*3;R[y]=e[B];R[y+1]=e[B+1];R[y+2]=e[B+2]}}return{Ml:R,Gz:x,GD:A}};I.raw.UM=function(N,c,X,l){var C=N.Ml,q=Math.round(C.length/3),J=Bo._CU(l[0],l[1]),Z=I.raw._Lk(X,J),W=I.KR.multiply(I.KR.Ku,Z),s=Math.pow(2,l[2]+(X.t50730?X.t50730[0]:0)),b,z,m,f,B,K,j,S,r;
W=I.KR.multiply(W,I.KR.KS(s,s,s));var t=BP.au("brit",[l[3],l[4],!1]),T=X.t50728,g=[T[1]/T[0],T[2]/T[0],T[0]/T[1],T[2]/T[1],T[0]/T[2],T[1]/T[2]],R=new Float64Array(1e3);
for(var P=0;P<1e3;P++)R[P]=I._e(P*(1/999));R[999]=1;var O=Date.now();for(var P=0;P<q;P++){var n=P<<2,o=n-P;
b=C[o];z=C[o+1];m=C[o+2];if(b==1||z==1||m==1){var y=Math.min(b,Math.min(z,m));if(y==b){z=Math.max(z,g[0]*b);
m=Math.max(m,g[1]*b)}else if(y==z){b=Math.max(b,g[2]*z);m=Math.max(m,g[3]*z)}else{b=Math.max(b,g[4]*m);
z=Math.max(z,g[5]*m)}}j=W[0]*b+W[1]*z+W[2]*m;S=W[4]*b+W[5]*z+W[6]*m;r=W[8]*b+W[9]*z+W[10]*m;if(j<0)j=0;
else if(j>1)j=1;if(S<0)S=0;else if(S>1)S=1;if(r<0)r=0;else if(r>1)r=1;j=R[~~(j*999)];S=R[~~(S*999)];
r=R[~~(r*999)];c[n]=t.Gm[~~(j*1023)];c[n+1]=t.GM[~~(S*1023)];c[n+2]=t.GG[~~(r*1023)]}};I.raw._LQ=function(N,c){var X=N.width,l=N.height,C=new Uint16Array(c.length),q=null,J=0,T=0,g=0;
I.raw._LA(N,C);I.raw.UX(1,N,C,X,l);if(N.t50712){q=N.t50712;J=q.length-1;if(q[J]>65535)throw"too big values"}var Z=N.t50713,W=N.t50714,s=N.t50715,t=N.t50716;
if(W==null)W=[0,0,0,0];if(Z==null||Z[0]+Z[1]!=4)W=[W[0],W[0],W[0],W[0]];var R=X,P=l;if(N.t50829){var O=N.t50829;
T=O[1];g=O[0];R=O[3];P=O[2]}s=new Float32Array(s?s:X);t=new Float32Array(t?t:l);var b=N.t50717[0];if(q)b=Math.min(b,q[J]);
var z=1/(b-W[0]),m=N.data,f=c.length;for(var B=g;B<P;B++){for(var K=T;K<R;K++){var j=B*X+K,S=C[j];if(q!=null){if(S>J)S=J;
S=q[S]}var r=W[0]+s[K-T]+t[B-g];c[j]=Math.max(0,Math.min(1,(S-r)/(b-r)))}}};I.raw._LA=function(N,c){var X=c.length,l=N.data,C=N.t258[0];
if(C!=16&&C!=14&&C!=12&&C!=10&&C!=8)throw"Unsupported Bits Per Sample:"+C;for(var q=0;q<X;q+=2){var J=0,Z=0,W=0;
if(C==16){J=q<<1;Z=l[J+1]<<8|l[J];W=l[J+3]<<8|l[J+2]}else if(C==14){var s=q*14,t=s>>>3,T=l[t]<<24|l[t+1]<<16|l[t+2]<<8|l[t+3];
if((s&7)==0){Z=T>>>18;W=T>>>4&16383}else{Z=T>>>14&16383;W=T&16383}}else if(C==12){J=q+(q>>>1);Z=l[J]<<4|l[J+1]>>4;
W=(l[J+1]&15)<<8|l[J+2]}else if(C==10){var s=q*10,t=s>>>3;if((s&7)==0){Z=(l[t]<<2|l[t+1]>>6)&1023;W=(l[t+1]<<4|l[t+2]>>4)&1023}else{Z=(l[t]<<6|l[t+1]>>2)&1023;
W=(l[t+1]<<8|l[t+2]>>0)&1023}}else if(C==8){J=q;Z=l[J];W=l[J+1]}c[q]=Z;c[q+1]=W}};I.raw.UX=function(N,c,X,l,C){var q=c["t"+[51008,51009,51022][N-1]],t=0;
if(q==null)return;var J=l*C,Z=_.Y,W=_.PE,s=new Uint8Array(q),T=_.Y(s,t);t+=4;for(var g=0;g<T;g++){var R=Z(s,t);
t+=4;var P=Z(s,t);t+=4;var O=Z(s,t);t+=4;var b=Z(s,t);t+=4;if(!1){}else if(R==1&&N==3){var z=t,m=Z(s,z);
z+=4;var f=W(s,z);z+=8;var B=W(s,z);z+=8;var K=W(s,z);z+=8;var j=W(s,z);z+=8;var S=W(s,z);z+=8;var r=W(s,z);
z+=8;z+=(m-1)*8*6;var n=W(s,z);z+=8;var o=W(s,z);z+=8;var y=n*l,D=o*C,x=Math.max(y,l-y),A=Math.max(D,C-D),e=Math.sqrt(x*x+A*A),U=1/e,L=X.slice(0);
for(var Y=0;Y<C;Y++)for(var E=0;E<l;E++){var i=(E+.5-y)*U,a=(Y+.5-D)*U,V=i*i+a*a,G=f+B*V+K*V*V+j*V*V*V,$=S*(2*i*a)+r*(V+2*i*i),p=r*(2*i*a)+S*(V+2*a*a),w=Math.floor(y+e*(G*i+$)),BX=Math.floor(D+e*(G*a+p)),Bn=(BX*l+w)*3,Be=(Y*l+E)*3;
X[Be]=L[Bn];X[Be+1]=L[Bn+1];X[Be+2]=L[Bn+2]}}else if(R==3&&N==3){var z=t,BW=W(s,z);z+=8;var Bt=W(s,z);
z+=8;var Bq=W(s,z);z+=8;var Bd=W(s,z);z+=8;var Bg=W(s,z);z+=8;var n=W(s,z);z+=8;var o=W(s,z);z+=8;var y=n*l,D=o*C,x=Math.max(y,l-y),A=Math.max(D,C-D),e=Math.sqrt(x*x+A*A),U=1/e;
for(var Y=0;Y<C;Y++)for(var E=0;E<l;E++){var i=(E+.5-y)*U,a=(Y+.5-D)*U,V=i*i+a*a,sE=1+(BW+(Bt+(Bq+(Bd+Bg*V)*V)*V)*V)*V,Be=(Y*l+E)*3;
X[Be]=sE*X[Be];X[Be+1]=sE*X[Be+1];X[Be+2]=sE*X[Be+2]}}else if(R==4&&N==1){var z=t,s_=Z(s,z);z+=4;var sT=Z(s,z);
z+=4;for(var sI=0;sI<J;sI++)if(X[sI]==s_)X[sI]=X[sI-2]+X[sI+2]>>1}else if(R==5&&N==1){var z=t,sB=Z(s,z);
z+=4;var ss=Z(s,z);z+=4;var sK=Z(s,z);z+=4;for(var sI=0;sI<ss;sI++){var sv=Z(s,z);z+=4;var s$=Z(s,z);
z+=4;var sI=sv*l+s$;X[sI]=X[sI-2]+X[sI+2]>>1}}else if(R==7&&N==1){var z=t,sU=_.Pu(s,z);z+=16;var sL=Z(s,z);
z+=4;var sC=Z(s,z);z+=4;var sZ=Z(s,z),sR=Z(s,z+4);z+=8;var sP=Z(s,z);z+=4;var sh=new Uint16Array(sP);
for(var sI=0;sI<sP;sI++)sh[sI]=_.Rc(s,z+2*sI);var sr=sU.h,sS=sU.s;for(var Y=0;Y<sS;Y+=sZ)for(var E=0;
E<sr;E+=sR){var sI=(sU.y+Y)*l+(sU.x+E);X[sI]=sh[X[sI]]}}else if(R==9&&N==2){var z=t,sU=_.Pu(s,z);z+=16;
var sL=Z(s,z);z+=4;var sC=Z(s,z);z+=4;var sZ=Z(s,z),sR=Z(s,z+4);z+=8;var sf=Z(s,z),sQ=Z(s,z+4);z+=8;
var sA=W(s,z),sk=W(s,z+8);z+=16;var su=W(s,z),sp=W(s,z+8);z+=16;var sa=Z(s,z);z+=4;if(sa!=1)throw"more than one map plane";
var sw=sf*sQ,sV=new Float32Array(sw);for(var sc=0;sc<sw;sc++)sV[sc]=_.Ps(s,z+sc*4);var sr=sU.h,sS=sU.s,sl=.9999*(sQ-1)/sr,sJ=.9999*(sf-1)/sS;
for(var Y=0;Y<sS;Y+=sZ)for(var E=0;E<sr;E+=sR){var sI=(sU.y+Y)*l+(sU.x+E),sj=E*sl,so=Y*sJ,sO=Math.floor(sj),sF=Math.floor(so),sH=sj-sO,sN=so-sF,Be=sF*sQ+sO,sz=sV[Be]*(1-sH)+sV[Be+1]*sH,sD=sV[Be+sQ]*(1-sH)+sV[Be+1+sQ]*sH,sm=sz*(1-sN)+sD*sN;
X[sI]=Math.min(1,X[sI]*sm)}}else console.log("Unknown opcode "+R+" in OpcodeList"+N+". Length: "+b);
t+=b}};I.raw._Lk=function(N,c){var X=Bo.LK(c),l=I.raw.UW(N,c),C=I.KR.Tk(l),q=Bo._vl(X,Bo.LK(Bo._vY)),J=I.KR.multiply(q,C);
return J};I.raw._$s=function(N){var c=N.t50728.slice(0),l=1;c.push(0);var X={x:.34567,y:.3585};do{var C=I.KR.Tk(I.raw.UW(N,X)),q=I.KR.KQ(C,c),J=Bo._vF(q);
l=Math.abs(X.x-J.x)+Math.abs(X.y-J.y);X=J}while(l>1e-7);return X};I.raw.UW=function(N,c){var X=Bo.LI(c),l=I.raw._vz,C=N.t50779?N.t50779[0]:0,q=l(N.t50721,N.t50722,N.t50778[0],C,X.Gb),J=l(N.t50723,N.t50724,N.t50778[0],C,X.Gb);
J=J||[1,0,0,0,1,0,0,0,1];var Z=N.t50727?[N.t50727[0],0,0,0,N.t50727[1],0,0,0,N.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return I.KR.multiply(I.KR.Kx(Z),I.KR.multiply(I.KR.Kx(J),I.KR.Kx(q)))};I.raw._vz=function(N,c,X,l,C){if(!N&&!c){return null}else if(N&&!c){return N}else if(C<X){return N}else if(C>l){return c}else{var q=(1/C-1/l)/(1/X-1/l),J=1-q,Z=[];
for(var W=0;W<9;W++)Z[W]=N[W]*q+c[W]*J;return Z}};var Bo={};Bo._vY={x:.34567,y:.3585};Bo.Ud=[{W:0,LE:.18006,L_:.26352,LT:-.24341},{W:10,LE:.18066,L_:.26589,LT:-.25479},{W:20,LE:.18133,L_:.26846,LT:-.26876},{W:30,LE:.18208,L_:.27119,LT:-.28539},{W:40,LE:.18293,L_:.27407,LT:-.3047},{W:50,LE:.18388,L_:.27709,LT:-.32675},{W:60,LE:.18494,L_:.28021,LT:-.35156},{W:70,LE:.18611,L_:.28342,LT:-.37915},{W:80,LE:.1874,L_:.28668,LT:-.40955},{W:90,LE:.1888,L_:.28997,LT:-.44278},{W:100,LE:.19032,L_:.29326,LT:-.47888},{W:125,LE:.19462,L_:.30141,LT:-.58204},{W:150,LE:.19962,L_:.30921,LT:-.70471},{W:175,LE:.20525,L_:.31647,LT:-.84901},{W:200,LE:.21142,L_:.32312,LT:-1.0182},{W:225,LE:.21807,L_:.32909,LT:-1.2168},{W:250,LE:.22511,L_:.33439,LT:-1.4512},{W:275,LE:.23247,L_:.33904,LT:-1.7298},{W:300,LE:.2401,L_:.34308,LT:-2.0637},{W:325,LE:.24792,L_:.34655,LT:-2.4681},{W:350,LE:.25591,L_:.34951,LT:-2.9641},{W:375,LE:.264,L_:.352,LT:-3.5814},{W:400,LE:.27218,L_:.35407,LT:-4.3633},{W:425,LE:.28039,L_:.35577,LT:-5.3762},{W:450,LE:.28863,L_:.35714,LT:-6.7262},{W:475,LE:.29685,L_:.35823,LT:-8.5955},{W:500,LE:.30505,L_:.35907,LT:-11.324},{W:525,LE:.3132,L_:.35968,LT:-15.628},{W:550,LE:.32129,L_:.36011,LT:-23.325},{W:575,LE:.32931,L_:.36038,LT:-40.77},{W:600,LE:.33724,L_:.36051,LT:-116.45}];
Bo.LI=function(N){var c=Bo.Ud,X=2*N.x/(1.5-N.x+6*N.y),l=3*N.y/(1.5-N.x+6*N.y),C=0,q=0,J=0;for(;J<31;
J++){C=l-c[J].L_-c[J].LT*(X-c[J].LE);if(J>0&&C<0){break}q=C}C/=Math.sqrt(1+c[J].LT*c[J].LT);q/=Math.sqrt(1+c[J-1].LT*c[J-1].LT);
var Z=q/(q-C),W=1e6/((c[J].W-c[J-1].W)*Z+c[J-1].W),s=X-((c[J].LE-c[J-1].LE)*Z+c[J-1].LE),t=l-((c[J].L_-c[J-1].L_)*Z+c[J-1].L_),T=Math.sqrt(1+c[J].LT*c[J].LT),g=1/T,R=c[J].LT/T,P=Math.sqrt(1+c[J-1].LT*c[J-1].LT),O=1/P,b=c[J-1].LT/P,z=(g-O)*Z+O,m=(R-b)*Z+b,f=Math.sqrt(z*z+m*m);
z/=f;m/=f;var B=(s*z+t*m)*-3e3;return{Gb:W,GX:B}};Bo._CU=function(N,c){var X=Bo.Ud,l=1e6/N,C=1;for(;
C<31;C++){if(l<X[C].W){break}}var q=(X[C].W-l)/(X[C].W-X[C-1].W),J=(X[C-1].LE-X[C].LE)*q+X[C].LE,Z=(X[C-1].L_-X[C].L_)*q+X[C].L_,W=Math.sqrt(1+X[C].LT*X[C].LT),s=1/W,t=X[C].LT/W,T=Math.sqrt(1+X[C-1].LT*X[C-1].LT),g=1/T,R=X[C-1].LT/T,P=(g-s)*q+s,O=(R-t)*q+t,b=Math.sqrt(P*P+O*O);
P/=b;O/=b;J+=P*c/-3e3;Z+=O*c/-3e3;return{x:1.5*J/(J-4*Z+2),y:Z/(J-4*Z+2)}};Bo._vF=function(N){var c=N[0]+N[1]+N[2];
return{x:N[0]/c,y:N[1]/c}};Bo.LK=function(N){return{x:N.x/N.y,y:1,Gn:(1-N.x-N.y)/N.y}};Bo._vl=function(N,c){var X=I.KR.Kx([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),l=[N.x,N.y,N.Gn,0],C=[c.x,c.y,c.Gn,0];
l=I.KR.KQ(X,l);C=I.KR.KQ(X,C);var q=C[0]/l[0],J=C[1]/l[1],Z=C[2]/l[2],W=I.KR.Kx([q,0,0,0,J,0,0,0,Z]),s=I.KR.Tk(X);
return I.KR.multiply(I.KR.multiply(s,W),X)};I.L$={};I.L$.L$=function(N,c,X){var l=N.h,C=N.s,q=1/l,J=l*C,Z=Date.now(),W=!1;
if(W)console.log("expand known",Date.now()-Z);Z=Date.now();var s=I.L$.LC(X,l,C,255),t=I.L$.LC(X,l,C,0),T=function(sL,sC){var sZ=sL<<2,sR=sC<<2;
return c[sZ]+c[sZ+1]+c[sZ+2]-(c[sR]+c[sR+1]+c[sR+2])};s.sort(T);t.sort(T);var g=I.a(J),R=I.a(J),P=[],O=new Uint32Array(l*C);
I.Tr(O,4294967295);for(var b=0;b<J;b++)if(X[b]==0)R[b]=255;else if(X[b]==255)g[b]=255;else{O[b]=P.length;
P.push(b)}if(W)console.log("Unknown:",P.length,s.length,t.length);if(W)console.log(Date.now()-Z);Z=Date.now();
var z=I.style.$Z(g,l,C),m=I.style.$Z(R,l,C),f=new Float32Array(P.length),B=new Float32Array(P.length),K=new Uint32Array(P.length),j=new Uint32Array(P.length),S=new Float32Array(P.length);
if(W)console.log("D trf",Date.now()-Z);Z=Date.now();for(var b=0;b<P.length;b++){var r=P[b],n=~~(r*q),o=r-n*l,y=z[r<<1],D=z[(r<<1)+1];
f[b]=1/Math.sqrt(y*y+D*D);var x=m[r<<1],A=m[(r<<1)+1];B[b]=1/Math.sqrt(x*x+A*A);var e=Math.floor(Math.random()*s.length),U=Math.floor(Math.random()*t.length);
K[b]=e;j[b]=U;S[b]=I.L$.LU(r,s[e],t[U],l,q,c,f[b],B[b],1e9)}var L=[-l,-1,1,l],Y=I.L$.LU;for(var E=0;
E<10;E++){var i=Math.pow(.5,E);for(var b=0;b<P.length;b++){var r=P[b],n=~~(r*q),o=r-n*l,a=f[b],V=B[b],G=S[b],e=K[b],U=j[b],Be=1;
for(var $=0;$<4;$++){if($==0&&n==0||$==1&&o==0||$==2&&o==l-1||$==3&&n==C-1)continue;var p=O[r+L[$]];
if(p==4294967295)continue;var w=K[p],BX=j[p];if(w==e&&BX==U)continue;var Bn=Y(r,s[w],t[BX],l,q,c,a,V,G);
if(Bn<G){G=Bn;e=w;U=BX}}for(var BW=0;BW<1;BW++){var Bt=~~(s.length*Be),Bq=~~(t.length*Be);Be*=.5;var Bd=Math.max(0,e-Bt),Bg=Math.min(e+Bt,s.length-1),sE=Math.max(0,U-Bq),s_=Math.min(U+Bq,t.length-1),sT=Bd+~~(Math.random()*(Bg-Bd)),sI=sE+~~(Math.random()*(s_-sE)),Bn=Y(r,s[sT],t[sI],l,q,c,a,V,G);
if(Bn<G){G=Bn;e=sT;U=sI}}S[b]=G;K[b]=e;j[b]=U}}if(W)console.log(Date.now()-Z);Z=Date.now();var sB=X.slice(0);
for(var b=0;b<P.length;b++)sB[P[b]]=~~(.5+255*I.L$.alpha(P[b],s[K[b]],t[j[b]],c));sB=I.LR._Ca(sB,c,new u(0,0,l,C),16,.01*.01);
if(W)console.log("guided filter",Date.now()-Z);Z=Date.now();for(var b=0;b<J;b++)if(X[b]==255||X[b]==0)sB[b]=X[b];
var ss=c.slice(0);for(var b=0;b<P.length;b++){var sK=P[b],e=s[K[b]],G=S[b],sv=sK<<2,s$=sB[sK],sU=(s$>=250?sK:e)<<2;
ss[sv]=c[sU];ss[sv+1]=c[sU+1];ss[sv+2]=c[sU+2]}I.TP(sB,ss,3);if(W)console.log(Date.now()-Z);Z=Date.now();
return ss};I.L$.LU=function(N,c,X,l,C,q,J,Z,W){var s=~~(N*C),t=N-s*l,T=~~(c*C),g=c-T*l,R=~~(X*C),P=X-R*l,O=Math.sqrt((t-g)*(t-g)+(s-T)*(s-T))*J,b=Math.sqrt((t-P)*(t-P)+(s-R)*(s-R))*Z,x=0;
if(O+b>=W)return 1e9;var z=N<<2,m=c<<2,f=X<<2,B=q[z],K=q[z+1],j=q[z+2],S=q[m],r=q[m+1],n=q[m+2],o=q[f],y=q[f+1],D=q[f+2];
if(S!=o||r!=y||n!=D){var A=S-o,e=r-y,U=n-D,L=B-o,Y=K-y,E=j-D,i=(L*A+Y*e+E*U)/(A*A+e*e+U*U);i=Math.max(0,Math.min(1,i));
var a=B-(i*S+(1-i)*o),V=K-(i*r+(1-i)*y),G=j-(i*n+(1-i)*D);x=Math.sqrt(a*a+V*V+G*G)}return x+O+b};I.L$.alpha=function(N,c,X,l){var C=N<<2,q=c<<2,J=X<<2,Z=l[C],W=l[C+1],s=l[C+2],t=l[q],T=l[q+1],g=l[q+2],R=l[J],P=l[J+1],O=l[J+2];
if(t==R&&T==P&&g==O)return 1;var b=t-R,z=T-P,m=g-O,f=Z-R,B=W-P,K=s-O,j=(f*b+B*z+K*m)/(b*b+z*z+m*m);return Math.max(0,Math.min(1,j))};
I.L$._Ls=function(N){};I.L$.LC=function(N,c,X,l){var C=[];for(var q=0;q<X;q++)for(var J=0;J<c;J++){var Z=q*c+J;
if(N[Z]==l&&(q!=0&&N[Z-c]!=l&&N[Z-c]!=255-l||q>1&&N[Z-c-c]!=l&&N[Z-c-c]!=255-l||q!=X-1&&N[Z+c]!=l&&N[Z+c]!=255-l||q<X-2&&N[Z+c+c]!=l&&N[Z+c+c]!=255-l||J!=0&&N[Z-1]!=l&&N[Z-1]!=255-l||J>1&&N[Z-1-1]!=l&&N[Z-1-1]!=255-l||J!=c-1&&N[Z+1]!=l&&N[Z+1]!=255-l||J<c-2&&N[Z+1+1]!=l&&N[Z+1+1]!=255-l))C.push(Z)}return C};
I.L$._EQ=function(N,c,X,l){var C=N.slice(0),q=Math.round((X+l)/400);for(var J=0;J<l;J++)for(var Z=0;
Z<X;Z++){var W=J*X+Z;if(N[W]==0||N[W]==255)continue;var s=c[W<<2],t=c[(W<<2)+1],T=c[(W<<2)+2],g=Math.max(0,Z-q),R=Math.min(Z+q+1,X),P=Math.max(0,J-q),O=Math.min(J+q+1,l);
for(var b=P;b<O;b++)for(var z=g;z<R;z++){var m=b*X+z;if(N[m]==0||N[m]==255){var f=c[m<<2]-s,B=c[(m<<2)+1]-t,K=c[(m<<2)+2]-T;
if(f*f+B*B+K*K<15){C[W]=N[m];b=O;break}}}}return C};I.LR={};I.LR._Es=function(N,c,X,l,C){var q=X.h,J=X.s,Z=q*J,W=I.LR.Lh,s=I.a(Z*4),t;
I.Tr(s,4294967295);var T=X,g=N,R=c,P=l;I.TP(N,s,0);t=I.Tw(s,X);t=I.Tw(t.Ml,t.rect);T=t.rect;P=l>>>2;
console.log(T,P);g=I.a(T.n());I.TR(t.Ml,g,0);I.TP(c,s,0);t=I.Tw(s,X);t=I.Tw(t.Ml,t.rect);R=I.a(T.n());
I.TR(t.Ml,R,0);var O=I.LR._Cp(g,R,T,P,C),b=O[0],z=O[1],m=new u(0,0,T.h*2,T.s*2);b=W(b,T,m,!0);b=W(b,m,X,!0);
z=W(z,T,m,!0);z=W(z,m,X,!0);var f=I.a(Z);for(var B=0;B<Z;B++)f[B]=Math.max(0,Math.min(255,Math.floor(.5+(b[B]*c[B]+255*z[B]))));
return f};I.LR.Lh=function(N,c,X,l){var C=X.h,q=X.s,J=c.h,Z=c.s,W=I.LR.sS,s=new Float32Array(C*q);for(var t=0;
t<Z;t++){var T=(t+t)*C;for(var g=0;g<J;g++){if(!0||g==0||t==0||g==J-1||t==Z-1)s[T]=s[T+1]=s[T+C]=s[T+C+1]=N[t*J+g];
else{s[T]=W(g+.25,t+.25,N,J,Z);s[T+1]=W(g+.75,t+.25,N,J,Z);s[T+C]=W(g+.25,t+.75,N,J,Z);s[T+C+1]=W(g+.75,t+.75,N,J,Z)}T+=2}}return s};
I.LR.sS=function(N,c,X,l,C){N-=.499999;c-=.499999;var q=Math.floor(N),J=Math.floor(c),Z=J*l+q,W=N-q,s=c-J,t=(1-s)*(1-W),T=(1-s)*W,g=s*(1-W),R=s*W;
if(X[Z]==null||X[Z+l+1]==null){console.log(N,c,l,C);throw"e"}return t*X[Z+0]+T*X[Z+1]+g*X[Z+l+0]+R*X[Z+l+1]};
I.LR._Cp=function(N,c,X,l,C){var q=X.h,J=X.s,Z=q*J,W=I.LR.Lk,s=I.LR.a,t=I.blur.Im,T=I.LR.Lu,c=W(c),N=W(N),g=s(Z);
t(c,g,X,l);var R=s(Z);t(N,R,X,l);var P=s(Z);T(c,c,P);t(P,P,X,l);var O=s(Z);T(c,N,O);t(O,O,X,l);var b=s(Z),z=s(Z);
for(var m=0;m<Z;m++){var f=g[m],B=R[m],K=P[m]-f*f,j=O[m]-f*B,S=j/(K+C),r=B-S*f;b[m]=S;z[m]=r}var n=s(Z);
t(b,n,X,l);var o=s(Z);t(z,o,X,l);return[n,o]};I.LR._Ca=function(N,c,X,l,C){var q=X.h,J=X.s,Z=q*J,W=I.LR.Lh,s=Date.now(),t=!1,T=X,g=N,R=c,P=l;
T=new u(0,0,q>>>2,J>>>2);P=l>>>2;g=I.LR._vS(N,q,J);R=I.LR._CJ(c,q,J);if(t)console.log(Date.now()-s);
s=Date.now();var O=I.LR._Co(g,R,T,P,C),b=O[0],z=O[1],m=O[2],f=O[3];if(t)console.log(Date.now()-s);s=Date.now();
var B=I.a(Z);for(var K=0;K<J;K++)for(var j=0;j<q;j++){var S=K*q+j,r=(K>>>2)*(q>>>2)+(j>>>2),n=S<<2,o=b[r]*c[n]+z[r]*c[n+1]+m[r]*c[n+2]+f[r]*255;
B[S]=Math.max(0,Math.min(255,~~(.5+o)))}if(t)console.log(Date.now()-s);s=Date.now();return B};I.LR._vS=function(N,c,X){var l=c>>>2,C=X>>>2,q=I.a(c*X);
for(var J=0;J<C;J++)for(var Z=0;Z<l;Z++)q[J*l+Z]=N[J*c+Z<<2];return q};I.LR._CJ=function(N,c,X){var l=c>>>2,C=X>>>2,q=I.a(c*X*4);
for(var J=0;J<C;J++)for(var Z=0;Z<l;Z++){var W=J*l+Z<<2,s=J*c+Z<<4;q[W]=N[s];q[W+1]=N[s+1];q[W+2]=N[s+2];
q[W+3]=N[s+3]}return q};I.LR._Co=function(N,c,X,l,C){var q=X.h,J=X.s,Z=q*J,W=I.LR.Lk,s=I.LR.a,t=I.blur.Im,T=I.LR.Lu,N=W(N),g=new I.IL(q*J);
I.TZ(c,g);var c=[W(g.W),W(g.d),W(g.w)],R=I.LR.__d(N,c,X,l,C),P=s(Z);t(N,P,X,l);var O=s(Z);T(c[0],N,O);
t(O,O,X,l);var b=s(Z);T(c[1],N,b);t(b,b,X,l);var z=s(Z);T(c[2],N,z);t(z,z,X,l);var m=s(Z),f=s(Z),B=s(Z),K=s(Z);
for(var j=0;j<Z;j++){var S=P[j],r=R.Ge[j],n=R.GW[j],o=R.Gt[j],y=O[j]-r*S,D=b[j]-n*S,x=z[j]-o*S;m[j]=R.Gq[j]*y+R.Gd[j]*D+R.Gg[j]*x;
f[j]=R.Gd[j]*y+R.bE[j]*D+R.b_[j]*x;B[j]=R.Gg[j]*y+R.b_[j]*D+R.bT[j]*x;K[j]=S-m[j]*r-f[j]*n-B[j]*o}t(m,m,X,l);
t(f,f,X,l);t(B,B,X,l);t(K,K,X,l);return[m,f,B,K]};I.LR.__d=function(N,c,X,l,C){var q=X.h,J=X.s,Z=q*J,W=I.LR.a,s=I.blur.Im,t=I.LR.Lu,T={};
T.Ge=W(Z);s(c[0],T.Ge,X,l);T.GW=W(Z);s(c[1],T.GW,X,l);T.Gt=W(Z);s(c[2],T.Gt,X,l);var g=W(Z);t(c[0],c[0],g);
s(g,g,X,l);var R=W(Z);t(c[0],c[1],R);s(R,R,X,l);var P=W(Z);t(c[0],c[2],P);s(P,P,X,l);var O=W(Z);t(c[1],c[1],O);
s(O,O,X,l);var b=W(Z);t(c[1],c[2],b);s(b,b,X,l);var z=W(Z);t(c[2],c[2],z);s(z,z,X,l);T.Gq=g;T.Gd=R;T.Gg=P;
T.bE=O;T.b_=b;T.bT=z;for(var m=0;m<Z;m++){var f=T.Ge[m],B=T.GW[m],K=T.Gt[m],j=g[m]-f*f+C,S=R[m]-f*B,r=P[m]-f*K,n=O[m]-B*B+C,o=b[m]-B*K,y=z[m]-K*K+C,D=n*y-o*o,x=o*r-S*y,A=S*o-n*r,e=j*y-r*r,U=r*S-j*o,L=j*n-S*S,Y=D*j+x*S+A*r,E=1/Y;
T.Gq[m]=D*E;T.Gd[m]=x*E;T.Gg[m]=A*E;T.bE[m]=e*E;T.b_[m]=U*E;T.bT[m]=L*E}return T};I.LR.a=function(N){return new Float32Array(N)};
I.LR.Lk=function(N){var c=N.length,X=new Float32Array(c);for(var l=0;l<c;l++)X[l]=N[l]*(1/255);return X};
I.LR.Lu=function(N,c,X){for(var l=0;l<N.length;l++)X[l]=N[l]*c[l]};I.Lp={};I.Lp._vv=function(N,c,X,l,C){var q=I.Lp.Li(N.buffer,c,X).bI,J=Date.now(),Z=new Uint32Array(q.length);
for(var W=0;W<q.length;W++)Z[W]=q[W].Mz;var s=UPNG.quantize.getKDtree(new Uint8Array(Z.buffer),l),t=[c,1,-c,-1,c+1,-c+1,-c-1,c-1,c+c,2,-c-c,-2,c+c-1,c+c+1,c+2,-c+2,-c-c+1,-c-c-1,-c-2,c-2,c+c+2,-c-c+2-c-c-2,c+c-2],T=new Uint8Array(c*X),g=N;
for(var R=0;R<X;R++)for(var P=0;P<c;P++){var W=R*c+P<<2,O=g[W]*(1/255),b=g[W+1]*(1/255),z=g[W+2]*(1/255),m=g[W+3]*(1/255),f=I.Lp.Lw(s,O,b,z,m,C);
if(f==null){var B=[],K=0;while(K<20){var j=R*c+P+t[K]<<2,S=g[j]*(1/255),r=g[j+1]*(1/255),n=g[j+2]*(1/255),o=g[j+3]*(1/255),y=I.Lp.Lw(s,S,r,n,o,.005);
if(y!=null){if(B.indexOf(y)==-1){B.push(y);y.bB=1}else y.bB++}K++}B.sort(function(m,z){return z.bB-m.bB});
while(B.length!=0&&B[B.length-1].bB<3)B.pop();if(B.length==0)f=I.Lp.Lw(s,O,b,z,m,100);else if(B.length==1)f=B[0];
else if(B.length==2){var D=B[0],x=B[1],A=D.est.q,e=x.est.q,U=e[0]-A[0],L=e[1]-A[1],Y=e[2]-A[2],E=e[3]-A[3],i=O-A[0],a=b-A[1],V=z-A[2],G=m-A[3],$=U*U+L*L+Y*Y+E*E,p=i*i+a*a+V*V+G*G,w=(i*U+a*L+V*Y+G*E)/$,BX=p-w*w*$;
if(BX<.5)f=w<.5?D:x;else{f=I.Lp.Lw(s,O,b,z,m,100)}}else{var D=B[0],x=B[1],Bn=B[2],A=D.est.q,e=x.est.q,Be=Bn.est.q,BW=A[0]-Be[0],Bt=A[1]-Be[1],Bq=A[2]-Be[2],Bd=A[3]-Be[3],Bg=e[0]-Be[0],sE=e[1]-Be[1],s_=e[2]-Be[2],sT=e[3]-Be[3],sI=Be[0]-O,sB=Be[1]-b,ss=Be[2]-z,sK=Be[3]-m,sv=BW*BW+Bt*Bt+Bq*Bq+Bd*Bd,s$=BW*Bg+Bt*sE+Bq*s_+Bd*sT,sU=sI*BW+sB*Bt+ss*Bq+sK*Bd,sL=BW*Bg+Bt*sE+Bq*s_+Bd*sT,sC=Bg*Bg+sE*sE+s_*s_+sT*sT,sZ=sI*Bg+sB*sE+ss*s_+sK*sT,sR=1/(s$*sL-sv*sC),w=(sC*sU-sZ*s$)*sR,sP=(sZ*sv-sU*sL)*sR,sh=1-w-sP,sr=Math.max(w,sP,sh);
if(sr==w)f=D;else if(sr==sP)f=x;else f=Bn}}T[W>>2]=f.ind}return{bs:T,bI:s[1]}};I.Lp.Li=function(N,c,X){var l=[],C={},q=c-1,J=X-1,Z=0,W=new Uint32Array(N),s=[-c-1,-c,-c+1,-1,1,c-1,c,c+1,c+c,2,-c-c,-2,c+c-1,c+c+1,c+2,-c+2,-c-c+1,-c-c-1,-c-2,c-2,c+c+2,-c-c+2-c-c-2,c+c-2];
for(var t=1;t<J;t++)for(var T=1;T<q;T++){var g=t*c+T,R=W[g],P=!0;for(var O=0;O<8;O++)P=P&&W[g+s[O]]==R;
if(P){Z++;var b=C[R];if(b==null){C[R]=l.length;l.push({Mz:R,pm:1})}else l[b].pm++}}return{bI:l,bK:Z}};
I.Lp.Lw=function(N,c,X,l,C,q){var J=UPNG.quantize.getNearest(N[0],c,X,l,C);return I.Lp._CM(J,c,X,l,C)<q?J:null};
I.Lp._CM=function(N,c,X,l,C){var q=N.est.q,J=c-q[0],Z=X-q[1],W=l-q[2],s=C-q[3];return J*J+Z*Z+W*W+s*s};
I.Lp._Ly=function(N,c,X,l){var C=I.Lp._Kb(N,c,X,l),q=C.bs,J=C.bI,Z=C.bv,W=UPNG.quantize.getKDtree(new Uint8Array(Z.buffer.slice(0)),200),s=[];
for(var t=0;t<J.length;t++){var T=J[t].sB,g=T[0],R=T[1],P=T[2],O=T[3];if(Math.min(g,R,P,O)<0)throw"e";
var b=UPNG.quantize.getNearest(W[0],g/255,R/255,P/255,O/255);s.push(W[1].indexOf(b))}for(var t=0;t<c*X;
t++)q[t]=s[q[t]];return{bs:q,bI:W[1]}};I.Lp._Kb=function(N,c,X,l){var C=c*X,q=2*C,J=I.Lp._Kj(N,c,X),Z=65535+1,W=new Uint32Array(Z),T=0;
for(var s=0;s<q;s++)W[J[s]]++;var t=new Uint32Array(Z);for(var s=0;s<Z;s++){t[s]=T;T+=W[s]}var g=new Uint32Array(q);
for(var s=0;s<q;s++){var R=J[s];g[t[R]]=s;t[R]++}var P=new UnionFind(C),O=new Uint16Array(C),b=new Uint32Array(C);
for(var s=0;s<C;s++)b[s]=1;var z=C,m=1e5/(l*10);for(var f=0;f<q;f++){var B=g[f],K=J[B];if(K==65535)continue;
var s=B>>1,j=s+((B&1)==0?1:c),S=P.find(s),r=P.find(j),n=Math.min(O[S]+m/Math.sqrt(b[S]),O[r]+m/Math.sqrt(b[r]));
if(S!=r&&K<=n){P.link(s,j);z--;var o=P.find(s);b[o]=b[S]+b[r];O[o]=K}}var y=[],D={},x=new Uint16Array(C);
for(var s=0;s<C;s++){var o=P.find(s),A=D[o];if(A==null){D[o]=A=y.length;y.push({pm:0,sB:[0,0,0,0]})}y[A].pm++;
for(var j=0;j<4;j++)y[A].sB[j]+=N[(s<<2)+j];x[s]=A}var e=new Uint32Array(y.length);for(var s=0;s<y.length;
s++){var A=y[s];for(var j=0;j<4;j++)A.sB[j]=Math.round(A.sB[j]/A.pm);e[s]=A.sB[3]<<24|A.sB[2]<<16|A.sB[1]<<8|A.sB[0]}return{bs:x,bI:y,bv:e}};
I.Lp._Kj=function(N,c,X){var l=new Uint16Array(c*X*2);for(var C=0;C<X;C++)for(var q=0;q<c;q++){var J=C*c+q;
l[J+J]=q<c-1?I.Lp.Ly(N,J,J+1):65535;l[J+J+1]=C<X-1?I.Lp.Ly(N,J,J+c):65535}return l};I.Lp.Ly=function(N,c,X){var l=c<<2,C=X<<2,q=N[l],J=N[l+1],Z=N[l+2],W=N[l+3],s=N[C],t=N[C+1],T=N[C+2],g=N[C+3],R=q-s,P=J-t,O=Z-T,b=W-g;
return R*R+P*P+O*O+b*b>>2};var BO=function(){function N(){this.n=0;this.bL=0;this.bC={};this.bZ=[];this.bR=1e5;
this.bP=1e5;this.bh=-1;this.br=-1;this.color=0}function c(C){this.bS=C;this.bx=new Array(C);this.Mz=new Array(C*6);
this._$I=0;this.bA=new Array(C*2);this.alpha=new Array(C);this.bk=new Array(C);this.bu=new Array(C)}function X(C,q,J,Z){function W(z,m,C,q){return C[q*m+z]}function s(b){var r=C.length;
while(b<r&&C[b]==0)b++;return b<r?b:-1}function t(z,m,r){for(var b=2;b<5;b++){var n=0;for(var o=-b+1;
o<=b-1;o++){n+=W(z+o,m+b-1,C,q)==r?1:-1;n+=W(z+b-1,m+o-1,C,q)==r?1:-1;n+=W(z+o-1,m-b,C,q)==r?1:-1;n+=W(z-b,m+o,C,q)==r?1:-1}if(n>0)return 1;
else if(n<0)return 0}return 0}function T(r,P){var O=new N,z=r,m=P,n=0,o=1,y;O.color=C[P*q+r];O.sign=W(r,P,C,q)==O.color?"+":"-";
while(1){O.bZ.push(z,m);if(z>O.bh)O.bh=z;if(z<O.bR)O.bR=z;if(m>O.br)O.br=m;if(m<O.bP)O.bP=m;O.bL++;z+=n;
m+=o;O.n-=z*o;if(z==r&&m==P)break;var D=W(z+(n+o-1>>1),m+(o-n-1>>1),C,q)==O.color,x=W(z+(n-o-1>>1),m+(o+n-1>>1),C,q)==O.color;
if(x&&!D){if(Z.ba=="right"||Z.ba=="black"&&O.sign=="+"||Z.ba=="white"&&O.sign=="-"||Z.ba=="majority"&&t(z,m,O.color)||Z.ba=="minority"&&!t(z,m,O.color)){y=n;
n=-o;o=y}else{y=n;n=o;o=-y}}else if(x){y=n;n=-o;o=y}else if(!D){y=n;n=o;o=-y}}return O}var g=0,R=[];
while(!0){var g=s(g);if(g==-1)break;var P=Math.floor(g/q),O=T(g-P*q,P);for(var b=0;b<O.bZ.length-2;b+=2){var z=O.bZ[b],m=O.bZ[b+1],f=m*q+z;
if(z==O.bZ[b+2]&&m+1==O.bZ[b+3]&&C[f]!=0)BO.fill(f,C,q,0)}if(O.n>Z.bp)R.push(O)}for(var b=0;b<R.length;
b++)R[b].parent=-1;var B=Date.now();for(var b=1;b<R.length;b++){var K=R[b];for(var j=b-1;j>=0;j--){var S=R[j];
if(K.bR<S.bR||K.bh>S.bh||K.bP<S.bP||K.br>S.br)continue;if(!BO._ZR(S.bZ,K.bZ[0]+.5,K.bZ[1]+.5))continue;
K.parent=j;break}}return R}function l(C,q){function J(n,o,y,D,x){this.x=n;this.y=o;this.bw=y;this.bV=D;
this.bc=x}function Z(n,o){return(o+n)%o}function W(n,o,y,D){return n*D-y*o}function s(n,o,y,D){return n*y+o*D}function t(n,o,y){if(n<=y)return n<=o&&o<y;
else return n<=o||o<y}function T(n,o,y){var D=0;D+=o*n[0]*o;D+=o*n[1]*y;D+=o*n[2];D+=y*n[3]*o;D+=y*n[4]*y;
D+=y*n[5];D+=n[6]*o;D+=n[7]*y;D+=n[8];return D}function g(n,o,y){return o+n*(y-o)}function R(n,o,y,D){var x=Math.sign(y-n),A=-Math.sign(D-o);
return x*(y-n)-A*(D-o)}function P(n,o){return Math.sqrt(n*n+o*o)}function O(n,o,y,D,x){var A=1-n;return A*A*A*o+3*(A*A*n)*y+3*(n*n*A)*D+n*n*n*x}function b(n,o,y,D,x,A,e,U){var L=W(n,o,e,U),Y=W(y,D,e,U),E=W(x,A,e,U),i=L-2*Y+E,a=-2*L+2*Y,V=L,G=a*a-4*i*V;
if(i==0||G<0)return-1;var $=Math.sqrt(G),p=(-a+$)/(2*i),w=(-a-$)/(2*i);if(p>=0&&p<=1)return p;else if(w>=0&&w<=1)return w;
else return-1}function z(r){var S,n,o;r.bl=r.bZ[0];r.bJ=r.bZ[1];r.by=[];var y=r.by;y.push(new J(0,0,0,0,0));
for(S=0;S<r.bL;S++){n=r.bZ[S<<1]-r.bl;o=r.bZ[(S<<1)+1]-r.bJ;y.push(new J(y[S].x+n,y[S].y+o,y[S].bw+n*o,y[S].bV+n*n,y[S].bc+o*o))}}function m(r){var n=r.bL,o=r.bZ,y,D=new Array(n),x=new Array(n),A=new Array(4),e,U,L,Y,E,i,a,V,G,$,p,S,w,BX,Bn,Be,BW,Bt,Bq=0;
r.bj=new Array(n);for(S=n-1;S>=0;S--){if(o[S<<1]!=o[Bq<<1]&&o[(S<<1)+1]!=o[(Bq<<1)+1])Bq=S+1;x[S]=Bq}for(S=n-1;
S>=0;S--){var Bd=Z(S+1,n)<<1;A[0]=A[1]=A[2]=A[3]=0;y=(3+3*(o[Bd]-o[S<<1])+(o[Bd+1]-o[(S<<1)+1]))/2;A[y]++;
e=0;U=0;L=0;Y=0;Bq=x[S];BX=S;while(1){p=0;y=(3+3*Math.sign(o[Bq*2]-o[BX*2])+Math.sign(o[Bq*2+1]-o[BX*2+1]))/2;
A[y]++;if(A[0]&&A[1]&&A[2]&&A[3]){D[S]=BX;p=1;break}G=o[Bq*2]-o[S*2];$=o[Bq*2+1]-o[S*2+1];if(W(e,U,G,$)<0||W(L,Y,G,$)>0){break}if(Math.abs(G)<=1&&Math.abs($)<=1){}else{E=G+($>=0&&($>0||G<0)?1:-1);
i=$+(G<=0&&(G<0||$<0)?1:-1);if(W(e,U,E,i)>=0){e=E;U=i}E=G+($<=0&&($<0||G<0)?1:-1);i=$+(G>=0&&(G>0||$<0)?1:-1);
if(W(L,Y,E,i)<=0){L=E;Y=i}}BX=Bq;Bq=x[BX];if(!t(Bq,S,BX)){break}}if(p==0){a=Math.sign(o[Bq*2]-o[BX*2]);
V=Math.sign(o[Bq*2+1]-o[BX*2+1]);G=o[BX*2]-o[S*2];$=o[BX*2+1]-o[S*2+1];Bn=W(e,U,G,$);Be=W(e,U,a,V);BW=W(L,Y,G,$);
Bt=W(L,Y,a,V);w=1e7;if(Be<0){w=Math.floor(Bn/-Be)}if(Bt>0){w=Math.min(w,Math.floor(-BW/Bt))}D[S]=Z(BX+w,n)}}w=D[n-1];
r.bj[n-1]=w;for(S=n-2;S>=0;S--){if(t(S+1,D[S],w)){w=D[S]}r.bj[S]=w}for(S=n-1;t(Z(S+1,n),w,r.bj[S]);S--){r.bj[S]=w}}function f(r){function n(r,S,o){var x=r.bL,G=r.bZ,$=r.by,p,w,BX,Bn,Be,D,BW,Bt,V,Bq,Bd,Bg,sE,s_,sT=0;
if(o>=x){o-=x;sT=1}if(sT==0){p=$[o+1].x-$[S].x;w=$[o+1].y-$[S].y;Bn=$[o+1].bV-$[S].bV;BX=$[o+1].bw-$[S].bw;
Be=$[o+1].bc-$[S].bc;D=o+1-S}else{p=$[o+1].x-$[S].x+$[x].x;w=$[o+1].y-$[S].y+$[x].y;Bn=$[o+1].bV-$[S].bV+$[x].bV;
BX=$[o+1].bw-$[S].bw+$[x].bw;Be=$[o+1].bc-$[S].bc+$[x].bc;D=o+1-S+x}Bd=(G[S<<1]+G[o<<1])/2-G[0];Bg=(G[(S<<1)+1]+G[(o<<1)+1])/2-G[1];
s_=G[o<<1]-G[S<<1];sE=-(G[(o<<1)+1]-G[(S<<1)+1]);BW=(Bn-2*p*Bd)/D+Bd*Bd;Bt=(BX-p*Bg-w*Bd)/D+Bd*Bg;V=(Be-2*w*Bg)/D+Bg*Bg;
Bq=sE*sE*BW+2*sE*s_*Bt+s_*s_*V;return Math.sqrt(Bq)}var S,o,y,D,x=r.bL,A=new Array(x+1),e=new Array(x+1),U=new Array(x),L=new Array(x+1),Y=new Array(x+1),E=new Array(x+1),i,a,V;
for(S=0;S<x;S++){V=Z(r.bj[Z(S-1,x)]-1,x);if(V==S){V=Z(S+1,x)}if(V<S){U[S]=x}else{U[S]=V}}o=1;for(S=0;
S<x;S++){while(o<=U[S]){L[o]=S;o++}}S=0;for(o=0;S<x;o++){Y[o]=S;S=U[S]}Y[o]=x;y=o;S=x;for(o=y;o>0;o--){E[o]=S;
S=L[S]}E[0]=0;A[0]=0;for(o=1;o<=y;o++){for(S=E[o];S<=Y[o];S++){a=-1;for(D=Y[o-1];D>=L[S];D--){i=n(r,D,S)+A[D];
if(a<0||i<a){e[S]=D;a=i}}A[S]=a}}r.Gh=y;r.bo=new Array(y);for(S=x,o=y-1;S>0;o--){S=e[S];r.bo[o]=S}}function B(r){function n(r,S,i,U,L,sI){var D=r.bL,sB=r.by,ss=0,V;
while(i>=D){i-=D;ss+=1}while(S>=D){S-=D;ss-=1}while(i<0){i+=D;ss-=1}while(S<0){S+=D;ss+=1}var sK=sB[i+1].x-sB[S].x+ss*sB[D].x,sv=sB[i+1].y-sB[S].y+ss*sB[D].y,s$=sB[i+1].bV-sB[S].bV+ss*sB[D].bV,sU=sB[i+1].bw-sB[S].bw+ss*sB[D].bw,sL=sB[i+1].bc-sB[S].bc+ss*sB[D].bc,a=i+1-S+ss*D;
U[sI]=sK/a;U[sI+1]=sv/a;var sC=(s$-sK*sK/a)/a,sZ=(sU-sK*sv/a)/a,sR=(sL-sv*sv/a)/a,sP=(sC+sR+Math.sqrt((sC-sR)*(sC-sR)+4*sZ*sZ))/2;
sC-=sP;sR-=sP;if(Math.abs(sC)>=Math.abs(sR)){V=Math.sqrt(sC*sC+sZ*sZ);if(V!=0){L[sI]=-sZ/V;L[sI+1]=sC/V}}else{V=Math.sqrt(sR*sR+sZ*sZ);
if(V!=0){L[sI]=-sR/V;L[sI+1]=sZ/V}}if(V==0){L[sI]=L[sI+1]=0}}var o=r.Gh,y=r.bo,D=r.bL,x=r.bZ,A=r.bl,e=r.bJ,U=new Array(o*2),L=new Array(o*2),Y=new Array(o),E=new Array(3),S,i,a,V,w,BX,Bn,Be,BW,Bt,Bq;
r.bC=new c(o);for(S=0;S<o;S++){i=y[Z(S+1,o)];i=Z(i-y[S],D)+y[S];U[S<<1]=0;U[(S<<1)+1]=0;L[S<<1]=0;L[(S<<1)+1]=0;
n(r,y[S],i,U,L,S<<1)}for(S=0;S<o;S++){Y[S]=[0,0,0,0,0,0,0,0,0];var G=L[S<<1]*L[S<<1]+L[(S<<1)+1]*L[(S<<1)+1],$=1/G;
if(G!=0){E[0]=L[(S<<1)+1];E[1]=-L[S<<1];E[2]=-E[1]*U[(S<<1)+1]-E[0]*U[S<<1];for(V=0;V<3;V++){Y[S][V*3+0]=E[V]*E[0]*$;
Y[S][V*3+1]=E[V]*E[1]*$;Y[S][V*3+2]=E[V]*E[2]*$}}}var p=[0,0,0,0,0,0,0,0,0];for(S=0;S<o;S++){p[0]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=0;
var Bd=x[y[S]<<1]-A,Bg=x[(y[S]<<1)+1]-e,sE=0,s_=0;i=Z(S-1,o);for(V=0;V<9;V+=3){p[V+0]=Y[i][V+0]+Y[S][V+0];
p[V+1]=Y[i][V+1]+Y[S][V+1];p[V+2]=Y[i][V+2]+Y[S][V+2]}while(1){var sT=p[0]*p[4]-p[1]*p[3];if(sT!=0){sE=(-p[2]*p[4]+p[5]*p[0])/sT;
s_=(p[2]*p[3]-p[5]*p[0])/sT;break}if(p[0]>p[4]){E[0]=-p[1];E[1]=p[0]}else if(p[4]){E[0]=-p[4];E[1]=p[3]}else{E[0]=1;
E[1]=0}var G=E[0]*E[0]+E[1]*E[1],$=1/G;E[2]=-E[1]*Bg-E[0]*Bd;for(V=0;V<3;V++){p[V*3+0]+=E[V]*E[0]*$;
p[V*3+1]+=E[V]*E[1]*$;p[V*3+2]+=E[V]*E[2]*$}}w=Math.abs(sE-Bd);BX=Math.abs(s_-Bg);if(w<=.5&&BX<=.5){r.bC.bA[S<<1]=sE+A;
r.bC.bA[(S<<1)+1]=s_+e;continue}Bn=T(p,Bd,Bg);BW=Bd;Bt=Bg;if(p[0]!=0){for(Bq=0;Bq<2;Bq++){s_=Bg-.5+Bq;
sE=-(p[1]*s_+p[2])/p[0];w=Math.abs(sE-Bd);Be=T(p,sE,s_);if(w<=.5&&Be<Bn){Bn=Be;BW=sE;Bt=s_}}}if(p[4]!=0){for(Bq=0;
Bq<2;Bq++){sE=Bd-.5+Bq;s_=-(p[3]*sE+p[5])/p[4];BX=Math.abs(s_-Bg);Be=T(p,sE,s_);if(BX<=.5&&Be<Bn){Bn=Be;
BW=sE;Bt=s_}}}for(V=0;V<2;V++){for(a=0;a<2;a++){sE=Bd-.5+V;s_=Bg-.5+a;Be=T(p,sE,s_);if(Be<Bn){Bn=Be;
BW=sE;Bt=s_}}}r.bC.bA[S<<1]=BW+A;r.bC.bA[(S<<1)+1]=Bt+e}}function K(r){var n=r.bC.bS,o=r.bC,S,y,D,x,A,e,U,L,Y;
for(S=0;S<n;S++){y=Z(S+1,n);D=Z(S+2,n);var E=o.bA[S<<1],i=o.bA[(S<<1)+1],a=o.bA[D<<1],V=o.bA[(D<<1)+1],G=o.bA[y<<1],$=o.bA[(y<<1)+1],p=g(.5,a,G),w=g(.5,V,$);
A=R(E,i,a,V);if(A!=0){x=W(G-E,$-i,a-E,V-i)/A;x=Math.abs(x);e=x>1?1-1/x:0;e=e*(1/.75)}else{e=4/3}o.bk[y]=e;
var BX=3*y<<1;if(e>=q._Pz){o.bx[y]=0;o.Mz[BX+0]=o.Mz[BX+1]=0;o.Mz[BX+2]=G;o.Mz[BX+3]=$;o.Mz[BX+4]=p;
o.Mz[BX+5]=w}else{if(e<.55){e=.55}else if(e>1){e=1}var Bn=.5+.5*e;o.bx[y]=1;o.Mz[BX]=g(Bn,E,G);o.Mz[BX+1]=g(Bn,i,$);
o.Mz[BX+2]=g(Bn,a,G);o.Mz[BX+3]=g(Bn,V,$);o.Mz[BX+4]=p;o.Mz[BX+5]=w}o.alpha[y]=e;o.bu[y]=.5}o._CC=1}function j(r){function n(){this.bN=0;
this.bY=0;this.bz=0;this.bD=0;this.bM=0;this.LT=0;this.Mw=0;this.alpha=0}function o(r,S,E,sh,sr,Be,BW){var D=r.bC.bS,sS=r.bC.Mz,sf=r.bC.bA;
if(S==E)return 1;var sx=S,G=Z(S+1,D),sQ=Z(sx+1,D),s$=sf[S<<1],sU=sf[(S<<1)+1],sA=sf[G<<1],sk=sf[(G<<1)+1],su=Be[sQ];
if(su==0)return 1;var sp=P(s$-sA,sU-sk);for(sx=sQ;sx!=E;sx=sQ){var sQ=Z(sx+1,D),sa=Z(sx+2,D),si=sf[sQ<<1],sw=sf[(sQ<<1)+1],sV=sf[sa<<1],sc=sf[(sa<<1)+1];
if(Be[sQ]!=su)return 1;if(Math.sign(W(sA-s$,sk-sU,sV-si,sc-sw))!=su)return 1;if(s(sA-s$,sk-sU,sV-si,sc-sw)<sp*P(si-sV,sw-sc)*-.999847695156)return 1}var sl=Z(S,D)*3+2<<1,sJ=Z(S+1,D)<<1,sy=Z(E,D)<<1,sj=Z(E,D)*3+2<<1,sT=sS[sl],sI=sS[sl+1],so=sf[sJ],sO=sf[sJ+1],sF=sf[sy],sH=sf[sy+1],sN=sS[sj],sY=sS[sj+1],Bt=sf[0],Bq=sf[1];
sl=E*3+2<<1;var sz=sS[sl],sD=sS[sl+1],$=BW[E]-BW[S];$-=W(sz-Bt,sD-Bq,sz-Bt,sD-Bq)/2;if(S>=E){$+=BW[D]}var sm=so-sT,sM=sO-sI,sG=sF-sT,sb=sH-sI,sX=sN-sT,sn=sY-sI,se=W(sm,sM,sG,sb),sW=W(sm,sM,sX,sn),st=W(sG,sb,sX,sn),sq=se+st-sW;
if(sW==se)return 1;var Bn=st/(st-sq),BX=sW/(sW-se),sd=sW*Bn/2;if(sd==0)return 1;var sg=$/sd,p=2-Math.sqrt(4-sg/.3);
sh.bY=g(Bn*p,sT,so);sh.bz=g(Bn*p,sI,sO);sh.bD=g(BX*p,sN,sF);sh.bM=g(BX*p,sY,sH);sh.alpha=p;sh.LT=Bn;
sh.Mw=BX;so=sh.bY;sO=sh.bz;sF=sh.bD;sH=sh.bM;sh.bN=0;for(sx=Z(S+1,D);sx!=E;sx=sQ){sQ=Z(sx+1,D);var KE=sf[sx<<1],K_=sf[(sx<<1)+1],si=sf[sQ<<1],sw=sf[(sQ<<1)+1];
Bn=b(so-sT,sO-sI,sF-so,sH-sO,sN-sF,sY-sH,si-KE,sw-K_);if(Bn<-.5)return 1;var KT=O(Bn,sT,so,sF,sN),KI=O(Bn,sI,sO,sH,sY),sp=P(si-KE,sw-K_);
if(sp==0)return 1;var KB=W(si-KE,sw-K_,KT-KE,KI-K_)/sp;if(Math.abs(KB)>sr)return 1;if(s(si-KE,sw-K_,KT-KE,KI-K_)<0||s(KE-si,K_-sw,KT-si,KI-sw)<0){return 1}sh.bN+=KB*KB}for(sx=S;
sx!=E;sx=sQ){sQ=Z(sx+1,D);var sl=sx*3+2<<1,sJ=sQ*3+2<<1,Ks=sS[sl],KK=sS[sl+1],Kv=sS[sJ],K$=sS[sJ+1];
Bn=b(so-sT,sO-sI,sF-so,sH-sO,sN-sF,sY-sH,Kv-Ks,K$-KK);if(Bn<-.5)return 1;var KT=O(Bn,sT,so,sF,sN),KI=O(Bn,sI,sO,sH,sY),sp=P(Kv-Ks,K$-KK);
if(sp==0)return 1;var KB=W(Kv-Ks,K$-KK,KT-Ks,KI-KK)/sp,KU=W(Kv-Ks,K$-KK,sf[sQ<<1]-Ks,sf[(sQ<<1)+1]-KK)/sp;
KU*=.75*r.bC.alpha[sQ];if(KU<0){KB=-KB;KU=-KU}if(KB<KU-sr)return 1;if(KB<KU){sh.bN+=(KB-KU)*(KB-KU)}}return 0}var y=r.bC,D=y.bS,x=y.bA,A=new Array(D+1),e=new Array(D+1),U=new Array(D+1),L=new Array(D+1),Y,S,E,i,a=new n,V,G,$,p,w,BX,Bn,Be=new Array(D),BW=new Array(D+1);
for(S=0;S<D;S++){if(y.bx[S]=="CURVE"){var Bt=x[Z(S-1,D)<<1],Bq=x[(Z(S-1,D)<<1)+1],Bd=x[S<<1],Bg=x[(S<<1)+1],sE=x[Z(S+1,D)<<1],s_=x[(Z(S+1,D)<<1)+1];
Be[S]=Math.sign(W(Bd-Bt,Bg-Bq,sE-Bd,s_-Bg))}else{Be[S]=0}}$=0;BW[0]=0;var sT=y.bA[0],sI=y.bA[1];for(S=0;
S<D;S++){G=Z(S+1,D);if(y.bx[G]=="CURVE"){p=y.alpha[G];var sB=S*3+2<<1,ss=G*3+2<<1,sK=y.Mz[sB],sv=y.Mz[sB+1],s$=x[G<<1],sU=x[(G<<1)+1],sL=y.Mz[ss],sC=y.Mz[ss+1];
$+=.3*p*(4-p)*W(s$-sK,sU-sv,sL-sK,sC-sv)/2;$+=W(sK-sT,sv-sI,sL-sT,sC-sI)/2}BW[S+1]=$}A[0]=-1;e[0]=0;
U[0]=0;for(E=1;E<=D;E++){A[E]=E-1;e[E]=e[E-1];U[E]=U[E-1]+1;for(S=E-2;S>=0;S--){i=o(r,S,Z(E,D),a,q._CL,Be,BW);
if(i){break}if(U[E]>U[S]+1||U[E]==U[S]+1&&e[E]>e[S]+a.bN){A[E]=S;e[E]=e[S]+a.bN;U[E]=U[S]+1;L[E]=a;a=new n}}}Y=U[D];
w=new c(Y);BX=new Array(Y);Bn=new Array(Y);E=D;for(S=Y-1;S>=0;S--){var sZ=Z(E,D),sR=S*3+0<<1,sP=sZ*3+0<<1;
if(A[E]==E-1){w.bx[S]=y.bx[sZ];w.Mz[sR]=y.Mz[sP];w.Mz[sR+1]=y.Mz[sP+1];w.Mz[sR+2]=y.Mz[sP+2];w.Mz[sR+3]=y.Mz[sP+3];
w.Mz[sR+4]=y.Mz[sP+4];w.Mz[sR+5]=y.Mz[sP+5];w.bA[S<<1]=y.bA[sZ<<1];w.bA[(S<<1)+1]=y.bA[(sZ<<1)+1];w.alpha[S]=y.alpha[sZ];
w.bk[S]=y.bk[sZ];w.bu[S]=y.bu[sZ];BX[S]=Bn[S]=1}else{w.bx[S]="CURVE";w.Mz[sR]=L[E].bY;w.Mz[sR+1]=L[E].bz;
w.Mz[sR+2]=L[E].bD;w.Mz[sR+3]=L[E].bM;w.Mz[sR+4]=y.Mz[sP+4];w.Mz[sR+5]=y.Mz[sP+5];w.bA[S<<1]=g(L[E].Mw,y.Mz[sP+4],x[sZ<<1]);
w.bA[(S<<1)+1]=g(L[E].Mw,y.Mz[sP+5],x[(sZ<<1)+1]);w.alpha[S]=L[E].alpha;w.bk[S]=L[E].alpha;BX[S]=L[E].Mw;
Bn[S]=L[E].LT}E=A[E]}for(S=0;S<Y;S++){G=Z(S+1,Y);w.bu[S]=BX[S]/(BX[S]+Bn[G])}w._CC=1;r.bC=w}for(var S=0;
S<C.length;S++){var r=C[S];z(r);m(r);f(r);B(r);K(r);if(q.bi)j(r)}}return{b$:X,bU:l}}();BO._Kr=function(N,c,X,l){var C={ba:"minority",bp:l,bi:!0,_Pz:1,_CL:.2},q=BO.b$(N,c,X,C);
BO.bU(q,C);return q};BO._ZL=function(N){var c=[];for(var X=0;X<N.length;X++){var l=N[X],C=l.bC,q=["M"],J=[C.Mz[(C.bS-1)*6+4],C.Mz[(C.bS-1)*6+5]];
for(var Z=0;Z<C.bS;Z++){var W=Z*6;if(C.bx[Z]==1){q.push("C");for(var s=0;s<6;s++)J.push(C.Mz[W+s])}else if(C.bx[Z]==0){q.push("L");
for(var s=2;s<4;s++)J.push(C.Mz[W+s])}}c.push({parent:l.parent,color:l.color,path:{l:J,Gv:q}})}return c};
BO._Kl=function(N,c,X,l,C){function q(O){function b(W){var P="C "+(O.Mz[W*3+0<<1]*c).toFixed(1)+" "+(O.Mz[(W*3+0<<1)+1]*c).toFixed(1)+",";
P+=(O.Mz[W*3+1<<1]*c).toFixed(1)+" "+(O.Mz[(W*3+1<<1)+1]*c).toFixed(1)+",";P+=(O.Mz[W*3+2<<1]*c).toFixed(1)+" "+(O.Mz[(W*3+2<<1)+1]*c).toFixed(1)+" ";
return P}function z(W){var B="L "+(O.Mz[W*3+1<<1]*c).toFixed(1)+" "+(O.Mz[(W*3+1<<1)+1]*c).toFixed(1)+" ";
B+=(O.Mz[W*3+2<<1]*c).toFixed(1)+" "+(O.Mz[(W*3+2<<1)+1]*c).toFixed(1)+" ";return B}var m=O.bS,W,f="M"+(O.Mz[(m-1)*3+2<<1]*c).toFixed(1)+" "+(O.Mz[((m-1)*3+2<<1)+1]*c).toFixed(1)+" ";
for(W=0;W<m;W++){if(O.bx[W]==1){f+=b(W)}else if(O.bx[W]==0){f+=z(W)}}return f}var X=X*c,l=l*c,J=N.length,Z=[];
for(var W=0;W<256;W++)Z.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var s="<svg id=\"svg\" version=\"1.1\" width=\""+X+"\" height=\""+l+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var W=0;W<J;W++){var t=C[N[W].color-1]._Tc._vk;if((t>>>24&255)==0)continue;s+="<path d=\"";var T=N[W].bC;
s+=q(T);var g=t>>0&255,R=t>>8&255,P=t>>16&255,t="rgb("+g+","+R+","+P+")";s+="\" fill=\""+t+"\" fill-rule=\"evenodd\"/>"}s+="</svg>";
return s};BO._ZR=function(N,c,X){var l=N.length>>1,C,q=N[2*l-3]-X,J=N[2*l-2]-c,Z=N[2*l-1]-X,W=Z>q,t=0;
for(var s=0;s<l;s++){C=J;q=Z;J=N[2*s]-c;Z=N[2*s+1]-X;if(q==Z)continue;W=Z>q}for(var s=0;s<l;s++){C=J;
q=Z;J=N[2*s]-c;Z=N[2*s+1]-X;if(q<0&&Z<0)continue;if(q>0&&Z>0)continue;if(C<0&&J<0)continue;if(q==Z&&Math.min(C,J)<=0)return!0;
if(q==Z)continue;var T=C+(J-C)*-q/(Z-q);if(T==0)return!0;if(T>0)t++;if(q==0&&W&&Z>q)t--;if(q==0&&!W&&Z<q)t--;
W=Z>q}return(t&1)==1};BO.fill=function(N,c,X,l){var C=c[N],q=[N],J=0;while(J<q.length){if(q.length>X*X*2)throw"e";
var Z=q[J];J++;c[Z]=l;if(c[Z-X]==C){q.push(Z-X);c[Z-X]=254}if(c[Z-1]==C){q.push(Z-1);c[Z-1]=254}if(c[Z+1]==C){q.push(Z+1);
c[Z+1]=254}if(c[Z+X]==C){q.push(Z+X);c[Z+X]=254}}};var h={};h.LH=!1;h.LN=!1;h.LY=!1;h.vQ=document.createElement("canvas");
h.vA=null;h.Lz=null;h.LD=0;(function(){var N={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},c;
if(!c)c=h.vQ.getContext("webgl",N);if(!c)c=h.vQ.getContext("experimental-webgl",N);if(c){h.LH=!0;h.LN=!0;
h.vA=c;h.Lz=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,h.Lz);c.disable(c.BLEND);c.disable(c.DEPTH_TEST);
var X=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,X);c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),c.STATIC_DRAW);
c.enableVertexAttribArray(0);c.vertexAttribPointer(0,2,c.FLOAT,!1,0,0)}}());h._KE=function(N){var c=h.vA;
if(N>c.getParameter(c.MAX_TEXTURE_SIZE)){h.LH=!1;alert("Disabling WebGL")}};h.LM=function(N,c){return new Float32Array([(N.x-c.x)/c.h,(N.y-c.y)/c.s,N.h/c.h,N.s/c.s])};
h.LG=function(){return this.vQ};h.Lb=function(N,c){var X=h.vA;X.bindFramebuffer(X.FRAMEBUFFER,h.Lz);
X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,N.bX,0);X.viewport(0,0,N.h,N.s);
if(c){X.enable(X.SCISSOR_TEST);X.scissor(c.x,c.y,c.h,c.s)}else X.disable(X.SCISSOR_TEST)};h.LX=function(N,c,X){if(X)throw"error";
var l=h.vA;l.disable(l.SCISSOR_TEST);l.bindFramebuffer(l.FRAMEBUFFER,null);l.viewport(0,0,N,c);if(X){l.enable(l.SCISSOR_TEST);
l.scissor(X.x,X.y,Math.round(X.h),Math.round(X.s))}else l.disable(l.SCISSOR_TEST)};h.clear=function(){var N=h.vA;
N.clearColor(0,0,0,0);N.clear(N.COLOR_BUFFER_BIT)};h.Th=function(N,c){if(c==null)c=0;var X=(c>>0&255)==0,l=(c>>8&255)==0,C=(c>>16&255)==0,q=(c>>24&255)==0,J=(N>>0&255)*(1/255),Z=(N>>8&255)*(1/255),W=(N>>16&255)*(1/255),s=(N>>24&255)*(1/255),t=h.vA;
t.colorMask(X,l,C,q);t.clearColor(J,Z,W,s);t.clear(t.COLOR_BUFFER_BIT);t.colorMask(!0,!0,!0,!0)};h.TH=function(N,c,X,l,C){var q=c.vm(l);
if(C)q=q.vm(C);if(q.BH())return;var J=h.vA;h.Lb(N);J.bindTexture(J.TEXTURE_2D,X.bX);J.copyTexSubImage2D(J.TEXTURE_2D,0,q.x-l.x,q.y-l.y,q.x-c.x,q.y-c.y,q.h,q.s)};
h.__C=function(N,c,X){var l=h.Le[N];if(l==null||l.h!=c||l.s!=X){if(l)l.delete();l=new h.IL(c,X)}h.Le[N]=l;
return l};h.Le=[];h.LW=function(){this.bn=null;this.pe=null};h.LW.Lt=null;h.LW.prototype.Lq=function(N){if(this.pe)return;
this.pe={};var c=h.vA,X=this.bn,l=this.pe;for(var C=0;C<N.length;C++){var q=N[C];l[q]=c.getUniformLocation(X,q)}};
h.LW.prototype.Ld=function(){};h.LW.prototype.oP=function(N,c){var X=h.vA,l=X.createShader(X.FRAGMENT_SHADER);
X.shaderSource(l,N);X.compileShader(l);if(!X.getShaderParameter(l,X.COMPILE_STATUS))console.log(X.getShaderInfoLog(l));
var C=X.createShader(X.VERTEX_SHADER);X.shaderSource(C,c);X.compileShader(C);if(!X.getShaderParameter(C,X.COMPILE_STATUS))console.log(X.getShaderInfoLog(C));
var q=X.createProgram();X.attachShader(q,C);X.attachShader(q,l);X.linkProgram(q);if(!X.getProgramParameter(q,X.LINK_STATUS))console.log("Could not initialise shaders");
this.bn=q};h.LW.prototype.Lg=function(){if(h.LW.Lt!=this){h.vA.useProgram(this.bn);h.LW.Lt=this}};h.CE=function(N,c){h.CT++;
h.LD+=N*c;if(h.LY)console.log("GL.Channels instances: "+h.CT+", memory: "+h.LD);var X=h.vA;this.h=N;
this.s=c;this.bX=X.createTexture();this.be=null;this.C_(this.bX,N,c)};h.CE.prototype.C_=function(N,c,X){var l=h.vA;
l.bindTexture(l.TEXTURE_2D,N);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST);
l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);
l.texImage2D(l.TEXTURE_2D,0,l.ALPHA,c,X,0,l.ALPHA,l.UNSIGNED_BYTE,null)};h.CE.prototype.set=function(N){var c=h.vA;
c.bindTexture(c.TEXTURE_2D,this.bX);c.pixelStorei(c.UNPACK_ALIGNMENT,1);c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.h,this.s,0,c.ALPHA,c.UNSIGNED_BYTE,N);
c.pixelStorei(c.UNPACK_ALIGNMENT,4)};h.CE.prototype.delete=function(){var N=h.vA;if(this.bX){N.deleteTexture(this.bX);
h.CT--;h.LD-=this.h*this.s}if(h.LY)if(h.LY)console.log("GL.Channels instances: "+h.CT+", memory: "+h.LD*4)};
h.CT=0;h.IL=function(N,c){h.CT++;h.LD+=N*c*4;if(h.LY)console.log("GL.Channels instances: "+h.CT+", memory: "+h.LD);
var X=h.vA;this.h=N;this.s=c;this.bX=X.createTexture();this.be=null;this.C_(this.bX,N,c)};h.IL.prototype.set=function(N,c){var X=h.vA;
X.disable(X.SCISSOR_TEST);X.bindTexture(X.TEXTURE_2D,this.bX);if(N==null||N instanceof Uint8Array){var l=this.h*this.s;
if(c==null||c.n()*10>l)X.texImage2D(X.TEXTURE_2D,0,X.RGBA,this.h,this.s,0,X.RGBA,X.UNSIGNED_BYTE,N);
else{var C=I.a(c.n()*4);I.TF(N,new u(0,0,this.h,this.s),C,c);X.texSubImage2D(X.TEXTURE_2D,0,c.x,c.y,c.h,c.s,X.RGBA,X.UNSIGNED_BYTE,C)}}else X.texImage2D(X.TEXTURE_2D,0,X.RGBA,X.RGBA,X.UNSIGNED_BYTE,N)};
h.IL.prototype.get=function(N){var c=h.vA;h.Lb(this);c.readPixels(0,0,this.h,this.s,c.RGBA,c.UNSIGNED_BYTE,N)};
h.IL.prototype.CI=function(N){if(N.BH())return;var c=h.vA;if(this.be==null){this.be=c.createTexture();
this.C_(this.be,this.h,this.s);h.CT++;h.LD+=this.h*this.s*4}c.bindFramebuffer(c.FRAMEBUFFER,h.Lz);c.bindTexture(c.TEXTURE_2D,this.be);
if(N){var X=Math.max(N.x,0),l=Math.max(N.y,0);c.copyTexSubImage2D(c.TEXTURE_2D,0,X,l,X,l,N.h,N.s)}else c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,this.h,this.s,0)};
h.IL.prototype.C_=function(N,c,X){var l=h.vA;l.bindTexture(l.TEXTURE_2D,N);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST);
l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);
l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,c,X,0,l.RGBA,l.UNSIGNED_BYTE,null)};
h.IL.prototype.delete=function(){var N=h.vA;if(this.bX){N.deleteTexture(this.bX);h.CT--;h.LD-=this.h*this.s*4}if(this.be){N.deleteTexture(this.be);
h.CT--;h.LD-=this.h*this.s*4}if(h.LY)if(h.LY)console.log("GL.Channels instances: "+h.CT+", memory: "+h.LD*4)};
h.IL.prototype.clone=function(){var N=h.vA,c=new h.IL(this.h,this.s);h.Lb(this);N.bindTexture(N.TEXTURE_2D,c.bX);
N.copyTexImage2D(N.TEXTURE_2D,0,N.RGBA,0,0,this.h,this.s,0);return c};h.CB={_Zi:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  return mix( ONE3 - min(ONE3,(ONE3-b)/(a*f+ONE3-f))    ,   ZERO3  , vec3(equal(a  ,ZERO3)) );  }  ",_Zw:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Cv:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",_X:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",C$:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",_M:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",_m:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",If:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",_sf:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",TB:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",_Bd:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",TI:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",CC:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",_d:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",TE:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",_g:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",T_:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",TT:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }"};
h.Tt=function(N,c,X,l,C){if(h.Tt.CZ==null)h.Tt.CZ=new h.Tt.CP;var q=c.W.length;if(h.Tt.CR["m"+q]==null){h.Tt.CR["m"+q]={_Uk:new h.IL(q,1),Ml:I.a(q*4)}}var J=h.Tt.CR["m"+q];
I.TP(c.W,J.Ml,0);I.TP(c.d,J.Ml,1);I.TP(c.w,J.Ml,2);var Z=J._Uk;Z.set(J.Ml);var W=h.Tt.CZ,s=h.vA;h.Lb(N,C);
N.CI(C);W.Lg();W.Ld(N.be,Z.bX,X?1:0,l?1:0);s.drawArrays(s.TRIANGLES,0,6)};h.Tt.CZ=null;h.Tt.CR={};h.Tt.CP=function(){h.LW.call(this);
var N="\t\t\tprecision mediump float;\t\t\t"+h.CB._m+"\t\t\t"+h.CB.Cv+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.oP(N,c)};h.Tt.CP.prototype=new h.LW;h.Tt.CP.prototype.Ld=function(N,c,X,l){this.Lq(["source","map","toGray","presLum"]);
var C=h.vA,q=this.pe;C.uniform1f(q.toGray,X);C.uniform1f(q.presLum,l);C.uniform1i(q.source,0);C.uniform1i(q.map,1);
C.activeTexture(C.TEXTURE0);C.bindTexture(C.TEXTURE_2D,N);C.activeTexture(C.TEXTURE1);C.bindTexture(C.TEXTURE_2D,c);
C.activeTexture(C.TEXTURE0)};h.Ch=function(N,c,X,l,C,q){if(h.Ch.CZ==null){h.Ch.CZ=new h.Ch.CP;h.Ch.Cr=new h.IL(256,1);
h.Ch.CS=I.a(256*4)}c.u=I.a(256);var J=h.Ch.CS;I.TL(c,J);var Z=h.Ch.Cr;Z.set(J);var W=h.Ch.CZ,s=h.vA;
h.Lb(N,X);N.CI(X);W.Lg();W.Ld(N.be,Z.bX,l,C,q);s.drawArrays(s.TRIANGLES,0,6)};h.Ch.CZ=null;h.Ch.Cr=null;
h.Ch.CS=null;h.Ch.CP=function(){h.LW.call(this);var N="\t\t\tprecision mediump float;\t\t\t"+h.CB._g+"\t\t\t"+h.CB._d+"\t\t\t"+h.CB.TE+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float cfa; \t\t\tuniform float cfb; \t\t\tuniform int colorize; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = cfa*src.rgb + cfb*(1.0-src.rgb);\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\tfloat nh = mapv.r; \t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\tfloat ns; \t\t\t\tif(colorize==1) ns = sc; \t\t\t\telse {\t\t\t\t\tif(sc>0.0) sc = tan((3.14159265359/2.0)*sc);\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t} \t\t\t\t\t\t\t\tfloat alc = abs(lc); \t\t\t\t\t\t\t\tvec3 zrgb = hslToRgb(nh, min(1.0,ns*(1.0-alc)), l + (lc>0.0 ? 1.0 : -1.0)*min(l, 1.0-l)*s); \t\t\t\tvec3 nrgb = hslToRgb(nh, min(1.0,ns), l); \t\t\t\trgb = nrgb * (1.0-alc) + zrgb * alc; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.oP(N,c)};h.Ch.CP.prototype=new h.LW;h.Ch.CP.prototype.Ld=function(N,c,X,l,C){this.Lq(["source","map","cfa","cfb","colorize"]);
var q=h.vA,J=this.pe;q.uniform1f(J.cfa,X);q.uniform1f(J.cfb,l);q.uniform1i(J.colorize,C);q.uniform1i(J.source,0);
q.uniform1i(J.map,1);q.activeTexture(q.TEXTURE0);q.bindTexture(q.TEXTURE_2D,N);q.activeTexture(q.TEXTURE1);
q.bindTexture(q.TEXTURE_2D,c);q.activeTexture(q.TEXTURE0)};h.Cf=function(N,c,X,l){if(h.Cf.CZ==null)h.Cf.CZ=new h.Cf.CP;
var C=h.Cf.CZ,q=h.vA;h.Lb(N,l);N.CI(l);C.Lg();C.Ld(N.be,c,X);q.drawArrays(q.TRIANGLES,0,6)};h.Cf.CZ=null;
h.Cf.CP=function(){h.LW.call(this);var N="\t\t\tprecision mediump float;\t\t\t"+h.CB._g+"\t\t\t"+h.CB.T_+"\t\t\t"+h.CB.TT+"\t\t\t"+h.CB._d+"\t\t\t"+h.CB.TE+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.oP(N,c)};h.Cf.CP.prototype=new h.LW;h.Cf.CP.prototype.Ld=function(N,c,X){this.Lq(["source","vib","sat"]);
var l=h.vA,C=this.pe;l.uniform1f(C.vib,c);l.uniform1f(C.sat,X);l.uniform1i(C.source,0);l.activeTexture(l.TEXTURE0);
l.bindTexture(l.TEXTURE_2D,N)};h.Cx=function(N,c,X){if(h.Cx.CZ==null)h.Cx.CZ=new h.Cx.CP;var l=h.Cx.CZ,C=h.vA;
h.Lb(N,X);N.CI(X);l.Lg();l.Ld(N.be,c);C.drawArrays(C.TRIANGLES,0,6)};h.Cx.CZ=null;h.Cx.CP=function(){h.LW.call(this);
var N="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = vec4(texture2D(source, sCoord).rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*src).rgb,src.w); \t\t\t\t\t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.oP(N,c)};h.Cx.CP.prototype=new h.LW;h.Cx.CP.prototype.Ld=function(N,c){this.Lq(["source","trf"]);
var X=h.vA,l=this.pe;X.uniformMatrix4fv(l.trf,!1,new Float32Array(I.KR._Zo(c)));X.uniform1i(l.source,0);
X.activeTexture(X.TEXTURE0);X.bindTexture(X.TEXTURE_2D,N)};h.CQ=function(N,c,X){if(h.CQ.CZ==null){h.CQ.CZ=new h.CQ.CP}var l=h.CQ.CZ,C=h.vA;
h.Lb(N,X);N.CI(X);l.Lg();l.Ld(N.be,c);C.drawArrays(C.TRIANGLES,0,6)};h.CQ.CZ=null;h.CQ.CP=function(){h.LW.call(this);
var N="\t\t\tprecision mediump float;\t\t\t"+h.CB.Cv+"\t\t\t"+h.CB._X+"\t\t\t"+h.CB.C$+"\t\t\t"+h.CB._d+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.oP(N,c)};h.CQ.CP.prototype=new h.LW;h.CQ.CP.prototype.Ld=function(N,c){this.Lq(["source","cfs"]);
var X=h.vA,l=this.pe;X.uniform3fv(l.cfs,c);X.uniform1i(l.source,0);X.activeTexture(X.TEXTURE0);X.bindTexture(X.TEXTURE_2D,N);
X.activeTexture(X.TEXTURE0)};h.CA=function(N,c,X,l){if(h.CA.CZ==null){h.CA.CZ=new h.CA.CP}var C=h.CA.CZ,q=h.vA;
h.Lb(N,l);N.CI(l);C.Lg();C.Ld(N.be,c,X);q.drawArrays(q.TRIANGLES,0,6)};h.CA.CZ=null;h.CA.CP=function(){h.LW.call(this);
var N="\t\t\tprecision mediump float;\t\t\t"+h.CB._g+"\t\t\t"+h.CB._X+"\t\t\t"+h.CB.C$+"\t\t\t"+h.CB._d+"\t\t\t"+h.CB.TE+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.oP(N,c)};h.CA.CP.prototype=new h.LW;h.CA.CP.prototype.Ld=function(N,c,X){this.Lq(["source","wght","prms"]);
var l=h.vA,C=this.pe;l.uniform1fv(C.wght,new Float32Array(c));l.uniform1fv(C.prms,new Float32Array(X));
l.uniform1i(C.source,0);l.activeTexture(l.TEXTURE0);l.bindTexture(l.TEXTURE_2D,N);l.activeTexture(l.TEXTURE0)};
h.B={};h.B.Ck={};h.B.Cu=null;h.B.Cp=null;h.B.Ca=null;h.B.Ci=function(N,c,X,l,C,q,J,Z){if(Z==null)Z=_$.cd();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(N)==-1){J=J*Z.fill;Z.fill=1;Z.style=!1}if(h.B.Ck[N]==null)h.B.Ck[N]=new h.B.CP(N);
var W=h.B.Ck[N],s=X.vm(C).vm(q);s.offset(-C.x,-C.y);if(s.BH())return;var t=h.vA;h.Lb(l,s);l.CI(s);W.Lg();
W.Ld(c.bX,l.be,h.LM(X,C),J,Z.fill,Z.style?1:0,Z.MJ?1:0);t.drawArrays(t.TRIANGLES,0,6)};h.B.Cw=function(N,c,X,l,C,q,J,Z,W,s){if(h.B.Cu==null)h.B.Cu=new h.B.Cl(!0,!0);
if(h.B.Cp==null)h.B.Cp=new h.B.Cl(!0,!1);if(h.B.Ca==null)h.B.Ca=new h.B.Cl(!1,!0);var t=s?1:0,T=N?C?h.B.Cu:h.B.Cp:h.B.Ca,g=c?c.vm(l).vm(Z):l.vm(Z);
if(g.BH())return;g.offset(-l.x,-l.y);var R=h.vA;h.Lb(X,g);X.CI(g);T.Lg();if(N==null)T.Ld(null,X.be,C.bX,h.LM(l,l),h.LM(q,l),J/255,W,t);
else if(C)T.Ld(N.bX,X.be,C.bX,h.LM(c,l),h.LM(q,l),J/255,W,t);else T.Ld(N.bX,X.be,null,h.LM(c,l),null,J/255,W,t);
R.drawArrays(R.TRIANGLES,0,6)};h.B.__x=function(N,c,X){if(h.B.bt==null)h.B.bt=new h.B.CJ;var l=h.B.bt,C=new u(0,0,N.h,N.s),q=h.vA;
h.Lb(c);c.CI(C);l.Lg();l.Ld(C,N.bX,c.be,X.bX);q.drawArrays(q.TRIANGLES,0,6)};h.B.Cc={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-1.0)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
h.B.CP=function(N){h.LW.call(this);var c="\t\t\tprecision mediump float;\t\t\t"+h.CB.Cv+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+h.CB._M+"\t\t\t"+h.CB._m+"\t\t\t"+h.CB.If+"\t\t\t"+h.CB._Zi+"\t\t\t"+h.CB._Zw+"\t\t\t"+h.CB._sf+"\t\t\t"+h.CB.TB+"\t\t\t"+h.CB._Bd+"\t\t\t"+h.CB.TI+"\t\t\t"+h.CB.hash+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+h.B.Cc[N]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",X="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(N=="diss")c+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else c+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.oP(c,X)};h.B.CP.prototype=new h.LW;h.B.CP.prototype.Ld=function(N,c,X,l,C,q,J){this.Lq("srct alpha source target fill style keepBGA".split(" "));
var Z=h.vA,W=this.pe;Z.uniform4fv(W.srct,X);Z.uniform1f(W.alpha,l);Z.uniform1f(W.fill,C);Z.uniform1f(W.style,q);
Z.uniform1f(W.keepBGA,J);Z.uniform1i(W.source,0);Z.uniform1i(W.target,1);Z.activeTexture(Z.TEXTURE0);
Z.bindTexture(Z.TEXTURE_2D,N);Z.activeTexture(Z.TEXTURE1);Z.bindTexture(Z.TEXTURE_2D,c);Z.activeTexture(Z.TEXTURE0)};
h.B.Cl=function(N,c){h.LW.call(this);this._Io=N;this.bd=c;var X="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+h.CB.CC+"\t\t\t"+h.CB.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(N?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(c?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(N?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",l="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.oP(X,l)};h.B.Cl.prototype=new h.LW;h.B.Cl.prototype.Ld=function(N,c,X,l,C,q,J,Z){if(this.bd)this.Lq("srct wrct wcolor awg dissv source target weight".split(" "));
else this.Lq(["srct","awg","dissv","source","target"]);var W=h.vA,s=this.pe;W.uniform4fv(s.srct,l);if(this.bd){W.uniform4fv(s.wrct,C);
W.uniform1f(s.wcolor,q)}W.uniform1f(s.awg,J);W.uniform1f(s.dissv,Z);W.uniform1i(s.source,0);W.uniform1i(s.target,1);
if(this.bd)W.uniform1i(s.weight,2);W.activeTexture(W.TEXTURE0);W.bindTexture(W.TEXTURE_2D,N);W.activeTexture(W.TEXTURE1);
W.bindTexture(W.TEXTURE_2D,c);if(this.bd){W.activeTexture(W.TEXTURE2);W.bindTexture(W.TEXTURE_2D,X)}W.activeTexture(W.TEXTURE0)};
h.B.CJ=function(){h.LW.call(this);var N="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.oP(N,c)};h.B.CJ.prototype=new h.LW;h.B.CJ.prototype.Ld=function(N,c,X,l){this.Lq(["rct","prev","next","alpha"]);
var C=h.vA,q=this.pe;C.uniform4fv(q.rct,[0,0,1,1]);C.uniform1i(q.prev,0);C.uniform1i(q.next,1);C.uniform1i(q.alpha,2);
C.activeTexture(C.TEXTURE0);C.bindTexture(C.TEXTURE_2D,c);C.activeTexture(C.TEXTURE1);C.bindTexture(C.TEXTURE_2D,X);
C.activeTexture(C.TEXTURE2);C.bindTexture(C.TEXTURE_2D,l);C.activeTexture(C.TEXTURE0)};function k(N,c){if(!N)N=0;
if(!c)c=0;this.x=N;this.y=c}k.prototype.add=function(N){return new k(this.x+N.x,this.y+N.y)};k.prototype.clone=function(){return new k(this.x,this.y)};
k.prototype.Cy=function(N){this.x=N.x;this.y=N.y};k.prototype.TA=function(N){return this.x==N.x&&this.y==N.y};
k.prototype.normalize=function(N){var c=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=N/c;this.y*=N/c};
k.prototype.offset=function(N,c){this.x+=N;this.y+=c};k.prototype.Cj=function(N,c){this.x=N;this.y=c};
k.prototype.Co=function(N){return new k(this.x-N.x,this.y-N.y)};k.CO=function(N,c){return k._RI(N.x,N.y,c.x,c.y)};
k.KX=function(N,c,X){return new k(N.x+X*(c.x-N.x),N.y+X*(c.y-N.y))};k._TM=function(N,c){return new k(N*Math.cos(c),N*Math.sin(c))};
k._RI=function(N,c,X,l){return Math.sqrt((X-N)*(X-N)+(l-c)*(l-c))};k.CN={};k.CY={};k.CN.create=function(){var N=new Float32Array(4);
return N};k.CY.create=function(N){var c=new Float32Array(16);c[0]=c[5]=c[10]=c[15]=1;if(N)k.CY.set(N,c);
return c};k.CN.add=function(N,c,X){X[0]=N[0]+c[0];X[1]=N[1]+c[1];X[2]=N[2]+c[2];X[3]=N[3]+c[3]};k.CN.set=function(N,c){c[0]=N[0];
c[1]=N[1];c[2]=N[2];c[3]=N[3]};k.CY.set=function(N,c){c[0]=N[0];c[1]=N[1];c[2]=N[2];c[3]=N[3];c[4]=N[4];
c[5]=N[5];c[6]=N[6];c[7]=N[7];c[8]=N[8];c[9]=N[9];c[10]=N[10];c[11]=N[11];c[12]=N[12];c[13]=N[13];c[14]=N[14];
c[15]=N[15]};k.CY.multiply=function(N,c,X){var l=N[0],C=N[1],q=N[2],J=N[3],Z=N[4],W=N[5],s=N[6],t=N[7],T=N[8],g=N[9],R=N[10],P=N[11],O=N[12],b=N[13],z=N[14],m=N[15],f=c[0],B=c[1],K=c[2],j=c[3];
X[0]=f*l+B*Z+K*T+j*O;X[1]=f*C+B*W+K*g+j*b;X[2]=f*q+B*s+K*R+j*z;X[3]=f*J+B*t+K*P+j*m;f=c[4];B=c[5];K=c[6];
j=c[7];X[4]=f*l+B*Z+K*T+j*O;X[5]=f*C+B*W+K*g+j*b;X[6]=f*q+B*s+K*R+j*z;X[7]=f*J+B*t+K*P+j*m;f=c[8];B=c[9];
K=c[10];j=c[11];X[8]=f*l+B*Z+K*T+j*O;X[9]=f*C+B*W+K*g+j*b;X[10]=f*q+B*s+K*R+j*z;X[11]=f*J+B*t+K*P+j*m;
f=c[12];B=c[13];K=c[14];j=c[15];X[12]=f*l+B*Z+K*T+j*O;X[13]=f*C+B*W+K*g+j*b;X[14]=f*q+B*s+K*R+j*z;X[15]=f*J+B*t+K*P+j*m;
return X};k.CY.inverse=function(N,c){var X=N[0],l=N[1],C=N[2],q=N[3],J=N[4],Z=N[5],W=N[6],s=N[7],t=N[8],T=N[9],g=N[10],R=N[11],P=N[12],O=N[13],b=N[14],z=N[15],m=X*Z-l*J,f=X*W-C*J,B=X*s-q*J,K=l*W-C*Z,j=l*s-q*Z,S=C*s-q*W,r=t*O-T*P,n=t*b-g*P,o=t*z-R*P,y=T*b-g*O,D=T*z-R*O,x=g*z-R*b,A=m*x-f*D+B*y+K*o-j*n+S*r;
if(!A){return null}A=1/A;c[0]=(Z*x-W*D+s*y)*A;c[1]=(C*D-l*x-q*y)*A;c[2]=(O*S-b*j+z*K)*A;c[3]=(g*j-T*S-R*K)*A;
c[4]=(W*o-J*x-s*n)*A;c[5]=(X*x-C*o+q*n)*A;c[6]=(b*B-P*S-z*f)*A;c[7]=(t*S-g*B+R*f)*A;c[8]=(J*D-Z*o+s*r)*A;
c[9]=(l*o-X*D-q*r)*A;c[10]=(P*j-O*B+z*m)*A;c[11]=(T*B-t*j-R*m)*A;c[12]=(Z*n-J*y-W*r)*A;c[13]=(X*y-l*n+C*r)*A;
c[14]=(O*f-P*K-b*m)*A;c[15]=(t*K-T*f+g*m)*A;return c};k.CY._Km=function(N,c,X){var l=c[0],C=c[1];X[0]=l*N[0]+C*N[4]+N[12];
X[1]=l*N[1]+C*N[5]+N[13]};k.CY._KU=function(N,c,X){var l=c[0],C=c[1],q=c[2],J=c[3];X[0]=N[0]*l+N[4]*C+N[8]*q+N[12]*J;
X[1]=N[1]*l+N[5]*C+N[9]*q+N[13]*J;X[2]=N[2]*l+N[6]*C+N[10]*q+N[14]*J;X[3]=N[3]*l+N[7]*C+N[11]*q+N[15]*J};
function Bh(N,c,X,l,C,q){if(typeof N==="undefined"){N=1;c=0;X=0;l=1;C=0;q=0}this.u=N;this.w=c;this.Mz=X;
this.Mm=l;this.MD=C;this.MM=q}Bh.prototype.Cm=function(){return Math.sqrt(Math.abs(this.u*this.Mm-this.w*this.Mz))};
Bh.prototype.CM=function(N){return new k(N.x*this.u+N.y*this.Mz+this.MD,N.x*this.w+N.y*this.Mm+this.MM)};
Bh.prototype.translate=function(N,c){this.MD+=N;this.MM+=c};Bh.prototype.rotate=function(N){var c=new Bh(Math.cos(N),-Math.sin(N),Math.sin(N),Math.cos(N),0,0);
this.concat(c)};Bh.prototype.scale=function(N,c){var X=new Bh(N,0,0,c,0,0);this.concat(X)};Bh.prototype.concat=function(N){this.Cy(new Bh(this.u*N.u+this.w*N.Mz,this.u*N.w+this.w*N.Mm,this.Mz*N.u+this.Mm*N.Mz,this.Mz*N.w+this.Mm*N.Mm,this.MD*N.u+this.MM*N.Mz+N.MD,this.MD*N.w+this.MM*N.Mm+N.MM))};
Bh.prototype.Tk=function(){var N=this.u*this.Mm-this.w*this.Mz;this.Cy(new Bh(this.Mm/N,-this.w/N,-this.Mz/N,this.u/N,(this.Mz*this.MM-this.Mm*this.MD)/N,(this.w*this.MD-this.u*this.MM)/N))};
Bh.prototype.clone=function(){return new Bh(this.u,this.w,this.Mz,this.Mm,this.MD,this.MM)};Bh.prototype.Cy=function(N){this.u=N.u;
this.w=N.w;this.Mz=N.Mz;this.Mm=N.Mm;this.MD=N.MD;this.MM=N.MM};function Br(){}Br.CG=function(N,c,X,l){var C=X,q=_.RQ(N,X);
X+=4+2*q.length;if(q!="\0")c.__name=q;if(l)console.log("---------------------",q,q.length);c.classID=Br.Ce(N,X);
if(l)console.log("- reading descriptor",c.classID,X);X+=4+Math.max(4,c.classID.length);var J=_.RY(N,X);
X+=4;if(l)console.log(3,X);for(var Z=0;Z<J;Z++){var W=Br.Ce(N,X);X+=4+Math.max(4,W.length);if(l)console.log(W);
var s=Br.CX(N,X,l);c[W]=s;X+=s.size;delete s.size}return X-C};Br.Cb=function(N,c,X,l){var C=X,q=c.__name;
if(q==null)q="\0";_.Rk(N,X,q);X+=4+2*q.length;Br.Ct(N,X,c.classID);X+=4+Math.max(4,c.classID.length);
_.RD(N,X,Object.keys(c).length-1-(c.__name==null?0:1));X+=4;for(var J in c){if(J=="classID")continue;
if(J=="__name")continue;Br.Ct(N,X,J);X+=4+Math.max(4,J.length);X+=Br.Cn(N,X,c[J])}return X-C};Br.CX=function(N,c,X){var l=c,C=_.Ra(N,c,4);
c+=4;var q={size:0,t:C,v:null};if(X)console.log("reading key",C,l);switch(C){case"obj ":case"VlLs":q.v=[];
var J=_.Y(N,c);c+=4;for(var Z=0;Z<J;Z++){var W=Br.CX(N,c,X);c+=W.size;delete W.size;q.v.push(W)}break;
case"Enmr":var s=_.RQ(N,c);c+=4+s.length*2;var t=Br.Ce(N,c);c+=4+Math.max(4,t.length);var T=Br.Ce(N,c);
c+=4+Math.max(4,T.length);var g=Br.Ce(N,c);c+=4+Math.max(4,g.length);q.v={class:t,type:T,enum:g};break;
case"UntF":q.v={type:_.Ra(N,c,4),val:_.PE(N,c+4)};c+=12;break;case"doub":q.v=_.PE(N,c);c+=8;break;case"bool":q.v=N[c]==1;
c+=1;break;case"long":q.v=_.RY(N,c);c+=4;break;case"Objc":q.v={};var R=Br.CG(N,q.v,c,X);c+=R;break;case"TEXT":q.v=_.RQ(N,c);
c+=4+q.v.length*2;q.v=q.v.substring(0,q.v.length-1);break;case"enum":var T=Br.Ce(N,c);c+=4+Math.max(4,T.length);
var P=Br.Ce(N,c);c+=4+Math.max(4,P.length);q.v={};q.v[T]=P;break;case"tdta":var O=_.RY(N,c);c+=4;q.v=[];
for(var Z=0;Z<O;Z++)q.v.push(N[c+Z]);c+=O;break;case"ObAr":var b=_.Y(N,c);c+=4;var z=_.RQ(N,c);c+=4+2*z.length;
var m=Br.Ce(N,c);c+=4+Math.max(4,m.length);q.v={classID:m,arr:[]};var f=_.Y(N,c);c+=4;for(var Z=0;Z<f;
Z++){var m=Br.Ce(N,c);c+=4+Math.max(4,m.length);var T=_.Ra(N,c,4);c+=4;var B=_.Ra(N,c,4);c+=4;var K={id:m,type:T,uID:B,arr:[]};
q.v.arr.push(K);var j=_.Y(N,c,4);c+=4;for(var S=0;S<j;S++){var r=_.PE(N,c);c+=8;K.arr.push(r)}}break;
default:{console.log("unknown oskey: "+C+", "+l);return q}}if(X)console.log(q.v,l);q.size=c-l;return q};
Br.Cn=function(N,c,X){var l=c,C=X.t;X=X.v;_.Rw(N,c,C);c+=4;switch(C){case"obj ":case"VlLs":_.RD(N,c,X.length);
c+=4;for(var q=0;q<X.length;q++){var J=Br.Cn(N,c,X[q]);c+=J}break;case"Enmr":_.Rk(N,c,"\0");c+=6;Br.Ct(N,c,X.class);
c+=4+Math.max(4,X.class.length);Br.Ct(N,c,X.type);c+=4+Math.max(4,X.type.length);Br.Ct(N,c,X.enum);c+=4+Math.max(4,X.enum.length);
break;case"UntF":_.Rw(N,c,X.type);_.PB(N,c+4,X.val);c+=12;break;case"doub":_.PB(N,c,X);c+=8;break;case"bool":_.Pl(N,c,X?1:0,1);
c+=1;break;case"long":_.RD(N,c,X);c+=4;break;case"Objc":var J=Br.Cb(N,X,c);c+=J;break;case"TEXT":_.Rk(N,c,X+"\0");
c+=4+X.length*2+2;break;case"enum":var Z=Object.keys(X)[0],W=X[Z];Br.Ct(N,c,Z);c+=4+Math.max(4,Z.length);
Br.Ct(N,c,W);c+=4+Math.max(4,W.length);break;case"tdta":_.Rn(N,c,X.length);c+=4;_.PV(N,c,X);c+=X.length;
break;case"ObAr":_.Rn(N,c,X.arr[0].arr.length);c+=4;_.Rk(N,c,"\0");c+=6;Br.Ct(N,c,X.classID);c+=4+Math.max(4,X.classID.length);
_.Rn(N,c,X.arr.length);c+=4;for(var s=0;s<X.arr.length;s++){var t=X.arr[s];Br.Ct(N,c,t.id);c+=4+Math.max(4,t.id.length);
_.Rw(N,c,t.type);c+=4;_.Rw(N,c,t.uID);c+=4;_.Rn(N,c,t.arr.length);c+=4;for(var q=0;q<t.arr.length;q++){_.PB(N,c,t.arr[q]);
c+=8}}break;default:console.log("unknown oskey: "+C);c=l;break}return c-l};Br.Ce=function(N,c){var X=_.RY(N,c);
if(X>1e3)return"blbost...";if(X==0)X=4;return _.Ra(N,c+4,X).trim()};Br.Ct=function(N,c,X){if(X.length<=4&&X!="warp"&&X!="list"&&X!="Comp")_.RD(N,c,0);
else _.RD(N,c,X.length);_.Rw(N,c+4,X);if(X.length<4){var l="";for(var C=X.length;C<4;C++)l+=" ";_.Rw(N,c+4+X.length,l)}};
Br._TZ=function(N){var c={};for(var X in N){if(X=="classID")c[X]=N[X];else if(X=="__name")c[X]=N[X];
else c[X]=Br.Cd(N[X])}return c};Br.Cd=function(N){if(N.LT=="Objc")return Br._TZ(N.v);else if(N.LT=="VlLs"){var c=[];
for(var X=0;X<N.v.length;X++)c.push(Br.Cd(N.v[X]));return c}else if(N.LT=="UntF")return N.v.val;else return N.v};
function BK(){}BK.Cg=function(N,c,X,l,C,q){while(c<X){var J=_.Ra(N,c,4);c+=4;if(J!="8BIM"&&J!="8B64"){console.log("layer information signature error! "+J,"PSB = "+C);
alert("Error in Photoshop file: wrong signature.");throw"e"}var Z=_.Ra(N,c,4);c+=4;var W=_.RY(N,c);c+=4;
if(C&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD".split(" ").indexOf(Z)!=-1){W=W<<32|_.RY(N,c);
c+=4}if(C&&["pths"].indexOf(Z)!=-1){W=W<<32|_.RY(N,c);c+=4}var s=["lrFX","PlLd"];if(s.indexOf(Z)!=-1){if(W%4!=0)W+=4-W%4;
c+=W;continue}switch(Z){case"iOpa":l[Z]=N[c];break;case"brst":l[Z]=[1,1,1];for(var t=0;t<W;t+=4)l[Z][_.Y(N,c+t)]=0;
break;case"knko":l[Z]=N[c];break;case"infx":l[Z]=N[c];break;case"clbl":l[Z]=N[c];break;case"lmgm":l[Z]=N[c];
break;case"vmgm":l[Z]=N[c];break;case"lyid":l[Z]=_.Y(N,c);break;case"lsct":l[Z]={type:_.Y(N,c)};if(W>=12)l[Z].bg=_.Ra(N,c+8,4);
break;case"lsdk":l.lsct={type:_.Y(N,c)};break;case"lyvr":l[Z]=_.Y(N,c);break;case"lnsr":l[Z]=_.Ra(N,c,4);
break;case"lspf":l[Z]=_.Y(N,c);break;case"lclr":l[Z]=_.Rc(N,c);break;case"luni":l[Z]=_.RQ(N,c);break;
case"fxrp":l[Z]=new k(_.PE(N,c),_.PE(N,c+8));break;case"artb":case"artd":l[Z]={};Br.CG(N,l[Z],c+4);break;
case"SoCo":l[Z]={};Br.CG(N,l[Z],c+4);break;case"GdFl":l[Z]={};Br.CG(N,l[Z],c+4);BK.ZI(l[Z],Z);break;
case"PtFl":l[Z]={};Br.CG(N,l[Z],c+4);BK.ZI(l[Z],Z);break;case"CgEd":l[Z]={};Br.CG(N,l[Z],c+4);break;
case"brit":l[Z]={};l[Z].XE=_.RO(N,c);l[Z].X_=_.RO(N,c+2);l[Z].XT=_.RO(N,c+4);l[Z].XI=N[c+6];break;case"levl":var T=N.buffer.slice(c,c+W);
l[Z]=B$.ZB(T);break;case"curv":l[Z]=By.Zt(N,c,W);break;case"expA":var g=_.Rc(N,c);l[Z]=[_.Ps(N,c+2),_.Ps(N,c+6),_.Ps(N,c+10)];
break;case"vibA":l[Z]={};Br.CG(N,l[Z],c+4);break;case"hue2":l[Z]=BU.Zt(N,c,W);break;case"blnc":l[Z]={Hq:[],_m:N[c+18]==1};
for(var t=0;t<3;t++){var R=[];l[Z].Hq.push(R);for(var P=0;P<3;P++)R.push(_.RO(N,c+t*6+P*2))}break;case"blwh":l[Z]={};
Br.CG(N,l[Z],c+4);break;case"phfl":l[Z]={};var g=_.Rc(N,c);if(g==3)l[Z].XB=[_.Ps(N,c+2),_.Ps(N,c+6),_.Ps(N,c+10)];
if(g==2)l[Z].color={Xs:_.Rc(N,c+2),L_:[_.RO(N,c+4),_.RO(N,c+6),_.RO(N,c+8),_.RO(N,c+10)]};var O=c+2+(g==3?12:10);
l[Z].XK=_.Y(N,O);O+=4;l[Z].Xv=N[O]==1;break;case"mixr":l[Z]={X$:_.Rc(N,c+2)==1,q:[]};for(var t=0;t<20;
t++)l[Z].q.push(_.RO(N,c+4+t*2));break;case"clrL":l[Z]={};Br.CG(N,l[Z],c+6);break;case"nvrt":l[Z]=1;
break;case"post":l[Z]=_.Rc(N,c);break;case"thrs":l[Z]=_.Rc(N,c);break;case"grdm":var b={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{LT:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:""},Trns:{t:"VlLs",v:[]}};
l[Z]={rev:N[c+2]==1,XU:N[c+3]==1,c:b};var z=c+4;b.Nm.v=_.RQ(N,z);z+=4+b.Nm.v.length*2;var m=_.Rc(N,z);
z+=2;for(var t=0;t<m;t++){var f=_.Y(N,z),B=_.Y(N,z+4),K=_.Rc(N,z+8);if(K!=0)console.log("Unknown mode of color in Gradient Map adjustment layer");
var j=[];for(var P=0;P<4;P++)j.push(255*_.Rc(N,z+10+P*2)/65535);var S={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:j[0]},Grn:{t:"doub",v:j[1]},Bl:{t:"doub",v:j[2]}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:f},Mdpn:{t:"long",v:B}}};
b.Clrs.v.push(S);z+=20}var r=_.Rc(N,z);z+=2;for(var t=0;t<r;t++){var f=_.Y(N,z),B=_.Y(N,z+4),n=_.Rc(N,z+8),S={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*n/255)}},Lctn:{t:"long",v:f},Mdpn:{t:"long",v:B}}};
b.Trns.v.push(S);z+=10}var o=_.Rc(N,z);z+=2;b.Intr.v=_.Rc(N,z);z+=2;var y=_.Rc(N,z);z+=2;l[Z].mode=_.Rc(N,z);
z+=2;l[Z].XL=_.Y(N,z);z+=4;l[Z].XC=_.Rc(N,z)==1;z+=2;l[Z].XZ=_.Rc(N,z)==1;z+=2;l[Z].XR=_.Y(N,z);z+=4;
l[Z].XP=_.Rc(N,z);z+=2;l[Z].Xh=[];for(var t=0;t<4;t++)l[Z].Xh.push(_.Rc(N,z+t*2));z+=8;l[Z].Xr=[];for(var t=0;
t<4;t++)l[Z].Xr.push(_.Rc(N,z+t*2));z+=8;var D=_.Rc(N,z);z+=2;break;case"selc":l[Z]=BG.Zt(N,c,W);break;
case"vmsk":case"vsms":var x=l.vmsk=new v.wI,A=_.RY(N,c+4),e=(A>>0&1)==1;x.XS=(A>>1&1)==0;x.isEnabled=(A>>2&1)==0;
x.p=BY.RI(N,c+8,W-8,q.h,q.s);break;case"shmd":l[Z]={};var U=_.Y(N,c),O=c+4;for(var t=0;t<U;t++){var J=_.Ra(N,O,4);
O+=4;var L=_.Ra(N,O,4);O+=4;O+=4;var Y=_.Y(N,O);O+=4;if(L=="cust"||L=="cmls"||L=="extn"||L=="mlst"){var E={};
Br.CG(N,E,O+4,!1);l[Z][L]=E;if(L=="cmls")BL.kd.uT(l[Z][L])}else{console.log("unknown shmd key: "+L+", size: "+Y)}O+=Y}break;
case"shpa":var g=_.Y(N,c),i=_.Y(N,c+4);if(i!=0)console.log("some patterns present!");break;case"TySh":var a=l[Z]={},g=_.Rc(N,c);
a.Kp=_.PS(N,c+2);var V=_.Rc(N,c+2+48);a.Xx={};var G=Br.CG(N,a.Xx,c+56),$=_W.JH();for(var p in $)if(a.Xx[p]==null)a.Xx[p]=$[p];
a.XQ={};var w=Br.CG(N,a.XQ,c+56+G+6);a.XA=_._$E(N,c+56+G+6+w);var BX=a.Xx.EngineData.v;a.Xk=BJ.ZB(a.Xx.EngineData.v);
if(a.Xk.ResourceDict==null)a.Xk.ResourceDict=JSON.parse(JSON.stringify(a.Xk.DocumentResources));delete a.Xx.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var Bn=_.Y(N,c),Be=_.Y(N,c+4);l.lmfx={};var G=Br.CG(N,l.lmfx,c+8);
BK.Z_(l.lmfx);break;case"FMsk":l[Z]=_.Pi(N,c,W);break;case"Txt2":l[Z]={};l[Z].raw=_.Pi(N,c,W);l[Z].Xu=Bc.ZB(l[Z].raw);
break;case"Patt":l[Z]=[];var BW=c,Bt=c;while(Bt-BW<W){var Bq=Bt,Bd={},y=_.Y(N,Bt);Bt+=4;Bt=Bz.Rs(N,Bt,Bd);
l[Z].push(Bd);if(y%4!=0)y+=4-y%4;Bt=Bq+y+4}break;case"SoLd":var Bg=_.Ra(N,c,4),sE=_.Y(N,c+4),s_=_.Y(N,c+8);
l[Z]={};var sT=Br.CG(N,l[Z],c+12);break;case"vstk":case"pths":var sE=_.Y(N,c);l[Z]={};var sT=Br.CG(N,l[Z],c+4);
break;case"vscg":var L=_.Ra(N,c,4),sE=_.Y(N,c+4);l[L]={};var sT=Br.CG(N,l[L],c+8);BK.ZI(l[L],L);break;
case"vogk__":var sI=_.Y(N,c),sE=_.Y(N,c+4);l[Z]={};var sT=Br.CG(N,l[Z],c+8),sB=l[Z]._EF.L_;for(var t=0;
t<sB.length;t++)console.log(sB[t].L_);break;case"lnk2":case"lnkD__":case"lnk3__":l[Z]=[];var z=c;while(z<c+W){var ss=new v.wv;
l[Z].push(ss);var y=_.Re(N,z);z+=8;var BW=z;ss.type=_.Ra(N,z,4);z+=4;if(ss.type!="liFD"){alert("Unknown Linked Layer type: "+ss.type);
throw"error"}ss.Xa=_.Y(N,z);z+=4;var sK=_.PP(N,z);z+=1+sK.rM.length;ss.Ga=sK.rM;ss.Xi=_.RQ(N,z);z+=4+ss.Xi.length*2;
ss.Xw=_.Ra(N,z,4);z+=4;ss.XV=_.Ra(N,z,4);z+=4;var sv=_.Re(N,z);z+=8;ss.open=N[z];z+=1;if(ss.open!=0){var s$={},G=Br.CG(N,s$,z+4);
if(G%4!=0)G+=4-G%4;console.log(s$);z+=G+4}ss.open=0;ss.raw=_.Pi(N,z,sv);z=BW+y;if(y%4!=0)z+=4-y%4}break;
case"FEid":var z=c;l[Z]=[];var sU=z+W,g=_.Y(N,z);z+=4;while(z<sU){z+=4;var y=_.Y(N,z);z+=4;var sL={};
l[Z].push(sL);sL.id=_.PP(N,z).rM;z+=sL.id.length+1;var g=_.Y(N,z);z+=4;z+=4;var sC=_.Y(N,z);z+=4;sL.rect=_.Pu(N,z);
z+=16;var sZ=_.Y(N,z);z+=4;var sR=_.Y(N,z);z+=4;var sP=new I.IL(0);for(var t=0;t<sR+2;t++){var sh=_.Y(N,z);
z+=4;if(sh!=0){z+=4;var sr=_.Y(N,z),sS=null;z+=4;if(t<3||t==25)sS=Ba.Zx(!0,N,sL.rect.h,sL.rect.s,z,sr);
if(t==0)sP.W=sS;if(t==1)sP.d=sS;if(t==2)sP.w=sS;if(t==25)sP.u=sS;z+=sr}}sL.buffer=I.a(sL.rect.n()*4);
I.TL(sP,sL.buffer);I.IT(sL);var sf=N[z];z++;if(sf!=0){sL.b=new v.ig;sL.b.rect=_.Pu(N,z);z+=16;z+=4;var sx=_.Y(N,z);
z+=4;sL.b.channel=Ba.Zx(!0,N,sL.b.rect.h,sL.b.rect.s,z,sx);sL.b.color=255;sL.b.I_();z+=sx}if(y%4!=0)z+=4-y%4}break;
default:console.log("unknown layer tag: "+Z+", size: "+W);break}var sQ=["Txt2","artd","extd","luni","pths"];
if(sQ.indexOf(Z)==-1)if(W%4!=0)console.log("size not multiple of 4!!!",Z);if(Z!="luni"&&Z!="TySh")if(W%4!=0)W+=4-W%4;
c+=W}var sA=[];for(var t=0;t<sA.length;t++)delete l[sA[t]];return c};BK.ZE=function(N,c,X,l){for(var C in X)if(X[C]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+C+"\" tag was present with a null value.");delete X[C]}for(var C in X){_.Rw(N,c,"8BIM");
c+=4;var q=c,J=0;_.Rw(N,c,C);c+=4;_.RD(N,c,0);c+=4;switch(C){case"iOpa":_.Pl(N,c,X[C],1);J=4;break;case"brst":J=0;
for(var Z=0;Z<3;Z++)if(X[C][Z]==0){_.Rn(N,c+J,Z);J+=4}break;case"knko":_.Pl(N,c,X[C],1);J=4;break;case"infx":_.Pl(N,c,X[C],1);
J=4;break;case"clbl":_.Pl(N,c,X[C],1);J=4;break;case"lmgm":_.Pl(N,c,X[C],1);J=4;break;case"vmgm":_.Pl(N,c,X[C],1);
J=4;break;case"lyid":_.Rn(N,c,X[C]);J=4;break;case"lsct":_.Rn(N,c,X[C].type);J=4;if(X[C].bg){_.Rw(N,c+4,"8BIM");
_.Rw(N,c+8,X[C].bg);J=12}break;case"lyvr":_.Rn(N,c,X[C]);J=4;break;case"lnsr":_.Rw(N,c,X[C]);J=4;break;
case"lspf":_.Rn(N,c,X[C]);J=4;break;case"lclr":_.RJ(N,c,X[C]);J=8;break;case"luni":_.Rk(N,c,X[C]);J=4+2*X[C].length;
break;case"fxrp":_.PB(N,c,X[C].x);_.PB(N,c+8,X[C].y);J=16;break;case"artb":case"artd":_.Rn(N,c,16);J=Br.Cb(N,X[C],c+4)+4;
break;case"SoCo":_.Rn(N,c,16);J=Br.Cb(N,X[C],c+4)+4;break;case"GdFl":_.Rn(N,c,16);J=Br.Cb(N,X[C],c+4)+4;
break;case"PtFl":_.Rn(N,c,16);J=Br.Cb(N,X[C],c+4)+4;break;case"CgEd":_.Rn(N,c,16);J=Br.Cb(N,X[C],c+4)+4;
break;case"brit":N.zG(c,8);_.RH(N.data,c+0,X[C].XE);_.RH(N.data,c+2,X[C].X_);_.RH(N.data,c+4,X[C].XT);
N.data[c+6]=X[C].XI;J=8;break;case"levl":var W=new Ib;J=B$.Zr(W,X[C]);_.PV(N,c,W.data);break;case"curv":J=By.RT(N,c,X[C]);
break;case"expA":J=14;N.zG(c,14);_.Rl(N.data,c,1);_.Pv(N.data,c+2,X[C][0]);_.Pv(N.data,c+6,X[C][1]);
_.Pv(N.data,c+10,X[C][2]);break;case"vibA":_.Rn(N,c,16);J=Br.Cb(N,X[C],c+4)+4;break;case"hue2":J=BU.RT(N,c,X[C]);
break;case"blnc":J=19;N.zG(c,J);for(var Z=0;Z<3;Z++){var s=X[C].Hq[Z];for(var t=0;t<3;t++)s.push(_.RH(N.data,c+Z*6+t*2,s[t]))}N.data[c+18]=X[C]._m?1:0;
break;case"blwh":_.Rn(N,c,16);J=Br.Cb(N,X[C],c+4)+4;break;case"phfl":var T=X[C].XB!=null?3:2;_.RJ(N,c,T);
var g=X[C].XB,R=X[C].color;if(T==3){_.P$(N,c+2,g[0]);_.P$(N,c+6,g[1]);_.P$(N,c+10,g[2])}if(T==2){_.RJ(N,c+2,R.Xs);
_.RJ(N,c+4,R.L_[0]);_.RJ(N,c+6,R.L_[1]);_.RJ(N,c+8,R.L_[2]);_.RJ(N,c+10,R.L_[3])}var P=c+2+(T==3?12:10);
N.zG(P,5);_.RX(N.data,P,X[C].XK);P+=4;N.data[P]=X[C].Xv?1:0;P++;J=P-c;break;case"mixr":J=44;N.zG(c,J);
_.Rl(N.data,c,1);_.Rl(N.data,c+2,X[C].X$?1:0);for(var Z=0;Z<20;Z++)_.RH(N.data,c+4+Z*2,X[C].q[Z]);break;
case"clrL":_.RJ(N,c,1);_.Rn(N,c+2,16);J=Br.Cb(N,X[C],c+6)+6;break;case"nvrt":J=0;break;case"post":_.RJ(N,c,X[C]);
J=2;break;case"thrs":_.RJ(N,c,X[C]);J=2;break;case"grdm":var O=X[C].c;N.zG(c,4);_.Rl(N.data,c,1);N.data[c+2]=X[C].rev?1:0;
N.data[c+3]=X[C].XU?1:0;var b=c+4;_.Rk(N,b,O.Nm.v);b+=4+O.Nm.v.length*2;var z=O.Clrs.v.length;_.RJ(N,b,z);
b+=2;for(var Z=0;Z<z;Z++){var R=O.Clrs.v[Z];_.Rn(N,b,R.v.Lctn.v);_.Rn(N,b+4,R.v.Mdpn.v);_.RJ(N,b+8,0);
var m=I.c.sw(I.c.si(R.v.Clr.v)),f=[m.Rd.v,m.Grn.v,m.Bl.v,0];for(var t=0;t<4;t++)_.RJ(N,b+10+t*2,Math.round(65535*(f[t]/255)));
b+=20}var B=O.Trns.v.length;_.RJ(N,b,B);b+=2;for(var Z=0;Z<B;Z++){var R=O.Trns.v[Z];_.Rn(N,b,R.v.Lctn.v);
_.Rn(N,b+4,R.v.Mdpn.v);_.RJ(N,b+8,Math.round(255*R.v.Opct.v.val/100));b+=10}_.RJ(N,b,2);b+=2;_.RJ(N,b,O.Intr.v);
b+=2;_.RJ(N,b,32);b+=2;_.RJ(N,b,X[C].mode);b+=2;_.Rn(N,b,X[C].XL);b+=4;_.RJ(N,b,X[C].XC?1:0);b+=2;_.RJ(N,b,X[C].XZ?1:0);
b+=2;_.Rn(N,b,X[C].XR);b+=4;_.RJ(N,b,X[C].XP);b+=2;for(var Z=0;Z<4;Z++)_.RJ(N,b+Z*2,X[C].Xh[Z]);b+=8;
for(var Z=0;Z<4;Z++)_.RJ(N,b+Z*2,X[C].Xr[Z]);b+=8;b+=2;J=b-c;break;case"selc":J=BG.RT(N,c,X[C]);break;
case"FMsk":_.PV(N,c,X[C]);J=X[C].length;break;case"Txt2":var K=new Ib,j=Bc.Zs(X[C].Xu,K),S=I.a(j,!0);
for(var Z=0;Z<j;Z++)S[Z]=K.data[Z];_.PV(N,c,S);J=S.length;break;case"vmsk":var r=X[C],n=0;_.Rn(N,c,3);
if(!r.XS)n+=1<<1;if(!r.isEnabled)n+=1<<2;_.Rn(N,c+4,n);J=8;var o=r.p.length;N.zG(c+8,o*26);BY._ZI(N.data,c+8,r.p,l.h,l.s);
J+=o*26;break;case"shmd":_.Rn(N,c,Object.keys(X[C]).length);var P=c+4;for(var y in X[C]){_.Rw(N,P,"8BIM");
P+=4;_.Rw(N,P,y);P+=4;_.Rn(N,P,0);P+=4;_.Rn(N,P,0);P+=4;_.Rn(N,P,16);P+=4;var D=Br.Cb(N,X[C][y],P);if(D%4!=0)D+=4-D%4;
_.Rn(N,P-8,D+4);P+=D}J=P-c;break;case"TySh":var P=c;_.RN(N,P,1);P+=2;var x=X[C],K=new Ib;x.Xk.DocumentResources=JSON.parse(JSON.stringify(x.Xk.ResourceDict));
var j=BJ.Zs(x.Xk,K),S=I.a(j,!0);for(var Z=0;Z<j;Z++)S[Z]=K.data[Z];x.Xx.EngineData={t:"tdta",v:S};var A=x.Xk.EngineDict.Editor.Text;
x.Xx.Txt.v=A.substring(0,A.length-1);_._Eh(N,P,x.Kp);P+=48;_.RN(N,P,50);P+=2;_.Rn(N,P,16);P+=4;P+=Br.Cb(N,x.Xx,P);
_.RN(N,P,1);P+=2;_.Rn(N,P,16);P+=4;P+=Br.Cb(N,x.XQ,P);_._vM(N,P,x.XA);P+=16;J=P-c;break;case"lmfx":_.Rn(N,c,0);
_.Rn(N,c+4,16);var e=JSON.parse(JSON.stringify(X[C])),U=!1;BK.ZT(e);for(var Z=0;Z<F.cf.length;Z++)if(e[F.cf[Z]]!=null)U=!0;
_.Rw(N,q,U?"lmfx":"lfx2");J=Br.Cb(N,e,c+8)+8;break;case"Patt":var L=c,Y=c;for(var Z=0;Z<X[C].length;
Z++){var E=X[C][Z],b=Y;_.Rn(N,Y,0);Y+=4;Y=Bz.__f(N,Y,E);var i=Y-b-4;if(i%4!=0)i+=4-i%4;_.Rn(N,b,i);Y=b+i+4}J=Y-L;
break;case"SoLd":_.Rw(N,c,"soLD");_.Rn(N,c+4,4);_.Rn(N,c+8,16);J=Br.Cb(N,X[C],c+12)+12;break;case"vstk":case"pths":_.Rn(N,c,16);
J=Br.Cb(N,X[C],c+4)+4;break;case"vscg__":_.Rw(N,c,X[C].key);_.Rn(N,c+4,16);J=Br.Cb(N,X[C].q,c+8)+8;break;
case"vogk__":_.Rn(N,c,1);_.Rn(N,c+4,16);J=Br.Cb(N,X[C],c+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var b=c;
for(var Z=0;Z<X[C].length;Z++){var a=X[C][Z],V=b;_.Rt(N,b,0);b+=8;_.Rw(N,b,a.type);b+=4;_.Rn(N,b,a.Xa);
b+=4;N.zG(b,1);N.data[b]=a.Ga.length;b++;_.Rw(N,b,a.Ga);b+=a.Ga.length;_.Rk(N,b,a.Xi);b+=4+a.Xi.length*2;
_.Rw(N,b,a.Xw);b+=4;_.Rw(N,b,a.XV);b+=4;_.Rt(N,b,a.raw.length);b+=8;N.zG(b,1);N.data[b]=a.open;b++;_.PV(N,b,a.raw);
b+=a.raw.length;_.Rn(N,b,1);b+=4;b+=11;var i=b-V-8;_.Rt(N,V,i);if(i%4!=0){N.zG(b,4-i%4);b+=4-i%4}}J=b-c;
break;case"FEid":var b=c;_.Rn(N,b,3);b+=4;for(var G=0;G<X[C].length;G++){var $=X[C][G];b+=4;var p=b;
b+=4;_.Pr(N,b,$.id);b+=$.id.length+1;_.Rn(N,b,1);b+=4;b+=4;var w=b;b+=4;_.Pa(N,b,$.rect);b+=16;_.Rn(N,b,8);
b+=4;_.Rn(N,b,24);b+=4;var BX=new I.IL($.rect.n());I.TZ($.buffer,BX);for(var Z=0;Z<24+2;Z++){var Bn=null;
if(Z==0)Bn=BX.W;if(Z==1)Bn=BX.d;if(Z==2)Bn=BX.w;if(Z==25)Bn=BX.u;_.Rn(N,b,Bn!=null?1:0);b+=4;if(Bn!=null){b+=4;
var Be=b;b+=4;N.zG(b,$.rect.n()+2);b=Ba.ZQ(Bn,N.data,$.rect.h,$.rect.s,b,3);_.Rn(N,Be,b-(Be+4))}}_.Rn(N,w,b-(w+4));
N.zG(b,1);N.data[b]=$.b?1:0;b++;if($.b!=null){var BW=$.b.rect,Bt=$.b.channel;BW=$.rect;Bt=I.a(BW.n());
I.set(Bt,$.b.color);I.Ty($.b.channel,$.b.rect,Bt,BW);_.Pa(N,b,BW);b+=16;b+=4;var Bq=b;b+=4;N.zG(b,BW.n()+2);
b=Ba.ZQ(Bt,N.data,BW.h,BW.s,b,3);_.Rn(N,Bq,b-(Bq+4))}var i=b-(p+4);_.Rn(N,p,i);if(i%4!=0)b+=4-i%4}J=b-c;
break;default:console.log("unknown layer tag: "+C+", size: "+J);c-=12;continue}var Bd=["Txt2","artd","extd","luni","pths"];
if(Bd.indexOf(C)==-1)if(J%4!=0)J+=4-J%4;_.RD(N,c-4,J);if(C!="luni"&&C!="TySh")if(J%4!=0)J+=4-J%4;c+=J}return c};
BK.Z_=function(N){for(var c=0;c<F.order.length;c++){var X=F.order[c],l=F.cf[c];if(N[l]==null)N[l]={t:"VlLs",v:[]};
if(N[X]!=null){N[l].v.push(N[X]);delete N[X]}var C=[];for(var q=0;q<N[l].v.length;q++){var J=N[l].v[q];
if(J.v.present==null||J.v.present.v==!0)C.push(J)}N[l].v=C}};BK.ZT=function(N){for(var c=0;c<F.order.length;
c++){var X=F.order[c],l=F.cf[c],C=N[l].v.length;if(C==0){delete N[l];continue}if(C==1){N[X]=N[l].v[0];
delete N[l];continue}}};BK.ZI=function(N,c){if(c=="GdFl"){if(N.Angl==null)N.Angl={v:{type:"#Ang",val:90},t:"UntF"};
if(N.Algn==null)N.Algn={v:!0,t:"bool"};if(N.Scl==null)N.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(N.Ofst==null)N.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(N.Rvrs==null)N.Rvrs={v:!1,t:"bool"};if(N.Dthr==null)N.Dthr={v:!1,t:"bool"}}if(c=="PtFl"){if(N.Algn==null)N.Algn={v:!0,t:"bool"};
if(N.Scl==null)N.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(N.phase==null)N.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
BK.clone=function(N,c){var X={};if(N=="TySh"){X.Kp=c.Kp.clone();X.Xx=JSON.parse(JSON.stringify(c.Xx));
X.XQ=JSON.parse(JSON.stringify(c.XQ));X.XA=c.XA.clone();X.Xk=JSON.parse(JSON.stringify(c.Xk));return X}else if(N=="fxrp")return c.clone();
else if(N=="vmsk")return c.clone();else return JSON.parse(JSON.stringify(c))};function Bi(N,c){}Bi.ZB=function(N,c,X,l){l=Bi._IM(N,c,X,l);
return l};Bi.Zs=function(N,c,X,l,C){l=Bi._PQ(N,c,X,l,C);return l};Bi._IM=function(N,c,X,l){var C=l;N.rect=_.Pu(X,l);
l+=16;var q=_.Rc(X,l);l+=2;N.Xl=[];var J=c.XJ;for(var Z=0;Z<q;Z++){N.Xl[Z]={id:_.RO(X,l),length:(J?_.Re:_.Y)(X,l+2)};
l+=J?10:6}var W=_.Ra(X,l,4);l+=4;if(W!="8BIM"){console.log("Invalid Blend mode signature: "+W);alert("Error in Photoshop file: wrong signature.");
throw"e"}N.bg=_.Ra(X,l,4);l+=4;N.opacity=X[l];l+=1;N.Xy=X[l]==1;l+=1;N.Xj=X[l];l+=1;if(X[l]!=0)console.log("error in filler!");
l+=1;var s=_.Y(X,l);l+=4;var t=l;l=Bi._Ti(N,X,l);l=Bi._Kh(N,X,l);var T=_.PP(X,l);N.name=T.rM;l+=T.length;
if(T.length%4!=0)l+=4-T.length%4;l=BK.Cg(X,l,t+s,N.add,J,c);if(N.Xo){var g=N.Xo;if(N.im()){N.im().Gy=g[0];
N.im().XO=g[1]}if(N.add.vmsk){N.add.vmsk.Gy=g[2];N.add.vmsk.XO=g[3]}}if(N.add.lsct){if(N.add.lsct.bg)N.bg=N.add.lsct.bg;
N.add.lsct=N.add.lsct.type}return l};Bi._PQ=function(N,c,X,l,C){var q=l;_.Pa(X,l,N.rect);l+=16;var J=N.ia();
_.RJ(X,l,J.length);l+=2;C.push(l);for(var Z=0;Z<J.length;Z++){_.RN(X,l,J[Z]);_.Rn(X,l+2,0);l+=6}_.Rw(X,l,"8BIM");
l+=4;_.Rw(X,l,N.bg);l+=4;_.Pl(X,l,N.opacity,1);l+=1;_.Pl(X,l,N.Xy?1:0,1);l+=1;_.Pl(X,l,N.Xj,1);l+=1;
_.Pl(X,l,0,1);l+=1;var W=l;_.Rn(X,l,0);l+=4;var s=l;l=Bi._IV(N,X,l);l=Bi._$q(N,X,l);var t=_.Pr(X,l,N.name);
l+=t;if(t%4!=0)l+=4-t%4;if(N.add.lsct){N.add.lsct={type:N.add.lsct};if(N.bg=="pass"){N.add.lsct.bg="pass";
N.bg="norm"}}if(N.bg=="pass")N.add.lsct={type:N.add.lsct,bg:"pass"};l=BK.ZE(X,l,N.add,c);if(N.add.lsct){if(N.add.lsct.bg)N.bg=N.add.lsct.bg;
N.add.lsct=N.add.lsct.type}var T=l-s;_.Rn(X,W,T);return l};Bi._Ti=function(N,c,X){var l=_.Y(c,X);X+=4;
if(l==0)return X;var C=X;N.b=new v.ig;N.b.rect=_.Pu(c,X);X+=16;N.b.color=c[X];X+=1;var q=Bi.ZZ(N.b,c,X);
X+=1;if(q){var J=!1,W=255,s=0,t=255,T=0;for(var Z=0;Z<N.Xl.length;Z++)if(N.Xl[Z].id==-3)J=!0;if(J){N.XF=Bi.ZL(c,X);
X+=18}var g=X,R=c[X];X++;if(R>>0&1){W=c[X];X++}if(R>>1&1){s=_.PE(c,X);X+=8}if(R>>2&1){t=c[X];X++}if(R>>3&1){T=_.PE(c,X);
X+=8}if((X-g&1)==1)X++;N.Xo=[W,s,t,T]}else{if(l==20)X+=2;else{N.XF=Bi.ZL(c,X);X+=18}}return C+l};Bi._IV=function(N,c,X){_.Rn(c,X,0);
X+=4;if(N.b==null)return X;var l=X,C=!0;_.Rn(c,X,0);_.Pa(c,X,N.b.rect);X+=16;_.Pl(c,X,N.b.color);X+=1;
Bi.ZR(N.b,c,X,C);X+=1;if(C){if(N.XF){Bi._If(c,X,N.XF);X+=18}_.Pl(c,X,15);X+=1;var q=N.im(),J=N.add.vmsk;
_.Pl(c,X,q?q.Gy:255);X+=1;_.PB(c,X,q?q.XO:0);X+=8;_.Pl(c,X,J?J.Gy:255);X+=1;_.PB(c,X,J?J.XO:0);X+=8;
X++;_.Rn(c,l-4,X-l)}return X};Bi.ZL=function(N,c){var X=new v.ig;Bi.ZZ(X,N,c);c+=1;X.color=N[c];c+=1;
X.rect=_.Pu(N,c);c+=16;return X};Bi._If=function(N,c,X){Bi.ZR(X,N,c,!1);c+=1;_.Pl(N,c,X.color);c+=1;
_.Pa(N,c,X.rect);c+=16};Bi.ZZ=function(N,c,X){var l=c[X];N.XS=(l>>0&1)==0;N.isEnabled=(l>>1&1)==0;N.XH=(l>>3&1)==1;
return l>>4&1};Bi.ZR=function(N,c,X,l){var C=0;if(!N.XS)C+=1<<0;if(!N.isEnabled)C+=1<<1;if(N.XH)C+=1<<3;
if(l)C+=1<<4;_.Pl(c,X,C)};Bi._Kh=function(N,c,X){var l=_.Y(c,X);X+=4;if(l!=5*8)console.log("unexpected Layer Blending Ranges content, size:",l);
N.XN=[];for(var C=0;C<l/4;C++){N.XN.push(_.Rc(c,X));X+=2;N.XN.push(_.Rc(c,X));X+=2}return X};Bi._$q=function(N,c,X){_.Rn(c,X,N.XN.length*2);
X+=4;for(var l=0;l<N.XN.length;l++){_.RJ(c,X,N.XN[l]);X+=2}return X};function Ba(){}Ba.ZB=function(N,c,X,l){l=Ba._Tj(c.XJ,c.XY,N,X,l);
return l};Ba.Zr=function(N,c,X,l,C){X=Ba._Ty(N,c,X,l,C);return X};Ba._Tj=function(N,c,X,l,C){var q=X.Xl,J={},Z=C;
for(var W=0;W<q.length;W++){var s=q[W],t=s.id,T=s.length,g;if(t==-3)g=X.XF.rect;else if(t==-2)g=X.b.rect;
else g=X.rect;var R=Ba.Zx(N,l,g.h,g.s,C,T);C+=T;if(t==-3)X.XF.channel=R;else if(t==-2)X.b.channel=R;
else J["c"+t]=R}var P=new I.IL(0);P.u=null;if(c==3){P.W=J.c0;P.d=J.c1;P.w=J.c2;P.u=J["c-1"]}else if(c==1){P.W=J.c0;
P.d=J.c0;P.w=J.c0;P.u=J["c-1"]}else if(c==4){var O=J.c0,b=J.c1,z=J.c2,m=J.c3,f=O.length,B=1/255;for(var W=0;
W<f;W++){var K=O[W],j=b[W],S=z[W],r=m[W]*B;O[W]=Math.round(K*r);b[W]=Math.round((.2*K+.8*j)*r);z[W]=Math.round((.2*j+.8*S)*r)}P.W=O;
P.d=b;P.w=z;P.u=J["c-1"];console.log("converting from CMYK to RGB")}if(P.u==null&&P.W!=null){P.u=I.clone(P.W);
I.set(P.u,255)}X.buffer=I.a(Math.max(0,X.rect.n()*4));I.TL(P,X.buffer);return C};Ba._Ty=function(N,c,X,l,C){var q=N.ia(),J=new I.IL(N.rect.n());
I.TZ(N.buffer,J);for(var Z=0;Z<q.length;Z++){var W=q[Z],s,t;if(W==-3)s=N.XF.rect;else if(W==-2)s=N.b.rect;
else s=N.rect;if(W==-3)t=N.XF.channel;if(W==-2)t=N.b.channel;if(W==-1)t=J.u;if(W==0)t=J.W;if(W==1)t=J.d;
if(W==2)t=J.w;c.zG(X,s.n()*3+4);var T=X;X=Ba.ZQ(t,c.data,s.h,s.s,X,C[1]?3:1);var g=X-T;if(g%2!=0){g+=g%2;
X++}_.RX(c.data,l+Z*6+2,g)}return X};Ba.Zx=function(N,c,X,l,C,q){var J=_.RO(c,C);C+=2;return Ba.ZA(N,c,X,l,C,J,q-2)};
Ba.ZQ=function(N,c,X,l,C,q){_.RH(c,C,q);C+=2;C=Ba.Zk(N,c,X,l,C,q);return C};Ba.ZA=function(N,c,X,l,C,q,J){var Z,W=X*l,s=W&3,t=W+(s==0?0:4-s);
if(q==0){if(C+t<=c.length)Z=c.slice(C,C+t);else{Z=I.a(W);for(var T=0;T<W;T++)Z[T]=c[C+T]}C+=W}else if(q==1){Z=I.a(W);
var g=N?4:2,R=Ba.Zu(c,Z,X,l,C,C+g*l,g);C+=g*l+R}else if(q==2||q==3){var P=new Uint8Array(c.buffer,C+2,J-6),O=pako.inflateRaw(P);
if(q==3){for(var b=0;b<l;b++){var z=b*X+1,m=z+X-1,f=O[z-1];O[z-1]=f;for(var B=z;B<m;B++){f+=O[B];O[B]=f&255}}}if(O.length==t)Z=O;
else{Z=I.a(t);for(var T=0;T<O.length;T++)Z[T]=O[T]}}else console.log("Unknown compression: "+q);return Z};
Ba.Zk=function(N,c,X,l,C,q){var J=X*l;if(q==0)for(var Z=0;Z<J;Z++)c[C++]=N[Z];else if(q==1){var W=Ba.Zp(N,c,X,l,C,C+2*l);
C+=2*l+W}else if(q==2||q==3){if(q==3){var s=new Uint8Array(N.length);for(var t=0;t<l;t++){var T=t*X+1,g=T+X-1,R=N[T-1];
s[T-1]=R;for(var P=T;P<g;P++){s[P]=N[P]+(256-R)&255;R=N[P]}}N=s}c[C]=120;c[C+1]=156;C+=2;var O=pako.deflateRaw(N,{_TO:4});
_.Pw(c,C,O);C+=O.length+4}else console.log("Unknown compression: "+q);return C};Ba.Zu=function(N,c,X,l,C,q,J){var Z=q,W=l|0;
if(J==2)for(var s=0;s<W;s++){var t=_.Rc(N,C+(s<<1));Ba.Zi(N,q,t,c,s*X,X);q+=t}else for(var s=0;s<W;s++){var t=_.Y(N,C+(s<<2));
Ba.Zi(N,q,t,c,s*X,X);q+=t}return q-Z};Ba.Zp=function(N,c,X,l,C,q){var J=q;for(var Z=0;Z<l;Z++){var W=Ba._Bg(N,Z*X,X,c,q);
_.Rl(c,C+Z*2,W);q+=W}return q-J};Ba._Bg=function(N,c,X,l,C){var q,J,Z,W,s,t,T;W=c+X;for(Z=c,J=C;X>0;
Z=q,X-=t){T=X<128?X:128;if(Z<=W-3&&N[Z+1]==N[Z+0]&&N[Z+2]==N[Z+0]){for(q=Z+3;q<Z+T&&N[q]==N[Z+0];)++q;
t=q-Z;l[J++]=1+256-t;l[J++]=N[Z+0]}else{for(q=Z;q<Z+T;)if(q<=W-3&&N[q+1]==N[q+0]&&N[q+2]==N[q+0])break;
else++q;t=q-Z;l[J++]=t-1;for(var g=0;g<t;g++)l[J+g]=N[Z+g];J+=t}}return J-C};Ba.Zi=function(N,c,X,l,C,q){for(var J=0;
J<X;){var Z=N[c++];if(Z>=128){var W=N[c++],s=C+(257-Z);l.fill(W,C,s);C=s;J+=2}else{var s=C+(1+Z);while(C<s)l[C++]=N[c++];
J+=1+1+Z}}};function BA(){}BA.ZB=function(N,c){c.XJ=!1;c._Rx=8;var X=new Uint8Array(N),l=0,C=0,P=0;C=BA.ZV(c,X,l);
l=C;C=BA._$M(c,X,l);l=C;C=BA._RZ(c,X,l);l=C;C=BA._ZF(c,X,l);l=C;C=BA._Cv(c,X,l);l=C;if(c.R.length==0){var q=c.c_();
q.ii("Background");c.R.push(q);q.buffer=I.clone(c.buffer);q.rect=new u(0,0,c.h,c.s)}if(c.XM.r1005){c.Xm=_.Rc(c.XM.r1005,0)}if(c.XM.r1026){var X=c.XM.r1026;
for(var J=0;J<X.length;J+=2){var C=c.R[J>>>1];if(C)C.XG=_.Rc(X,J)}}if(c.XM.r1032){var X=c.XM.r1032,Z=_.Y(X,12);
for(var J=0;J<Z;J++){var W=X[16+J*5+4],s=_.Y(X,16+J*5)/32;c.Xb[W].push(s)}}if(c.XM.r1065){var X=c.XM.r1065;
c.XX={};Br.CG(c.XM.r1065,c.XX,4,!1)}if(c.XM.r1069){var X=c.XM.r1069,t=[];for(var J=2;J<X.length;J+=4){var T=_.Y(X,J);
for(var g=0;g<c.R.length;g++){var C=c.R[g];if(C.add.lyid==T&&C.add.lsct!=3)t.push(g)}}c.Q=t}delete c.XJ;
var R=new u(0,0,c.h,c.s),O=c.add.Txt2,b=O;if(b){b=b.Xu;if(b._DocumentResources==null)b=_r.yK(b)}if(O&&O.Xu._DocumentResources!=null){var z="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),m=O.Xu._DocumentResources._TextFrameSet._Resources;
for(var J=0;J<m.length;J++){}}for(var J=0;J<c.R.length;J++){var C=c.R[J],f=C.add.vmsk,B=C.im();if(C.iF()&&C.iM(c).b){var K=C.iM(c);
K.b.isEnabled=C.add.SoLd.filterFX.v.filterMaskEnable.v}if(f&&C.i$()&&C.add.vstk==null){C.add.vstk=JSON.parse(JSON.stringify(F.cF.default));
C.add.vstk.strokeEnabled.v=!1}if(B==null&&C.b!=null){if(C.b.XH==!1){C.b.XH=!0;C.XF=C.b.clone()}else{f.XF=C.b;
f.Xe=!1;C.b.XO=f.XO;C.b.Gy=f.Gy}}if(B!=null&&f!=null&&(B.XO+f.XO!=0||B.Gy+f.Gy!=2*255))C.ih(c);if(C.i$()&&(C.rect.BH()||f&&f.XO!=0))C.ir(c);
if(C.add.TySh&&b){var j=C.add.TySh.Xk,S=_W.Ja(j),r=j.EngineDict.ParagraphRun.RunArray,n=b._DocumentObjects._TextObjects;
if(n.length<=P){console.log("Txt2 incomplete");continue}n=n[P]._Model._ParagraphRun._RunArray;var o=Math.min(n.length,r.length);
for(var g=0;g<o;g++){var y=r[g].ParagraphSheet.Properties,D=b._DocumentResources._ParagraphSheetSet._Resources,x=n[g]._RunData._ParagraphSheet;
if(typeof x=="string")x=D[parseInt(x.slice(1))]._Resource;var A=x._Parent==null?x:D[parseInt(x._Parent.slice(1))]._Resource,e=x._Features._ParagraphDirection;
if(e==null)e=A._Features._ParagraphDirection;if(e)y._Direction=parseInt(e.slice(1))}var U=b._DocumentResources,L=U._TextFrameSet._Resources,Y=L[P]._Resource,E=new Bh(1,0,0,1,0,0);
if(Y._0){var i=parseFloat(Y._0[0].slice(1)),a=parseFloat(Y._0[1].slice(1));E.translate(i,a)}if(S){E.translate(S[0],S[1]);
_W.Ji(j,[0,0,S[2]-S[0],S[3]-S[1]])}else{if(Y._Bezier&&Y._Bezier._Points){var V=Y._Bezier._Points,i=parseFloat(V[0].slice(1)),a=parseFloat(V[1].slice(1));
if(i!=0||a!=0){E.translate(i,a)}}}if(Y._Data&&Y._Data._FrameMatrix){var G=Y._Data._FrameMatrix;G=G.map(function($){return parseFloat($.slice(1))});
E.concat(new Bh(G[0],G[1],G[2],G[3],G[4],G[5]))}E.concat(C.add.TySh.Kp);C.add.TySh.Kp=E;P++}}BL.kd.uC(c,!0)};
BA._KM=function(N,c,X,l){for(var C=0;C<l;C++)if(N[X+C]!=c[X+C])return!1;return!0};BA.Zs=function(N,c,X){BL.kd.kg(N);
BL.kd.uC(N,!1);var l=[],C=[],q=[],J=[],Z=[],j=0;for(var W=0;W<N.R.length;W++){var s=N.R[W],t=new u(0,0,N.h,N.s);
if(s.iF()&&s.iM(N).b){s.add.SoLd.filterFX.v.filterMaskEnable.v=s.iM(N).b.isEnabled}if(s.add.SoLd){C.push(s.add.SoLd.Idnt.v);
q.push(s.add.SoLd.placed.v)}if(s.add.TySh){s.add.TySh.Xx.TextIndex={t:"long",v:l.length};l.push(s.add.TySh.Xk)}if(s.add.PtFl)J.push(s.add.PtFl.Ptrn.v.Idnt.v);
if(s.add.lmfx){for(var T=0;T<F.cf.length;T++){var g=s.add.lmfx[F.cf[T]].v;for(var R=0;R<g.length;R++)if(g[R].v.Ptrn)J.push(g[R].v.Ptrn.v.Idnt.v)}}var P=s.add.vstk;
if(P&&P.strokeStyleContent.v.classID=="patternLayer"){J.push(P.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(s.i$()){Z[W]=[s.rect,s.buffer];
s.rect=new u;s.buffer=I.a(0)}}if(l.length>0){var O=N.add.Txt2?N.add.Txt2.Xu:null;N.add.Txt2={};N.add.Txt2.Xu=_h._$Z(l,null,O)}var b=N.add.lnk2;
if(b){var z=N.add.lnk2=[];for(var W=0;W<b.length;W++)if(C.indexOf(b[W].Ga)!=-1)z.push(b[W]);if(z.length==0)delete N.add.lnk2}var m=N.add.FEid;
if(m){var f=N.add.FEid=[];for(var W=0;W<m.length;W++)if(q.indexOf(m[W].id)!=-1)f.push(m[W]);if(f.length==0)delete N.add.FEid}var B=N.add.Patt;
if(B){var K=N.add.Patt=[];for(var W=0;W<B.length;W++)if(J.indexOf(B[W].id)!=-1)K.push(B[W])}j=BA._Cr(N,c,j);
j=BA._Pj(N,c,j);j=BA._LB(N,c,j);j=BA._Bz(N,c,j,X);j=BA._Z$(N,c,j,X[0]);for(var W=0;W<N.R.length;W++){var s=N.R[W];
if(s.i$()){s.rect=Z[W][0];s.buffer=Z[W][1]}}if(b)N.add.lnk2=b;if(m)N.add.FEid=m;if(B)N.add.Patt=B;BL.kd.uC(N,!0);
return j};BA.ZV=function(N,c,X){var l=_.Ra(c,X,4);X+=4;if(l!="8BPS")alert("invalid header signature: "+l);
var C=_.Rc(c,X);X+=2;N.XJ=C==2;if(C!=1&&C!=2)alert("invalid version: "+C);X+=6;N.XW=_.Rc(c,X);X+=2;N.s=_.RY(c,X);
X+=4;N.h=_.RY(c,X);X+=4;var q=_.Rc(c,X);X+=2;if(q!=8)alert(q+" Bits/Channel are not supported!");N._Rx=q;
N.XY=_.Rc(c,X);X+=2;var J=N.XY,Z="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" ");
if(J!=3){if(J==1||J==4)alert("Project will be converted from "+Z[J]+" to "+Z[3]+" mode.");else{alert("Color mode "+Z[J]+" is not supported yet :(");
return null}}return X};BA._Cr=function(N,c,X){c.zG(0,64);_.Ri(c.data,X,"8BPS");X+=4;_.Rl(c.data,X,1);
X+=2;_.RX(c.data,X,0);X+=4;_.Rl(c.data,X,0);X+=2;_.Rl(c.data,X,N.XW);X+=2;_.Rz(c.data,X,N.s);X+=4;_.Rz(c.data,X,N.h);
X+=4;_.Rl(c.data,X,8);X+=2;_.Rl(c.data,X,3);X+=2;return X};BA._$M=function(N,c,X){var l=_.RY(c,X);X+=4;
X+=l;return X};BA._Pj=function(N,c,X){_.RD(c,X,0);X+=4;return X};BA._RZ=function(N,c,X){var l=_.Y(c,X),C=0,T="";
X+=4;var q=[];while(C<l){var J=_.Ra(c,X+C,4);C+=4;var Z=_.Rc(c,X+C);C+=2;var W=_.PP(c,X+C);C+=W.length;
if(J!="8BIM"){q.push(Z);console.log("Unknown Image Resources signature: "+J+", ID: "+Z)}var s=_.Y(c,X+C);
C+=4;if(N.XM["r"+Z]!=null)console.log("--- two resources with same ID");N.XM["r"+Z]=_.Pi(c,X+C,s);C+=s;
if(s%2!=0)C++}for(var t=0;t<q.length;t++)delete N.XM["r"+q[t]];if(N.Vn()==null)N.Ve(30);return X+l};
BA._LB=function(N,c,X){N.XM.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);_.Rl(N.XM.r1005,0,N.Xm);
_.Rl(N.XM.r1005,8,N.Xm);N.XM.r1026=new Uint8Array(N.R.length*2);for(var l=0;l<N.R.length;l++)_.Rl(N.XM.r1026,l*2,N.R[l].XG);
var C=N.Xb,q=C[0].length+C[1].length,J=N.XM.r1032=I.a(16+5*q,!0),Z=16,b=0;_.RX(J,0,1);_.RX(J,4,576);
_.RX(J,8,576);_.RX(J,12,q);for(var l=0;l<2;l++)for(var W=0;W<C[l].length;W++){_.RX(J,Z,Math.round(C[l][W]*32));
J[Z+4]=l;Z+=5}var s=new Ib;_.Rn(s,0,16);var t=Br.Cb(s,N.XX,4);N.XM["r"+1065]=s.data.slice(0,t+4);var T=N.Q;
J=N.XM["r"+1069]=I.a(2+T.length*4,!0);_.Rl(J,0,T.length);for(var l=0;l<T.length;l++)_.RX(J,2+4*l,N.R[T[l]].add.lyid);
var g=new Date,R=[g.getFullYear(),g.getMonth()+1,g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds()];
for(var l=0;l<6;l++)R[l]=(R[l]+"").padStart(2,"0");var P=[{t274:[1],t282:[72],t283:[72],t296:[2],t305:["Photopea Editor (www.photopea.com)"],t306:[R[0]+":"+R[1]+":"+R[2]+" "+R[3]+":"+R[4]+":"+R[5]]},{t259:[6],t282:[72],t283:[72],t296:[2],t513:[302],t514:[0]}];
N.XM["r"+1058]=new Uint8Array(UTIF.encode(P));var O=X;_.Rn(c,X,4294967295);X+=4;for(var z in N.XM){_.Rw(c,X+b,"8BIM");
b+=4;var m=parseInt(z.substring(1));_.RJ(c,X+b,m);b+=2;var f=_.Pr(c,X+b,"");b+=f;var B=N.XM["r"+m],K=B.length;
_.Rn(c,X+b,K);b+=4;_.PV(c,X+b,B);b+=K;if(K%2==1)b++}_.Rn(c,O,b);return X+b};BA._ZF=function(N,c,X){var l=X,C,q=N.XJ?8:4;
if(N.XJ)C=_.Re(c,X);else C=_.Y(c,X);X+=q;if(C==0)return l+q;X=BA._BY(N,c,X);X=BA._RO(N,c,X);X=BK.Cg(c,X,l+q+C,N.add,N.XJ,N);
return l+q+C};BA._Bz=function(N,c,X,l){var C=X;_.Rn(c,X,0);X+=4;X=BA._BN(N,c,X,l);X=BA._Ro(N,c,X);X=BK.ZE(c,X,N.add,N);
_.Rn(c,C,X-C-4);return X};BA._BY=function(N,c,X){var l=X,C,q=N.XJ?8:4,J;if(N.XJ)C=_.Re(c,X);else C=_.Y(c,X);
X+=q;J=_.RO(c,X);X+=2;if(C==0){console.log("no layers!");return X-2}var Z=Math.abs(J);for(var W=0;W<Z;
W++){var s=new v;X=Bi.ZB(s,N,c,X);N.R[W]=s}for(var W=0;W<Z;W++){var s=N.R[W];X=Ba.ZB(s,N,c,X)}if(C%2!=0)C++;
return l+C+q};BA._BN=function(N,c,X,l){var C=X;_.Rn(c,X,0);X+=4;var q=N.R.length;_.RJ(c,X,-q);X+=2;var J=[];
for(var Z=0;Z<q;Z++)X=Bi.Zs(N.R[Z],N,c,X,J);for(var Z=0;Z<q;Z++)X=Ba.Zr(N.R[Z],c,X,J[Z],l);var W=X-C-4;
if(W%2!=0)W++;_.Rn(c,C,W);return C+W+4};BA._RO=function(N,c,X){var l=_.Y(c,X);X+=4;X+=l;return X};BA._Ro=function(N,c,X){var l=_.Rn(c,X,0);
X+=4;return X};BA._Cv=function(N,c,X){var l=_.Rc(c,X),C;X+=2;N.buffer=I.a(N.h*N.s*4);I.Tr(N.buffer,4278190080);
var q=X;for(var J=0;J<N.XW;J++){if(l==0){C=Ba.ZA(N.XJ,c,N.h,N.s,X,l);X+=N.h*N.s}else if(l==1){C=I.a(N.h*N.s);
var Z=N.XJ?4:2;if(J==0)X+=N.XW*N.s*Z;X+=Ba.Zu(c,C,N.h,N.s,q+J*N.s*Z,X,Z)}else console.log("unknown compression of image data: ",l);
I.TP(C,N.buffer,J);if(N.XW==1&&J==0){I.TP(C,N.buffer,1);I.TP(C,N.buffer,2)}}N.XW=4;return X};BA._Z$=function(N,c,X,l){var C=1,q=16,J=N.h,Z=N.s,s,t;
_.RJ(c,X,C);X+=2;var W=J*Z;if(!l){t=new I.IL(J*Z);I.TZ(N.buffer,t);for(var T=0;T<W;T++){var g=t.u[T]*(1/255);
t.W[T]=~~(t.W[T]*g+255*(1-g));t.d[T]=~~(t.d[T]*g+255*(1-g));t.w[T]=~~(t.w[T]*g+255*(1-g))}}else s=I.a(W);
var R=X;for(var P=0;P<N.XW;P++){c.zG(X,J*Z+4);if(!l)s=P==0?t.W:P==1?t.d:P==2?t.w:t.u;if(C==0||C==2||C==3)X=Ba.Zk(s,c.data,J,Z,X,C);
else{if(P==0)X+=N.XW*Z*2;var O=X;X+=Ba.Zp(s,c.data,J,Z,R+P*Z*2,X)}}return X};function BJ(){}BJ.ZB=function(N){var c={};
BJ.Zm(N,c,0,0);return c};BJ.Zs=function(N,c){var X=0;X=BJ.ZM(N,c,X,0);return X};BJ.Zm=function(N,c,X,l){while(N[X]!="<".charCodeAt(0))X++;
X+=2;while(!0){if(N[X]=="/".charCodeAt(0)){X++;var C=_.indexOf(N," ".charCodeAt(0),X,X+50),q=_.indexOf(N,"\n".charCodeAt(0),X,X+50);
if(q==-1)q=Infinity;if(C==-1)C=Infinity;var J=_.Ra(N,X,Math.min(q,C)-X),Z=BJ.ZG(N,Math.min(q,C)+1,l+1,J);
c[J]=Z.q;X=Math.min(q,C)+1;X+=Z.size}else if(N[X]==">".charCodeAt(0)){X+=2;break}else{var W=N[X];if(W==10||W==9||W==32)X++;
else{console.log("unknown byte: "+W+", char: "+String.fromCharCode(W),X);X++}}}return X};BJ.ZM=function(N,c,X,l){_.Rw(c,X,"<<\n");
X+=3;var C=BJ._Zv;for(var q in N){_.Pl(c,X,"\t".charCodeAt(0),l+1);X+=l+1;_.Rw(c,X,"/"+q);X+=1+q.length;
if(C(N[q])||N[q]instanceof Array){_.Rw(c,X," ");X++}else{_.Rw(c,X,"\n");X++;_.Pl(c,X,"\t".charCodeAt(0),l+1);
X+=l+1}X=BJ.Zb(N[q],c,X,l+1);_.Rw(c,X,"\n");X++}_.Pl(c,X,"\t".charCodeAt(0),l);X+=l;_.Rw(c,X,">>");X+=2;
return X};BJ.ZG=function(N,c,X,l){var C=c,q={size:0,q:0};while(!0){while(N[c]==" ".charCodeAt(0)||N[c]=="\t".charCodeAt(0)||N[c]=="\n".charCodeAt(0))c++;
if(N[c]=="<".charCodeAt(0)){q.q={};c=BJ.Zm(N,q.q,c,X+1);break}else if(N[c]=="(".charCodeAt(0)){c+=3;
var J=c;while(!0){if(N[J]==")".charCodeAt(0)&&(N[J+1]=="\n".charCodeAt(0)||N[J+1]==" ".charCodeAt(0)))break;
else J++}q.q=_.RZ(N,c,J);c=J+2;break}else if(N[c]=="[".charCodeAt(0)){c++;q.q=[];while(N[c]==" ".charCodeAt(0)||N[c]=="\t".charCodeAt(0)||N[c]=="\n".charCodeAt(0))c++;
while(N[c]!="]".charCodeAt(0)){var Z=BJ.ZG(N,c,X+1,l);q.q.push(Z.q);c+=Z.size;while(N[c]==" ".charCodeAt(0)||N[c]=="\t".charCodeAt(0)||N[c]=="\n".charCodeAt(0))c++}c++;
break}else{var W=_.indexOf(N," ".charCodeAt(0),c,c+50),s=_.indexOf(N,"\n".charCodeAt(0),c,c+50);if(s==-1)s=Infinity;
if(W==-1)W=Infinity;var t=_.Ra(N,c,Math.min(W,s)-c).trim(),T=parseFloat(t);if(!isNaN(T)){q.q=parseFloat(t);
c=Math.min(W,s)+1;break}else if(t=="true"||t=="false"){q.q=t=="true";c=Math.min(W,s)+1;break}else console.log("unknown identifier: "+t);
c=Math.min(W,s)+1}}q.size=c-C;return q};BJ.Zb=function(N,c,X,l){if(N instanceof Array){var C=N.length==0||typeof N[0]=="number";
if(C){_.Rw(c,X,"[ ");X+=2;for(var q=0;q<N.length;q++){var J=N[q]+" ";_.Rw(c,X,J);X+=J.length}_.Rw(c,X,"]");
X+=1}else{_.Rw(c,X,"[\n");X+=2;for(var q=0;q<N.length;q++){_.Pl(c,X,"\t".charCodeAt(0),l);X+=l;X=BJ.Zb(N[q],c,X,l);
_.Rw(c,X,"\n");X++}_.Pl(c,X,"\t".charCodeAt(0),l);X+=l;_.Rw(c,X,"]");X+=1}}else if(N instanceof Object){X=BJ.ZM(N,c,X,l)}else if(typeof N=="string"){_.Rw(c,X,"(");
X++;_.Pl(c,X,254);X++;_.Pl(c,X,255);X++;X=_.RP(c,X,N);_.Rw(c,X,")");X+=1}else{var J=N+"";_.Rw(c,X,J);
X+=J.length}return X};BJ._Zv=function(N){var c=typeof N;return c=="string"||c=="number"||c=="boolean"};
function _x(){}_x.ZB=function(N){var c=new Uint8Array(N),X={},l=0,C=_.Rc(c,l);l+=2;var q=_.Rc(c,l);l+=2;
var J=_.Ra(c,l,8);l+=8;var Z=_.Y(c,l);l+=4;if(Z>0)X.Xt=_x._Cs(c,l,Z,q,C);l+=Z;var W=_.Ra(c,l,8);l+=8;
var s=_.Y(c,l);l+=4;if(s>0)X.Xq=_x._Un(c,l,s);l+=s;var t=_.Ra(c,l,8);l+=8;var T=_.Y(c,l);l+=4;if(T>0)X.Xd=_x._Ub(c,l,T);
l+=T;var g=X.Xd.Brsh.v;for(var R=0;R<g.length;R++){_U.cW.check(g[R].v)}return X};_x._Cs=function(N,c,X,l,C){var q=c+X,J=[];
while(c<q){var Z=c,W=_.Y(N,c),t;c+=4;var s=_.PP(N,c);c+=s.length;if(l==1){c+=9;t=_.Pu(N,c);c+=16}else{c+=11;
t=_.Pu(N,c);c+=16;var T=_.Y(N,c);c+=4;c+=T*4;var g=_.Y(N,c);c+=4;var R=_.Y(N,c);c+=4;var P=_.Pu(N,c);
c+=16}var O=_.Rc(N,c);c+=2;var b=N[c];c+=1;var z={};z.id=s.rM;z.rect=t;z.channel=Ba.ZA(!1,N,t.h,t.s,c,b);
J.push(z);if(W%4!=0)Z+=4-W%4;c=Z+W+4}return J};_x._Un=function(N,c,X){var l=c+X,C=[];while(c<l){var q=c,J=_.Y(N,c);
c+=4;var Z=_.Y(N,c);c+=4;var W=_.Y(N,c);c+=4;var s=_.Rc(N,c);c+=2;var t=_.Rc(N,c);c+=2;var T=_.RQ(N,c);
c+=4+2*T.length;var g=_.PP(N,c);c+=g.length;var R=_.Rc(N,c);c+=2;var P=N[c];c+=1;var O=_.Y(N,c);c+=4;
var b=_.Pu(N,c);c+=16;var z=_.Y(N,c);c+=4;var m=new I.IL(b.n());I.set(m.u,255);for(var f=0;f<W;f++){var B=_.Y(N,c);
c+=4;var K=_.Y(N,c);c+=4;var j=_.Y(N,c);c+=4;var S=_.Pu(N,c);c+=16;var r=_.Rc(N,c);c+=2;var n=N[c];c+=1;
var o=Ba.ZA(!1,N,b.h,b.s,c,n);if(f==0)m.W=o;else if(f==1)m.d=o;else if(f==2)m.w=o;else m.u=o;c+=K-23}var y={};
y.name=T;y.id=g.rM;y.rect=b;y._Tn=m;C.push(y);var D=c;if(J%4!=0)q+=4-J%4;c=q+J+4}return C};_x._Ub=function(N,c,X){var l={};
Br.CG(N,l,c+6);return l};function By(){}By.ZB=function(N){var c=new Uint8Array(N),X=[],l=0,C=_.Rc(c,l);
l+=2;if(C!=4){throw"Unknown version of curves: "+C}var q=_.Rc(c,l);l+=2;for(var J=0;J<q;J++){var Z=By.Zd(c,l);
l+=2+2*Z.length;X.push(Z)}if(l==c.length)return X;var W=_.Ra(c,l,4);l+=4;var s=_.Rc(c,l);l+=2;var t=_.Rc(c,l);
l+=2;if(t!=0)throw"extra curves for channels";return X};By.Zt=function(N,c,X){var l=c,C=[],q=N[c];c+=3;
var J=_.Y(N,c);c+=4;for(var Z=0;Z<4;Z++){var W=J>>>Z&1;if(W){if(q==0){var s=By.Zd(N,c);c+=2+2*s.length}else{var s=By._Kw(N,c);
c+=256}C.push(s)}else C.push(q==0?[0,0,255,255]:By.__G())}return C};By.__G=function(){var N=[];for(var c=0;
c<256;c++)N.push(c);return N};By.Zd=function(N,c){var X=[],l=_.Rc(N,c);c+=2;for(var C=0;C<l;C++){var q=_.Rc(N,c);
c+=2;var J=_.Rc(N,c);c+=2;X.push(J,q)}return X};By._ZB=function(N,c,X){var l=X.length/2;_.RJ(N,c,l);
c+=2;for(var C=0;C<l;C++){_.RJ(N,c,X[C*2+1]);c+=2;_.RJ(N,c,X[C*2+0]);c+=2}};By._Kw=function(N,c){var X=[];
for(var l=0;l<256;l++)X.push(N[c+l]);return X};By.__y=function(N,c,X){N.zG(c,256);for(var l=0;l<256;
l++)N.data[c+l]=X[l]};By.RT=function(N,c,X){var l=c,C=X[0].length==256?1:0;N.zG(c,3);N.data[c]=C;N.data[c+1]=0;
N.data[c+2]=1;c+=3;_.Rn(N,c,15);c+=4;for(var q=0;q<4;q++){var J=X[q];if(C==0){By._ZB(N,c,J);c+=2+2*J.length}else{By.__y(N,c,J);
c+=256}}return c-l};function BU(){}BU.Zt=function(N,c,X){var l={},C=_.Rc(N,c);c+=2;l.nE=N[c]==1;c++;
c++;l.mZ=[_.RO(N,c),_.RO(N,c+2),_.RO(N,c+4)];c+=6;l.n_=[_.RO(N,c),_.RO(N,c+2),_.RO(N,c+4)];c+=6;l.nT=[];
for(var q=0;q<6;q++){var J={};J.nI=[_.RO(N,c),_.RO(N,c+2),_.RO(N,c+4),_.RO(N,c+6)];c+=8;J.Hq=[_.RO(N,c),_.RO(N,c+2),_.RO(N,c+4)];
c+=6;l.nT.push(J)}return l};BU.RT=function(N,c,X){var l=2+2+12+6*14,C=N.data;N.zG(c,l);_.Rl(C,c,2);c+=2;
C[c]=X.nE?1:0;c++;c++;_.RH(C,c+0,X.mZ[0]);_.RH(C,c+2,X.mZ[1]);_.RH(C,c+4,X.mZ[2]);c+=6;_.RH(C,c+0,X.n_[0]);
_.RH(C,c+2,X.n_[1]);_.RH(C,c+4,X.n_[2]);c+=6;for(var q=0;q<6;q++){var J=X.nT[q].nI,Z=X.nT[q].Hq;_.RH(C,c+0,J[0]);
_.RH(C,c+2,J[1]);_.RH(C,c+4,J[2]);_.RH(C,c+6,J[3]);c+=8;_.RH(C,c+0,Z[0]);_.RH(C,c+2,Z[1]);_.RH(C,c+4,Z[2]);
c+=6}return l};function B$(){}B$.ZB=function(N){var c=new Uint8Array(N),X=2,l=[];for(var C=0;C<29;C++){var q=[];
l.push(q);for(var J=0;J<5;J++)q.push(_.Rc(c,X+C*10+J*2))}X+=29*10;if(X==c.length)return l;var Z=_.Ra(c,X,4);
X+=4;var W=_.Rc(c,X);X+=2;var s=_.Rc(c,X);X+=2;var t=s-29;for(var C=0;C<t;C++){var q=[];l.push(q);for(var J=0;
J<5;J++)q.push(_.Rc(c,X+C*10+J*2))}return l};B$.Zr=function(N,c){var X=0;N.zG(0,2+29*10);_.Rl(N.data,X,2);
X+=2;for(var l=0;l<29;l++){var C=c[l];for(var q=0;q<5;q++)_.Rl(N.data,X+l*10+q*2,C[q])}X+=29*10;if(c.length==29)return X;
N.zG(X,8+10*(c.length-29));_.Ri(N.data,X,"Lvls");X+=4;_.Rl(N.data,X,3);X+=2;_.Rl(N.data,X,c.length);
X+=2;var J=c.length-29;for(var l=0;l<J;l++){var C=c[29+l];for(var q=0;q<5;q++)_.Rl(N.data,X+l*10+q*2,C[q])}X+=10*J;
return X};function BG(){}BG.Zt=function(N,c,X){var l=_.Rc(N,c);c+=2;var C={};C.nB=_.Rc(N,c)==1;c+=2;
C.ns=[];for(var q=0;q<10;q++){var J=[];C.ns.push(J);for(var Z=0;Z<4;Z++)J.push(_.RO(N,c+Z*2));c+=8}return C};
BG.RT=function(N,c,X){N.zG(c,84);_.Rl(N.data,c,1);c+=2;_.Rl(N.data,c,X.nB?1:0);c+=2;for(var l=0;l<10;
l++){var C=X.ns[l];for(var q=0;q<4;q++)_.RH(N.data,c+q*2,C[q]);c+=8}return 84};function BY(){}BY.ZB=function(N){N=new Uint8Array(N);
var c=0,X=[],l=Date.now(),C=_.Ra(N,0,4);c+=4;var q=_.Y(N,c);c+=4;var J=_.Y(N,c);c+=4;for(var Z=0;Z<J;
Z++){var W=_.RQ(N,c);c+=W.length*2+4;if((W.length&1)==1)c+=2;var s=_.Y(N,c);c+=4;var t=_.Y(N,c);c+=4;
var T=c,g=_.PP(N,T).rM;T+=g.length+1;var R=_.Pu(N,T);T+=16;var P=BY.RI(N,T,t-(T-c));X.push({nK:W,nv:g,p:P,n$:R});
c+=t}return X};BY.RI=function(N,c,X,l,C){if(l==null)l=1;if(C==null)C=1;var q=[],J=Math.floor(X/26);for(var Z=0;
Z<J;Z++){var W=c+Z*26,s={},t=0;q.push(s);s.type=_.RO(N,W);W+=2;if(s.type==6){t=24}if(s.type==8){s.all=_.RO(N,W);
W+=2;t=22}if(s.type==0||s.type==3){s.length=_.RO(N,W);W+=2;s.GU=_.RO(N,W);W+=2;s.GL=_.RO(N,W);W+=2;s.GN=_.Y(N,W);
W+=4;s.GY=_.Y(N,W);W+=4;t=10}if(s.type==1||s.type==2||s.type==4||s.type==5){var T,g;g=_.PC(N,W);W+=4;
T=_.PC(N,W);W+=4;s.GC=new k(T*l,g*C);g=_.PC(N,W);W+=4;T=_.PC(N,W);W+=4;s.t=new k(T*l,g*C);g=_.PC(N,W);
W+=4;T=_.PC(N,W);W+=4;s.GR=new k(T*l,g*C);t=0}for(var R=0;R<t;R++)if(N[W+R]!=0){console.log("Unexpected non-zero byte!",s,R,N[W+R])}}return q};
BY._ZI=function(N,c,X,l,C){var q=X.length;for(var J=0;J<q;J++){var Z=c+J*26,W=X[J];_.RH(N,Z,W.type);
Z+=2;if(W.type==6){}if(W.type==8)_.RH(N,Z,W.all);if(W.type==0||W.type==3){_.RH(N,Z,W.length);Z+=2;_.RH(N,Z,W.GU);
Z+=2;_.RH(N,Z,W.GL);Z+=2}if(W.type==1||W.type==2||W.type==4||W.type==5){_.PZ(N,Z,W.GC.y/C);Z+=4;_.PZ(N,Z,W.GC.x/l);
Z+=4;_.PZ(N,Z,W.t.y/C);Z+=4;_.PZ(N,Z,W.t.x/l);Z+=4;_.PZ(N,Z,W.GR.y/C);Z+=4;_.PZ(N,Z,W.GR.x/l);Z+=4}}};
function BN(){}BN.ZB=function(N){var c=new Uint8Array(N),X=0,l=_.Y(c,X),W;X+=4;var C=_.Ra(c,X,8);X+=8;
var q=_.Rq(c,X);X+=4;var J=_.Rq(c,X);X+=4;var Z=_.Rq(c,X);X+=4;if(l==2){W=new Float32Array(N,32,N.byteLength-32>>>2)}else if(l==3){W=new Float32Array(J*Z*2);
var s=0,t=0,T=!0;X=32;while(X<c.length){var g=_.Rq(c,X);X+=4;if(T)t+=g;else{for(var R=0;R<g;R++){W[s+t+R<<1]=_.PK(c,X);
W[(s+t+R<<1)+1]=_.PK(c,X+4);X+=8}t+=g}T=!T;if(g!=0&&t==J){s+=J;t=0;T=!0;if(s==J*Z)break}}}else throw"unknown Mesh version: "+l;
return{ML:J,MC:Z,map:W}};BN.Zs=function(N){var c=N.ML,X=N.MC,l=N.map,C=new Uint8Array(32+X*c*8+X*8),q=0,J=0;
_.RX(C,q,3);q+=4;_.Ri(C,q,"yfqLhseM");q+=8;_.Rd(C,q,2);q+=4;_.Rd(C,q,c);q+=4;_.Rd(C,q,X);q+=4;_.Rd(C,q,0);
q+=4;_.Rd(C,q,1);q+=4;for(var Z=0;Z<X;Z++){_.Rd(C,q,0);q+=4;_.Rd(C,q,c);q+=4;for(var W=0;W<c;W++){_.PU(C,q,l[J]);
_.PU(C,q+4,l[J+1]);J+=2;q+=8}}return C.buffer};function Bb(){}Bb.ZB=function(N){var c=new Uint8Array(N),X=0,l=_.Ra(c,X,4);
X+=4;var C=_.Rc(c,X);X+=2;var q=_.Y(c,X);X+=4;var J=[];for(var Z=0;Z<q;Z++){var W=_.Y(c,X);X+=4;var s={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
J.push(s);s.Nm.v=_.RQ(c,X);X+=4+s.Nm.v.length*2;var t=_.Rc(c,X);X+=2;var T=_.Rc(c,X);X+=2;for(var g=0;
g<T;g++){var R=I.vn.ve(0,0,!0);R.v.Vrtc.v=_.Rc(c,X);X+=2;R.v.Hrzn.v=_.Rc(c,X);X+=2;s.Crv.v.push(R)}if(W==1){}else if(W==2){for(var g=0;
g<T;g++){s.Crv.v[g].v.Cnty.v=c[X]==1;X+=1}}else throw"error";var P=_.Y(c,X);X+=4;var O=_.Y(c,X);X+=4}return J};
function Bz(){}Bz.ZB=function(N){var c=new Uint8Array(N),X=4,l=_.Rc(c,X);X+=2;var C=_.Y(c,X);X+=4;var q=[];
for(var J=0;J<C;J++){var Z={};q.push(Z);X=Bz.Rs(c,X,Z)}return q};Bz.Rs=function(N,c,X){var l=_.Y(N,c);
c+=4;if(l!=1)alert("Unknown version of pattern");var C=_.Y(N,c);c+=4;if(C!=1&&C!=2&&C!=3)console.log("Unsupported mode of pattern: "+C);
var q=_.Rc(N,c);c+=2;var J=_.Rc(N,c);c+=2;X.Gj=new u(0,0,J,q);X.name=_.RQ(N,c);c+=4+2*X.name.length;
X.name=X.name.substring(0,X.name.length-1);var Z=N[c];c++;X.id=_.Ra(N,c,Z);c+=X.id.length;var W=-1;if(C==2){W=c;
c+=3*256+4}var s=new I.IL(J*q);c=Bz._UH(N,c,s);if(C==2){for(var t=0;t<s.W.length;t++){var T=3*s.W[t];
s.W[t]=N[W+T+0];s.d[t]=N[W+T+1];s.w[t]=N[W+T+2]}}X.Ml=I.a(X.Gj.n()*4);I.TL(s,X.Ml);return c};Bz.__f=function(N,c,X){_.Rn(N,c,1);
c+=4;_.Rn(N,c,3);c+=4;_.RJ(N,c,X.Gj.h);c+=2;_.RJ(N,c,X.Gj.s);c+=2;_.Rk(N,c,X.name+"\0");c+=4+2*X.name.length+2;
_.Pl(N,c,X.id.length);c++;_.Rw(N,c,X.id);c+=X.id.length;var l=new I.IL(X.Gj.n());I.TZ(X.Ml,l);c=Bz._LY(N,c,l,X);
return c};Bz._UH=function(N,c,X){var l=c,C={Gj:null,nU:[],nL:null,nC:null},q=_.Y(N,c);c+=4;var J=_.Y(N,c);
c+=4;C.Gj=_.Pu(N,c);c+=16;var Z=_.Y(N,c);c+=4;for(var W=0;W<Z+2;W++){var s=_.Y(N,c);c+=4;if(s==0)continue;
var t=_.Y(N,c);c+=4;if(t==0)continue;var T=_.Y(N,c);c+=4;var g=_.Pu(N,c);c+=16;var R=_.Rc(N,c);c+=2;
var P=N[c];c++;var O=Ba.ZA(!1,N,g.h,g.s,c,P);if(W<Z)C.nU.push(O);if(W==Z)C.nL=O;if(W==Z+1)C.nC=O;c+=t-23}if(C.nU[0])X.W=C.nU[0];
if(C.nU[1])X.d=C.nU[1];else X.d=I.clone(C.nU[0]);if(C.nU[2])X.w=C.nU[2];else X.w=I.clone(C.nU[0]);if(C.nC)X.u=C.nC;
else I.set(X.u,255);return c};Bz._LY=function(N,c,X,l){var C=c,q={Gj:l.Gj,nU:[X.W,X.d,X.w],nL:null,nC:X.u};
_.Rn(N,c,3);c+=4;_.Rn(N,c,0);c+=4;_.Pa(N,c,q.Gj);c+=16;_.Rn(N,c,24);c+=4;for(var J=0;J<24+2;J++){var Z=c,W=J<3||J==25?1:0;
_.Rn(N,c,W);c+=4;if(W==0)continue;_.Rn(N,c,0);c+=4;_.Rn(N,c,8);c+=4;_.Pa(N,c,q.Gj);c+=16;_.RJ(N,c,8);
c+=2;_.Pl(N,c,0,1);c++;var s=J<3?q.nU[J]:q.nC;N.zG(c,l.Gj.n()+2);c=Ba.Zk(s,N.data,l.Gj.h,l.Gj.s,c,0);
_.Rn(N,Z+4,c-Z-8)}_.Rn(N,C+4,c-C-8);return c};function _P(){}_P.ZB=function(N){var c=new Uint8Array(N),X=0,l=_.Ra(c,X,4);
X+=4;var C=_.Rc(c,X);X+=2;var q={},J=Br.CG(c,q,X+6);return q.GrdL.v};function _(){}_.RU=function(N){var c="";
for(var X=3;X>=0;X--)c+=String.fromCharCode(N>>X*8&255);return c};_._KP=function(N){var c=0;for(var X=N.length-1;
X>=0;X--)c|=N.charCodeAt(X)<<(3-X)*8;return c};_.indexOf=function(N,c,X,l){if(X==null)X=0;if(l==null)l=N.length;
l=Math.min(l,N.length);for(var C=X;C<l;C++)if(N[C]==c)return C;return-1};_._Po=function(N,c,X){if(X==null)X=0;
if(typeof c=="string"){var l=[];for(var C=0;C<c.length;C++)l.push(c.charCodeAt(C));c=l}for(var C=X;C<N.length;
C++){var q=!0;for(var J=0;J<c.length;J++)if(c[J]!=N[C+J]){q=!1;break}if(q)return C}return-1};_.RZ=function(N,c,X){var l=[],q="";
while(c<X){var C=N[c++];if(C=="\\".charCodeAt(0))l.push(N[c++]);else l.push(C)}for(var J=0;J<l.length;
J+=2)q+=String.fromCharCode(l[J]<<8|l[J+1]);return q};_._PK=function(N,c,X){var l=new Uint8Array(2);
for(var C=0;C<X.length;C++){_.Rl(l,0,X.charCodeAt(C));if(l[0]==")".charCodeAt(0)||l[0]=="(".charCodeAt(0)||l[0]=="\\".charCodeAt(0)){N[c]="\\".charCodeAt(0);
c++}N[c]=l[0];c++;if(l[1]==")".charCodeAt(0)||l[1]=="(".charCodeAt(0)||l[1]=="\\".charCodeAt(0)){N[c]="\\".charCodeAt(0);
c++}N[c]=l[1];c++}return c};_.RP=function(N,c,X){N.zG(c,4*X.length);return _._PK(N.data,c,X)};_.Rh=function(N,c,X){var l="";
for(var C=0;C<X;C++){var q=N[c++]<<8|N[c++];l+=String.fromCharCode(q)}return l};_.Rr=function(N,c,X){for(var l=0;
l<X.length;l++){var C=X.charCodeAt(l);_.Rl(N,c+2*l,C)}};_._Uh=function(N,c,X){N.zG(c,2*X.length);_.Rr(N.data,c,X)};
_._ZV=function(N,c,X){var l="";for(var C=0;C<X;C++)l+="%"+("0"+N[c+C].toString(16)).slice(-2);return decodeURIComponent(l)};
_.Rx=function(N,c){var X=_.Y(N,c);c+=4;if(X>65535)return"";var l=_._ZV(N,c,X-1);return{Mw:l,MV:4+X}};
_.RQ=function(N,c){var X=_.Y(N,c);c+=4;if(X>65535)return"";var l=_.Rh(N,c,X);return l};_._$P=function(N,c,X){_.RX(N,c,X.length);
c+=4;_.Rr(N,c,X)};_.Rk=function(N,c,X){N.zG(c,4+2*X.length);_._$P(N.data,c,X)};_._$R=function(N,c,X){var l=[];
for(var C=0;C<X;C++)l.push(String.fromCharCode(N[c+C]));return l};_._$z=function(N,c,X){var l=!1,C=N.length-X.length;
for(var q=c;q<C;q++){for(var J=0;J<X.length;J++){if(N[q+J]!=X.charCodeAt(J))break;if(J==X.length-1)return q}}};
_.Ra=function(N,c,X){var l="";for(var C=0;C<X;C++)l+=String.fromCharCode(N[c+C]);return l};_.Ri=function(N,c,X){for(var l=0;
l<X.length;l++)N[c+l]=X.charCodeAt(l)};_.Rw=function(N,c,X){N.zG(c,X.length);_.Ri(N.data,c,X)};_._Uw=function(N,c,X){var l="";
for(var C=0;C<X;C++){var q=N[c+C];if(q<10)l+="  ";else if(q<100)l+=" ";l+=q+", "}return l};_.Rc=function(N,c){return N[c]<<8|N[c+1]};
_.Rl=function(N,c,X){N[c]=X>>8&255;N[c+1]=X&255};_.RJ=function(N,c,X){N.zG(c,4);_.Rl(N.data,c,X)};_.Ry=function(N,c){return N[c+1]<<8|N[c]};
_.Rj=function(N,c,X){N[c+1]=X>>8&255;N[c]=X&255};_._sp=function(N,c,X){N.zG(c,4);_.Rj(N.data,c,X)};_.RO=function(N,c){_.Py[0]=N[c+1];
_.Py[1]=N[c];return _.PJ[0]};_._Rc=function(N,c){_.Py[0]=N[c];_.Py[1]=N[c+1];return _.PJ[0]};_.RH=_.Rl;
_.RN=_.RJ;_.RY=function(N,c){_.Po[0]=N[c+3];_.Po[1]=N[c+2];_.Po[2]=N[c+1];_.Po[3]=N[c];return _.Pj[0]};
_.Rz=function(N,c,X){_.Pj[0]=X;N[c+3]=_.Po[0];N[c+2]=_.Po[1];N[c+1]=_.Po[2];N[c+0]=_.Po[3]};_.RD=function(N,c,X){N.zG(c,4);
_.Rz(N.data,c,X)};_.Rm=function(N,c){_.Po[0]=N[c+0];_.Po[1]=N[c+1];_.Po[2]=N[c+2];_.Po[3]=N[c+3];return _.Pj[0]};
_.RM=function(N,c,X){_.Pj[0]=X;N[c+0]=_.Po[0];N[c+1]=_.Po[1];N[c+2]=_.Po[2];N[c+3]=_.Po[3]};_._Ew=function(N,c,X){N.zG(c,4);
_.RM(N.data,c,X)};_.Y=function(N,c){var X=N[c]*(256*256*256)+(N[c+1]<<16|N[c+2]<<8|N[c+3]);return X};
_.RX=function(N,c,X){N[c]=X>>24&255;N[c+1]=X>>16&255;N[c+2]=X>>8&255;N[c+3]=X>>0&255};_.Rn=function(N,c,X){N.zG(c,4);
_.RX(N.data,c,X)};_.Re=function(N,c){return _.Y(N,c)<<32|_.Y(N,c+4)};_._Ei=function(N,c,X){_.RX(N,c,X>>16>>16);
_.RX(N,c+4,X&4294967295)};_.Rt=function(N,c,X){N.zG(c,8);_._Ei(N.data,c,X)};_.Rq=_.Rm;_.Rd=_.RM;_.Rg=_._Ew;
_.PE=function(N,c){var X=new Uint8Array(8);for(var l=0;l<8;l++)X[l]=N[c+7-l];var C=new Float64Array(X.buffer);
return C[0]};_._Eu=function(N,c){var X=new Uint8Array(8);for(var l=0;l<8;l++)X[l]=N[c+l];var C=new Float64Array(X.buffer);
return C[0]};_.PT=function(N,c,X){var l=new Float64Array(1);l[0]=X;var C=new Uint8Array(l.buffer);for(var q=0;
q<4;q++){var J=C[q];C[q]=C[7-q];C[7-q]=J}for(var q=0;q<8;q++)N[c+q]=C[q]};_.PB=function(N,c,X){N.zG(c,8);
_.PT(N.data,c,X)};_.Ps=function(N,c){_.Po[0]=N[c+3];_.Po[1]=N[c+2];_.Po[2]=N[c+1];_.Po[3]=N[c+0];return _.PO[0]};
_.PK=function(N,c){_.Po[0]=N[c+0];_.Po[1]=N[c+1];_.Po[2]=N[c+2];_.Po[3]=N[c+3];return _.PO[0]};_.Pv=function(N,c,X){_.PO[0]=X;
N[c+0]=_.Po[3];N[c+1]=_.Po[2];N[c+2]=_.Po[1];N[c+3]=_.Po[0]};_.P$=function(N,c,X){N.zG(c,4);_.Pv(N.data,c,X)};
_.PU=function(N,c,X){_.PO[0]=X;N[c+0]=_.Po[0];N[c+1]=_.Po[1];N[c+2]=_.Po[2];N[c+3]=_.Po[3]};_._Kn=function(N,c,X){N.zG(c,4);
_.PU(N.data,c,X)};_.PC=function(N,c){var X=_.RY(N,c)/16777215;return X};_.PZ=function(N,c,X){_.Rz(N,c,Math.floor(X*16777215))};
_._$v=function(N,c,X){N.zG(c,4);_.PZ(N.data,c,X)};_.PP=function(N,c){var X=N[c],l=_.Ra(N,c+1,X);X+=1-X%2;
return{rM:l,length:X+1}};_._La=function(N,c,X){var l=X.length;N[c]=l;_.Ri(N,c+1,X);if(l%2==0){N[c+1+l]=0;
++l}return l+1};_.Pr=function(N,c,X){N.zG(c,X.length+2);return _._La(N.data,c,X)};_.PS=function(N,c){var X=new Bh;
X.u=_.PE(N,c+0*8);X.w=_.PE(N,c+1*8);X.Mz=_.PE(N,c+2*8);X.Mm=_.PE(N,c+3*8);X.MD=_.PE(N,c+4*8);X.MM=_.PE(N,c+5*8);
return X};_.Pf=function(N,c,X){_.PT(N,c+0*8,X.u);_.PT(N,c+1*8,X.w);_.PT(N,c+2*8,X.Mz);_.PT(N,c+3*8,X.Mm);
_.PT(N,c+4*8,X.MD);_.PT(N,c+5*8,X.MM)};_._Eh=function(N,c,X){N.zG(c,48);_.Pf(N.data,c,X)};_._$E=function(N,c){var X=_.Ps(N,c),l=_.Ps(N,c+4),C=_.Ps(N,c+8),q=_.Ps(N,c+12);
return new u(X,l,C-X,q-l)};_._Uu=function(N,c,X){_.Pv(N,c,X.x);_.Pv(N,c+4,X.y);_.Pv(N,c+8,X.x+X.h);_.Pv(N,c+12,X.y+X.s)};
_._vM=function(N,c,X){N.zG(c,16);_._Uu(N.data,c,X)};_.Pu=function(N,c){var X=_.RY(N,c),l=_.RY(N,c+4),C=_.RY(N,c+8),q=_.RY(N,c+12);
return new u(l,X,q-l,C-X)};_.Pp=function(N,c,X){_.Rz(N,c,X.y);_.Rz(N,c+4,X.x);_.Rz(N,c+8,X.y+X.s);_.Rz(N,c+12,X.x+X.h)};
_.Pa=function(N,c,X){N.zG(c,16);_.Pp(N.data,c,X)};_.Pi=function(N,c,X){var l=new Uint8Array(X);for(var C=0;
C<X;C++)l[C]=N[c+C];return l};_.Pw=function(N,c,X){N.set(X,c)};_.PV=function(N,c,X){N.zG(c,X.length);
_.Pw(N.data,c,X)};_._Ru=function(N,c,X,l){if(!l)l=1;for(var C=0;C<l;C++)N[c+C]=X};_.Pl=function(N,c,X,l){if(!l)l=1;
N.zG(c,l);_._Ru(N.data,c,X,l)};_.PJ=new Int16Array(1);_.Py=new Uint8Array(_.PJ.buffer);_.Pj=new Int32Array(1);
_.Po=new Uint8Array(_.Pj.buffer);_.PO=new Float32Array(_.Pj.buffer);function u(N,c,X,l){if(!N)N=0;if(!c)c=0;
if(!X)X=0;if(!l)l=0;this.x=N;this.y=c;this.h=X;this.s=l}u.prototype.n=function(){return this.h*this.s};
u.prototype.clone=function(){return new u(this.x,this.y,this.h,this.s)};u.prototype.contains=function(N,c){return N>=this.x&&N<=this.x+this.h&&(c>=this.y&&c<=this.y+this.s)};
u.prototype.PH=function(N){return this.contains(N.x,N.y)};u.prototype.PN=function(N){return this.x<=N.x&&this.y<=N.y&&N.x+N.h<=this.x+this.h&&N.y+N.s<=this.y+this.s};
u.prototype.Cy=function(N){this.x=N.x;this.y=N.y;this.h=N.h;this.s=N.s};u.prototype.TA=function(N){return this.x==N.x&&this.y==N.y&&this.h==N.h&&this.s==N.s};
u.prototype.PY=function(N,c){this.x-=N;this.y-=c;this.h+=2*N;this.s+=2*c};u.prototype.__R=function(N){this.PY(N.x,N.y)};
u.prototype.vm=function(N){var c=Math.max(this.x,N.x),X=Math.max(this.y,N.y),l=Math.min(this.x+this.h,N.x+N.h),C=Math.min(this.y+this.s,N.y+N.s);
if(l<c||C<X)return new u;else return new u(c,X,l-c,C-X)};u.prototype.PD=function(N){if(N.y+N.s<this.y||N.x>this.x+this.h||N.y>this.y+this.s||N.x+N.h<this.x)return!1;
return!0};u.prototype.BH=function(){return this.h<=0||this.s<=0};u.prototype.offset=function(N,c){this.x+=N;
this.y+=c};u.prototype.Pm=function(N){this.offset(N.x,N.y)};u.prototype._UO=function(){this.x=this.y=this.h=this.s=0};
u.prototype.Cj=function(N,c,X,l){this.x=N;this.y=c;this.h=X;this.s=l};u.prototype.vz=function(N){if(this.BH())return N.clone();
if(N.BH())return this.clone();var c=this.clone();c._ZA(N);return c};u.IF=new Float32Array(2);u.prototype._ZA=function(N){if(N.BH())return;
if(this.BH()){this.Cy(N);return}this.Pb(N.x,N.y);this.Pb(N.x+N.h,N.y+N.s)};u.prototype.Pb=function(N,c){var X=Math.min(this.x,N),l=Math.min(this.y,c);
this.h=Math.max(this.x+this.h,N)-X;this.s=Math.max(this.y+this.s,c)-l;this.x=X;this.y=l};u.prototype._LT=function(N,c,X,l){if(this.h==0&&this.s==0)this._PH(N,c);
else this.Pb(N,c);this.Pb(X,l)};u.prototype._PH=function(N,c){this.x=N;this.y=c;this.h=this.s=0};function Bc(){}Bc.ZB=function(N){var c={};
Bc.Pe(N,c,0,0);return c};Bc.Zs=function(N,c){var X=0;_.Rw(c,X," ");X++;X=Bc.PW(N,c,X,0);X--;c.zG(X,2);
c.data[X]=c.data[X+1]=0;X+=2;return X};Bc.Zm=function(N,c,X,l){while(N[X]!="<".charCodeAt(0)){X++;console.log("\u0161ipka")}X+=2;
X=Bc.Pe(N,c,X,l);return X};Bc.ZM=function(N,c,X,l){_.Rw(c,X,"<< ");X+=3;X=Bc.PW(N,c,X,l);_.Rw(c,X,">>");
X+=2;return X};Bc.Pe=function(N,c,X,l){while(!0){while(N[X]==" ".charCodeAt(0)||N[X]==0)X++;if(X>=N.length)break;
if(N[X]=="/".charCodeAt(0)){X++;var C=_.indexOf(N," ".charCodeAt(0),X),q=_.Ra(N,X,C-X);X=C+1;var J=Bc.ZG(N,X,l,q);
c["_"+q]=J.q;X+=J.size}else if(N[X]==">".charCodeAt(0)){X+=2;break}else{var Z=N[X];console.log("unknown byte: "+Z+", char: "+String.fromCharCode(Z)+", offset: "+X);
X++;return-1}}return X};Bc.PW=function(N,c,X,l){for(var C in N){var q=C.substring(1,C.length);_.Rw(c,X,"/"+q);
X+=1+q.length;_.Rw(c,X," ");X++;X=Bc.Zb(N[C],c,X,l+1);_.Rw(c,X," ");X++}return X};Bc.ZG=function(N,c,X,l){var C=c,q={type:"",size:0,q:0};
while(N[c]==" ".charCodeAt(0))c++;if(N[c]=="<".charCodeAt(0)){q.type="Object";q.q={};c=Bc.Zm(N,q.q,c,X+1)}else if(N[c]=="(".charCodeAt(0)){q.type="String";
c++;if(N[c]==")".charCodeAt(0)){q.q="s";c++}else{c+=2;var J=c,_T=0;while(!0){if(N[J]==")".charCodeAt(0)&&N[J-1]!="\\".charCodeAt(0))break;
else J+=1}q.q="s"+_.RZ(N,c,J);c=J+2}}else if(N[c]=="[".charCodeAt(0)){c++;q.q=[];q.type="Array";while(N[c]==" ".charCodeAt(0))c++;
while(N[c]!="]".charCodeAt(0)){var Z=Bc.ZG(N,c,X+1,l);if(Z==-1)return-1;q.q.push(Z.q);c+=Z.size;delete Z.size;
while(N[c]==" ".charCodeAt(0))c++}c++}else{var W=_.indexOf(N," ".charCodeAt(0),c),s=_.Ra(N,c,W-c),t=parseFloat(s);
if(!isNaN(t)&&s.indexOf(".")!=-1){q.type="Float";var T=parseFloat(s);q.q="f"+T}else if(!isNaN(t)&&s.indexOf(".")==-1){q.type="Integer";
q.q="i"+parseInt(s)}else if(s=="true"||s=="false"){q.type="Boolean";q.q=s=="true"}else if(s.charAt(0)=="/"){q.type="BString";
q.q=s}else console.log("unknown value",s);c=W+1}q.size=c-C;return q};Bc._Px=function(N){if(N==Math.round(N))return N+".0";
var c=N.toFixed(5);if(0<N&&N<1)c=c.substring(1,c.length);if(-1<N&&N<0)c="-"+c.substring(2,c.length);
return c};Bc.Zb=function(N,c,X,l){if(N instanceof Array){_.Rw(c,X,"[ ");X+=2;for(var C=0;C<N.length;
C++){X=Bc.Zb(N[C],c,X,l);_.Rw(c,X," ");X++}_.Rw(c,X,"]");X+=1}else if(N instanceof Object){X=Bc.ZM(N,c,X,l)}else if(typeof N=="string"&&N.charAt(0)=="s"){_.Rw(c,X,"(");
X++;_.Pl(c,X,254);X++;_.Pl(c,X,255);X++;X=_.RP(c,X,N.substring(1));_.Rw(c,X,")");X++}else if(typeof N=="string"&&N.charAt(0)=="/"){_.Rw(c,X,N);
X+=N.length}else if(typeof N=="string"&&N.charAt(0)=="f"){var q=parseFloat(N.substring(1)),J=Bc._Px(q);
_.Rw(c,X,J);X+=J.length}else if(typeof N=="string"&&N.charAt(0)=="i"){_.Rw(c,X,N.substring(1));X+=N.length-1}else{var J=N+"";
_.Rw(c,X,J);X+=J.length}return X};function Bp(){}Bp.ZB=function(N,c){var X=new Uint8Array(N),l=0,C=_.Ra(X,l,9),Z=4;
l+=9;var q=_.Ra(X,l,4);l+=4;l++;c.h=_.Y(X,l);l+=4;c.s=_.Y(X,l);l+=4;var J=_.Y(X,l);l+=4;if(J!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(q)==-1){var W=_.Y(X,l);l+=4;if(W>150)alert("Unsupported precission! Not 8-bit.");
Z=8}var s={};l=Bp.hK(X,l,s);var t=[];l=Bp.hs(X,l,t,Z);var T=[];l=Bp.hs(X,l,T,Z);c.nZ=0;for(var g=0;g<t.length;
g++)Bp._vc(X,t[g],c,s,Z);while(c.nZ>0){c.R.push(c.cT());c.nZ--}c.R.reverse();delete c.nZ;c.buffer=I.a(c.h*c.s*4);
if(c.R.length==0)console.log("No layers!!!");for(var g=0;g<T.length;g++){var R=Bp.h_(X,T[g],s,Z);if(R.yi[BV._Cf])c.G={channel:R.lP,rect:new u(0,0,c.h,c.s)}}};
Bp._vc=function(N,c,X,l,C){var q=X.c_(),J=_.Y(N,c),t=0;c+=4;var Z=_.Y(N,c);c+=4;q.rect=new u(0,0,J,Z);
var W=_.Y(N,c);c+=4;var s=_.Rx(N,c);c+=s.MV;q.ii(s.Mw);var T={};c=Bp.hK(N,c,T);if(T[BV.hN]){var g=T[BV.hN];
t=g.length/4-1}if(T[BV.hu]){q.rect.x=_.RY(T[BV.hu],0);q.rect.y=_.RY(T[BV.hu],4)}if(T[BV.hP]){q.opacity=_.Y(T[BV.hP],0)}if(T[BV._PE]){q.add.lsct=_I.iW;
q.rect=new u(0,0,0,0);q.buffer=I.a(0);q.Xj=24}if(T[BV.hh]){var R=_.Y(T[BV.hh],0);q.bg=BV._Ed[R];if(q.iv()&&q.bg=="norm")q.bg="pass"}if(T[BV.hr]){if(_.Y(T[BV.hr],0)==0)q.Xj+=2}if(T[BV.hY]){var P=_.Y(T[BV.hY],0);
q.add.lsct=P&1==1?_I.iW:_I.it}if(T[BV.hc]){var O=T[BV.hc];for(var b in O){var z=O[b];if(b=="gimp-text-layer"){var m=Bp._IF(z),f=m.text,B=m.font,K=m.color,j=m["font-size"];
if(f==null&&m.markup){var S=new DOMParser,r=S.parseFromString(m.markup,"image/svg+xml");while(r.firstChild!=null&&r.firstChild.tagName!=null){r=r.firstChild;
var n=r.getAttribute("font"),o=r.getAttribute("foreground"),y=r.getAttribute("size");if(n!=null)B=n;
if(o!=null){o=CSS.rA(o);K=[1,o.W/255,o.d/255,o.w/255]}if(y!=null){j=""+parseFloat(y)/245}}f=r.textContent}q.add.TySh=_W.Jr(0,0);
q.add.TySh.XA=new u(0,0,100,100);q.add.TySh.Kp=new Bh(1,0,0,1,q.rect.x,q.rect.y);var D=q.add.TySh.Xk;
_W.Jl(D,0,f);var x=_W.JO(D,0,1),A=m.justify,e=m["line-spacing"];if(K)x.nR.FillColor={Type:1,Values:[1,parseFloat(K[1]),parseFloat(K[2]),parseFloat(K[3])]};
if(j){j=Math.round(parseFloat(j));x.nR.FontSize=j;q.add.TySh.Kp.MM+=Math.min(17,j*.17)}if(e){e=Math.round(parseFloat(e)+x.nR.FontSize*1.2);
x.nR.Leading=e;x.nR.AutoLeading=!1}if(A)x.nP.Justification=["left","right","center","fill"].indexOf(A);
if(B&&B!="Sans-serif"){var U=B.toLowerCase(),L="bold italic semi extra regular condensed light".split(" "),Y=U.length;
for(var E=0;E<L.length;E++){var i=U.indexOf(L[E]);if(i!=-1&&i<Y&&U[i-1]==" ")Y=i}if(Y!=U.length)B=B.slice(0,Y-1).split(" ").join("")+"-"+B.slice(Y).split(" ").join("");
_W.JQ(x,B)}_W.Jj(D,0,f.length,x);var a=m["box-width"],V=m["box-height"],G=a?parseFloat(a):q.rect.h,$=V?parseFloat(V):q.rect.s;
_W.Jp(D,1);_W.Ji(D,[0,0,Math.ceil(G),Math.ceil($)])}else console.log("Unknown property "+b)}}while(X.nZ>t){X.R.push(X.cT());
X.nZ--}X.nZ=t;if(q.add.lsct==_I.iW||q.add.lsct==_I.it)X.nZ++;var p=C==4?_.Y:_.Re;if(q.iV()){q.buffer=I.a(q.rect.n()*4);
var w=new I.IL(q.rect.n()),BX=p(N,c);c+=C;var Bn=p(N,c);c+=C;Bp.hT(N,BX,w,l,C);I.TL(w,q.buffer);if(Bn!=0){q.b=new v.ig;
q.b.color=0;q.b.rect=q.rect.clone();q.b.channel=Bp.h_(N,Bn,l,C).lP;if(T[BV.hx])q.b.isEnabled=_.Y(T[BV.hx],0)==1}}X.R.push(q)};
Bp._IF=function(N){var c="("+Bl.SC(N,0,N.length-1)+")",X=[],l={};Bp.hE(c,1,X);Bp._sG(X,l);return l};
Bp._sG=function(N,c){for(var X=0;X<N.length;X++){var l=N[X],C=l[0];if(l.length==2)c[C]=l[1];else c[C]=l.slice(1)}};
Bp.hE=function(N,c,X){while(!0){if(c>=N.length)throw"e";var l=N.charAt(c);c++;if(l=="("){var C=[];c=Bp.hE(N,c,C);
X.push(C)}else if(l==" "||l=="\n"||l=="\r"){}else if(l==")")return c;else if(l=="\""){var q=c;while(!0){var J=N[c];
c++;if(J=="\"")break;if(J=="\\")c++}X.push(JSON.parse(N.slice(q-1,c)))}else{var q=c-1;while(N[c]!=" "&&N[c]!=")")c++;
X.push(N.slice(q,c))}}};Bp.h_=function(N,c,X,l){var C=_.Y(N,c);c+=4;var q=_.Y(N,c);c+=4;var J=_.Rx(N,c);
c+=J.MV;var Z={};c=Bp.hK(N,c,Z);var W=new I.IL(C*q),s=l==4?_.Y:_.Re,t=s(N,c);c+=l;Bp.hT(N,t,W,X,l);return{lP:W.W,yi:Z}};
Bp.hT=function(N,c,X,l,C){var q=_.Y(N,c);c+=4;var J=_.Y(N,c);c+=4;var Z=_.Y(N,c);c+=4;var W=C==4?_.Y:_.Re,s=W(N,c);
c+=C;Bp._sH(N,s,X,l,Z,C)};Bp._sH=function(N,c,X,l,C,q){var J=_.Y(N,c),P=0;c+=4;var Z=_.Y(N,c);c+=4;var W=new u(0,0,J,Z),s=[];
c=Bp.hs(N,c,s,q);var t=new I.IL(64*64),T=new u,g=l[BV._Pl][0],R=[t.W,t.d,t.w,t.u];if(C==3)I.set(t.u,255);
for(var O=0;O<Z;O+=64)for(var b=0;b<J;b+=64){T.Cj(b,O,Math.min(J-b,64),Math.min(Z-O,64));Bp._vA(N,s[P++],T.h*T.s,g,C,R);
I.TH(t,T,X,W)}};Bp._vA=function(N,c,X,l,C,q){if(l==1){for(var J=0;J<C;J++){var Z=q[J],W=0;while(W<X){var s=N[c];
c++;if(s<127){var t=N[c];c++;s++;for(var T=0;T<s;T++)Z[W+T]=t}else if(s==127){var g=N[c];c++;var R=N[c];
c++;var t=N[c];c++;s=g<<8|R;for(var T=0;T<s;T++)Z[W+T]=t}else if(s==128){var g=N[c];c++;var R=N[c];c++;
s=g<<8|R;for(var T=0;T<s;T++)Z[W+T]=N[c+T];c+=s}else{s=256-s;for(var T=0;T<s;T++)Z[W+T]=N[c+T];c+=s}W+=s}}}else alert("Unknown compression "+l)};
Bp.hs=function(N,c,X,l){var C=l==4?_.Y:_.Re;while(!0){var q=C(N,c);c+=l;if(q==0)break;else X.push(q)}return c};
Bp.hK=function(N,c,X){while(!0){var l=_.Y(N,c);c+=4;var C=_.Y(N,c);c+=4;if(l==BV._PX)break;else if(l==BV.hc)X[l]=Bp._U$(N,c,c+C);
else X[l]=_.Pi(N,c,C);c+=C}return c};Bp._U$=function(N,c,X){var l={};while(c<X){var C=_.Rx(N,c);c+=C.MV;
var q=_.Y(N,c);c+=4;if(q!=1)console.log("unknown flags",q);var J=_.Y(N,c);c+=4;l[C.Mw]=_.Pi(N,c,J);c+=J}return l};
var BV={_PX:0,_IL:1,_RT:2,_TD:3,_Cf:4,__X:5,hP:6,hh:7,hr:8,_Cq:9,_EA:10,hx:11,_vs:12,_Ke:13,_EX:14,hu:15,__h:16,_Pl:17,_Cm:18,_$A:19,_$Q:20,hc:21,_BI:22,__Z:23,_KS:24,_LE:25,_vU:26,_Iz:27,_En:28,_PE:29,hN:30,hY:31,_Bs:32,__L:33,_CR:34,_sg:35,__F:36,_Ij:37,_BS:38,__e:0,_I_:1,__b:2,__N:3,__w:1,__i:2,_Ko:0,_US:1,_IA:1};
BV._Ed="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function BS(){}BS.ZB=function(N,c){var X=BS,l=Bu.parse(N),q=0;if(l.pages.length>1)console.log(l.pages.length,"pages");
var C=[],J=new u;for(var Z=0;Z<l.pages.length;Z++){var W=l.pages[Z],s=W.layers,t=X.sX(s,Z),g=!1;if(t.n()>8e3*8e3){X.rs(s,!0);
var T=X.sX(s,Z);if(T.n()>=t.n())X.rs(s,!1)}t=X.sX(s,Z);for(var R=0;R<s.length;R++){var P=s[R];if(P._class=="artboard")g=!0}if(!g){console.log("no artboard");
var O={};for(var b in W)O[b]=W[b];O._class="group";W.layers=[O]}C.push(t.clone());if(t.BH())continue;
t.x=0;t.y=q;q+=t.s+200;J=J.vz(t)}var z={};if(l.foreignSymbols)for(var m=0;m<l.foreignSymbols.length;
m++){var f=l.foreignSymbols[m].symbolMaster;z[f.symbolID]={nh:f}}X.rK(l.pages,z,c);for(var B in z){var P=z[B].nh,K=X.rv(P.layers)}var j=BS.rB(J,8192*8192);
c.nr=!0;c.h=Math.round(J.h/j);c.s=Math.round(J.s/j);c.buffer=I.a(c.h*c.s*4);c.Vw(l.pages[0].layers.length);
c.nS={};q=0;for(var Z=0;Z<l.pages.length;Z++){var S=l.pages[Z],t=C[Z],r=new Bh(j,0,0,j,t.x,t.y-q);X.r$(S.layers,c,r,l,z,{});
q+=t.s+200}delete c.nS;if(j!=1)alert("File scaled down "+j+"x")};BS._E_=0;BS.rB=function(N,c){var X=1;
while(Math.round(N.h/X)*Math.round(N.s/X)>c)X++;if(X!=1&&!window.confirm("Your image is quite large ("+N.h+" x "+N.s+" px).\n"+"Press OK to scale it down "+X+"x, or Cancel to keep the size."))X=1;
return X};BS.sX=function(N,c){var X=[],l=BS;for(var C=0;C<N.length;C++){var q=N[C],J=l.Pu(q.frame);if(c==0||q._class=="artboard")X.push(J)}return I.rect.vU(X)};
BS.rs=function(N,c){var X=[],l=BS;for(var C=0;C<N.length;C++){var q=N[C],J=l.Pu(q.frame);J.h+=150;J.s+=150;
X.push(J)}var Z=I.rect.vU(X);I.rect._KF(X,c);var W=I.rect.vU(X);if(W.n()*1.5<Z.n()){alert("Re-arranging artboards");
for(var C=0;C<N.length;C++){var s=X[C],q=N[C],t=q.frame;t.x=s.x;t.y=s.y}}};BS.rK=function(N,c,X){var l=BS;
for(var C=0;C<N.length;C++){var q=N[C],J=q._class?q._class:q.$class;if(["page","artboard","group"].indexOf(J)!=-1)l.rK(q.layers,c,X);
else if(J=="symbolMaster")c[q.symbolID]={nh:q}}};BS.rv=function(N){var c=BS;for(var X=0;X<N.length;X++){var l=N[X],C=l._class?l._class:l.$class,q=null;
if(["page","artboard","group"].indexOf(C)!=-1)q=c.rv(l.layers);if(C=="symbolMaster"||C=="symbolInstance")q=l;
if(q!=null)return q}return null};BS.r$=function(N,c,X,l,C,q){var J=BS,Z=[];for(var W=0;W<N.length;W++){var s=N[W],t=J.Pu(s.frame),T=s.style,P="",f=null;
if(T==null){console.log("no styles")}var g=J.ru(s,X),R=s._class?s._class:s.$class,O=s.exportOptions;
if(O){var b=O.exportFormats;if(b==null)b=O.sizes;if(R!="artboard"&&(b&&b.length!=0)){var z=b[0].scale;
P="-e"+(z==1?"":z)+"-"}}var m=c.c_();m.io(s.isVisible);m.ii(P+s.name.slice(0,250));if(T!=null)f=J._TL(l,c,T,t,g,m.getName());
if(s.shouldBreakMaskChain){while(Z.length!=0)J.rS(Z.pop(),c)}if(["page","artboard","group"].indexOf(R)!=-1){m.add.lsct=s.layerListExpandedType==2?_I.iW:_I.it;
m.bg="pass";m.Xj=24;m.io(s.isVisible);c.R.push(c.cT());if(R=="artboard"){var B=t.clone(),K=g.Cm();B.x=-Math.floor(g.MD/K);
B.y=-Math.floor(g.MM/K);B.h=Math.floor(B.h/K);B.s=Math.floor(B.s/K);m.iz(B);var j=s.backgroundColor,S=Math.round(255*j.blue)<<16|Math.round(255*j.green)<<8|Math.round(255*j.red);
if(S!=16777215){var r=c.c_();r.ii("Artboard Background");r.rect=B;r.buffer=I.a(r.rect.n()*4);I.Tr(r.buffer,255<<24|S);
c.R.push(r)}}J.r$(s.layers,c,g,l,C,q)}else if(R=="shapeGroup"){m.add.vmsk=new v.wI;m.add.vstk=JSON.parse(JSON.stringify(F.cF.default));
m.add.vstk.strokeEnabled.v=!1;var n=f!=null&&f.frameFXMulti.v.length==1,o=T.fills,y=J.rZ(l,o,t,g,m.getName(),c);
if(y.length==0){if(n)m.add.vstk.fillEnabled.v=!1;else m.add.iOpa=0;m.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.c.sw({W:0,d:0,w:0})}}}else{var D=y[0],x=null,A=null;
if(D.type=="SoFi"){x="SoCo";A=F.cQ}if(D.type=="GrFl"){x="GdFl";A=F.cA}if(D.type=="patternFill"){x="PtFl";
A=F.ck}if(x!=null){m.add[x]={classID:"null"};for(var e=0;e<A.length;e++){var U=A[e];m.add[x][U]=D.q.v[U]}var L=D.q.v.Opct.v.val;
m.add.iOpa=Math.round(255*L/100)}}m.Xj|=16;m.add.vmsk.p=J.rk(s.layers,g);var Y=s.style.blur;if(Y&&Y.isEnabled&&Y.type<=1)m.add.vmsk.XO=Y.radius;
if(m.add.vmsk.p.length==2){console.log("shape with no content:",m.getName())}if(n){var E=f.frameFXMulti.v[0].v,i=m.add.vstk,a=T.borders[0];
f.frameFXMulti.v=[];_$.lC(E,i);var V=T.borderOptions,G=T.miterLimit;if(V){i.strokeStyleLineCapType.v.strokeStyleLineCapType=F.cF.cH[V.lineCapStyle];
i.strokeStyleLineJoinType.v.strokeStyleLineJoinType=F.cF.join[V.lineJoinStyle];i.strokeStyleLineDashSet.v=_$.lZ(V.dashPattern,1/E.Sz.v.val);
if(G!=null)i.strokeStyleMiterLimit.v=G}}m.ih(c)}else if(R=="bitmap"){var $=s.image.bdata,p=c.VH($,m.getName(),0,0);
p.Xj=m.Xj;m=p;var Y=T.blur,w=T.colorControls;if(Y||w){m.add.SoLd.filterFX=_E.aW();c.VV({id:m.add.SoLd.placed.v,rect:new u,buffer:I.a(1),b:new v.ig});
var o=m.add.SoLd.filterFX.v.filterFXList.v;if(Y){var BX=_E.at("GsnB",{});BX.v.enab.v=Y.isEnabled;BX.v.Fltr.v.Rds.v.val=Y.radius;
o.push(BX)}if(w){var Bn=w.brightness,Be=w.contrast,BW=w.hue,Bt=w.saturation;if(BW!=0||Bt!=1){var BX=_E.at("hue2",{});
BX.v.enab.v=w.isEnabled;BX.v.Fltr.v.Adjs.v.push({t:"Objc",v:BP.aJ([Math.round(BW*180/Math.PI),Math.round((Bt-1)*100),0])});
o.push(BX)}if(Bn!=0||Be!=1){var BX=_E.at("brit",{});BX.v.enab.v=w.isEnabled;Be=Be-1;if(Be>0)Be/=2;BP.al("brit",[Math.round(Bn*255),Math.round(Be*100),!0],BX.v.Fltr.v);
o.push(BX)}}}t.x=t.y=0;var Bq=I.z.Kq(t).l;g.Tk();I.z.Kp(Bq,g,Bq);m.add.SoLd.Trnf=H.r.kf(Bq);m.add.SoLd.nonAffineTransform=H.r.kf(Bq);
m.iS(c,!1)}else if(R=="text"){if(s.attributedString==null)continue;var Bd=g.clone(),Bg,sE,ss=0;Bd.Tk();
m.add.TySh=_W.Jr(0,0);m.add.TySh.XA=new u(0,0,t.h,t.s);m.add.TySh.Kp=Bd;var s_=s.attributedString;if(s_.archivedAttributedString)s_=s_.archivedAttributedString;
var sT=s_.NSString;if(sT==null)sT=s_.string;if(sT["NS.string"])sT=sT["NS.string"];if(q[s.do_objectID]!=null)sT=q[s.do_objectID];
if(s_.attributes!=null){Bg=[];sE=[];var sI=s_.attributes;for(var e=0;e<sI.length;e++){Bg.push(sI[e].length,e);
sE.push(sI[e].attributes)}}else if(s_.NSAttributeInfo==null){Bg=[sT.length,0];sE=[s_.NSAttributes]}else{Bg=s_.NSAttributeInfo["NS.data"];
sE=s_.NSAttributes;var sB=!1;if(sB)console.log("-----------");if(sB)console.log(Bg,sE,sT.length);if(sB)console.log(sT);
Bg=BS._Ra(Bg,sE);if(sB)console.log(Bg)}for(var e=0;e<Bg.length;e+=2)ss+=Bg[e];if(ss!=sT.length){while(ss>sT.length){Bg[Bg.length-2]--;
ss--;if(Bg[Bg.length-2]==0){Bg.pop();Bg.pop()}}Bg[Bg.length-2]+=sT.length-ss}sT=sT.replace(/\u2028/g,"\n");
sT=sT.replace(/\u2029/g,"\n");sT=sT.replace(/\r/g,"\n");var sK=m.add.TySh.Xk;_W.Jl(sK,0,sT);if(sT!=""){J._TB(sK,Bg,sE,sT);
var K=Bd.Cm(),sv=_W.JO(sK,0,1),s$=sv.nR.AutoLeading?0:sv.nR.Leading*.6,sU=0,sL=Math.max(sv.nR.FontSize,s$)*K,sC=t.h,sZ=t.s;
if(s.textBehaviour==0){_W.Jp(sK,0);if(sv.nP.Justification==1)sU=sC*K;if(sv.nP.Justification==2)sU=sC*K*.5}else{_W.Jp(sK,1);
_W.Ji(sK,[0,0,Math.round(sC),Math.round(sZ)]);sL=sL*.35}m.add.TySh.Kp.translate(sU,sL)}}else if(R=="symbolInstance"||R=="symbolMaster"){var sR=s.symbolID;
if(q[s.do_objectID])sR=q[s.do_objectID].symbolID;if(sR=="")continue;var sP=C[sR],sh={};for(var U in q)sh[U]=q[U];
if(s.overrides)for(var U in s.overrides)sh[U]=s.overrides[U];if(sP==null){console.log("Unknown master master",s.symbolID);
continue}var sS=BS.Pu(sP.nh.frame),sf=sS.h/t.h,sQ=sS.s/t.s,sA=g.clone();sA.scale(sf,sQ);m.add.lsct=_I.it;
m.bg="pass";m.Xj=24;m.io(s.isVisible);c.R.push(c.cT());J.r$(sP.nh.layers,c,sA,l,C,sh)}else if(R=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+R,s);continue}if(T&&T.contextSettings){var sk=T.contextSettings;
m.bg=J.rf[sk.blendMode];m.bg=__.aq[__.ad.indexOf(m.bg)];m.opacity=Math.round(m.opacity*sk.opacity)}if(f!=null)m.add.lmfx=f;
c.R.push(m);if(s.hasClippingMask){Z.push(m);c.R.push(c.cT())}}while(Z.length!=0)J.rS(Z.pop(),c)};BS._Ra=function(N,c){var X=0,l=[];
while(X+1<N.length){var C=N[X];X++;if(C>127){C+=128*(N[X]-1);X++}var q=N[X];X++;l.push(C,q)}return l};
BS._TB=function(N,c,X,l){var C=0;for(var q=0;q<c.length;q+=2){var J=c[q],O=0,b="";if(J==0)continue;var Z=c[q+1],W=X[Z],s=_W.JO(N,C,C+J-1),t=W.NSColor;
if(t==null){var t=W.MSAttributedStringColorDictionaryAttribute;if(t==null)t=W.MSAttributedStringColorAttribute;
if(t==null)t="0 0 0";else t=[t.red,t.green,t.blue].join(" ")}else if(t.$class=="MSArchivedColor")t=t.dr+" "+t.dg+" "+t.db;
else if(t.NSRGB){t=t.NSRGB;t=_.Ra(t,0,t.length-1)}else if(t.NSCMYK){t=t.NSCMYK;t=_.Ra(t,0,t.length-1);
t=t.split(" ").map(parseFloat);var T=1-t[0],g=1-t[1],R=1-t[2],P=1-t[3];t=T*P+" "+g*P+" "+R*P}else if(t.NSWhite){t="1 1 1"}t=t.split(" ");
s.nR.FillColor={Type:1,Values:[1,parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2])]};if(W.NSFont){O=W.NSFont.NSSize;
b=W.NSFont.NSName}else{var z=W.MSAttributedStringFontAttribute;if(z.attributes){z=z.attributes;O=z.size;
b=z.name}else{z=z.NSFontDescriptorAttributes;O=z.NSFontSizeAttribute;b=z.NSFontNameAttribute}if(b==null)b="DejaVuSans"}s.nR.FontSize=Math.round(O);
_W.JQ(s,b);if(W.NSKern!=null)s.nR.Tracking=Math.round(600*W.NSKern/O);if(W.NSUnderline!=null)s.nR.Underline=W.NSUnderline>0;
if(W.NSStrikethrough!=null)s.nR.Strikethrough=W.NSStrikethrough>0;if(W.MSAttributedStringTextTransformAttribute==1)s.nR.FontCaps=2;
var m=W.NSParagraphStyle;if(m==null)m=W.paragraphStyle;var f=m?m.NSAlignment:null;if(m&&f==null)f=m.alignment;
if(f!=null){var B=0;if(!1){}else if(f==1)B=1;else if(f==2)B=2;else if(f==4)B=0;else{B=f;console.log("unknown align",f)}s.nP.Justification=B}var K=m?m.NSMinLineHeight:null;
if(m&&K==null)K=m.minimumLineHeight;if(m&&K!=null){s.nR.AutoLeading=!1;s.nR.Leading=Math.round(K)}_W.Jj(N,C,C+J,s);
C+=J}};BS._TL=function(N,c,X,l,C,q){var J=BS,Z=JSON.parse(F.default),s=!1;for(var W=0;W<F.order.length;
W++)Z[F.cf[W]]={t:"VlLs",v:[]};var t=X.fills,T=J.rZ(N,t,l,C,q,c);for(var g=0;g<2;g++){var R=X[["shadows","innerShadows"][g]];
if(R==null)continue;var P=["DrSh","IrSh"][g],O=F.cf[F.order.indexOf(P)];for(var W=0;W<R.length;W++){var b=R[W];
if(!b.isEnabled)continue;if(b.contextSettings.opacity==0||b.color.alpha==0)continue;var z=JSON.parse(F.cw[F.order.indexOf(P)]);
Z[O].v.unshift({t:"Objc",v:z});s=!0;z.Clr.v=J.rA(b.color);z.blur.v.val=Math.round(b.blurRadius/C.Cm());
var m=b.offsetX,f=b.offsetY,B=Math.sqrt(m*m+f*f);z.Dstn.v.val=Math.round(B/C.Cm());z.lagl.v.val=Math.round(Math.atan2(f,-m)*(180/Math.PI));
if(z.layerConceals)z.layerConceals.v=T.length!=0;J.rQ(b,z)}}var K=X.borders;if(K!=null&&(T.length==0||X.blur==null||!X.blur.isEnabled))for(var W=0;
W<K.length;W++){var j=K[W];if(!j.isEnabled)continue;var z=JSON.parse(F.cw[F.order.indexOf("FrFX")]),O=F.cf[F.order.indexOf("FrFX")];
Z[O].v.unshift({t:"Objc",v:z});s=!0;z.Clr.v=J.rA(j.color);if(j.gradient){var S=J.rx(j.gradient,l,C,q),r=["Type","Angl","Ofst","Scl"];
for(var W=0;W<r.length;W++)z[r[W]]=S[r[W]];z.Grad.v=S.Grad.v;z.PntT.v.FrFl="GrFl"}z.Sz.v.val=j.thickness/C.Cm();
z.Styl.v.FStl=["CtrF","InsF","OutF"][j.position];J.rQ(j,z)}for(var W=1;W<T.length;W++){var n=T[W],O=F.cf[F.order.indexOf(n.type)];
Z[O].v.unshift(n.q);s=!0}return s?Z:null};BS.rZ=function(N,c,X,l,C,q){if(c==null)return[];var J=BS,Z=[];
for(var W=0;W<c.length;W++)if(c[W].isEnabled)Z.push(c[W]);c=Z;var s=[];for(var W=0;W<c.length;W++){var t=c[W],T=null,g=null;
if(t.fillType==0){T="SoFi";var R=JSON.parse(F.cw[F.order.indexOf("SoFi")]);g={t:"Objc",v:R};g.v.Clr.v=J.rA(t.color)}else if(t.fillType==1){T="GrFl";
g={t:"Objc",v:J.rx(t.gradient,X,l,C)}}else if(t.fillType==4&&t.image!=null){var P=t.image,O=BC._x(P.bdata.buffer);
if(O!=null&&O!="pdf"){var b,B=0,K=0,j=0;if(q.nS[P.key])b=q.nS[P.key];else{var z=BC._A(O)._l(P.bdata)[0];
b={data:z.data,Gj:new u(0,0,z.M$.h,z.M$.s)};b.id=_s.VO()+"-d71c-11e5-b1ae-a548a96e5f9f";b.name="someImage";
b.Ml=new Uint8Array(b.data);delete b.data;q.VF(b);q.nS[P.key]=b}var R=JSON.parse(F.cw[F.order.indexOf("patternFill")]);
T="patternFill";g={t:"Objc",v:R};var m=t.patternFillType,f=t.patternTileScale;R.Algn.v=!0;R.Ptrn.v.Idnt.v=b.id;
if(m==0){B=f*b.Gj.h/Math.min(b.Gj.h,b.Gj.s);K=-l.MD;j=-l.MM}else{B=Math.max(X.h,X.s)/Math.min(b.Gj.h,b.Gj.s);
K=-l.MD-(b.Gj.h*B-X.h)/2;j=-l.MM-(b.Gj.s*B-X.s)/2}R.Scl.v.val=100*B*(1/l.Cm());R.phase.v.Hrzn.v=Math.round(K/l.Cm());
R.phase.v.Vrtc.v=Math.round(j/l.Cm())}}else if(t.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",t.fillType);
if(T!=null){J.rQ(t,g.v);s.push({type:T,q:g})}}return s};BS._Tz=function(N){var c=BS,X=new u(0,0,1,1);
N=N.slice(0);while(!0){var l=!1;for(var C=0;C<N.length-1;C++){var q=N[C],J=N[C+1],Z=null,W=q.contextSettings;
if(q.fillType==0&&(W==null||W.opacity==1&&W.blendMode==0)&&q.color.alpha==1){var s="norm",t=1,W=J.contextSettings;
if(W){t=W.opacity;s=__.i_(c.rf[W.blendMode])}if(J.fillType==0){Z=JSON.parse(JSON.stringify(J));c.rP(Z.color,q.color,Z.color,X,s,t)}if(J.fillType==1){Z=JSON.parse(JSON.stringify(J));
var T=Z.gradient.stops;for(var g=0;g<T.length;g++)c.rP(T[g].color,q.color,T[g].color,X,s,t)}if(Z!=null&&Z.contextSettings){var W=Z.contextSettings;
W.opacity=1;W.blendMode=0}}if(Z!=null){N.splice(C,0,Z);l=!0;break}}if(!l||N.length<2)break}return N};
BS.rP=function(N,c,X,l,C,q){var J=BS,Z=I.a(4);J.rh(N,Z);var W=I.a(4);J.rh(c,W);I.B.Ih(C,Z,l,W,l,l,q);
J._TA(W,X)};BS.rh=function(N,c){c[0]=255*N.red;c[1]=255*N.green;c[2]=255*N.blue;c[3]=255*N.alpha};BS._TA=function(N,c){c.red=N[0]/255;
c.green=N[1]/255;c.blue=N[2]/255;c.alpha=N[3]/255};BS.rS=function(N,c){N=N.clone();N.Xj=24;N.ii("Mask by "+N.getName());
c.R.push(N);N.add.lsct=_I.iW;N.add.lyid=c.VD();delete N.add.lmfx;delete N.add.SoCo;delete N.add.GdFl;
delete N.add.PtFl;delete N.add.iOpa;N.add.vmsk.Xe=!0;N.ih(c);if((N.Xj&16)==16)N.Xj-=16;if((N.Xj&2)==2)N.Xj-=2;
N.bg="pass";N.opacity=255};BS.rf="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns".split(" ");
BS.rx=function(N,c,X,l){X=X.clone();X.Tk();X.MD=X.MM=0;var C=BS,q=JSON.parse(F.cw[F.order.indexOf("GrFl")]),J=q.Grad.v,T=0,g=0;
J.Intr.v=0;if(N==null)return q;var Z=N.gradientType,W=C.rp(N.from),s=C.rp(N.to);W.offset(-.5,-.5);s.offset(-.5,-.5);
W=X.CM(W);s=X.CM(s);var t=Math.atan2(-(s.y-W.y),s.x-W.x);q.Type.v.GrdT=["Lnr","Rdl","Angl"][Z];q.Scl.v.val=100*k.CO(W,s);
if(Z==0){q.Angl.v.val=180/Math.PI*t;q.Scl.v.val=100*k.CO(W,s);T=(W.x+s.x)/2;g=(W.y+s.y)/2}if(Z==1){q.Scl.v.val=200*k.CO(W,s);
T=W.x;g=W.y}if(Z==2){q.Angl.v.val=180/Math.PI*(t-Math.PI/2)}var R=q.Ofst.v;R.Hrzn.v.val=T*100;R.Vrtc.v.val=g*100;
var P=[];for(var O=0;O<N.stops.length;O++){var b=N.stops[O],z=b.color;P.push([b.position,z?[z.red,z.green,z.blue]:[0,0,0],z.alpha])}I.c.sj(P,J);
return q};BS.rQ=function(N,c){var X=BS,l=1,C=N.contextSettings;if(C!=null){c.Md.v.BlnM=X.rf[C.blendMode];
l*=C.opacity}else c.Md.v.BlnM=X.rf[0];c.enab.v=N.isEnabled;if(c.uglg!=null)c.uglg.v=!1;if(N.color!=null)l*=N.color.alpha;
c.Opct.v.val=Math.round(l*100)};BS.rA=function(N){return I.c.sw(N?{W:N.red*255,d:N.green*255,w:N.blue*255}:{W:0,d:0,w:0})};
BS.rk=function(N,c){var X=BS,l=[{type:6},{type:8,all:0}];for(var C=0;C<N.length;C++){var q=N[C],J=q.booleanOperation,Z=0,R=!1;
if(J==-1)Z=0;else if(J==0)Z=1;else if(J==1)Z=2;else if(J==2)Z=3;else if(J==3)Z=0;if(C==0)Z=1;var W=BS.Pu(q.frame),s=X.ru(q,c),t=q.path?q.path:q,T=[{type:0,length:0,GU:Z,GL:2,GN:0,GY:0}],g=t.points;
for(var P=0;P<g.length;P++){var O=g[P],b=X.rp(O.curveTo),z=X.rp(O.point),m=X.rp(O.curveFrom);R=R||O.hasCurveFrom&&!m.TA(z)||O.hasCurveTo&&!b.TA(z)}if(!R){var f=[],B=[],K=g.length;
if(K==0)continue;for(var P=0;P<K;P++){f.push(g[P].cornerRadius);var O=X.rp(g[P].point);B.push(O.x,O.y)}s.scale(1/W.h,1/W.s);
s.Tk();I.z.Kp(B,s,B);var j=I.D.Uu(B,f);T=T.concat(j);T[0].length=T.length-1}else{var S=g.length;T[0].length=S;
var r=[];for(var P=0;P<S;P++){var O=g[P];T[S-P]={type:1,GC:X.rp(O.curveFrom),t:X.rp(O.point),GR:X.rp(O.curveTo)}}s.scale(1/W.h,1/W.s);
s.Tk();I.D.$m(T,s)}if(!t.isClosed)for(var P=0;P<T.length;P++)T[P].type+=3;l=l.concat(T)}return l};BS.ru=function(N,c){var X=c.clone(),l=BS.Pu(N.frame);
X.translate(-l.x-l.h/2,-l.y-l.s/2);if(N.isFlippedHorizontal)X.scale(-1,1);if(N.isFlippedVertical)X.scale(1,-1);
X.rotate(-N.rotation*(Math.PI/180));X.translate(l.h/2,l.s/2);return X};BS.rp=function(N){N=N.slice(1,N.length-1).split(",");
return new k(parseFloat(N[0]),parseFloat(N[1]))};BS.Pu=function(N){return new u(N.x,N.y,N.width,N.height)};
BS.Pp=function(N){return{_class:"rect",constrainProportions:!1,x:N.x,y:N.y,width:N.h,height:N.s}};function _v(){}_v.ZB=function(N,c){var X=_v,l=UZIP.parse(N),C=JSON.parse(Bl.SC(l.manifest)),q=JSON.parse(Bl.SC(l["resources/graphics/graphicContent.agc"])).resources,J=[],Z=C.children;
for(var W=0;W<Z.length;W++){var s=Z[W];if(s.name=="artwork"){var t=s.children;for(var T=0;T<t.length;
T++)if(t[T]["uxdesign#bounds"]){var g=t[T],R=JSON.parse(Bl.SC(l["artwork/"+g.path+"/graphics/graphicContent.agc"]));
if(R.children.length!=1)throw"e";g._node=R.children[0];J.push(g)}}}var P=[],O=new u;for(var W=0;W<J.length;
W++){var g=J[W],b=BS.Pu(g["uxdesign#bounds"]);P.push(b);O=O.vz(b)}var z=BS.rB(O,8192*8192);c.nr=!0;c.h=Math.round(O.h/z);
c.s=Math.round(O.s/z);c.buffer=I.a(c.h*c.s*4);c.Vw(J.length);var m=new Bh(z,0,0,z,O.x,O.y);c.nS={};for(var W=0;
W<J.length;W++){var g=J[W],b=BS.Pu(g["uxdesign#bounds"]),f=g._node,B=m.clone(),K=b.clone(),j=B.Cm();
B.translate(-b.x,-b.y);K.x=-Math.floor(B.MD/j);K.y=-Math.floor(B.MM/j);K.h=Math.floor(K.h/j);K.s=Math.floor(K.s/j);
B.translate(b.x,b.y);_v.ra(f,c,B,q,l,K);var S=c.R[c.R.length-1];S.ii(g.name);S.iz(K);if(W!=J.length-1)S.add.lsct=_I.it}delete c.nS};
_v.PS=function(N){if(N==null)return new Bh;return new Bh(N.a,N.b,N.c,N.d,N.tx,N.ty)};_v.ra=function(N,c,X,l,C,q){var J=_v,Z=N.type,W=N[Z],s=N.style,t=J.PS(N.transform),P,O,b,z,m,f;
t.Tk();var T=X.clone();T.concat(t);var g=c.c_(),R=N.name;if(R)g.ii(R.slice(0,250));if(N.visible!=null)g.io(N.visible);
if(s){P=s.stroke;O=P?P.type:"none";b=s.fill;z=b?b.type:"none";m=s.filters;f=s.clipPath;if(s.opacity)g.opacity=Math.round(255*s.opacity);
if(m){g.add.lmfx=J._R$(m);for(var B=0;B<m.length;B++)if(m[B].type=="uxdesign#blur"){var K=m[B].params;
if(K.backgroundEffect)g.opacity=Math.round(g.opacity*K.fillOpacity)}}}if(Z=="artboard"||Z=="group"){if(f&&l.clipPaths[f.ref]){var j=l.clipPaths[f.ref].children[0],t=J.PS(j.transform);
t.Tk();var S=T.clone();S.concat(t);g.add.vmsk=new v.wI;g.add.vmsk.p=J.rk(j.shape);S=S.clone();S.Tk();
I.D.$m(g.add.vmsk.p,S);g.ih(c)}g.add.lsct=_I.iW;g.bg="pass";g.Xj=24;if(N.visible!=null)g.io(N.visible);
c.R.push(c.cT());var r=W.children,n=b;if(n)n=n.color;if(n)n=n.value;if(b&&(z!="solid"||n.r!=255||n.g!=255||n.b!=255)){var o=c.c_();
o.ii("BACKGROUND");o.Xj|=16;o.add.vstk=JSON.parse(JSON.stringify(F.cF.default));o.add.vstk.strokeEnabled.v=!1;
o.add.vmsk=new v.wI;o.add.vmsk.p=J.rk({type:"rect",x:q.x,y:q.y,width:q.h,height:q.s});J.rw(b,z,T,q,q,o,c,l,C);
o.ih(c);c.R.push(o)}for(var B=0;B<r.length;B++){_v.ra(r[B],c,T,l,C,q)}}else if(Z=="shape"){g.Xj|=16;
g.add.vstk=JSON.parse(JSON.stringify(F.cF.default));g.add.vstk.strokeEnabled.v=!1;g.add.vmsk=new v.wI;
g.add.vmsk.p=J.rk(W);var y=I.D.$W(g.add.vmsk.p,null),S=T.clone();S.Tk();I.D.$m(g.add.vmsk.p,S);var D=I.D.$W(g.add.vmsk.p,null);
if(O=="none"){}else{var x=P.color.value,A,e;A="SoFi";var U=JSON.parse(F.cw[F.order.indexOf("SoFi")]);
e={t:"Objc",v:U};e.v.Clr.v=I.c.sw({W:x.r,d:x.g,w:x.b});var L=P.align,Y=P.cap;if(L==null)L="center";var E=g.add.vstk;
E.strokeEnabled.v=!0;E.strokeStyleLineWidth.v.val=P.width;if(L)E.strokeStyleLineAlignment.v.strokeStyleLineAlignment=F.cF.cN[["inside","center","outside"].indexOf(L)];
if(Y)E.strokeStyleLineCapType.v.strokeStyleLineCapType=F.cF.cH[["butt","round","square"].indexOf(Y)];
var i=["SoFi","GrFl","patternFill"].indexOf(A),a=[F.cQ,F.cA,F.ck][i];E.strokeStyleContent.v={classID:F.cF.cY[0]};
var V=E.strokeStyleContent.v={classID:F.cF.cY[i]};for(var B=0;B<a.length;B++)V[a[B]]=e.v[a[B]]}J.rw(b,z,T,y,D,g,c,l,C);
g.ih(c)}else if(Z=="text"){var G=N.text,$=G.frame,p=s.font,w=G.paragraphs[0].lines[0][0],t=T.clone();
t.translate(-w.x,-w.y/4);t.Tk();g.add.TySh=_W.Jr(0,0);g.add.TySh.XA=new u(0,0,100,100);g.add.TySh.Kp=t;
var BX=g.add.TySh.Xk;_W.Jl(BX,0,G.rawText);var x=b.color.value,Bn=_W.JO(BX,0,1);_W.JQ(Bn,p.postscriptName);
Bn.nR.FontSize=Math.round(p.size);Bn.nR.FillColor={Type:1,Values:[1,x.r/255,x.g/255,x.b/255]};_W.Jj(BX,0,G.rawText.length,Bn);
if($.type=="area"){_W.Jp(BX,1);_W.Ji(BX,[0,0,$.width,$.height])}}else console.log(Z,N);c.R.push(g)};
_v.rk=function(N){var c=N.type,X=[{type:6},{type:8,all:0}];if(c=="rect"){var l=N.r,C=N.x,q=N.y,J=N.width,Z=N.height;
if(l==null)X=I.D.Ua.Rect(C,q,J,Z,0);else X=X.concat([{type:0,GU:1,length:8,GN:0,GY:0,GL:1}]).concat(I.D.Uu([C,q,C+J,q,C+J,q+Z,C,q+Z],l,!1))}else if(c=="circle"){var l=N.r;
X=I.D.Ua.UJ(N.cx-l,N.cy-l,2*l,2*l)}else if(c=="ellipse"){var W=N.rx,s=N.ry;X=I.D.Ua.UJ(N.cx-W,N.cy-s,2*W,2*s)}else if(c=="path"||c=="compound"){X=X.concat(I.D.$g(N.path))}else if(c=="line"){var t=N.x1,T=N.x2,g=N.y1,R=N.y2;
X=X.concat([{type:0,GU:1,length:2,GN:0,GY:0,GL:1}]).concat(I.D.Uu([t,g,T,R],0,!0))}else console.log(c,N);
return X};_v._R$=function(N){var c=JSON.parse(F.default);for(var X=0;X<F.order.length;X++)c[F.cf[X]]={t:"VlLs",v:[]};
for(var X=0;X<N.length;X++){var l=N[X],C=l.type,q=l.params,J=l.visible;if(C=="dropShadow"){var Z=F.cf[F.order.indexOf("DrSh")],W=JSON.parse(F.cw[F.order.indexOf("DrSh")]);
c[Z].v.unshift({t:"Objc",v:W});var s=q.dropShadows;if(s.length!=1)throw"e";var t=s[X],T=t.color,g=T.value,R=t.dy,P=t.dx;
W.Clr.v=I.c.sw({W:g.r,d:g.g,w:g.b});W.Opct.v.val=Math.round((T.alpha!=null?T.alpha:1)*100);W.uglg.v=!1;
W.enab.v=J!=null?J:!0;W.lagl.v.val=Math.round(180/Math.PI*Math.atan2(R,P));W.Dstn.v.val=Math.round(Math.sqrt(R*R+P*P));
W.blur.v.val=Math.round(t.r*2.3)}else console.log(C,l)}return c};_v.rw=function(N,c,X,l,C,q,J,Z,W){var s=_v;
if(c=="none"){q.add.vstk.fillEnabled.v=!1;q.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.c.sw({W:0,d:0,w:0})}}}else{var t,T,g;
if(c=="solid"){var R=N.color.value;t="SoCo";T=F.cQ;var P=JSON.parse(F.cw[F.order.indexOf("SoFi")]);g={t:"Objc",v:P};
g.v.Clr.v=I.c.sw({W:R.r,d:R.g,w:R.b})}else if(c=="gradient"){t="GdFl";T=F.cA;var P=JSON.parse(F.cw[F.order.indexOf("GrFl")]),O=P.Grad.v,B,K,j;
O.Intr.v=0;var b=N[c],z=Z.gradients[b.ref],m=["linear","radial"].indexOf(z.type),f=z.stops;P.Type.v.GrdT=["Lnr","Rdl","Angl"][m];
if(m==0){var B=new k(b.x1,b.y1),K=new k(b.x2,b.y2);B.x=K.x+.5*(B.x-K.x);B.y=K.y+.5*(B.y-K.y)}else{var B=new k(b.cx,b.cy),K=new k(b.cx+b.r,b.cy)}j=C;
if(b.units=="objectBoundingBox"){var S=new Bh(l.h,0,0,l.s,l.x,l.y);B=S.CM(B);K=S.CM(K)}var S=s.PS(b.transform);
B=S.CM(B);K=S.CM(K);S=X.clone();S.Tk();B=S.CM(B);K=S.CM(K);I.c.sy(B,K,j,P);var r=[];for(var n=0;n<f.length;
n++){var o=f[n],y=o.color,R=y.value,D=y.alpha;if(D==null)D=1;r.push([o.offset,[R.r/255,R.g/255,R.b/255],D])}I.c.sj(r,O);
g={t:"Objc",v:P}}else if(c=="pattern"){t="PtFl";T=F.ck;var P=JSON.parse(F.cw[F.order.indexOf("patternFill")]),Y,i=1,a=0,V=0,G=1;
g={t:"Objc",v:P};var x=N[c],A=x.meta.ux,e=A.uid,U=W["resources/"+e].buffer,L=BC._x(U);if(J.nS[e])Y=J.nS[e];
else{var E=BC._A(L)._l(U)[0];Y={data:E.data,Gj:new u(0,0,x.width,x.height)};Y.id=_s.VO()+"-d71c-11e5-b1ae-a548a96e5f9f";
Y.name="someImage";Y.Ml=new Uint8Array(Y.data);delete Y.data;J.VF(Y);J.nS[e]=Y}P.Algn.v=!0;P.Ptrn.v.Idnt.v=Y.id;
if(A.scaleBehavior=="cover"){i=G*Math.max(C.h,C.s)/Math.min(Y.Gj.h,Y.Gj.s);a=C.x-(Y.Gj.h*i-C.h)/2;V=C.y-(Y.Gj.s*i-C.s)/2}else if(A.scaleBehavior=="fill"){i=G*Math.min(C.h,C.s)/Math.max(Y.Gj.h,Y.Gj.s);
a=C.x-(Y.Gj.h*i-C.h)/2;V=C.y-(Y.Gj.s*i-C.s)/2}else throw"Unknown scale behaviour";P.Scl.v.val=100*i;
P.phase.v.Hrzn.v=Math.round(a);P.phase.v.Vrtc.v=Math.round(V)}else console.log(c);if(t!=null){q.add[t]={classID:"null"};
for(var n=0;n<T.length;n++){var $=T[n];q.add[t][$]=g.v[$]}}}};function BB(){}BB.ZB=function(N,c){N=new Uint8Array(N);
var X=Bl.SC(N,0,N.length),l=new DOMParser,C=l.parseFromString(X,"image/svg+xml"),q=C.getElementsByTagName("style")[0];
if(q){var J=BB.rc(q.textContent,"{","}");q={};for(var Z=0;Z<J.length;Z+=2){var W=J[Z].split(/,?\s+/);
for(var s=0;s<W.length;s++)q[W[s]]=J[Z+1]}}else q={};var t=C.firstChild;while(t.tagName!="svg")t=t.nextSibling;
var T=new u(0,0,100,100),g=t.getAttribute("viewBox");if(g){var R=g.split(" ").map(parseFloat);T.x=R[0];
T.y=R[1];T.h=R[2];T.s=R[3]}else if(t.getAttribute("width")){T.h=parseFloat(t.getAttribute("width"));
T.s=parseFloat(t.getAttribute("height"))}T=I.z.KW(T);c.nr=!0;c.h=T.h;c.s=T.s;c.buffer=I.a(T.n()*4);var P=new Bh(1,0,0,1,-T.x,-T.y),O={nf:BB.rF(t),nx:q};
BB.rV(C,t.children,c,P,O,new Bh)};BB.rV=function(N,c,X,l,C,q){var J=BB,Z=["display","opacity","fill-opacity"];
for(var W=0;W<c.length;W++){var s=c[W],t=s.tagName,T=s.getAttribute("id"),g=J.rF(s,C.nx),R=JSON.parse(JSON.stringify(C.nf)),f=1,K="clip-path",j=null;
for(var P in g)if(Z.indexOf(P)==-1)R[P]=g[P];if(s.getAttribute("dx"))l.MD+=J.rl(s.getAttribute("dx"),13);
if(s.getAttribute("dy"))l.MM+=J.rl(s.getAttribute("dy"),13);var O=J.ry(s);O.concat(l);var b=s.getAttribute("visibility"),z=g.display,m=X.c_();
if(b=="hidden"||z=="none")m.io(!1);m.ii(T!=null?T:"Layer");if(g.opacity)f*=parseFloat(g.opacity);if(g["fill-opacity"])f*=parseFloat(g["fill-opacity"]);
m.opacity=Math.round(255*f);if(g["mix-blend-mode"]){var B=__.iE.indexOf(g["mix-blend-mode"]);if(B!=-1)m.bg=__.aq[B]}if(s.getAttribute(K)==null)K="mask";
if(s.getAttribute(K)!=null){j=X.c_();j.ii("Clip-Path"+(T?": "+T:""));j.add.lsct=_I.iW;j.bg="pass";j.Xj=24;
var S=j.add.vmsk=new v.wI;X.R.push(X.cT());var r=s.getAttribute(K);r=r.slice(4,r.length-1);var n=N.getElementById(r.slice(1)),o=n.children,y=[];
if(n.getAttribute(K)){var r=n.getAttribute(K);r=r.slice(4,r.length-1);y=N.getElementById(r.slice(1)).children}for(var D=0;
D<o.length;D++){var x=J.ry(o[D]);x.concat(O);var A=J.rk(N,o[D]).slice(2);I.D.$m(A,x);S.p=S.p.concat(A)}for(var D=0;
D<y.length;D++){var x=J.ry(o[D]);x.concat(O);var A=J.rk(N,y[D]).slice(2);for(var e=0;e<A.length;e++)if(A[D].GU!=null)A[D].GU=3;
I.D.$m(A,x);S.p=S.p.concat(A)}j.ih()}if(t=="g"||t=="a"||t=="svg"||t=="switch"||(t=="text"||t=="textPath")&&s.children.length>0){if(t=="text")q=J.rj(s,q);
var U=s.children.length,L=C.nf;C.nf=R;var Y=t!="text"&&t!="textPath"||U>1;if(Y){var E=m.iw();m.add.lsct=E?_I.iW:_I.it;
m.bg="pass";m.Xj=24;m.io(E);X.R.push(X.cT())}J.rV(N,s.children,X,O,C,q);if(Y)X.R.push(m);C.nf=L}else if(t=="use"){var i=J.rj(s);
i.concat(O);var a=J.rN(s),V=N.getElementById(a.slice(1)),L=C.nf;C.nf=R;J.rV(N,[V],X,i,C,q);C.nf=L}else if(t=="path"||t=="rect"||t=="circle"||t=="ellipse"||t=="polygon"||t=="polyline"||t=="line"){m.Xj|=16;
m.add.vmsk=new v.wI;m.add.vstk=JSON.parse(JSON.stringify(F.cF.default));m.add.vstk.strokeEnabled.v=!1;
var G=m.add.vstk,S=m.add.vmsk;S.p=J.rk(N,s);I.D.$m(S.p,O);var $=I.D.$W(S.p),p=R.stroke,w=R["stroke-width"],BX=R["stroke-dasharray"],Bn=R.fill,Be=R["stroke-linejoin"],BW=R["stroke-linecap"],Bt=R["paint-order"];
if(p==null||p=="none"){}else{var Bq=J.rJ(N,p,O,$),Bd=["SoFi","GrFl","patternFill"].indexOf(Bq.type),Bg=[F.cQ,F.cA,F.ck][Bd],sE=G.strokeStyleContent.v={classID:F.cF.cY[Bd]},s_=1;
for(var D=0;D<Bg.length;D++)sE[Bg[D]]=Bq.q.v[Bg[D]];w=w?parseFloat(w):1;if(Bt&&Bt.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){s_=2;
w/=2}G.strokeEnabled.v=!0;if(Be)G.strokeStyleLineJoinType.v.strokeStyleLineJoinType=F.cF.join[["miter","round","bevel"].indexOf(Be)];
if(BW)G.strokeStyleLineCapType.v.strokeStyleLineCapType=F.cF.cH[["butt","round","square"].indexOf(BW)];
G.strokeStyleLineWidth.v.val=w*H.r.Cm(O);G.strokeStyleLineAlignment.v.strokeStyleLineAlignment=F.cF.cN[s_];
G.strokeStyleOpacity.v.val=100*(R["stroke-opacity"]?parseFloat(R["stroke-opacity"]):1);if(BX!=null&&BX!="none")G.strokeStyleLineDashSet.v=_$.lZ(BX.split(",").map(parseFloat),1/w)}if(Bn=="none"){m.add.vstk.fillEnabled.v=!1;
m.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.c.sw({W:0,d:0,w:0})}}}else{var Bq=J.rJ(N,Bn,O,$),sT=null,sI=null;
if(Bq.type=="SoFi"){sT="SoCo";sI=F.cQ}if(Bq.type=="GrFl"){sT="GdFl";sI=F.cA}if(Bq.type=="patternFill"){sT="PtFl";
sI=F.ck}if(sT!=null){m.add[sT]={classID:"null"};for(var D=0;D<sI.length;D++){var P=sI[D];m.add[sT][P]=Bq.q.v[P]}}}if(R.filter){var sB=R.filter;
sB=sB.slice(5,sB.length-1);var ss=N.getElementById(sB).children[0];if(ss.tagName=="feGaussianBlur"){m.add.vmsk.XO=parseFloat(ss.getAttribute("stdDeviation"))*H.r.Cm(O)}}m.ih(X);
X.R.push(m)}else if((t=="text"||t=="tspan")&&s.textContent!=""){q=J.rj(s,q);var i=q.clone(),sr=13;i.concat(O);
if(s.children.length>0){var sK=J.rF(s.children[0],C.nx);for(var P in sK)if(Z.indexOf(P)==-1)R[P]=sK[P]}var sv=R["xml:space"],s$=s.textContent;
if(sv=="preserve")s$=s$.replace(/\t/g," ").replace(/\n/g," ");if(T==null)m.ii(s$);m.add.TySh=_W.Jr(0,0);
m.add.TySh.XA=new u(0,0,100,100);m.add.TySh.Kp=i.clone();var sU=m.add.TySh.Xk;_W.Jl(sU,0,s$);var Bn=R.fill,sL=R["font-size"],sC=R["font-weight"],sZ=R["font-family"],sR=R["text-decoration"],p=R.stroke,w=R["stroke-width"],sP=_W.JO(sU,0,1);
if(Bn&&Bn!="none"){var sh=CSS.rA(Bn);sP.nR.FillColor={Type:1,Values:[1,sh.W/255,sh.d/255,sh.w/255]}}if(sR=="underline")sP.nR.Underline=!0;
if(sL)sr=J.rl(sL,sr);sP.nR.FontSize=Math.round(sr);_W.JQ(sP,"LiberationSans");if(sC=="bold")_W.JQ(sP,"LiberationSans-Bold");
if(sZ){var sS=sZ+":"+(sC?sC:"normal"),sf={"FreeMono:normal":"NimbusMono-Regular","FreeMono:bold":"NimbusMono-Bold","'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol"};
if(sf[sS])_W.JQ(sP,sf[sS])}if(R["text-anchor"])sP.nP.Justification=["start","end","middle"].indexOf(R["text-anchor"]);
_W.Jj(sU,0,s$.length,sP);if(p==null||p=="none"){}else{var sx=JSON.parse(F.cw[F.order.indexOf("FrFX")]);
sx.Clr.v=I.c.sw(CSS.rA(p));sx.Sz.v.val=Math.round(parseFloat(w)*H.r.Cm(i));var sQ=JSON.parse(F.default);
for(var D=0;D<F.order.length;D++)sQ[F.cf[D]]={t:"VlLs",v:[]};sQ.frameFXMulti.v.push({t:"Objc",v:sx});
m.add.lmfx=sQ}X.R.push(m)}else if(t=="image"){var a=J.rN(s);if(a.slice(0,4)=="data"){var sA=BC._p(a),sk=sA,su=X.VH(sk,m.getName(),0,0);
su.Xj=m.Xj;m=su;var sp=m.rect.clone();sp.x=sp.y=0;var sa=J.rj(s);sa.concat(O);var sV=I.z.Kq(sp).l;I.z.Kp(sV,sa,sV);
m.add.SoLd.Trnf=H.r.kf(sV);m.add.SoLd.nonAffineTransform=H.r.kf(sV);m.iS(X,!1);X.R.push(m)}}else console.log("unknown tag: "+t,s.children.length,s.textContent.length);
if(j!=null)X.R.push(j)}};BB.rk=function(N,c){var X=BB,l=c.tagName,C=[{type:6},{type:8,all:0}];if(l=="path")C=C.concat(I.D.$g(c.getAttribute("d")));
if(l=="rect"){var q=c.getAttribute("rx"),J=X.rj(c);C=I.D.Ua.Rect(J.MD,J.MM,parseFloat(c.getAttribute("width")),parseFloat(c.getAttribute("height")),q?parseFloat(q):0)}if(l=="circle"||l=="ellipse"){var Z=0,W=0,q=0,s=0;
if(c.getAttribute("cx"))Z=parseFloat(c.getAttribute("cx"));if(c.getAttribute("cy"))W=parseFloat(c.getAttribute("cy"));
if(c.getAttribute("rx"))q=parseFloat(c.getAttribute("rx"));if(c.getAttribute("ry"))s=parseFloat(c.getAttribute("ry"));
if(c.getAttribute("r"))q=s=parseFloat(c.getAttribute("r"));C=I.D.Ua.UJ(Z-q,W-s,2*q,2*s)}if(l=="polygon"||l=="polyline"||l=="line"){var t;
if(l=="line")t=[c.getAttribute("x1"),c.getAttribute("y1"),c.getAttribute("x2"),c.getAttribute("y2")].map(parseFloat);
else t=c.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
C=I.D.Ua.Ui(t,0,l!="polygon")}if(l=="use"){var T=X.rN(c),g=N.getElementById(T.slice(1)),R=new Bh;if(g.tagName!="rect")R=X.rj(g);
R.concat(X.ry(g));C=X.rk(N,g);I.D.$m(C,R)}return C};BB.rc=function(N,c,X){var l=[],C=0,q=!1;while(!0){var J=N.indexOf(q?X:c,C);
if(J==-1)break;l.push(N.slice(C,J).trim());C=J+1;q=!q}return l};BB.rl=function(N,c){if(N.charAt(N.length-1)=="m")return c*parseFloat(N.slice(0,N.length-2));
else return parseFloat(N)};BB.rJ=function(N,c,X,l){var C,q,J=BB,Z=c!=null?c.indexOf("("):-1;if(Z!=-1){var W=c.indexOf(")"),s=c.slice(0,Z).trim(),t=c.slice(Z+1,W).trim();
if(s=="url"){if(t.charAt(0)=="#"){var T=N.getElementById(t.slice(1));if(T.tagName.slice(6)=="Gradient"){var g=J.rx(N,T,X,l);
C="GrFl";q={t:"Objc",v:g}}}else console.log("unknown url",url)}else if(s=="rgb"){C="SoFi";var R=JSON.parse(F.cw[F.order.indexOf("SoFi")]);
q={t:"Objc",v:R};q.v.Clr.v=I.c.sw(CSS.rA(c))}else console.log("unknown fill",c)}else{C="SoFi";var R=JSON.parse(F.cw[F.order.indexOf("SoFi")]);
q={t:"Objc",v:R};q.v.Clr.v=I.c.sw(CSS.rA(c))}return{type:C,q:q}};BB.ry=function(N){var c=new Bh,X=N.getAttribute("transform");
if(X)c=BB.ro(X);var l=N.getAttribute("style");if(l!=null){var C={};BB.rH(C,l,["transform"]);l=C.transform;
if(l)c.concat(BB.ro(l))}return c};BB.rj=function(N,c){var X=new Bh,l=N.getAttribute("x"),C=N.getAttribute("y");
if(l)X.MD=parseFloat(l);else if(c)X.MD=c.MD;if(C)X.MM=parseFloat(C);else if(c)X.MM=c.MM;return X};BB.ro=function(N){var c=BB.rc(N,"(",")"),X=new Bh;
for(var l=0;l<c.length;l+=2){var C=X;X=BB._Zd(c[l],c[l+1]);X.concat(C)}return X};BB._Zd=function(N,c){var X=new Bh,l=!0;
for(var C=0;C<c.length;C++){var q=c.charAt(C);if(q==","||q==" ")l=!0;else if(q=="."){if(!l){c=c.slice(0,C)+","+c.slice(C);
C++}l=!1}else if(q=="-"&&C>0&&c[C-1]!="e"){c=c.slice(0,C)+" "+c.slice(C);C++;l=!0}}c=c.split(/\s*[\s,]\s*/).map(parseFloat);
if(!1){}else if(N=="translate"){if(c.length==1)X.translate(c[0],0);else X.translate(c[0],c[1])}else if(N=="scale"){if(c.length==1)X.scale(c[0],c[0]);
else X.scale(c[0],c[1])}else if(N=="rotate"){var J=0,Z=0;if(c.length!=1){J=c[1];Z=c[2]}X.translate(-J,-Z);
X.rotate(-Math.PI*c[0]/180);X.translate(J,Z)}else if(N=="matrix")X=new Bh(c[0],c[1],c[2],c[3],c[4],c[5]);
else console.log("unknown transform: ",N);return X};BB.rF=function(N,c){var X={},l="fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var C=0;C<l.length;C++){var q=N.getAttribute(l[C]);if(q!=null&&q!="inherit")X[l[C]]=q}var J=N.getAttribute("class");
if(c!=null&&J!=null&&c["."+J]!=null)BB.rH(X,c["."+J],l);var Z=N.getAttribute("style");if(Z!=null)BB.rH(X,Z,l);
return X};BB.rH=function(N,c,X){c=c.trim().split(";");for(var l=0;l<c.length;l++){var C=c[l].split(":");
for(var q=0;q<X.length;q++)if(C[0].trim()==X[q])N[X[q]]=C[1].trim()}};BB.rN=function(N){var c=N.getAttribute("xlink:href");
if(c==null)c=N.getAttribute("href");return c};BB.rx=function(N,c,X,l){var C=BB,q=new Bh,J=c.getAttribute("gradientTransform");
if(J)q=C.ro(J);q.concat(X);var Z=JSON.parse(F.cw[F.order.indexOf("GrFl")]),W=Z.Grad.v;W.Intr.v=0;var s=c.tagName,t=new k(0,0),T=new k(l.h,0);
if(s=="linearGradient"){Z.Type.v.GrdT="Lnr";if(c.getAttribute("x1"))t.x=parseFloat(c.getAttribute("x1"));
if(c.getAttribute("y1"))t.y=parseFloat(c.getAttribute("y1"));if(c.getAttribute("x2"))T.x=parseFloat(c.getAttribute("x2"));
if(c.getAttribute("y2"))T.y=parseFloat(c.getAttribute("y2"));t.x=T.x+.5*(t.x-T.x);t.y=T.y+.5*(t.y-T.y)}if(s=="radialGradient"){Z.Type.v.GrdT="Rdl";
if(c.getAttribute("cx"))t.x=parseFloat(c.getAttribute("cx"));if(c.getAttribute("cy"))t.y=parseFloat(c.getAttribute("cy"));
T.Cj(t.x,t.y);if(c.getAttribute("r"))T.x+=parseFloat(c.getAttribute("r"))}if(c.getAttribute("gradientUnits")=="userSpaceOnUse"){t=q.CM(t);
T=q.CM(T)}else{t.x=l.x+t.x*l.h;t.y=l.y+t.y*l.s;T.x=l.x+T.x*l.h;T.y=l.y+T.y*l.s}I.c.sy(t,T,l,Z);var g=c.children;
if(g.length==0){var R=C.rN(c);if(R==null)throw"gradient has no stops";var P=N.getElementById(R.slice(1));
if(P==null){console.log(R.slice(1));throw"e"}var O=C.rx(N,P,q,l);Z.Grad=O.Grad}else{var b=[];for(var z=0;
z<g.length;z++){var m=g[z],f=C.rF(m),B=f["stop-color"],K=f["stop-opacity"],j=m.getAttribute("offset");
if(B==null)B="#000000";if(K==null)K="1";var S=j?parseFloat(j):0;B=CSS.rA(B);b.push([S,[B.W/255,B.d/255,B.w/255],parseFloat(K)])}I.c.sj(b,W)}return Z};
BB.Zr=function(N,c){var X=[],l=BB;l.rY=c.Mk?"\t":"";var C=c._Pf,q=c._Ul;X.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+N.h+" "+N.s+"\" width=\""+C+"\" height=\""+q+"\">");
var J={nQ:[],N:[],nA:0,nk:0,GS:0,nu:{},np:{},na:0,ni:{},nw:{},nV:0,MQ:[]};BB.rm(N,J,N.root.children,1,c);
if(J.nQ.length!=0){X.push(l.rz(1)+"<defs>");X=X.concat(J.nQ);X.push(l.rz(1)+"</defs>")}X.push(l.rz(1)+"<style>");
if(c.MQ){for(var Z=0;Z<J.MQ.length;Z++){var W=J.MQ[Z],s=Bs.MT.MK(W);if(W!=Bs.jL(s))continue;X.push(l.rz(2)+"@font-face { font-family: \""+W+"\";  src: url(data:font/sfnt;base64,"+BC._w(s._data.buffer)+");  }")}}X.push(l.rz(2)+"tspan { white-space:pre }");
for(var t in J.ni)X.push(l.rz(2)+"."+t+" { "+J.ni[t]+" } ");X.push(l.rz(1)+"</style>");X=X.concat(J.N);
X.push("</svg>");X=X.join(c.Mk?"\n":"");var T=I.a(Math.round(X.length*1.5)),g=Bl.SA(X,T,0);return T.buffer.slice(0,g)};
BB.rY="";BB.rz=function(N){var c="";for(var X=0;X<N;X++)c+=BB.rY;return c};BB.rD=function(N){return""+parseFloat(N.toFixed(3))};
BB.rm=function(N,c,X,l,C){var q=BB;for(var J=0;J<X.length;J++){var Z=X[J].e,W=Z.add.lsct,s=Z.add.vmsk,t=Z.add.vstk,T=Z.add.TySh,g=[];
if(!C.hidden&&!Z.iw())continue;var R=Z.opacity/255,P=Z.add.iOpa?Z.add.iOpa/255:1;if(R!=1)g.push("opacity: "+q.rD(R));
if(P!=1)g.push("fill-opacity: "+q.rD(P));if(Z.bg!="norm"){var O=__.iE[__.aq.indexOf(Z.bg)];if(O!=null)g.push("mix-blend-mode: "+O)}if(!Z.iw())g.push("display: none");
var b=[];if(C.names)b.push("id=\""+q.rM(Z.getName())+"\"");var z=Z.add.lmfx;if(z)z=z.solidFillMulti.v[0];
if(z)z=z.v;if(z&&z.enab.v){var m=z.Opct.v.val/100,f=q.rD(1-m),B=I.c.si(z.Clr.v);c.nk++;c.nQ.push(q.rz(2)+"<filter id=\"flt"+c.nk+"\"> <feColorMatrix in=\"SourceGraphic\" type=\"matrix\" values=\""+f+" 0 0 0 "+q.rD(m*B.W/255)+"   0 "+f+" 0 0 "+q.rD(m*B.d/255)+"   0 0 "+f+" 0 "+q.rD(m*B.w/255)+"   0 0 0 1 0\" /> </filter>");
g.push("filter: url(#flt"+c.nk+")")}if(Z.iv()){if(s){c.GS++;b.push("clip-path=\"url(#cp"+c.GS+")\"");
c.nQ.push(q.rz(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+c.GS+"\">");var K=I.D.UE(s.p);
c.nQ.push(q.rz(3)+"<path d=\""+K.Go+"\" />");c.nQ.push(q.rz(2)+"</clipPath>")}if(g.length!=0)b.push("style=\""+g.join(";")+"\"");
c.N.push(q.rz(l)+"<g "+b.join(" ")+">");q.rm(N,c,X[J].children,l+1,C);c.N.push(q.rz(l)+"</g>")}else if(Z.i$()&&s==null){var j=new u(0,0,N.h,N.s);
q.rG(g,Z.add,c,j);if(g.length!=0)b.push("style=\""+g.join(";")+"\"");c.N.push(q.rz(l)+"<rect width=\""+N.h+"\" height=\""+N.s+"\" "+b.join(" ")+" />")}else if(s){var j=I.D.$W(s.p),K=I.D.UE(s.p);
if(K.GO!=0){b.push("fill-rule=\"evenodd\"")}var S=K.Go;q.rG(g,Z.add,c,j);if(g.length!=0){var r=g.join(";"),n=c.nw[r];
if(n==null){n="shp"+c.nV;c.nV++;c.nw[r]=n;c.ni[n]=r}b.push("class=\""+n+"\"")}c.N.push(q.rz(l)+"<path "+b.join(" ")+" d=\""+S+"\" />")}else if(T&&!C._TU){var o=T.Xk,y=T.Kp.clone(),i=0,a=0;
if(_W.Ju(o)==1){var D=_W.JO(o,0,0).nP.Justification,x=0,A=_W.Ja(o)[2];if(D==2)x=A/2;if(D==1)x=A;y.translate(x,0)}g.push("transform: "+q.Pf(y));
var e=_W.JA(o),U=o.EngineDict.ParagraphRun,L=U.RunArray,Y=U.RunLengthArray;if(g.length!=0)b.push("style=\""+g.join(";")+"\"");
c.N.push(q.rz(l)+"<text "+b.join(" ")+" >");var E=Z.add.lmfx;if(E)E=E.frameFXMulti.v[0];if(E)E=E.v;for(var V=0;
V<L.length;V++){var G=[],$=Y[V],p=e.slice(i,i+$-1),w=_W.JO(o,i,i),BX=w.nJ[w.nR.Font].Name;if(c.MQ.indexOf(BX)==-1)c.MQ.push(BX);
CSS.yf(G,w,T.Kp,!0,C.MQ);if(E){g.push("stroke: "+CSS.yS(E.Clr.v));g.push("stroke-width: "+E.Sz.v.val)}var Bn=w.nR.FontSize*1.12;
if(V==0)Bn=_W.Ju(o)==0?0:w.nR.FontSize;a+=Bn;if(p!=""){var r=G.join(";"),n=c.nw[r];if(n==null){n="txt"+c.nV;
c.nV++;c.nw[r]=n;c.ni[n]=r}c.N.push(q.rz(l+1)+"<tspan x=\"0\" y=\""+q.rD(a)+"\" class=\""+n+"\">"+q.rM(p)+"</tspan>")}i+=$}c.N.push(q.rz(l)+"</text>")}else if(Z.add.SoLd){var Be=Z.add.SoLd,BW=Be.Idnt.v,Bt=0;
if(c.np[BW]!=null)Bt=c.np[BW];else{c.na++;Bt=c.na;c.np[BW]=c.na;var Bq=N.Vg(BW,Be.Crop?Be.Crop.v:null),sE="";
if(Bq==null)return;var Bd=Bq.ny,Bg=BC._x(Bq.raw.buffer);if(Bg=="pdf"){var s_=new _s("h");BC.PDF._l(Bq.raw.buffer,s_);
s_.cC();s_.cU();s_._();s_.cE();if(Be.Crop&&Be.Crop.v==1){H.Q_.QB(s_,s_.root.xG(s_,!0))}var sT=BC.SVG._c(s_,s_.h,s_.s);
sE="data:image/svg+xml;base64,"+BC._w(sT)}else if(Bg=="jpg"||Bg=="png"||Bg=="gif"||Bg=="svg"){var sI={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
sE="data:"+sI[Bg]+";base64,"+BC._w(Bq.raw.buffer)}else{sE=BC._a(Bd[0],Bd[1].h,Bd[1].s)}c.nQ.push(q.rz(2)+"<image width=\""+Bd[1].h+"\" height=\""+Bd[1].s+"\" id=\"img"+Bt+"\" href=\""+sE+"\"/>")}var Bq=N.Vg(BW,Be.Crop?Be.Crop.v:null),Bd=Bq.ny,sB=I.sv.s$(Be);
if(g.length!=0)b.push("style=\""+g.join(";")+"\"");var ss=b.join(" ");c.N.push(q.rz(l)+"<use "+ss+" href=\"#img"+Bt+"\" transform=\""+q.Pf(sB)+"\"/>")}else if(!Z.rect.BH()&&(C._Bq||T)){if(g.length!=0)b.push("style=\""+g.join(";")+"\"");
var ss=b.join(" "),sK=Z.rect;c.na++;var sE=BC._a(Z.buffer,sK.h,sK.s);c.nQ.push(q.rz(2)+"<image width=\""+Z.rect.h+"\" height=\""+Z.rect.s+"\" id=\"img"+c.na+"\" href=\""+sE+"\"/>");
c.N.push(q.rz(l)+"<use "+ss+" href=\"#img"+c.na+"\" x=\""+sK.x+"\" y=\""+sK.y+"\" />")}}};BB.rM=function(N){return String(N).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
BB.Pf=function(N){var c=[N.u,N.w,N.Mz,N.Mm,N.MD,N.MM].map(BB.rD);return"matrix("+c.join(",")+")"};BB.rG=function(N,c,X,l){var C=BB,q=c.vstk,J=c.vmsk,Z=c.lmfx;
if(J&&J.XO!=0){var W=C.rD(J.XO);if(X.nu[W]==null){X.nk++;X.nu[W]=X.nk;X.nQ.push(C.rz(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+X.nk+"\"> <feGaussianBlur stdDeviation=\""+W+"\" /> </filter>")}N.push("filter: url(#flt"+X.nu[W]+")")}var s=_$.cm(Z),t=s[0],T=s[1];
if(q&&!q.fillEnabled.v)N.push("fill: none");else if(c.SoCo&&T==null||t){var g=CSS.yS((t?t:c.SoCo).Clr.v);
N.push("fill: "+g)}else if(c.GdFl||T){C.rb(T?T:c.GdFl,X,l);N.push("fill: url(#grd"+X.nA+")")}if(q==null||!q.strokeEnabled.v)q=_$.lL(Z);
if(q&&q.strokeEnabled.v){var R=q.strokeStyleContent.v,P=R.classID;if(P=="solidColorLayer")N.push("stroke: "+CSS.yS(R.Clr.v));
else{C.rb(R,X,l);N.push("stroke: url(#grd"+X.nA+")")}var O=F.cF.cH.indexOf(q.strokeStyleLineCapType.v.strokeStyleLineCapType),b=F.cF.join.indexOf(q.strokeStyleLineJoinType.v.strokeStyleLineJoinType),z=q.strokeStyleOpacity.v.val/100,m=q.strokeStyleLineWidth.v.val,f=F.cF.cN.indexOf(q.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(f==2){m*=2;N.push("paint-order:stroke fill markers")}var B=q.strokeStyleLineDashSet.v,K=[];for(var j=0;
j<B.length;j++)K.push(Math.round(B[j].v.val*m));if(O!=0)N.push("stroke-linecap:"+["butt","round","square"][O]);
if(b!=0)N.push("stroke-linejoin:"+["miter","round","bevel"][b]);if(z!=1)N.push("stroke-opacity:"+C.rD(z));
if(m!=1)N.push("stroke-width: "+C.rD(m));if(K.length!=0)N.push("stroke-dasharray: "+K.join(","))}};BB.rb=function(N,c,X){c.nA++;
var l=BB,C=N.Grad.v,q=C.Clrs.v.slice(0),J=C.Trns.v.slice(0),Z=N.Ofst.v,W=N.Type.v.GrdT=="Rdl"?1:0,s=(W==1?"radial":"linear")+"Gradient",t=I.c.sJ(N,X);
if(W==0){t[0].x=t[1].x+2*(t[0].x-t[1].x);t[0].y=t[1].y+2*(t[0].y-t[1].y)}var T=l.rz(2)+"<"+s+" id=\"grd"+c.nA+"\" gradientUnits=\"userSpaceOnUse\" ";
if(W==0)c.nQ.push(T+" x1=\""+l.rD(t[0].x)+"\" y1=\""+l.rD(t[0].y)+"\" x2=\""+l.rD(t[1].x)+"\" y2=\""+l.rD(t[1].y)+"\">");
if(W==1)c.nQ.push(T+" cx=\""+l.rD(t[0].x)+"\" cy=\""+l.rD(t[0].y)+"\" r=\""+l.rD(k.CO(t[0],t[1]))+"\">");
var g=N.Rvrs.v;if(g){q.reverse();J.reverse()}for(var R=0;R<q.length;R++){var P=q[R].v,O=R<J.length?J[R].v.Opct.v.val/100:1,O=O==1?"":"stop-opacity=\""+l.rD(O)+"\"",b=P.Lctn.v/4096;
if(g)b=1-b;c.nQ.push(l.rz(3)+"<stop offset=\""+l.rD(b)+"\" stop-color=\""+CSS.yS(P.Clr.v)+"\" "+O+" />")}c.nQ.push(l.rz(2)+"</"+s+">")};
var Bu={};Bu.parse=function(N){var c=new Uint8Array(N),X=null;if(c[0]==80&&c[1]==75){var l=Date.now(),C=UZIP.parse(c.buffer),X=C["document.json"];
X=JSON.parse(Bl.SC(X,0,X.length));Bu.rX(X,C)}else{var q=Bx.parse(N);X=Bu.re(q[2][0][1])}return X};Bu.rX=function(N,c){var X=typeof N;
if(X=="string"||X=="number"||X=="boolean")return N;if(N instanceof Array){for(var l=0;l<N.length;l++)N[l]=Bu.rX(N[l],c);
return N}var C=N._class;if(C==null)return N;if(C=="MSJSONFileReference"){var q=N._ref;if(!1){}else if(c[q+".json"]!=null){var J=Bl.SC(c[q+".json"],0,c[q+".json"].length);
N=JSON.parse(J)}else if(c[q+".png"]!=null)return{key:q.split("/").pop(),bdata:c[q+".png"]};else if(c[q+".jpg"]!=null)return{key:q.split("/").pop(),bdata:c[q+".jpg"]};
else if(c[q+".pdf"]!=null)return{key:q.split("/").pop(),bdata:c[q+".pdf"]};else if(c[q]!=null)return{key:q.split("/").pop(),bdata:c[q]};
else{console.log(N,c);throw"e"}}else if(C=="MSAttributedString"){var J=atob(N.archivedAttributedString._archive),Z=J.length-1,W=new Uint8Array(Z);
for(var l=0;l<Z;l++)W[l]=J.charCodeAt(l);N.archivedAttributedString=Bu.re(W)}for(var s in N)N[s]=Bu.rX(N[s],c);
return N};Bu.rn=function(N,c,X,l){if(N instanceof Uint8Array)return null;if(l.indexOf(N)!=-1)return null;
l.push(N);if(N==c)return X;for(var C in N){X.push(C);var q=Bu.rn(N[C],c,X,l);if(q){console.log(N,q);
throw"e"}X.pop()}};Bu.re=function(N){var c=BF.parse(N,0),X=c.$objects,l=new Uint8Array(X.length),C=Bu.rt(X,l,c.$top.root);
for(var q=0;q<X.length;q++)if(l[q]==0&&q!=0){console.log(q,X[q]);Bu.rn(C,q,[],[])}for(var q=0;q<X.length;
q++){var J=X[q];if(J._class&&(J._class=="bitmap"||J._class=="fill"&&J.fillType==4)){var Z=null,W=null;
if(J.image&&J.image.data){W=J.image.sha1["NS.bytes"];W=btoa(_.Ra(W,0,W.length));Z=J.image.data instanceof Uint8Array?J.image.data:J.image.data["NS.bytes"]}else{if(J.imageSHA)W=J.imageSHA instanceof Uint8Array?J.imageSHA:J.imageSHA["NS.bytes"];
else W=J.image.sha1["NS.bytes"];W=btoa(_.Ra(W,0,W.length));var s=C.assets?C.assets.imageCollection:C.images,Z=s.images[W].data;
if(Z["NS.bytes"])Z=Z["NS.bytes"]}Z=new Uint8Array(Z.buffer.slice(Z.byteOffset,Z.byteOffset+Z.length));
delete J.imageSHA;J.image={key:W,bdata:Z}}}return C};Bu._Zy=function(N){return N.slice(0,11)=="MSImmutable"?"MS"+N.slice(11):N};
Bu.rt=function(N,c,X){var l=N[X];if(c[X]==1){return l}c[X]=1;if(typeof l=="string")return l;if(typeof l=="number")return l;
if(typeof l=="boolean")return l;if(l instanceof Array)return l;if(l instanceof Uint8Array){return l}if(N[l.$class]==null){if(l.$class==null&&l["NS.data"]!=null)return l;
console.log(X,l);throw"e"}var C=N[l.$class],q=Bu._Zy(C.$classname);c[l.$class]=1;l.$class=q;if(Bu.rd[q]){delete l.$class;
l._class=Bu.rd[q]}var J=Bu.rt;if(q=="NSMutableArray"||q=="NSArray"){var Z=[];if(l["NS.objects"]!=null)for(var W=0;
W<l["NS.objects"].length;W++)Z.push(J(N,c,l["NS.objects"][W]));else for(var W=0;l["NS.object."+W]!=null;
W++)Z.push(J(N,c,l["NS.object."+W]));N[X]=Z;return Z}if(q=="NSDictionary"||q=="NSMutableDictionary"){var s={$class:q};
if(l["NS.keys"]!=null)for(var W=0;W<l["NS.keys"].length;W++){var t=J(N,c,l["NS.keys"][W]);if(t instanceof Uint8Array)t=btoa(Bu.rq.Ra(t,0,t.length));
else if(typeof t!="string"&&typeof t!="number")t=btoa(Bu.rq.Ra(t["NS.bytes"],0,t["NS.bytes"].length));
s[t]=J(N,c,l["NS.objects"][W])}else for(var W=0;l["NS.key."+W]!=null;W++){var t=J(N,c,l["NS.key."+W]);
if(t instanceof Uint8Array)t=btoa(Bu.rq.Ra(t,0,t.length));else if(typeof t!="string"&&typeof t!="number")t=btoa(Bu.rq.Ra(t["NS.bytes"],0,t["NS.bytes"].length));
s[t]=J(N,c,l["NS.object."+W])}for(var T in l)delete l[T];for(var T in s)l[T]=s[T];return l}if(q=="NSURL")return{$class:q,base:J(N,c,l["NS.base"]),relative:J(N,c,l["NS.relative"])};
if(Bu._Zc.indexOf(q)!=-1){N[X]=J(N,c,l.array_do);return N[X]}if(l.do_objectID!=null)l.do_objectID=J(N,c,l.do_objectID);
if(Bu._IS.indexOf(q)!=-1)return l;var g=Bu._Ia[q];if(g==null){console.log(N,l);throw"unknown class "+q}for(var W=0;
W<g.length;W++)if(l[g[W]]!=null)l[g[W]]=J(N,c,l[g[W]]);if(q=="MSTextLayer"){var R=l,P,O,b,z;if(R.attributedString)P=R.attributedString.archivedAttributedString;
else P=R.storage;z=P.NSString;if(typeof z!="string")z=Bl.SC(z["NS.bytes"],0,z["NS.bytes"].length);if(P.NSAttributeInfo)O=P.NSAttributeInfo["NS.bytes"];
else{var m=z.length,f=[];while(m>0){var B=Math.min(100,m);f.push(B,0);m-=B}O=new Uint8Array(f)}b=P.NSAttributes instanceof Array?P.NSAttributes:[P.NSAttributes];
var K={$class:"NSAttributedString",NSString:z,NSAttributes:b};R.attributedString={_class:"MSAttributedString",archivedAttributedString:K};
K.NSAttributeInfo={$class:"NSMutableData","NS.data":O};delete R.storage}return l};Bu.rq={Rc:function(N,c){return N[c+1]<<8|N[c]},Y:function(N,c){return N[c+3]<<24|N[c+2]<<16|N[c+1]<<8|N[c]},Ra:function(N,c,X){var l="";
for(var C=0;C<X;C++)l+=String.fromCharCode(N[c+C]);return l}};Bu.rd={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill"};
Bu._Zc=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
Bu._IS="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData MSStyleReflection".split(" ");
Bu._Ia={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"]};
var BF={};BF.parse=function(N,c){var X=_.Ra(N,c,8);c+=8;var l=BF.parse._Ii(N,N.length-31),C=[];if(l.nj==1){var c=N.length-31-l.nj*l.no;
for(var q=0;q<l.no;q++)C.push(N[c+q])}else if(l.nj==2){var c=N.length-31-l.nj*l.no;for(var q=0;q<l.no;
q++)C.push(_.Rc(N,c+q*2))}else if(l.nj==4){var c=N.length-31-l.nj*l.no;for(var q=0;q<l.no;q++)C.push(_.Y(N,c+q*4))}else{throw"e"}var J=BF.parse.rt(N,C,l.root,l);
return J};BF.parse.rt=function(N,c,X,l){var C=BF.rq,q=l._sX,J=q==4?C.Y:q==2?C.Rc:C._In,Z=BF.parse,W=c[X],s=N[W],t=s>>4,T=s&15,R=null;
W+=1;if([4,5,6,10,12,13].indexOf(t)!=-1&&T==15){var g=Z.RY(N,W);W+=g.bL;T=g.q}if(!1){}else if(t==0)R=T==8?!1:T==9?!0:null;
else if(t==1)R=Z.RY(N,W-1).q;else if(t==2)R=1<<T==4?_.Ps(N,W):_.PE(N,W);else if(t==3)R=_.PE(N,W);else if(t==4)R=new Uint8Array(N.buffer,W,T);
else if(t==5)R=_.Ra(N,W,T);else if(t==6)R=_.Rh(N,W,T);else if(t==8){R=0;for(var P=0;P<T+1;P++)R=R<<8|N[W+P]}else if(t==10){R=[];
for(var P=0;P<T;P++)R.push(Z.rt(N,c,J(N,W+q*P),l))}else if(t==12){R=[];for(var P=0;P<T;P++)R.push(Z.rt(N,c,J(N,W+q*P),l))}else if(t==13){R={};
for(var P=0;P<T;P++){var O=Z.rt(N,c,J(N,W+q*P),l),b=Z.rt(N,c,J(N,W+q*(T+P)),l);R[O]=b}}else throw"unknown mask "+t;
return R};BF.parse.RY=function(N,c){var X=1<<(N[c]&15),l=0;for(var C=0;C<X;C++)l=l<<8|N[c+1+C];return{q:l,bL:X+1}};
BF.parse._Ii=function(N,c){var X={};c+=6;X.nj=N[c];c++;X._sX=N[c];c++;c+=4;X.no=_.Y(N,c);c+=4;c+=4;X.root=_.Y(N,c);
c+=4;c+=4;X._sA=_.Y(N,c);c+=4;return X};BF.rq={_In:function(N,c){return N[c]},Rc:function(N,c){return N[c]<<8|N[c+1]},Y:function(N,c){return N[c]<<24|N[c+1]<<16|N[c+2]<<8|N[c+3]},Ra:function(N,c,X){var l="";
for(var C=0;C<X;C++)l+=String.fromCharCode(N[c+C]);return l}};var Bx={parse:function(N){var c=new Uint8Array(N),X=Bx.ZV(c),l=[],C=new Uint8Array(c.length),q=[];
l.push(q);Bx.SB(c,X,1,C,q);for(var J=0;J<q.length;J++){var Z=[];l.push(Z);Bx.SB(c,X,q[J][3],C,Z);q[J][3]=J+1}return l},SB:function(N,c,X,l,C){X--;
var q=X*c.nH+(X==0?100:0),J=N[q],Z=Bx.Rc(N,q+1);if(Z!=0)throw"free block in a page";var W=Bx.Rc(N,q+3),s=Bx.Rc(N,q+5);
if(s==0)s=65536;var t=N[q+7],T=Bx.Rc(N,q+8);if(J==2||J==5)q+=4;else T=0;for(var g=0;g<W;g++){var R=X*c.nH+Bx.Rc(N,q+8+2*g),P=-1,O=0,b=0,z=0;
if(J==2||J==5){P=Bx.Y(N,R);R+=4}if(J==2||J==10||J==13){O=Bx.SL(N,R);R+=O.bL}if(J==5||J==13){b=Bx.SL(N,R);
R+=b.bL}if(J==5){Bx.SB(N,c,P,l,C);continue}var m=c.nH-(X==0?100:0),f=O.L_,B=J==13?m-35:Math.floor((m-12)*64/255)-23,K=Math.floor((m-12)*32/255)-23,j=K+(f-K)%(m-4);
if(f<=B){Bx.Tx(N,R,l,0,f)}else{var S=j<=B?j:K,r=0;Bx.Tx(N,R,l,0,S);r+=S;z=Bx.Y(N,R+S);while(z!=0){var n=(z-1)*c.nH;
z=Bx.Y(N,n);var o=Math.min(c.nH-4,f-r);Bx.Tx(N,n+4,l,r,o);r+=o}}C.push(Bx._Zx(l,f))}},_Zx:function(N,c){var X=0,l=Bx.SL(N,X);
X+=l.bL;var C=[],q=[];while(X<l.L_){var J=Bx.SL(N,X);X+=J.bL;C.push(J.L_)}if(X!=l.L_)throw"e";for(var Z=0;
Z<C.length;Z++){var J=C[Z];if(!1){}else if(J==0)q.push(null);else if(J==1){q.push(Bx._Bm(N,X));X+=1}else if(J==2){q.push(Bx.RO(N,X));
X+=2}else if(J==3){q.push(Bx._BD(N,X));X+=3}else if(J==4){q.push(Bx.RY(N,X));X+=4}else if(J==7){q.push(Bx._BM(N,X));
X+=16}else if(J==8)q.push(0);else if(J==9)q.push(1);else if(J>=12&&(J&1)==0){var W=J-13>>1,s=new Uint8Array(W);
Bx.Tx(N,X,s,0,W);q.push(s);X+=W}else if(J>=13&&(J&1)==1){var W=J-12>>1;q.push(Bx.SC(N,X,W));X+=W}else throw"unknonw type "+J}return q},ZV:function(N){if(!(N[18]==1&&N[19]==1&&N[20]==0&&N[21]==64&&N[22]==32&&N[23]==32))throw"unexpected SQL3 header";
var c={nN:Bx.Ra(N,0,15),nH:Bx.Rc(N,16),_$p:Bx.Y(N,24),size:Bx.Y(N,28),_It:Bx.Y(N,32),_sj:Bx.Y(N,36),__K:Bx.Y(N,40),_CK:Bx.Y(N,44),_Rq:Bx.Y(N,48),_sY:Bx.Y(N,52),nn:Bx.Y(N,56),_vN:Bx.Y(N,60),_CO:Bx.Y(N,64)!=0,_sJ:Bx.Y(N,68),_Ez:Bx.Y(N,92),_Iv:Bx.Y(N,96)};
if(c.nH==1)c.nH=65536;if(c.nn!=1)throw"unsupported text encoding "+c.nn;return c},_BB:function(N,c){return N[c]<<16|N[c+1]<<8|N[c+2]},_BD:function(N,c){var X=Bx._BB(N,c),l=X&8388608;
return l?-(16777215-X+1):X},_Bm:function(N,c){Bx.SR[0]=N[c];return Bx._sB[0]},RY:function(N,c){var X=Bx.SR;
for(var l=0;l<4;l++)X[l]=N[c+3-l];return Bx._si[0]},RO:function(N,c){var X=Bx.SR;X[0]=N[c+1];X[1]=N[c];
return Bx._sQ[0]},Rc:function(N,c){return N[c]<<8|N[c+1]},Y:function(N,c){return N[c]<<24|N[c+1]<<16|N[c+2]<<8|N[c+3]},_BM:function(N,c){var X=Bx.SR;
for(var l=0;l<8;l++)X[l]=N[c+7-l];return Bx._sF[0]},SL:function(N,c){var X=c,l=0;while(!0){var C=N[c];
c++;l=l*128+(C&127);if(C<128)break}return{L_:l,bL:c-X}},Ra:function(N,c,X){var l="";for(var C=0;C<X;
C++)l+=String.fromCharCode(N[c+C]);return l},SC:function(N,c,X){var l="";for(var C=0;C<X;C++)l+="%"+Bx._BG(N[c+C].toString(16));
return decodeURIComponent(l)},Tx:function(N,c,X,l,C){if(N[c+C-1]==null||X[l+C-1]==null){console.log(c,l,C);
throw"e"}for(var q=0;q<C;q++)X[l+q]=N[c+q]},_BG:function(N){return N.length<2?"0"+N:N}};Bx.SR=new Uint8Array(8);
Bx._sB=new Int8Array(Bx.SR.buffer);Bx._sQ=new Int16Array(Bx.SR.buffer);Bx._si=new Int32Array(Bx.SR.buffer);
Bx._sF=new Float64Array(Bx.SR.buffer);var Bl={};Bl.parse=function(N,c,X){var l=Bl.Sx(N,c,X),C=[0,0,{}],q=0,J=[],Z=0,s=0,t=0,T=0;
for(var W=0;W<100;W++)C.push(0,0,0);while(l[c]==32||l[c]==10)c++;c++;while(l[c]==32||l[c]==10)c++;while(c<X&&-1<q){s=C[q];
t=C[q+1];if(s==0){if(t==0){c++;C[q+1]=1;q+=3;C[q]=3;C[q+1]=0;C[q+2]=0;continue}else if(t==1){J[Z++]=C[q+5];
c++;C[q+1]=2;q+=3;C[q]=2;C[q+1]=0;C[q+2]=0}else if(t==2){var g=J[--Z],R=C[q+5];C[q+2][g]=R;if(l[c]==125){c++;
q-=3}else{c++;C[q+1]=0}}}else if(s==1){if(t==0){C[q+1]=1;q+=3;C[q]=2;C[q+1]=0;C[q+2]=0;continue}else if(t==1){var R=C[q+5];
C[q+2].push(R);if(l[c]==93){c++;q-=3}else{c++;C[q+1]=0}}}else if(s==2){if(t==0){T=l[c];if(T==123){c++;
if(l[c]==125){c++;C[q+2]={};q-=3}else{C[q+1]=1;q+=3;C[q]=0;C[q+1]=0;C[q+2]={}}}else if(T==91){c++;if(l[c]==93){c++;
C[q+2]=[];q-=3}else{C[q+1]=1;q+=3;C[q]=1;C[q+1]=0;C[q+2]=[]}}else if(T==34){c++;if(l[c]==34){c++;C[q+2]="";
q-=3}else{C[q+1]=1;q+=3;C[q]=3;C[q+1]=0;C[q+2]="";continue}}else if(T==102){c+=5;C[q+2]=!1;q-=3}else if(T==116){c+=4;
C[q+2]=!0;q-=3}else if(T==110){c+=4;C[q+2]=null;q-=3}else{var P="";while(48<=T&&T<=57||T==46||T==101||T==69||T==43||T==45){P+=String.fromCharCode(T);
T=l[++c]}C[q+2]=parseFloat(P);q-=3}}else if(t==1){C[q+2]=C[q+5];q-=3;continue}}else if(s==3){var O=[];
while(!0){T=l[c];c++;if(T==34)break;else if(T==92){T=l[c];c++;if(T==34||T==47||T==92)O.push(String.fromCharCode(T));
else if(T==110)O.push("\n");else if(T==114)O.push("\r");else if(T==116)O.push("\t");else if(T==117){throw"e"}}else O.push(String.fromCharCode(T))}C[q+2]=O.join("");
q-=3}while(l[c]==32||l[c]==10)c++}return C[2]};Bl._Id=function(N,c,X){var l="";for(var C=c;C<c+X;C++)l+=String.fromCharCode(N[C]);
return l};Bl.Sx=function(N,c,X){var l=[],C=0,q=0;X+=c;while(c<X){C=N[c++];if((C&128)==0)q=C;else if((C&224)==192){q=(C&31)<<6;
C=N[c++];q|=C&63}else if((C&240)==224){q=(C&15)<<12;C=N[c++];q|=(C&63)<<6;C=N[c++];q|=C&63}else if((C&248)==240){q=(C&7)<<18;
C=N[c++];q|=(C&63)<<12;C=N[c++];q|=(C&63)<<6;C=N[c++];q|=C&63}else throw"e";l.push(q)}return l};Bl.SQ=window.TextDecoder?new window.TextDecoder:null;
Bl.SC=function(N,c,X){if(c==null)c=0;if(X==null)X=N.length;if(Bl.SQ&&c==0&&X==N.length)return Bl.SQ.decode(N);
var l=Bl.Sx(N,c,X),C=l.length;for(var q=0;q<C;q++)l[q]=String.fromCharCode(l[q]);return l.join("")};
Bl.SA=function(N,c,X){var l=N.length,C=0;for(var q=0;q<l;q++){var J=N.charCodeAt(q);if((J&4294967295-(1<<7)+1)==0){c[X+C]=J;
C++}else if((J&4294967295-(1<<11)+1)==0){c[X+C]=192|J>>6;c[X+C+1]=128|J>>0&63;C+=2}else if((J&4294967295-(1<<16)+1)==0){c[X+C]=224|J>>12;
c[X+C+1]=128|J>>6&63;c[X+C+2]=128|J>>0&63;C+=3}else if((J&4294967295-(1<<21)+1)==0){c[X+C]=240|J>>18;
c[X+C+1]=128|J>>12&63;c[X+C+2]=128|J>>6&63;c[X+C+3]=128|J>>0&63;C+=4}else throw"e"}return C};function BQ(N){var c=150;
this.ng=new Bh(1,0,0,-1,0,0);this.ng.scale(c/72,c/72);this.eE=N;N.Xm=c;this.e_=-1;this.eT=0;this.eI=[];
this.eB=null;this.es=null;this.eK=null;this.ev=null;this.e$=null}BQ.prototype.StartPage=function(N,c,X,l){this.es=[N,c,X,l];
var C=this.ng.Cm();N=Math.round(N*C);c=Math.round(c*C);X=Math.round(X*C);l=Math.round(l*C);var q=this.eE,J=this.eK;
q.h+=Math.round(X-N);q.s=Math.max(q.s,Math.round(l-c));this.ng.MM=l;if(J){this.ng.MD+=J[2]-J[0]+30;q.h+=30}this.eK=[N,c,X,l];
q.R.push(q.cT())};BQ.prototype.Sk=function(){var N=this.eE,c=N.R[N.R.length-1];return c};BQ.prototype.Su=function(){var N=JSON.parse(JSON.stringify(F.cF.default));
N.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";N.strokeEnabled.v=!1;
N.fillEnabled.v=!1;return N};BQ.prototype.Sp=function(){var N=this.eE,c=N.c_();c.ii("Path "+N.R.length);
this.eE.R.push(c);c.Xj|=16;c.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.c.sw({W:0,d:0,w:0})}};c.add.vmsk=new v.wI;
c.add.vstk=this.Su();return c};BQ.prototype.Sa=function(N){var c=[{type:6},{type:8,all:0}].concat(I.D.$g(Typr.U.pathToSVG(N)));
I.D.$m(c,this.ng);return c};BQ.Si=function(N,c){for(var X=0;X<N.length;X++)if(N[X].GU!=null)N[X].GU=c};
BQ._vp=function(N){return Math.sqrt(Math.abs(N[0]*N[3]-N[1]*N[2]))};BQ.SV=function(N){return I.c.sw({W:N[0]*255,d:N[1]*255,w:N[2]*255})};
BQ.Sc=function(N){return new Bh(N[0],N[1],N[2],N[3],N[4],N[5])};BQ.prototype.Stroke=function(N){if(this.e_!=-1&&this.e_!=this.eT)return;
if(N.pth.cmds.length<=1)return;var c=this.Sa(N.pth);if(c.length<=2)return;this.Sy(N);BQ.Si(c,-1);c[2].GU=1;
var X=BQ.SV(N.COLR),l=this.Sk(),C=this.Su();C.strokeEnabled.v=!0;C.strokeStyleMiterLimit.v=N.mlimit;
C.strokeStyleLineDashSet.v=_$.lZ(N.dash,1/N.lwidth);C.strokeStyleLineDashOffset.v.val=N.doff;C.strokeStyleLineJoinType.v.strokeStyleLineJoinType=F.cF.join[N.ljoin];
C.strokeStyleLineCapType.v.strokeStyleLineCapType=F.cF.cH[N.lcap];C.strokeStyleLineWidth.v.val=Math.max(.4,N.lwidth*BQ._vp(N.ctm));
C.strokeStyleContent.v.Clr.v=X;var q=l!=null&&l.add.vmsk!=null&&!l.iv(),J=q&&!l.add.vstk.strokeEnabled.v&&v.wI._IN(l.add.vmsk.p,c,!0),Z=q&&!l.add.vstk.fillEnabled.v&&JSON.stringify(C)==JSON.stringify(l.add.vstk);
if(Z){BQ.Si(c,-1);l.add.vmsk.p=l.add.vmsk.p.concat(c.slice(2))}else if(J){l.add.vstk=C;C.fillEnabled.v=!0}else{l=this.Sp();
l.add.vmsk.p=c;l.add.vstk=C}};BQ.prototype.Fill=function(N,c){if(this.e_!=-1&&this.e_!=this.eT)return;
if(N.ca==0)return;var X=N.pth.cmds;if(X.length==0)return;if(X.length==2&&JSON.stringify(X)=="[\"M\",\"L\"]")return;
var l=I.z.sX(N.cpth.crds),C=I.z.sX(N.pth.crds);if(C.vm(l).BH())return;var q=N.pth;if(this.ev==null&&BQ.SJ(q.cmds.join(""),q.crds,[C.x,C.y,C.x+C.h,C.y+C.s])&&C.PN(l)){q=N.cpth}else this.Sy(N);
var J=this.Sa(q);BQ.Si(J,c?0:-1);J[2].GU=1;var Z=I.z.Kq(C);I.z.Kp(Z.l,this.ng,Z.l);C=I.z.sX(Z.l);var W=BQ.Sj(N.colr,this.ng,C),s=this.Sk();
if(s!=null&&s.add.vstk!=null&&!s.add.vstk.strokeEnabled.v&&s.add.SoCo&&W.type=="SoFi"&&JSON.stringify(s.add.SoCo.Clr.v)==JSON.stringify(W.q.v.Clr.v)){var t=s.add.vmsk.p;
for(var T=2;T<J.length;T++)t.push(J[T])}else{s=this.Sp();delete s.add.SoCo;s.add.vmsk.p=v.wI.wB(J);BQ.rw(N.colr,s,this.ng,C);
BQ.SO(N,s)}};BQ.rw=function(N,c,X,l){var C=BQ.Sj(N,X,l),q=null,J=null;c.add.vstk.fillEnabled.v=!0;if(C.type=="SoFi"){q="SoCo";
J=F.cQ}if(C.type=="GrFl"){q="GdFl";J=F.cA}if(C.type=="patternFill"){q="PtFl";J=F.ck}if(q!=null){c.add[q]={classID:"null"};
for(var Z=0;Z<J.length;Z++){var W=J[Z];c.add[q][W]=C.q.v[W]}}};BQ.Sl=function(N,c){for(var X=0;X<8;X+=2){var l=!0;
for(var C=0;C<8;C++)if(Math.abs(c[C]-N[C+X&7])>=2){l=!1;break}if(l)return!0}return!1};BQ.SJ=function(N,c,X){var l=!1;
if(N=="MLLLZ"&&c.length==8||N=="MLLLLZ"&&c.length==10){if(c.length==10)c=c.slice(0,8);var C=X[0],q=X[1],J=X[2],Z=X[3];
if(!l)l=BQ.Sl(c,[C,q,J,q,J,Z,C,Z]);if(!l)l=BQ.Sl(c,[C,Z,J,Z,J,q,C,q])}return l};BQ.prototype.Sy=function(N){var c=this.eE,X=N.cpth,l=X.cmds.join(""),C=X.crds,q=l+" "+C.join(","),J=BQ.SJ(l,C,this.es);
if(J&&this.ev==null)return;if(q==this.ev)return;if(this.ev!=null){c.R.push(this.e$);this.ev=null}if(!J){this.ev=q;
c.R.push(c.cT());var Z=c.c_();Z.ii("Mask");Z.add.lsct=_I.it;Z.bg="pass";Z.Xj=24;var W=Z.add.vmsk=new v.wI;
W.p=this.Sa(N.cpth);this.e$=Z}};BQ.Sj=function(N,c,X){var l,C;if(N.length!=null){l="SoFi";var q=JSON.parse(F.cw[F.order.indexOf("SoFi")]);
C={t:"Objc",v:q};C.v.Clr.v=BQ.SV(N)}else{var J=BQ._$C(N,c,X);l="GrFl";C={t:"Objc",v:J}}return{type:l,q:C}};
BQ._$C=function(N,c,X){var l=JSON.parse(F.cw[F.order.indexOf("GrFl")]),C=l.Grad.v;C.Intr.v=0;var q=BQ.Sc(N.mat);
q.concat(c);var J=new k(0,0),Z=new k(X.h,0),W=N.crds;if(N.typ=="rad"){l.Type.v.GrdT="Rdl";J.x=W[0];J.y=W[1];
Z.x=J.x;Z.y=J.y;Z.x+=W[5]}else{l.Type.v.GrdT="Lnr";J.x=W[0];J.y=W[1];Z.x=W[2];Z.y=W[3];J.x=Z.x+.5*(J.x-Z.x);
J.y=Z.y+.5*(J.y-Z.y)}J=q.CM(J);Z=q.CM(Z);I.c.sy(J,Z,X,l);var s=N.grad;I.c.sj(s,C);return l};BQ.prototype.PutText=function(N,c,X){if(this.e_!=-1&&this.e_!=this.eT)return;
if(c.length==0||c.length==1&&c.charCodeAt(0)==0)return;this.Sy(N);var l=this.eE,C=N.font,q=BQ.Sc(N.ctm),t=null;
q.concat(this.ng);var J=BQ.Sc(C.Tm);J.concat(q);var Z=H.r.Cm(J),W=new Bh(1/Z,0,0,-1/Z,0,0);W.concat(J);
var s=C.Tfs*Z;if(C.Th!=100||C.Trise!=0){console.log(C)}var T=l.R.length-1;while(T>=0&&l.R[T].add.TySh==null)T--;
if(T>=0&&l.R[T].add.TySh){var g=l.R[T],R=g.add.TySh.Kp,P=R.u==W.u&&R.w==W.w&&R.Mz==W.Mz&&R.Mm==W.Mm&&Math.abs(R.MM-W.MM)==0&&Math.abs(R.MD+this.eI[T]-W.MD)<s*.3;
if(P){t=g;this.eI[T]=W.MD-R.MD}}if(t==null){T=l.R.length;this.eI[T]=0;t=l.c_();l.R.push(t);t.add.TySh=_W.Jr(0,0);
t.add.TySh.Kp=W}this.eI[T]+=X*s;var O=t.add.TySh.Xk,b=_W.JA(O);t.ii(b+c);var z=b.length-1,m=z+c.length;
_W.Jl(O,z,c);if(this.eB==null)this.eB=_W.JO(O,z,z);var f=this.eB;f.nR.FontSize=Math.round(s);f.nR.Tracking=C.Tc*100;
f.nR.FillColor={Type:1,Values:[1,N.colr[0],N.colr[1],N.colr[2]]};var B=C.Tf,K={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular"};
if(K[B])B=K[B];_W.JQ(f,B);_W.Jj(O,z,m-1,f)};BQ.prototype.PutImage=function(N,c,X,l,C){if(this.e_!=-1&&this.e_!=this.eT)return;
this.Sy(N);var q=BQ.Sc(N.ctm);q.concat(this.ng);var J=new Bh(1/X,0,0,-1/l,0,1);J.concat(q);q=J;c=BQ.SH(c,X,l);
if(C)C=BQ.SH(C,X,l);if(C==null){if(c.length==X*l*4)c=new Uint8Array(BC.PNG._c([[c.buffer,0]],X,l))}else{c=this.SN(c,X,l);
C=this.SN(C,X,l);var Z=I.a(X*l);I.TR(C,Z,0);I.TP(Z,c,3);c=new Uint8Array(BC.PNG._c([[c.buffer,0]],X,l))}var W=this.eE,s=W.VH(c,"Bitmap",0,0),t=s.rect.clone();
t.x=t.y=0;var T=I.z.Kq(t).l;I.z.Kp(T,q,T);s.add.SoLd.Trnf=H.r.kf(T);s.add.SoLd.nonAffineTransform=H.r.kf(T);
s.iS(W,!1);BQ.SO(N,s);W.R.push(s)};BQ.SO=function(N,c){c.opacity=Math.round(255*N.ca);var X=BQ.SF[N.bmode];
if(X==null)console.log("Unknown blend mode",X);else c.bg=X};BQ.SF={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
BQ.SH=function(N,c,X){var l=BC._x(N.buffer);if(l==null&&N.length!=c*X*4){var C=new Uint8Array(c*X*4),q=new Uint8Array(Math.ceil(c*X/8));
UTIF.decode._decodeG4(N,0,N.length,q,0,c,1);for(var J=0;J<c*X;J++){var Z=J*4,W=(q[J>>3]>>7-(J&7)&1)*255;
C[Z]=W;C[Z+1]=W;C[Z+2]=W;C[Z+3]=255}N=C}return N};BQ.prototype.SN=function(N,c,X){if(N.length!=c*X*4){var l=BC._x(N.buffer),C=BC._A(l);
N=new Uint8Array(C._l(N)[0].data)}return N};BQ.prototype.ShowPage=function(){var N=this.eE;this.eT++;
var c=this.eK;if(this.ev!=null){N.R.push(this.e$);this.ev=null}var X=N.c_();N.R.push(X);X.iz(new u(Math.round(this.ng.MD),0,Math.round(c[2]-c[0]),Math.round(c[3]-c[1])));
X.ii("Page "+this.eT);X.add.lsct=_I.it;X.bg="pass";X.Xj=24};BQ.prototype.Print=function(N){console.log("Print:",N)};
BQ.prototype.Done=function(){var N=this.eE;if(this.eT==1)N.R[N.R.length-1].add.lsct=_I.iW;N.Vw(this.eT);
for(var c=0;c<N.R.length;c++){N.R[c].ih(N)}N.nr=!0;N.buffer=I.a(N.h*N.s*4)};var Bv={};Bv.Zr=function(N,c){var X=new ToPDF,l=N.add.artd?N.root.children:[N.root],C=new u(0,0,N.h,N.s);
for(var q=0;q<l.length;q++){var J=l[q],Z=N.add.artd?J.e.iY():C;X.StartPage(0,0,Z.h,Z.s);var W=PSI._getState([[0,0,Z.h,Z.s]]),s=new Bh;
s.translate(-Z.x,-Z.y-Z.s);s.scale(1,-1);if(c[0]){var t=N.VN();if(!C.TA(Z)){t=I.a(Z.n()*4);I.TF(N.VN(),C,t,Z)}var T=new Bh;
T.translate(Z.x,Z.y);Bv.SM(W,X,t,Z,T,s)}else Bv.Sm(N,J,W,X,s,c);X.ShowPage()}X.Done();return X.buffer};
Bv._Iq="Times-Roman Times-Italic Times-Bold Times-BoldItalic Helvetica Helvetica-Oblique Helvetica-Bold Helvetica-BoldOblique Courier Courier-Oblique Courier-Bold Courier-BoldOblique Symbol".split(" ");
Bv._$G={LiberationSans:"Helvetica"};Bv.SD=function(N){N=I.c.si(N);return[N.W/255,N.d/255,N.w/255]};Bv.Sm=function(N,c,X,l,C,q){var J=c.e,Z=J.add.lsct,W=J.add.lmfx,s=J.add.vmsk,t=J.add.vstk,T=J.add.TySh;
if(!J.iw())return;var g=J.opacity/255,R=J.add.iOpa?J.add.iOpa/255:1;for(var P in BQ.SF)if(BQ.SF[P]==J.bg)X.bmode=P;
X.ca=X.CA=g*R;if(J.iv()){for(var O=0;O<c.children.length;O++)Bv.Sm(N,c.children[O],X,l,C,q)}else if(s){var b=s.p,z=I.D.$W(b),m=I.z.KM(b),f=!1,B=!1,K=!1;
I.z.Kp(m.l,C,m.l);X.pth={cmds:m.Gv,crds:m.l};if(t.fillEnabled.v){var j=_$.cm(W),S=j[0],r=j[1];if(S==null)S=J.add.SoCo;
if(r==null)r=J.add.GdFl;if(S&&r==null){X.colr=Bv.SD(S.Clr.v)}else if(r){var n=r,o=[],y,D=n.Type.v.GrdT=="Rdl"?"rad":"lin",x=I.c.sJ(n,z),A=C.CM(x[0]),e=C.CM(x[1]);
if(D=="rad")y=[A.x,A.y,0,A.x,A.y,k.CO(A,e)];else{A.Cj(e.x+(A.x-e.x)*2,e.y+(A.y-e.y)*2);y=[A.x,A.y,e.x,e.y]}var U=n.Grad.v.Clrs.v;
for(var O=0;O<U.length;O++){var L=U[O].v;o.push([L.Lctn.v/4096,Bv.SD(L.Clr.v)])}X.colr={typ:D,mat:[1,0,0,1,0,0],grad:o,crds:y}}f=!0}var Y=_$.lL(W);
if(!t.strokeEnabled.v&&Y)t=Y;if(t.strokeEnabled.v){var E=t.strokeStyleContent.v,i=t.strokeStyleLineDashSet.v,a=F.cF.cN.indexOf(t.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(E.Clr==null)return;var V=I.c.si(E.Clr.v);X.COLR=[V.W/255,V.d/255,V.w/255];X.lwidth=t.strokeStyleLineWidth.v.val*(a==2?2:1);
X.mlimit=t.strokeStyleMiterLimit.v;X.doff=t.strokeStyleLineDashOffset.v.val;X.ljoin=F.cF.join.indexOf(t.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
X.lcap=F.cF.cH.indexOf(t.strokeStyleLineCapType.v.strokeStyleLineCapType);X.dash=[];for(var O=0;O<i.length;
O++)X.dash.push(i[O].v.val*X.lwidth);B=!0;if(a==2)K=!0}if(f&&!K)l.Fill(X);if(B)l.Stroke(X);if(f&&K)l.Fill(X)}else if(T&&q[1]==!1){var G=T.Xk,$=T.Kp.clone(),p=new Bh(1,0,0,-1,0,0),Bq=0,Bd=0;
if(_W.Ju(G)==0&&_W.JO(G,0,0).nP.Justification==2)p.MD-=J.rect.h/2;p.concat($);p.concat(C);var w=_W.JA(G),BX=G.EngineDict.ParagraphRun,Bn=BX.RunArray,Be=BX.RunLengthArray,BW=J.add.lmfx;
if(BW)BW=BW.frameFXMulti.v[0];if(BW)BW=BW.v;var Bt=Bv._$G;for(var O=0;O<Bn.length;O++){var Bg=[],sE=Be[O],s_=w.slice(Bq,Bq+sE-1);
if(s_=="")continue;var sT=_W.JO(G,Bq+s_.length-1,Bq+s_.length-1),V=_W.si(sT.nR);X.colr=[V.W/255,V.d/255,V.w/255];
var sI=sT.nJ[sT.nR.Font].Name;if(Bt[sI])sI=Bt[sI];X.font.Tf=sI;X.font.Tfs=Math.round(sT.nR.FontSize);
var sB=sT.nR.FontSize*1.12;if(O==0)sB=_W.Ju(G)==0?0:sT.nR.FontSize;Bd+=sB;var ss=new Bh;ss.translate(0,-Bd);
ss.concat(p);X.ctm=[ss.u,ss.w,ss.Mz,ss.Mm,ss.MD,ss.MM];if(sT.nR.FontCaps==2)s_=s_.toUpperCase();l.PutText(X,s_,0);
Bq+=sE}}else if(!J.rect.BH()){var sK,sv,s$=new Bh;if(J.add.SoLd){var sU=J.add.SoLd,sL=sU.Idnt.v,sC=N.Vg(sL,sU.Crop?sU.Crop.v:null),sP="";
if(sC==null)return;var sZ=sC.ny,sR=BC._x(sC.raw.buffer);if(sR=="jpg")sK=sC.raw;else sK=sZ[0];sv=sZ[1];
s$=I.sv.s$(sU)}else{sK=J.buffer;sv=J.rect;s$.translate(sv.x,sv.y)}var sh=W;if(sh)sh=sh.solidFillMulti.v[0];
if(sh)sh=sh.v;if(sh&&sh.enab.v){var sr=sK;sK=sK.slice(0);var sS=__.aq[__.ad.indexOf(sh.Md.v.BlnM)],sf=I.c.si(sh.Clr.v),sx=4278190080|Math.round(sf.w)<<16|Math.round(sf.d)<<8|Math.round(sf.W),V=I.a(sv.n()*4);
I.Tr(V,sx);I.B.Ih(sS,V,sv,sK,sv,sv,sh.Opct.v.val/100);for(var O=0;O<sK.length;O+=4)sK[O+3]=sr[O+3]}Bv.SM(X,l,sK,sv,s$,C)}};
Bv.SM=function(N,c,X,l,C,q){var J=new Bh;J.scale(l.h,-l.s);J.translate(0,l.s);J.concat(C);J.concat(q);
N.ctm=[J.u,J.w,J.Mz,J.Mm,J.MD,J.MM];c.PutImage(N,X,l.h,l.s);N.ctm=[1,0,0,1,0,0]};var BD={};BD.ZB=function(N,c){var X=new Uint8Array(N);
return BD.SG(X,0,c)};BD.SG=function(N,c,X){var l=_.Rq,C=_.Ra,q={Ga:C(N,c,4),M:c+8,size:l(N,c+4)};if(X&&X[q.size]!=null)q.size=X[q.size];
if(q.Ga=="RIFF"||q.Ga=="LIST"){q.cY=C(N,c+8,4)}if(q.size<0||q.M+q.size>N.length)throw"e";if(q.Ga=="RIFF"||q.Ga=="LIST"&&(q.cY!="cmpr"&&q.cY!="stlt")){q.sub=[];
c+=12;var J=q.M+q.size;while(c<J){var Z=BD.SG(N,c,X);q.sub.push(Z);c+=8+Z.size+(Z.size&1)}}return q};
function Bf(){}Bf.ZB=function(N,c){var X=new Uint8Array(N);c.nr=!0;var l=_.Ra(X,0,2);if(l=="WL"){alert("Unsupported CDR version")}else{var C=Bf.Sb,q=BD.ZB(X.buffer),J={data:X,M:0,eL:Bf._CT(X[11])};
J.eC=J.eL<600?16:32;Bf.fB(J,q.sub,c,0);var Z=C(q,"cmpr").sub,W=Z[0],s=Z.slice(1),t=C(W,"mcfg").q,T=t._IT,g=Math.round(T.x*300),R=Math.round(T.y*300);
c.h=g;c.s=R;var P=C(W,"filt").sub,O=C(W,"otlt").sub;W.eR={};for(var b=0;b<P.length;b++)W.eR[P[b].sub[0].q.id]=P[b].sub[0].q;
W.eP={};for(var b=0;b<O.length;b++)W.eP[O[b].q.id]=O[b].q;var z=new Bh(300,0,0,-300,T.x*150,T.y*150),m=s[1];
Bf.ra(m,W,c,z);c.Vw(1);c.R[c.R.length-1].iz(new u(0,0,g,R))}};Bf.Sb=function(N,c){var X=null;for(var l=0;
l<N.sub.length;l++){var C=N.sub[l];if(C.Ga==c||C.cY==c)X=C}return X};Bf.ra=function(N,c,X,l){var C=Bf.Sb,q=N.cY?N.cY:N.Ga,J=C(N,"lgob"),Z=C(N,"txsm"),W,s;
if(J){W=C(J,"trfl");s=C(J,"loda")}var t=W?W.sub[0].KR.clone():new Bh;t.concat(l);var T=X.c_();if(q=="page"||q=="layr"||q=="grp "){T.ii((q=="page"?"Page":"Group")+" "+X.R.length);
T.add.lsct=_I.iW;T.bg="pass";T.Xj=24;var g=[];if(q=="page")g=C(N,"gobj").sub;if(q=="layr")g=N.sub.slice(2);
if(q=="grp ")g=N.sub.slice(4);if(g.length==0)return;X.R.push(X.cT());for(var R=g.length-1;R>=0;R--)Bf.ra(g[R],c,X,l)}else if(q=="obj "&&s.q&&s.q.path){T.ii("Object "+X.R.length);
var P=c.eR[s.q._Iw],O=c.eP[s.q._PS],b=T.getName(),z=P&&P.type!=0,m=z&&P.q!=null?P.q:[0,0,0];T.Xj|=16;
T.add.vstk=JSON.parse(JSON.stringify(F.cF.default));var f=T.add.vstk;f.strokeEnabled.v=!1;T.add.vmsk=new v.wI;
if(O&&O._Rg!=1){f.strokeEnabled.v=!0;f.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
f.strokeStyleLineWidth.v.val=O.lineWidth*300;var B=O.color;f.strokeStyleContent.v.Clr.v=I.c.sw({W:B[0]*255,d:B[1]*255,w:B[2]*255})}var K=s.q.path,j={crds:K.l,cmds:K.Gv};
T.add.vmsk.p=[{type:6},{type:8,all:0}].concat(I.D.$g(Typr.U.pathToSVG(j)));I.D.$m(T.add.vmsk.p,t);BQ.rw(m,T,t,I.D.$W(T.add.vmsk.p));
f.fillEnabled.v=z;T.ih(X)}else if(q=="obj "&&Z){var S=s.q._BE,o="";T.add.TySh=_W.Jr(0,0);var r=t.Cm();
T.add.TySh.Kp.translate(t.MD,t.MM);var n=T.add.TySh.Xk,y=Z.q.ex;for(var R=0;R<y.length;R++){var D=y[R],x=o.length;
o+=D.text+"\n";_W.Jl(n,x,D.text+"\n");var A=Bf._UJ(D._B$,c),e=_W.JO(n,x,o.length);if(A.align==3)e.nP.Justification=1;
else e.nP.Justification=0;var U=A.fill.q;e.nR.FillColor={Type:1,Values:[1,U[0],U[1],U[2]]};e.nR.FontSize=Math.round(A._Tu.fontSize*t.Cm());
_W.Jj(n,x,o.length-1,e)}_W.Jp(n,1);_W.Ji(n,[0,0,Math.round(S.x*t.u),Math.round(-S.y*t.Mm)]);T.ii(o.slice(0,10))}else{T=null}if(T)X.R.push(T)};
Bf._UJ=function(N,c){var X=Bf.Sb(c,"stlt").q,l=JSON.parse(JSON.stringify(X.ek[N]));if(l.eu!=0){var C=X.ek[l.eu];
for(var q in C)if(l[q]==null||l[q]==0)l[q]=C[q];delete l.eu}l.align=X._RL[l._BJ];l.fill=c.eR[X._By[l.ew]];
l.__j=c.eP[X._BF[l.el]];l._Tu=X.eJ[l._EG];return l};Bf._Cc=function(N){var c=N.data[N.M];N.M+=1;return c};
Bf.Se=function(N){var c=_.Ry(N.data,N.M);N.M+=2;return c};Bf.SW=function(N){var c=_.Rq(N.data,N.M);N.M+=4;
return c};Bf.St=function(N){var c=_._Rc(N.data,N.M);N.M+=2;return c};Bf.Sq=function(N){var c=_.Rm(N.data,N.M);
N.M+=4;return c};Bf.PE=function(N){var c=_._Eu(N.data,N.M);N.M+=8;return c};Bf.Sd=function(N){var c=0;
while(N.data[N.M+c]!=0)c++;var X=_.Ra(N.data,N.M,c);N.M+=c+1;return X};Bf._UM=function(N){if(N.eL<600)return Math.PI*Bf.St(N)/1800;
return Math.PI*Bf.Sq(N)/18e7};Bf._Ue=function(N){if(N.eL<1500)return Bf.f_(N);else return Bf.PE(N)/254e3};
Bf.f_=function(N){if(N.eL<600)return Bf.St(N)/1e3;else return Bf.Sq(N)/254e3};Bf._LI=function(N){if(N.eL<600)return CRDParser.Se(N);
else return Bf.SW(N)};Bf._LK=function(N){if(N.eL<600)return CRDParser.St(N);else return Bf.Sq(N)};Bf.fB=function(N,c,X,l){var C=Bf,q=C._Cc,J=C.Se,Z=C.SW,W=C.St,s=C.Sq,t=C.PE,T=C.f_,g=C._Ue,R=C._UM,P=C._LI,O=C._LK;
for(var b=0;b<c.length;b++){var z=N.eL,m=c[b];N.M=m.M+(m.Ga=="LIST"?4:0);if(m.Ga=="vrsn"){var f=J(N);
N.eL=f;console.log("Version",f);N.eC=f<600?16:32}else if(m.Ga=="DISP"){}else if(m.Ga=="LIST"&&m.cY=="cmpr"){var B=Z(N),K=Z(N),j=Z(N),S=Z(N),r=new Uint8Array(N.data.buffer,N.M+8+2,B-6-8),n=pako.inflateRaw(r),x=0;
N.M+=B;r=new Uint8Array(N.data.buffer,N.M+8+2);var o=pako.inflateRaw(r),y=[];for(var D=0;D<o.length;
D+=4)y.push(_.Rq(o,D));m.sub=[];while(x<n.length){var A=BD.SG(n,x,y);x=A.M+A.size;m.sub.push(A)}var e={data:n,M:0,eL:z,eC:N.eC};
Bf.fB(e,m.sub,X,l+1)}else if(m.Ga=="LIST"&&m.cY=="stlt"){var U=N.M,Bq=32;m.q={};var L=Z(N);if(L==0)return;
m.q._By=Bf.fs(N,z>=1300);m.q._BF=Bf.fs(N);m.q.eJ={};var Y=Z(N);for(var E=0;E<Y;E++){var i=Z(N);N.M+=z<1e3?12:20;
var a=J(N),V=J(N);N.M+=8;var G=T(N);N.M+=z<1e3?12:20;m.q.eJ[i]={_ZQ:a,_T_:V,fontSize:G}}m.q._RL=Bf.fs(N);
var $=Z(N);N.M+=52*$;var p=Z(N);N.M+=152*p;var w=Z(N);N.M+=784*w;var BX=Z(N);for(var E=0;E<BX;E++){N.M+=40;
if(z>1300)N.M+=4;if(z>=1300){if(Z(N))N.M+=68;else N.M+=12}else{N.M+=20;if(z>=1e3)N.M+=8;if(Z(N))N.M+=8;
N.M+=8}}var Bn=Z(N);m.q._sq={};for(var E=0;E<Bn;E++){var Be=Z(N),BW={};N.M+=12;BW.right=T(N);BW._To=T(N);
BW.left=T(N);m.q._sq[Be]=BW}var Bt=Z(N);if(z>=1300)Bq+=4;N.M+=Bq*Bt;var Bd=Z(N);N.M+=28*Bd;if(z>800){var Bg=Z(N);
N.M+=12*Bg}m.q.ek={};for(var E=0;E<L;E++){var sE=Z(N),s_=Z(N),sT={};sT.eu=Z(N);N.M+=8;var sI=Z(N);if(z>=1200)sI*=2;
N.M+=sI;sT.ew=Z(N);sT.el=Z(N);if(sE>1){sT._EG=Z(N);sT._BJ=Z(N);sT._$l=Z(N);sT._$o=Z(N);if(z>800)sT._RF=Z(N)}if(sE>2){sT._PT=Z(N);
sT._IW=Z(N);sT._Rn=Z(N);sT._vR=Z(N);sT._Ur=Z(N)}m.q.ek[s_]=sT}}else if(m.Ga=="LIST")Bf.fB(N,m.sub,X,l+1);
else if(m.Ga=="txsm"){m.q={};if(z<600)throw"e";if(z<700)throw"e";if(z>=1600)throw"e";if(z>=1500)N.M+=37;
else N.M+=36;if(Z(N)){if(z<800)N.M+=32}if(z<800)N.M+=4;m.q._vJ=Z(N);m.q.ex=[];N.M+=48;if(z>=800){if(Z(N)){N.M+=32;
if(z>=1300)N.M+=8}}if(z>=1500)N.M+=12;var sE=Z(N),sB=1;if(!sE){if(z>=800)N.M+=4;if(z>800)N.M+=2;if(z>=1400)N.M+=2;
N.M+=24;if(z<800)N.M+=8;sB=Z(N)}for(var D=0;D<sB;D++){var ss=Z(N),E=0;if(z>=1300&&sE)N.M++;N.M++;var L=Z(N),sK=[];
for(E=0;E<L;E++){var sv=q(N),sU=0;q(N);var s$=q(N);if(z>=800)sU=q(N);var sT={};if(s$&1){sT._ZQ=J(N);
var sL=J(N);if(sL)sT._$O=sL}if(s$&2)N.M+=4;if(s$&4)sT._IR=T(N);if(s$&8)N.M+=4;if(s$&16)N.M+=4;if(s$&32)N.M+=4;
if(s$&64){sT.ew=Z(N);if(z>=1500)N.M+=48}if(s$&128){sT.el=Z(N)}if(sU&8){if(z>=1300){var sC=Z(N);N.M+=sC*2}else N.M+=4}if(sU&32){var sZ=q(N);
if(sZ)N.M+=52}if(sv==2)if(z>=1300)N.M+=48;sK.push(sT)}var sR=Z(N),sP=[];for(E=0;E<sR;E++){var sh=0;if(z>=1200)sh=readU64(N)&4294967295;
else sh=Z(N);sP[E]=sh>>16|sh&1}var sr=sR;if(z>=1200)sr=Z(N);var sS=Bf.Sd(N);m.q.ex.push({_B$:ss,text:sS,ek:sK})}}else if(m.Ga=="font"){var sf=J(N),sx=J(N);
N.M+=14;var sQ=Bf.Sd(N);m.q={id:sf,_P_:sx,name:sQ}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(m.Ga)!=-1){}else if(m.Ga=="flgs")m.q=Z(N);
else if(m.Ga=="bbox"){var sA=T(N),sk=T(N),su=T(N),sp=T(N);m.q=new u(sA,sk,su-sA,sp-sk)}else if(m.Ga=="fild"){var sa=Z(N),si=0,sV;
if(z>=1300){N.M+=4;si=J(N);N.M+=2}var sw=J(N);if(sw==0){}else if(sw==1){N.M+=z>=1300?13:2;sV=Bf.rA(N)}else if(sw==2){N.M+=z>=1300?8:2;
var sc=q(N),sl=0;if(z>=1300){N.M+=17;sl=W(N)}else if(z>=600){N.M+=19;sl=s(N)}else{N.M+=11;sl=W(N)}var sJ=R(N),sy=.5+O(N),sj=.5+O(N)-.5;
if(z>=600)N.M+=2;var so=P(N)&255,sO=q(N)/100;N.M++;var sF=P(N)&65535;if(z>=1300)N.M+=3;var sH=[];for(var E=0;
E<sF;E++){var sN=Bf.rA(N);if(z>=1300){if(si==158||z>=1600&&si==150)N.M+=26;else N.M+=5}var sY=P(N)/100;
if(z>=1300)N.M+=3;sH.push([sY,sN])}sV={typ:sc==1?"lin":"rad",crds:[sy-Math.cos(sJ)/2,sj-Math.sin(sJ)/2,sy,sj],grad:sH,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",sw);
m.q={id:sa,type:sw,q:sV}}else if(m.Ga=="outl"){var sz=Z(N);if(z>=1300){var sD=0,sm=0;while(sD!=1){N.M+=sm;
sD=Z(N);sm=Z(N)}}var sM=J(N),sG=J(N),sb=J(N);if(z<1300&&z>=600)N.M+=2;var sX=T(N),sn=J(N)/100;if(z>=600)N.M+=2;
var se=R(N);if(z>=1300)N.M+=46;else if(z>=600)N.M+=52;var sV=Bf.rA(N,sz==270963208||sz==276198e3,sz);
m.q={id:sz,_Rg:sM,_vr:sG,_IG:sb,lineWidth:sX,color:sV}}else if(m.Ga=="mcfg"){if(1300<=z)N.M+=12;else if(900<=z)N.M+=4;
else if(600<=z&&z<700)N.M+=28;var sW=0,st=0;if(z<400)throw"e";else{sW=T(N);st=T(N)}m.q={_IT:new k(sW,st)}}else if(m.Ga=="loda"){var U=N.M,sq=P(N),sd=P(N),sg=P(N),KE=P(N),K_=P(N),KT=[],KI=[];
N.M=U+sg;for(var E=0;E<sd;E++)KT[E]=P(N);N.M=U+KE;for(var E=sd-1;E>=0;E--)KI[E]=P(N);m.q={};for(var E=0;
E<sd;E++){N.M=U+KT[E];var KB=KI[E];if(KB==10)m.q._PS=Z(N);else if(KB==20)m.q._Iw=Z(N);else if(KB==200)m.q.__o=P(N);
else if(KB==30){if(z<400)K_--;if(K_==1){var sA=g(N),sk=g(N),Ks=0,KK=0,Kv=0,K$=0;if(z<1500){K$=g(N);Kv=z<900?K$:g(N);
KK=z<900?K$:g(N);Ks=z<900?K$:g(N)}else throw"e";m.q.path=I.z.KM(I.D.Ua.Rect(0,0,sA,sk,Ks))}else if(K_==2){var KU=T(N),KL=T(N),KC=R(N),KZ=R(N),KR=Math.abs(KU),KP=Math.abs(KL);
m.q.path=I.z.KM(I.D.Ua.UJ(0,0,KR,-KP))}else if(K_==3){m.q.path=Bf._LM(N)}else if(K_==6){m.q._BE=Bf._LH(N)}else if(K_==37){m.q.path=Bf._Lz(N)}else console.log(K_)}}}else if(m.Ga=="trfd"){var U=N.M,sq=P(N),sd=P(N),sg=P(N);
N.M=U+sg;var KT=[];for(var E=0;E<sd;E++)KT[E]=P(N);for(var E=0;E<sd;E++){N.M=U+KT[E];if(z>=1300)N.M+=8;
var Kh=J(N);if(Kh==8){var Kr,KS,sA,Kf,Kx,sk;if(z>=600)N.M+=6;if(z>=500){Kr=t(N);KS=t(N);sA=t(N)/(z<600?1e3:254e3);
Kf=t(N);Kx=t(N);sk=t(N)/(z<600?1e3:254e3)}else throw"e";m.KR=new Bh(Kr,Kf,KS,Kx,sA,sk)}else console.log(Kh)}}else if(!1){console.log(m);
var KQ=Math.min(m.size,32);console.log(_._$R(data,m.M,KQ));console.log(_._Uw(data,m.M,KQ))}}};Bf.fs=function(N,c){var X=Bf.SW,l={},C=X(N);
for(var q=0;q<C;q++){var J=X(N);N.M+=4;var Z=X(N);l[J]=Z;if(c)N.M+=48}return l};Bf._LH=function(N){var c=Bf,X=c.f_;
N.M+=4;var l=X(N),C=X(N);return new k(l,C)};Bf._Lz=function(N){var c=Bf,X=c.SW,l=c.Se,C=c.f_;N.M+=4;
var q=l(N)+l(N);N.M+=16;var J=Bf.fU(N,q);return J};Bf._LM=function(N){var c=Bf.Se(N);N.M+=2;return Bf.fU(N,c)};
Bf.fU=function(N,c){var X=Bf,l=X.f_,C=N.eL<600?2:4,q=N.M,J={l:[],Gv:[]},Z=0,W=0,s=0;for(var t=0;t<c;
t++){var Z=l(N),W=l(N),T=N.data[q+c*C*2+t];if(!(T&64)&&!(T&128)){J.l.push(Z,W);J.Gv.push("M");s+=2}else if(T&64&&!(T&128)){J.l.push(Z,W);
J.Gv.push("L");s+=2}else if(!(T&64)&&T&128){J.l.push(Z,W);J.Gv.push("C");s+=6}else if(T&64&&T&128){J.l.push(Z,W)}}if(s!=J.l.length)throw"e";
return J};Bf._UW=function(N,c){var X=_.Rq;c+=8;var l=X(N,c);c+=4;var C=X(N,c);c+=4;c+=4*7;var q=c,J=I.a(l*C*4);
c+=1024;for(var Z=0;Z<C;Z++)for(var W=0;W<l;W++){var s=Z*l+W,t=(C-Z-1)*l+W,T=N[c+s]<<2,g=t<<2;J[g+0]=N[q+T+2];
J[g+1]=N[q+T+1];J[g+2]=N[q+T+0];J[g+3]=255}return{Ml:J,rect:new u(0,0,l,C)}};Bf._CT=function(N){if(N==32)return 300;
else if(N<49)return 0;else if(N<58)return 100*(N-48);else if(N<65)return 0;return 100*(N-55)};Bf.rA=function(N,c,X){var l=Bf.Se,C=Bf.SW,q=N.eL,J=0,Z=0;
if(q>=500){J=l(N);if(J==1&&q>=1300)J=25;if(J==25||J==30)throw"e";else if(J==14)throw"e";else{N.M+=6;
Z=C(N)}}else throw"e";var W=[];if(J==2||J==17){var s=[Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255];if(J==2)for(var t=0;
t<4;t++)s[t]=Math.round(255*s[t]/100);for(var t=0;t<4;t++)s[t]/=255;W=PSI.C.cmykToRgb(s)}else console.log("Unknown color model "+J,Z,Z.toString(16));
return W};var H={};H.fZ=function(N,c,X){this.name=N;this.id=c;if(X!=null)this.eg=X};H.fZ.prototype.fR=function(N,c,X,l,C){};
H.fZ.prototype.enable=function(N,c,X,l,C){var q=new Q(d.E.m,!0);q.data={I:d.L.jf,WE:"default"};c.C(q)};
H.fZ.prototype.disable=function(N,c,X,l){};H.fZ.prototype.fP=function(N,c,X,l,C){};H.fZ.prototype.fh=function(N,c,X,l,C){};
H.fZ.prototype.fr=function(N,c,X,l,C){};H.fZ.prototype.fS=function(N,c,X,l,C){};H.fZ.prototype.ff=function(N,c,X,l){};
H.fZ.prototype.fx=function(N,c,X,l){};H.fZ.prototype.fQ=function(N,c){};H.fZ.prototype.fA=function(N,c){};
H.fZ.prototype.fk=function(N,c,X,l,C){};H.fZ.prototype.fu=function(N,c){};H.fZ.prototype.fp=function(N){return!1};
H.fZ.prototype.fa=function(N){return!1};H.fZ.prototype.fi=function(){return!1};H.fZ.prototype.fw=function(N,c){return!0};
H.fZ.prototype.fV=function(){return null};H.fZ.prototype.fc=function(N,c,X){};H.fZ.prototype.fl=function(){return!1};
H.fZ.prototype.fJ=function(N,c,X,l){};H.fy="0";H.fj="1";H.fo="2";H.fO="5";H.fF="6";H.fH="7";H.fN="8";
H.fY="9";H.fz="10";H.fD="14";H.fm="16";H.fM="18";H.fG="19";H.fb="20";H.fX="23";H.fn="24";H.fe="27";H.fW="31";
H.ft="34";H.fq="35";H.fd="36";H.fg="37";H.xE="38";H.x_="39";H.xT="40";H.xI="41";H.xB="42";H.xs="43";
H.xK="47";H.xv="51";H.x$="52";H.xU="54";H.xL="55";H.xC="56";H.xZ="57";H.xR="58";H.xP="59";H.xh="61";
H.xr="100";H.xS="101";H.xf="230";H._EP="231";H.xQ="232";H.xA="233";H.xk="234";H.xu="235";H.xp="236";
H.xa=function(N,c,X){H.fZ.call(this,N,c,X);this.W_={brush:N?_U.lk():null,bmode:"norm",opacity:1,flow:1,smth:0,wconf:{WT:10,WI:!0},expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,patch:0};
this.WB=null;this.Ws=null;this.WK=null;this.Wv=null;this.W$=null;this.WU=null;this.WL=1;this.WC=!1;this.WZ=null;
this.caller=null};H.xa.prototype=new H.fZ;H.xa.prototype.fR=function(N,c,X,l,C){if(N.I=="draw"){var q=N._ZS,J=this.W_.bmode;
this.xV(X);this.W_.bmode="norm";this.xH(X,"draw",N._$e,q,q);this.W_.bmode=J;this._(X,q);this.finish(X,q,N.mN)}};
H.xa.prototype.fp=function(N){if(0<=parseInt(N)&&parseInt(N)<=9)return!0;return!1};H.xa.prototype.ff=function(N,c,X,l){var C=this.W_.brush,q=H.xa.xi(C,l);
if(q!=null){var J=new Q(d.E.m,!0);J.data={I:d.L.jD,mz:BZ.uH,la:q};c.C(J)}if(!l.T(M.pC)&&l.p_()!=-1){var Z=d.yX(Math.round(this.W_.opacity*100),l.p_())/100;
this.W_.opacity=Z;var J=new Q(d.E.m,!0);J.data={I:d.L.jz,K:this.id,Wh:{opacity:Z}};c.C(J)}if(this.id==H.fN&&l.T(M.pZ)!=this.WC&&N!=null){var W=this.W_.qsmode;
if(W==2)W=N.G==null?0:1;else W=2;this.xo(W,c);this.WC=l.T(M.pZ)}};H.xa.xi=function(N,c){var X=N.Brsh.v.Dmtr.v.val,l=N.Brsh.v.Hrdn!=null?N.Brsh.v.Hrdn.v.val:-1,C=X,q=l,J=c.T(M.pU);
if(c.T(M.pc)){if(J)l=25*Math.floor((l-1)/25);else{if(X>10)X=5*Math.floor((X-1)/5);else X--}}if(c.T(M.pl)){if(J)l=25*Math.ceil((l+1)/25);
else{if(X>9)X=5*Math.ceil((X+1)/5);else X++}}X=Math.max(1,X);l=Math.max(0,Math.min(100,l));if(q==-1)l=-1;
if(X!=C||l!=q){var Z=JSON.parse(JSON.stringify(N));Z.Brsh.v.Dmtr.v.val=X;if(q!=-1)Z.Brsh.v.Hrdn.v.val=l;
return Z}return null};H.xa.prototype.xw=function(N,c){if(c.Wr.list.length==0)return;var X=_C.lt(this.W_.brush,c.Wr.list[0].Xt,this.WL),l=new Q(d.E.m,!0);
l.data={I:d.L.jf,WE:d.js(X)};if(N)N.C(l)};H.xa.prototype.enable=function(N,c,X,l){this.caller=c;var C=new Q(d.E.m,!0);
C.data={I:d.L.jD,mz:BZ.uH,la:JSON.parse(JSON.stringify(this.W_.brush))};c.C(C);if(N&&N.g.o!=0)this.WL=N.g.o;
this.xw(c,X)};H.xa.prototype.fu=function(N,c){if(c==BZ.uH){this.W_.brush=N.Wr.Wf}this.xw(this.caller,N)};
H.xa.prototype.fk=function(N){for(var c in N)this.W_[c]=N[c]};H.xa.prototype.xV=function(N){var c=N.R[N.Q[0]];
this.WU=N.G==null?null:{rect:N.G.rect.clone(),channel:I.clone(N.G.channel)};if(c.X<=0){this.Wv=c.rect.clone();
this.W$=I.clone(c.buffer)}if(c.X==1){var X=c.im();this.Wv=X.rect.clone();this.W$=I.clone(X.channel)}if(c.X==3){var X=c.iM(N).b;
this.Wv=X.rect.clone();this.W$=I.clone(X.channel)}};H.xa.prototype.xc=function(N,c,X){if(N.T(M.pZ)){var l=new Q(d.E.A,!0);
l.K=H.fD;l.data={I:"pickhere",_TI:X};c.C(l);return!0}return!1};H.xa.prototype.xl=function(N,c,X,l,C,q){if(!N.Vm()){this.WB=null;
return}this.xV(N);var J=new u(0,0,N.h,N.s),Z=null;if(q!=null){var W=N.R[N.Q[0]],s=W.X<=0?null:W.X==1?W.im():W.iM(N).b;
Z=I.a(J.n()*4);if(s)H.xa.xY(this.W$,this.Wv,s.color,Z,J);else I.TF(this.W$,this.Wv,Z,J)}if(this.WB&&this.id==H.fN&&this.W_.qsmode!=0){}else{var t=this.id==H.fN?N.R[N.Q[0]].rect:J;
this.WB=new _C(this.W_.brush,c.Wr.list[0].Xt,c.Wr.list[0].Xq,{WQ:C,WA:q,_so:this.W_.smth*50*d.V()/N.g.o,Wu:this.id==H.fn},c.Wp,c.Wa,t,Z,q)}if(this.id==H.fN){this.WB.__s(this.W_.brush,this.W_.qsmode==2?0:16777215)}var T=N.g.cR(l.x,l.y);
T=H.QG.AU(N,T,c);if(X.T(M.pU)&&this.Ws){this.WB.moveTo(this.Ws.x,this.Ws.y,l.Wi);this.WB.lineTo(T.x,T.y,l.Wi)}else this.WB.moveTo(T.x,T.y,l.Wi);
this.Ws=T;this.WK=new _L(T)};H.xa.prototype.xJ=function(N,c,X){if(N.g.o!=0&&N.g.o!=this.WL){this.WL=N.g.o;
this.xw(this.caller,X)}};H.xa.prototype.xy=function(N,c,X,l){if(this.WB==null)return;var C=N.R[N.Q[0]],q=N.g.cR(l.x,l.y);
q=H.QG.AU(N,q,c);var J=this.WK.ll(q,X);this.WB.lineTo(J.x,J.y,l.Wi);this.Ws=J};H.xa.prototype.fx=function(N,c,X,l){if(this.id!=H.fN||N==null)return;
if(N.G==null||N.Q[0]!=this._LF){this._LF=N.Q[0];this.xo(0,c)}};H.xa.prototype._=function(N,c){if(c==null)c=this.WB.le();
if(c.BH())return;var X=N.R[N.Q[0]];if(X.X<=0){X._(c)}if(X.X==1){X.im().Xe=!0;X.ih(N)}if(X.X==3){X._()}N._(N.root.Vh(c,N,N.Q[0]))};
H.xa.prototype.fr=function(N,c,X,l,C){if(this.WB==null)return;this.WB.finish();if(this.id!=H.fM)this.xF(N);
if(this.id==H.fN){var q=N.G;N.G=this.WU;var J=new Q(d.E.A,!0);J.data={I:"setsel",mN:this.name,G:q};J.K=H.fj;
c.C(J);if(this.W_.qsmode==0)this.xo(1,c)}else{this.finish(N,this.WB.xG());this.WB=null}this.dir=0};H.xa.prototype.xo=function(N,c){if(N==this.W_.qsmode)return;
this.W_.qsmode=N;var X=new Q(d.E.m,!0);X.data={I:d.L.jz,K:this.id,Wh:{qsmode:N}};c.C(X)};H.xa.prototype.finish=function(N,c,X){var l=N.R[N.Q[0]],C,q;
if(l.X<=0){C=I.a(c.n()*4);I.TF(this.W$,this.Wv,C,c);q=I.a(c.n()*4);I.TF(l.buffer,l.rect,q,c)}else{var J=l.X==1?l.im():l.iM(N).b;
C=I.a(c.n());I.set(C,J.color);I.Ty(this.W$,this.Wv,C,c);q=I.a(c.n());I.set(q,J.color);I.Ty(J.channel,J.rect,q,c)}var Z=new _f(X?X:this.name,this);
Z.data={I:"putbrush",e:N.Q[0],WV:l.X,Wc:c,Wl:C,WJ:q};N.cB(Z)};H.xa.prototype.fA=function(N,c){this.xO(N,c,N.Wl,N._Bt)};
H.xa.prototype.fQ=function(N,c){this.xO(N,c,N.WJ,N._BX)};H.xa.prototype.xO=function(N,c,X,l){var C=c.R[N.e];
if(N.I=="putbrush"){if(N.WV<=0){C.extend(N.Wc);I.TF(X,N.Wc,C.buffer,C.rect);C.I_()}if(N.WV==1||N.WV==3){var q=N.WV==1?C.im():C.iM(c).b;
I.Ty(X,N.Wc,q.channel,q.rect);if(N.WV==1){C.im().Xe=!0;C.ih(c)}}}if(N.I=="drawtemp"){C.WO.Wo=l;C.ip(c,0,0,c.G)}C._();
c._()};H.xa.prototype.xF=function(N,c){this.xH(N,this.WZ,this.WB.lW(),this.WB.xG(),this.WB.le(),c);this._(N)};
H.xa.prototype.xH=function(N,c,X,l,C,q){var J=this.W_,Z=N.R[N.Q[0]],W=Z.X<=0?null:Z.X==1?Z.im():Z.iM(N).b,s=I.a(C.n()*4);
if(W==null){Z.extend(C);I.TF(this.W$,this.Wv,s,C)}else{W.extend(C);H.xa.xY(this.W$,this.Wv,W.color,s,C)}if(N.G&&c!="qselect"){var t=C.vm(N.G.rect),T=I.a(t.n()*4);
I.TF(X,l,T,t);I.Tb(N.G.channel,N.G.rect,T,t);X=T;l=t}if(c=="draw")I.B.Ih(J.bmode,X,l,s,C,C,J.opacity);
if(c=="erase"){var g=I.a(C.n()*4);I.TF(X,l,g,C);if(W==null){var R=I.a(C.n());I.TR(g,R,3);I.Tz(R,J.opacity);
I.Tk(R);I.Tb(R,C,s,C)}else{I.Tr(g,0,4278190080);I.B.Ih("norm",g,C,s,C,C,J.opacity)}}if(c=="clone"||c=="heal"){var P=this.Wv.clone();
P.offset(q.M.x,q.M.y);var O=C.clone();O.PY(1,1);var b=I.a(O.n()*4),z=I.a(O.n());I.TF(X,l,b,O);I.TR(b,z,3);
I.Tr(b,0);if(W==null){I.TF(this.W$,P,b,O);var m=I.a(O.n());I.TR(b,m,3);I.Tm(m,z)}else H.xa.xY(this.W$,P,W.color,b,O);
if(c=="clone"){I.TP(z,b,3);I.B.Ih(J.bmode,b,O,s,C,C,J.opacity)}if(c=="heal"){var f=I.clone(z);I.round(f,20);
var B=I.a(O.n()*4);I.TF(this.W$,this.Wv,B,O);I.B.Iw(b,O,B,O,f,O,0,O,1,!1);I.v$.sO(B,f,O);I.B.Iw(B,O,s,C,z,O,0,C,1,!1)}}if(c=="dodge"||c=="burn"){var b=I.a(C.n()*4),S=1,r=0,n=0,o=0;
I.TF(X,l,b,C);var K=C.n()*4,j=H.xa.xN,y=J.rng;if(c=="dodge"){r=[1-S/2,1,1+S][y];n=[1,1/(1+S),1][y];o=[S/2,0,0][y]}if(c=="burn"){r=[1/(1-S/2),1,1-S/2][y];
n=[1,1+S,1][y];o=[-(S/2)/(1-S/2),0,0][y]}for(var D=0;D<K;D+=4){var x=b[D+3];s[D+0]=j(s[D+0],r,n,o,x);
s[D+1]=j(s[D+1],r,n,o,x);s[D+2]=j(s[D+2],r,n,o,x)}}if(c=="sponge"){var b=I.a(C.n()*4),z=I.a(C.n());I.TF(X,l,b,C);
I.TR(b,z,3);I.Tx(s,b);var A=I.a(256);for(var D=0;D<256;D++)A[D]=D;var e=I.a(256);I.set(e,127+[-50,23][J.smode]);
var U=I.a(256);I.set(U,127+[25,-5][J.smode]);var q={type:"remapHSL",WF:A,GJ:e,WH:U,WN:1,WY:0,Wz:0};BP.ap(q,b,b);
I.B.Iw(b,C,s,C,z,C,0,C,1,!1)}if(c=="copy")I.TF(X,l,s,C);if(c=="sheal0"||c=="sheal1"||c=="sheal2"){var b=I.a(C.n()*4),z=I.a(C.n());
I.TF(X,l,b,C);I.TR(b,z,3);var L=[null,null,I.so.sO][parseInt(c.charAt(5))];L(this.W$,this.Wv,z,s,C)}if(c=="qselect"){var Y=this.W_.brush,E=this.W_.qsmode,i=Math.max(40,Math.round(Y.Brsh.v.Dmtr.v.val*1.7)),O=C.clone();
O.PY(i,i);O=O.vm(this.Wv);var b=I.a(O.n()*4);I.TF(X,l,b,O);var z=I.a(O.n());for(var D=0;D<z.length;D++){var a=b[D<<2],V=b[(D<<2)+3];
z[D]=a==255&&V==255?255:a==0&&V==255?0:100}if(N.G==null)N.G={channel:I.a(0),rect:new u};I.extend(N.G,O);
var G=I.a(O.n());I.Ty(N.G.channel,N.G.rect,G,O);if(E==2){I.Tk(z);I.Tk(G)}I.TF(this.W$,this.Wv,b,O);var $=I.vT.vT(O,b,z);
I.vH.vz(G,$,$);if(E==2){I.Tk($)}I.Ty($,O,N.G.channel,N.G.rect);N.WD=!0}if(W==null)I.TF(s,C,Z.buffer,Z.rect);
else H.xa.xz(s,C,W)};H.xa.xN=function(N,c,X,l,C){var q=N*(1/255),J=l+c*Math.pow(q,X),Z=Math.round(J*C+q*(255-C));
return Math.max(0,Math.min(255,Z))};H.xa.xY=function(N,c,X,l,C){var q=I.a(C.n());I.set(q,X);I.Ty(N,c,q,C);
I.Tr(l,4278190080);I._Rl(q,l)};H.xa.xz=function(N,c,X){var l=I.a(c.n());I.T$(N,l);I.Ty(l,c,X.channel,X.rect)};
H.xD=function(N,c,X){H.fZ.call(this,N,c,X);this.W_={Wm:"front",XO:0,WM:{LT:0,x:3,y:2}};this.WG=new k(-1,-1);
this.Wb=new k(-1,-1);this.WX="default";this.Wn=!1;this.We=!1;this.WC=!1;this.WW=0;this.Wt=0;this.Wq=!1;
this.Wd=null;this.Wg=null};H.xD.prototype=new H.fZ;H.xD.prototype.fa=function(N){return this.Wq||N.tE&&this.id!=H.fO};
H.xD.prototype.xm=function(N,c,X){var l=new Q(c,!0);l.data=X;N.C(l)};H.xD.prototype.xM=function(N,c){var X=new Q(d.E.m,!0);
X.data={I:d.L.jf,WE:c};N.C(X)};H.xD.prototype.xG=function(N,c){c=N.G==null||this.WW>1||this.Wt>1?c:null;
var X=this.WG,l=this.Wb;X.x=Math.round(X.x);X.y=Math.round(X.y);l.x=Math.round(l.x);l.y=Math.round(l.y);
var C=H.At.kE(X,l,c,!0,this.W_.WM),q=C[0].x,J=C[0].y;return new u(q,J,C[1].x-q,C[1].y-J)};H.xD.prototype.fP=function(N,c,X,l,C){this.Wn=!1;
this.We=l.T(M.pU);this.WC=l.T(M.pZ);this.WW=this.We?0:1;this.Wt=this.WC?0:1;this.WG=N.g.cR(C.x,C.y);
this.WG=H.QG.AU(N,this.WG,X);if(this.xb(N,this.WG)){this.Wq=!0;this.Wd=N.G.rect.clone();return}this.xX(N,X,l,C);
N.g.t_=new u};H.xD.prototype.xb=function(N,c){if(N.G&&this.W_.Wm=="front")return I.IB(c,N.G.channel,N.G.rect);
return!1};H.xD.prototype.fh=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);if(k.CO(this.WG,q)*N.g.o>5)this.Wn=!0;
if(l.T(M.pP)){if(this.Wg==null)this.Wg=new k(q.x-this.WG.x,q.y-this.WG.y);this.WG.x=q.x-this.Wg.x;this.WG.y=q.y-this.Wg.y}else this.Wg=null;
this.Wb=q;if(!this.Wq)this.Wb=H.QG.AU(N,this.Wb,X);if(this.xb(N,this.Wb))this.xM(c,H.fy);else this.xM(c,this.WX);
if(this.Wq){var J=this.Wd.clone();J.x+=this.Wb.x-this.WG.x;J.y+=this.Wb.y-this.WG.y;var Z=H.QG.AL(N,J,X);
N.G.rect.x=Math.round(this.Wb.x-this.WG.x+this.Wd.x+Z[0]);N.G.rect.y=Math.round(this.Wb.y-this.WG.y+this.Wd.y+Z[1]);
N.WD=!0;H.QG.A$(N,J,Z);return}this.xn(N,X,l,C);if(N.g.t_)N.g.t_=this.xG(N,l)};H.xD.prototype.fr=function(N,c,X,l,C){N.g.t_=null;
this.Wb=N.g.cR(C.x,C.y);this.Wb=H.QG.AU(N,this.Wb,X);if(this.Wq){this.Wq=!1;var q=this.W_.Wm;if(this.We)q="union";
if(this.WC)q="difference";if(this.Wb.TA(this.WG)&&q=="front"){var J=new _f([7,1],this);J.data={I:"changesel",WU:N.G,tT:null};
N.cB(J);this.fQ(J.data,N);return}var J=new _f([7,7],this);J.data={I:"movesel",tI:this.Wd,tB:N.G.rect.clone()};
N.cB(J);this.fQ(J.data,N);if(N!=null&&N.v.ts){N.v.ts=null;N.tv=!0}return}this.xe(N,X,l,C)};H.xD.prototype.ff=function(N,c,X,l){if(this.Wn){if(this.WW==0&&!l.T(M.pU))this.WW++;
if(this.WW==1&&l.T(M.pU))this.WW++;if(this.Wt==0&&!l.T(M.pZ))this.Wt++;if(this.Wt==1&&l.T(M.pZ))this.Wt++}};
H.xD.prototype.finish=function(N,c,X,l){var C=N.G,q=this.getSelection(N,c,X,l),t;if(q&&this.W_.XO!=0){var J={rect:q.rect.clone(),channel:null},Z=Math.round(this.W_.XO*2.6);
J.rect.PY(Z,Z);var W=I.a(J.rect.n());J.channel=I.a(J.rect.n());I.Ty(q.channel,q.rect,W,J.rect);I.blur.IY(W,J.channel,J.rect,this.W_.XO);
q=J}if(q!=null&&I.TN(q.channel,0)){q=null}var s=this.W_.Wm;if(this.We)s="union";if(this.WC)s="difference";
if(q==null){if(C==null)return;t=new _f([7,1],this);t.data={I:"changesel",WU:C,tT:q}}else{if(C!=null)q=I.vH.vN(q,C,s);
t=new _f(this.name,this);t.data={I:"changesel",WU:C,tT:q}}N.cB(t);this.fQ(t.data,N);this.WG.Cj(-1,-1);
this.Wb.Cj(-1,-1)};H.xD.prototype.getSelection=function(N,c,X,l){return null};H.xD.prototype.xX=function(N,c,X,l){};
H.xD.prototype.xn=function(N,c,X,l){};H.xD.prototype.xe=function(N,c,X,l){};H.xD.prototype.fA=function(N,c){var X=N.I;
if(X=="changesel")c.G=N.WU;if(X=="movesel")c.G.rect=N.tI;c.WD=!0};H.xD.prototype.fQ=function(N,c){var X=N.I;
if(X=="changesel")c.G=N.tT;if(X=="movesel")c.G.rect=N.tB;c.WD=!0};H.xD.prototype.fk=function(N){this.W_=N};
H.xD.prototype.xW=function(N){var c=I.z.Kt(N.l);if(c.BH())return null;var X=d.S("canvas","");X.width=c.h;
X.height=c.s;var l=X.getContext("2d");l.beginPath();l.translate(-c.x,-c.y);Typr.U.pathToContext({cmds:N.Gv,crds:N.l},l);
l.closePath();l.fill();var C=I.a(c.n()),q=l.getImageData(0,0,X.width,X.height);I.TR(q.data,C,3);return{rect:c,channel:C}};
H.xt=function(){H.xa.call(this,[10,18],H.fd,"tools/blur");this.WZ="copy"};H.xt.prototype=new H.xa;H.xt.prototype.fP=function(N,c,X,l,C){this.xl(N,X,l,C,this.W_.strn,_C.fd);
if(this.WB==null)return;this.xF(N)};H.xt.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;this.xJ(N,c,X);
if(!C.tE)return;this.xy(N,X,l,C);this.xF(N)};H.xq=function(){H.xa.call(this,[10,0],H.fX,"tools/brush");
this.WZ="draw"};H.xq.prototype=new H.xa;H.xq.prototype.fP=function(N,c,X,l,C){if(this.xc(l,c,C))return;
this.xl(N,X,l,C,this.W_.flow);if(this.WB==null)return;this.xF(N)};H.xq.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;
this.xJ(N,c,X);if(!C.tE)return;this.xy(N,X,l,C);this.xF(N)};H.xd=function(){H.xa.call(this,[10,38],H.fn,"tools/pencil");
this.WZ="draw"};H.xd.prototype=new H.xa;H.xd.prototype.fP=function(N,c,X,l,C){if(this.xc(l,c,C))return;
this.xl(N,X,l,C,this.W_.flow);if(this.WB==null)return;this.xF(N)};H.xd.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;
this.xJ(N,c,X);if(!C.tE)return;this.xy(N,X,l,C);this.xF(N)};H.xg=function(){H.xa.call(this,[10,22],H.xT,"tools/burn");
this.WZ="burn"};H.xg.prototype=new H.xa;H.xg.prototype.fP=function(N,c,X,l,C){this.xl(N,X,l,C,this.W_.expo/Math.E);
if(this.WB==null)return;this.xF(N)};H.xg.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;this.xJ(N,c,X);
if(!C.tE)return;this.xy(N,X,l,C);this.xF(N)};H.QE=function(){H.xa.call(this,[10,1],H.fe,"tools/clone");
this.WZ="clone";this.t$=null;this.tU=null;this.M=null};H.QE.prototype=new H.xa;H.QE.prototype.fP=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);
this.t$=q;if(l.T(M.pZ)||l.T(M.pY)){this.tU=N.g.cR(C.x,C.y);this.M=null;return}if(this.tU==null){alert(BT.get([15,7,0]));
return}this.xl(N,X,l,C,this.W_.flow);if(this.WB==null)return;if(this.M==null||!this.W_.algnd)this.M=new k(Math.round(q.x-this.tU.x),Math.round(q.y-this.tU.y));
this.xF(N,{M:this.M})};H.QE.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;this.xJ(N,c,X);
if(!C.tE||this.tU==null)return;this.xy(N,X,l,C);this.xF(N,{M:this.M})};H.QE.prototype.disable=function(N,c,X,l){this.tU=null;
this.M=null};H.Q_=function(){H.fZ.call(this,[10,2],H.fz,"tools/crop");this.tL={tC:0};this.tZ=null;this.cursor=null;
this.tR=0};H.Q_.prototype=new H.fZ;H.Q_.prototype.fa=function(N){return this.tZ&&this.tZ.ka()};H.Q_.prototype.fP=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y),J=this.Qs(),Z=J==-1?1:J;
if(this.tZ==null)this.tZ=new Bw(null,!0,!1,!1,!0,J!=-1);this.tZ.fP(N,X,l,q,Z)};H.Q_.prototype.xw=function(N){var c=new Q(d.E.m,!0);
c.data={I:d.L.jf,WE:this.cursor};N.C(c)};H.Q_.prototype.enable=function(N,c,X,l){this.cursor="crosshair";
this.xw(c)};H.Q_.prototype.fh=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);if(!C.tE){var J="crosshair";
if(this.tZ&&this.tZ.kJ(q,N.g.o))J=this.tZ.kJ(q,N.g.o);else if(this.tZ){if(this.tZ.kj(q))J="default";
else J="default"}if(J!=this.cursor){this.cursor=J;this.xw(c)}}if(this.tZ==null)return;this.tZ.fh(N,X,l,q);
N.g.t_=this.Qv()};H.Q_.prototype.fr=function(N,c,X,l,C){if(this.tZ==null)return;var q=N.g.cR(C.x,C.y);
this.tZ.fr(N,X,l,q);this.xm(c,d.E.m,{I:d.L.jz,K:this.id,tP:!0});var J=this.tZ.ki();if(Math.abs(J[0]-J[4])<2||Math.abs(J[1]-J[5])<2){this.disable(N,c,null,l);
return}if(Date.now()-this.tR<200&&this.tZ.kj(q)){this.QK(N,X);this.disable(N,c,X,l);return}this.tR=Date.now()};
H.Q_.prototype.ff=function(N,c,X,l){if(l.T(M.pK)){this.QK(N,X);this.disable(N,c,X,l)}else if(l.T(M.pR)){this.disable(N,c,X,l)}else if(this.tZ)this.tZ.ff(N,X,l)};
H.Q_.prototype.fR=function(N,c,X,l,C){var q,J=new u(0,0,X.h,X.s),Z=[11,3],W=X.Xm,s=X.h/2,t=X.s/2,T=!1;
if(N.I=="imgsize"){J=new u(0,0,N.th,N.tr);if(N.tS)W=N.tS;T=N.tf==0}else if(N.I=="canvsize"){var g=N.tQ!=null?N.tQ:0;
J=new u(0,0,N.th,N.tr);var R=X.h-N.th,P=X.s-N.tr,O=Math.round(R/2),b=Math.round(P/2);if(g==1||g==4||g==7)J.x=O;
if(g==2||g==5||g==8)J.x=R;if(g==3||g==4||g==5)J.y=b;if(g==6||g==7||g==8)J.y=P;if(N.M){J.x=N.M.x;J.y=N.M.y}}else if(N.I=="rot"&&N.q!=Math.PI){J=new u(s-X.s/2,t-X.h/2,X.s,X.h);
if((X.h+X.s&1)==1){s=Math.floor(s);t=Math.floor(t);J=new u(s-Math.floor(X.s/2),t-Math.floor(X.h/2),X.s,X.h);
if((X.h&1)==1&&N.q!=-Math.PI/2)J.y--;if((X.s&1)==1&&N.q==-Math.PI/2)J.x--}}else if(N.I=="trim"){Z=[11,12];
var z=X.R[X.Q[0]];J=I.IE(z.buffer,z.rect);if(J.BH())J=z.rect.clone()}if(N.I=="imgsize"||N.I=="rot"||N.I=="scl"){var m=new Bh;
if(N.I=="imgsize"){Z=[11,10];m.scale(N.th/X.h,N.tr/X.s)}else{m.translate(-s,-t);if(N.I=="rot")m.rotate(N.q);
if(N.I=="scl")m.scale(N.q.x,N.q.y);m.translate(s,t);Z=N.mN}q=this.QT(X,C,m,T)}var f=new _f(Z,this);f.data={tI:new u(0,0,X.h,X.s),tB:J,tA:X.Xm,tS:W,tk:q,KR:m};
X.cB(f);this.fQ(f.data,X)};H.Q_.prototype.QT=function(N,c,X,l){var C={R:[],tu:null,tp:null};for(var q=0;
q<N.R.length;q++)C.R.push(q);C.tu=H.r.kC(N,C.R,!0);H.r.kR(N,c,C.R,C.tu,l,I.sv.sZ(X));C.tp=H.r.kC(N,C.R,!0);
return C};H.Q_.prototype.fQ=function(N,c){if(N.tS)c.Xm=N.tS;if(N.tk){H.Q_.QI(c,N.KR);H.r.kZ(c,N.tk.R,N.tk.tp)}H.Q_.QB(c,N.tB)};
H.Q_.prototype.fA=function(N,c){if(N.tA)c.Xm=N.tA;var X=N.tI.clone();X.offset(-N.tB.x,-N.tB.y);H.Q_.QB(c,X);
c.VY();if(N.tk){var l=N.KR.clone();l.Tk();H.Q_.QI(c,l);H.r.kZ(c,N.tk.R,N.tk.tu)}};H.Q_.QI=function(N,c){for(var X=0;
X<N.R.length;X++){var l=N.R[X];if(l.add.artb==null)continue;var C=I.z.Kq(l.iY()).l;I.z.Kp(C,c,C);var q=I.z.Kt(C);
l.iz(q)}};H.Q_.QB=function(N,c){N.h=c.h;N.s=c.s;var X=[];for(var l=0;l<N.R.length;l++)X.push(l);H.QG.As(N,X,null,-c.x,-c.y);
for(var l=0;l<N.R.length;l++){N.R[l].ih(N)}N.VY();N.g.M.Cj(0,0);if(N.G)N.G.rect.offset(-c.x,-c.y)};H.Q_.prototype.fk=function(N,c,X,l,C){if(N.ta=="commit"){this.QK(X,C);
this.disable(X,c,null,l)}else if(N.ta=="cancel"){this.disable(X,c,null,l)}var q=null;if(N.ta=="config"){this.tL=N.tL;
if(X==null)return;q=new u(0,0,X.h,X.s);var J=this.Qs();if(J!=-1)q.s=q.h/J}if(N.ta=="cropby"){if(X==null)return;
var Z=N._$c,q;if(Z==0)q=X.root.xG(X,!0);if(Z==1){var W=X.root.VC(X.Q[0]);q=W.xG(X,!0)}if(Z==2){var s=X.R[X.Q[0]];
q=I.IE(s.buffer,s.rect);if(q.BH())q=s.rect.clone()}if(Z==3){if(X.G!=null)q=X.G.rect;else alert("There is no selection.")}}if(q!=null){this.tZ=new Bw([q.x,q.y,q.x+q.h,q.y,q.x+q.h,q.y+q.s,q.x,q.y+q.s],!0,!1,!1,!0,this.Qs()!=-1);
this.tZ.kY(X);this.xm(c,d.E.m,{I:d.L.jz,K:this.id,tP:!0})}};H.Q_.prototype.Qs=function(){var N=this.tL.tC;
return[-1,1,3/2,4/3,16/9][N]};H.Q_.prototype.QK=function(N,c){var X=new _f(this.name,this),l=I.sv.sC(I.sv.sU(this.tZ.ki())),C,q=Math.atan2(l.w,l.u);
if(q!=0){var J=new Bh;J.translate(-l.MD,-l.MM);J.rotate(q);J.translate(l.MD,l.MM);C=this.QT(N,c,J,!1)}var Z=this.Qv();
X.data={tI:new u(0,0,N.h,N.s),tB:Z,tk:C,KR:J};N.cB(X);this.fQ(X.data,N)};H.Q_.prototype.Qv=function(){var N=I.sv.sC(I.sv.sU(this.tZ.ki())),c=N.MD,X=N.MM,l=Math.atan2(N.w,N.u);
N.rotate(l);var C=new u(c,X,N.u,N.Mm);C.x=Math.round(C.x);C.y=Math.round(C.y);C.h=Math.round(C.h);C.s=Math.round(C.s);
if(C.h<0){C.x=C.x+C.h;C.h*=-1}if(C.s<0){C.y=C.y+C.s;C.s*=-1}return C};H.Q_.prototype.disable=function(N,c,X,l){if(N==null)return;
if(this.tZ)this.tZ.clear(N);this.tZ=null;N.g.t_=null;this.xm(c,d.E.m,{I:d.L.jz,K:this.id,tP:!1})};H.Q_.prototype.xm=function(N,c,X,l){var C=new Q(c,!0);
C.data=X;if(l)C.K=l;N.C(C)};H.Q$=function(){H.xa.call(this,[10,21],H.x_,"tools/dodge");this.WZ="dodge"};
H.Q$.prototype=new H.xa;H.Q$.prototype.fP=function(N,c,X,l,C){this.xl(N,X,l,C,this.W_.expo/Math.PI);
if(this.WB==null)return;this.xF(N)};H.Q$.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;this.xJ(N,c,X);
if(!C.tE)return;this.xy(N,X,l,C);this.xF(N)};H.QU=function(){H.xa.call(this,[10,3],H.fW,"tools/eraser");
this.WZ="erase"};H.QU.prototype=new H.xa;H.QU.prototype.fP=function(N,c,X,l,C){this.xl(N,X,l,C,this.W_.flow);
if(this.WB==null)return;this.xF(N)};H.QU.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;this.xJ(N,c,X);
if(!C.tE)return;var q=this.xy(N,X,l,C);this.xF(N)};H.QU.prototype.fR=function(N,c,X,l,C){if(!X.Vm())return;
var q=X.R[X.Q[0]];if(N.I=="clear"){if(X.G==null)return;var J=q.X<=0?null:q.X==1?q.im():q.iM(X).b,Z=q.X<=0?q.rect:J.rect,W=q.X<=0||J.color==0?X.G.rect.vm(Z):X.G.rect,t,T;
if(W.BH())return;var s=W.n();if(q.X<=0){t=I.a(s*4);T=I.a(s*4);I.TF(q.buffer,q.rect,t,W);I.TF(q.buffer,q.rect,T,W)}else{t=I.a(s);
T=I.a(s);J.extend(W);I.Ty(J.channel,J.rect,t,W);I.Ty(J.channel,J.rect,T,W)}if(q.iu(X,X.G)){if(q.X<=0){I.Tr(T,0);
I.TF(q.WO.n$,q.WO.tw,T,W)}else{I.set(T,255);I.Ty(q.WO.n$,q.WO.tw,T,W)}}else{if(q.X<=0){var g=I.a(T.length>>2);
I.TR(T,g,3);I.B.Io(I.I$(X.G.rect.n()),X.G.rect,g,W,X.G.channel,W,1);I.TP(g,T,3)}else{var R=I.a(X.G.rect.n()),P=C.Wa>>16&255,O=C.Wa>>8&255,b=C.Wa>>0&255;
I.set(R,Math.round(I._G(P,O,b)));I.B.Io(R,X.G.rect,T,W,X.G.channel,W,1)}}var z=new _f([2,2],this);z.data={I:"putbrush",e:X.Q[0],WV:q.X,Wc:W,Wl:t,WJ:T};
X.cB(z);this.fQ(z.data,X)}if(N.I=="stroke"){var m=N.__P,f=X.G;if(f==null){f={rect:q.rect.clone(),channel:I.a(q.rect.n())};
I.TR(q.buffer,f.channel,3)}var B=_$.cb(m),K=H.Al.AJ(f,Math.ceil(B[0]),Math.ceil(B[1])),j=I.c.si(m.Clr.v),P=Math.round(j.W),O=Math.round(j.d),b=Math.round(j.w);
this.QL(X,q,K,P,O,b,Math.round(255*m.Opct.v.val/100),__.i_(m.Md.v.BlnM),[14,9])}if(N.I=="fill"){var j=N.Xw==0?C.Wp:C.Wa,P=j>>16&255,O=j>>8&255,b=j>>0&255;
this.QL(X,q,X.G,P,O,b,255,"norm",[2,3])}if(N.I=="fillBMP"){this.QC(X,q,X.G,N.Mh,N.GG,N.mN)}if(N.I=="paste"){var S=N.tc;
this.xV(X);this.xH(X,"draw",S.buffer,S.rect,S.rect);this._(X,S.rect);this.finish(X,S.rect,"Paste")}};
H.QU.prototype.QL=function(N,c,X,l,C,q,J,Z,W){var s=X==null?new u(0,0,N.h,N.s):X.rect,t=J<<24|q<<16|C<<8|l<<0,T=I.a(s.n()*4);
I.Tr(T,t);this.QC(N,c,X,T,Z,W)};H.QU.prototype.QC=function(N,c,X,l,C,q){var J=c.X<=0?null:c.X==1?c.im():c.iM(N).b,Z=c.X<=0?c.rect:J.rect,W=X==null?new u(0,0,N.h,N.s):X.rect,s=X==null?I.IK(N.h*N.s):X.channel,t=W.n(),T,g,R=null;
if(c.X<=0){T=I.a(t*4);g=I.a(t*4);I.TF(c.buffer,c.rect,T,W);I.TF(c.buffer,c.rect,g,W)}else{T=I.a(t);g=I.a(t);
J.extend(W);I.Ty(J.channel,J.rect,T,W);I.Ty(J.channel,J.rect,g,W)}if(X!=null)I._sR(s,l);if(c.X>0){R=I.a(t);
I.T$(l,R)}if(c.iu(N,X)){var P=c.WO.Wo,O=I.clone(c.WO.Wo);if(c.X<=0)I.Tx(l,O);else I.Tx(R,O);var b=new _f([2,3],this);
b.data={I:"drawtemp",e:N.Q[0],WV:c.X,_Bt:P,_BX:O};N.cB(b);this.fQ(b.data,N)}else{if(c.X<=0)I.B.Ih(C,l,W,g,W,W,1);
else I.B.Io(R,W,g,W,s,W,1);var b=new _f(q,this);b.data={I:"putbrush",e:N.Q[0],WV:c.X,Wc:W,Wl:T,WJ:g};
N.cB(b);this.fQ(b.data,N)}};H.QZ=function(){H.xD.call(this,[10,4],H.fo,"tools/eselect");this.WX="crosshair"};
H.QZ.prototype=new H.xD;H.QZ.prototype.xn=function(N,c,X,l){if(!l.tE||!this.Wn)return;var C=this.xG(N,X);
N.v.tl=H.QZ.QR(C);N.tv=!0};H.QZ.prototype.xe=function(N,c,X,l){N.v.tl=null;N.tv=!0;this.finish(N,c,X,l)};
H.QZ.prototype.getSelection=function(N,c,X,l){if(this.WG.TA(this.Wb)||!this.Wn)return null;var C=this.xG(N,X);
if(!C.PD(new u(0,0,N.h,N.s)))return null;return this.xW(H.QZ.QR(C))};H.QZ.QR=function(N){var c=N.x,X=N.y,l=N.x+N.h,C=N.y+N.s,q=(c+l)/2,J=(X+C)/2,Z=(c-l)/2,W=(X-C)/2,s=.5522848,t={l:[q,J-W],Gv:["M","C","C","C","C"]};
t.l.push(q+s*Z,J-W,q+Z,J-s*W,q+Z,J);t.l.push(q+Z,J+s*W,q+s*Z,J+W,q,J+W);t.l.push(q-s*Z,J+W,q-Z,J+s*W,q-Z,J);
t.l.push(q-Z,J-s*W,q-s*Z,J-W,q,J-W);return t};H.QP=function(){H.fZ.call(this,[10,5],H.fD,"tools/eyedropper");
this.tJ=!1;this.tj=1};H.QP.prototype=new H.fZ;H.QP.prototype.fa=function(N){return N.tE};H.QP.prototype.fR=function(N,c,X,l,C){if(N.I=="pickhere")this.Qh(X,c,C,l,N._TI)};
H.QP.prototype.fP=function(N,c,X,l,C){this.tJ=!0;this.Qh(N,c,X,l,C)};H.QP.prototype.fh=function(N,c,X,l,C){if(this.tJ)this.Qh(N,c,X,l,C)};
H.QP.prototype.fr=function(N,c,X,l,C){this.tJ=!1};H.QP.prototype.Qh=function(N,c,X,l,C){var q=H.QP.Qr(N,C,this.tj),J=new Q(d.E.m);
J.data={I:d.L.jD,mz:BZ.uY,to:0,q:q};c.C(J)};H.QP.Qr=function(N,c,X){var l=N.g.cR(c.x,c.y),C=Math.floor(l.x),q=Math.floor(l.y),J=(X-1)/2,Z=Math.max(0,C-J),W=Math.max(0,q-J),s=Math.min(N.h,C+J+1),t=Math.min(N.s,q+J+1),T=(s-Z)*(t-W),g=N.VN(),R=0,P=0,O=0;
for(var C=Z;C<s;C++)for(var q=W;q<t;q++){var b=4*(q*N.h+C);R+=g[b];P+=g[b+1];O+=g[b+2]}R=Math.round(R/T);
P=Math.round(P/T);O=Math.round(O/T);return R<<16|P<<8|O};H.QP.prototype.fk=function(N){this.tj=N.tj};
H.QS=function(){H.fZ.call(this,[10,6],H.ft,"tools/gradient");this.W_={c:JSON.parse(F.cu.ca).v,style:"Lnr",reverse:!1,tO:"norm",opacity:1};
this.tF=!1;this.tH=null};H.QS.prototype=new H.fZ;H.QS.prototype.enable=function(N,c,X,l){var C=new Q(d.E.m,!0);
C.data={I:d.L.jf,WE:"default"};c.C(C)};H.QS.prototype.fk=function(N){this.W_=N.mz};H.QS.prototype.fP=function(N,c,X,l,C){if(!N.Vm())return;
this.tH=N.g.cR(C.x,C.y);this.tH=H.QG.AU(N,this.tH,X);this.tF=!0};H.QS.prototype.fh=function(N,c,X,l,C){if(!this.tF)return;
var q=N.g.cR(C.x,C.y);q=H.QG.AU(N,q,X);if(l.T(M.pU))q=H.QS.Qf(this.tH,q);N.v.tl={l:[this.tH.x,this.tH.y,q.x,q.y],Gv:["M","L"]};
N.v.tN=[this.tH.x,this.tH.y,q.x,q.y];N.tv=!0};H.QS.prototype.fr=function(N,c,X,l,C){if(!this.tF)return;
var q=N.R[N.Q[0]],J=N.g.cR(C.x,C.y);J=H.QG.AU(N,J,X);if(l.T(M.pU))J=H.QS.Qf(this.tH,J);var Z=J.Co(this.tH),W=k.KX(this.tH,J,.5),s=Math.atan2(Z.y,Z.x),t=k.CO(this.tH,J),T=Math.sin(s),g=Math.cos(s);
if(t>2){var R;if(N.G)R=N.G.rect;else R=new u(0,0,N.h,N.s);var P=I.a(R.n()*4),O=this.W_.style;if(O!="Lnr"){t*=2;
W=this.tH}I.c.sp(this.W_.c,P,R,[g*1/t,T*1/t,-T*1/t,g*1/t],W.x,W.y,this.W_.reverse,F.c.types.indexOf(O),X.Wp,X.Wa);
var b=Math.round(this.W_.opacity*256),z=P.length;if(b!=256)for(var m=0;m<z;m+=4)P[m+3]=P[m+3]*b>>>8;
var f=new Q(d.E.A);f.K=H.fW;f.data={I:"fillBMP",Mh:P,GG:this.W_.tO,mN:this.name};c.C(f)}N.v.tl=null;
N.v.tN=[];N.tv=!0;this.tF=!1};H.QS.Qf=function(N,c){if(N.TA(c))return N;var X=c.x-N.x,l=c.y-N.y,C=Math.abs(X),q=Math.abs(l);
if(C>q)q=C/2>q?0:C;if(q>C)C=q/2>C?0:q;C=X>0?C:-C;q=l>0?q:-q;var J=Math.sqrt(X*X+l*l)/Math.sqrt(C*C+q*q);
return new k(N.x+C*J,N.y+q*J)};H.QS.$$=function(N,c,X,l,C,q,J){if(J==null)J=d.S("canvas","");var Z=J.getContext("2d");
J.width=c;J.height=X;var W=new u(0,0,c,X),s=I.a(c*X*4);I.TK(s,c,X,4,0,0);var t=Math.sin(l),T=Math.cos(l),g=I.a(c*X*4);
I.c.sp(N,g,W,[T*1/c,t*1/c,-t*1/X,T*1/X],c/2,X/2,!1,0,C,q);I.B.Ih("norm",g,W,s,W,W,1);var R=Z.getImageData(0,0,c,X);
I.Tx(s,R.data);Z.putImageData(R,0,0);return J.toDataURL()};H.QS.Qx=function(N,c,X){var l=JSON.parse(JSON.stringify(N));
for(var C=0;C<l.Clrs.v.length;C++){var q=l.Clrs.v[C].v,J=q.Type.v.Clry;if(J=="UsrS")continue;var Z=J=="FrgC"?c:X;
q.Type.v.Clry="UsrS";q.Clr={t:"Objc",v:I.c.sw({W:Z>>16&255,d:Z>>8&255,w:Z&255})}}return l};H.QQ=function(){H.fZ.call(this,[10,7],H.xP,"tools/hand");
this.tY=new k(0,0);this.tz=new k(0,0)};H.QQ.prototype=new H.fZ;H.QQ.prototype.fR=function(N,c,X,l,C){var q=N.I;
if(q=="scroll"&&!l.T(M.pZ)){if(l.T(M.pC))this.QA(X,X.g.M.x-N.tD.y,X.g.M.y-N.tD.x);else this.QA(X,X.g.M.x-N.tD.x,X.g.M.y-N.tD.y)}};
H.QQ.prototype.enable=function(N,c,X,l){var C=new Q(d.E.m,!0);C.data={I:d.L.jf,WE:"grab; cursor:-moz-grab; cursor:-webkit-grab;"};
c.C(C)};H.QQ.prototype.fP=function(N,c,X,l,C){this.tz.Cy(N.g.M);this.tY.Cj(C.x,C.y)};H.QQ.prototype.fh=function(N,c,X,l,C){if(!C.tE)return;
this.QA(N,this.tz.x+(C.x-this.tY.x),this.tz.y+(C.y-this.tY.y))};H.QQ.prototype.QA=function(N,c,X){var l=N.g.o;
if(N.h*l<N.g.N.h&&N.s*l<N.g.N.s)N.g.M.Cj(0,0);else{N.g.M.x=c;N.g.M.y=X}N.tm=!0};H.Qk=function(){H.xa.call(this,[10,25],H.fG,"tools/hbrush");
this.WZ="clone";this.t$=null;this.tU=null;this.M=null};H.Qk.prototype=new H.xa;H.Qk.prototype.fP=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);
this.t$=q;if(l.T(M.pZ)||l.T(M.pY)){this.tU=N.g.cR(C.x,C.y);this.M=null;return}if(this.tU==null){alert(BT.get([15,7,0]));
return}this.xl(N,X,l,C,this.W_.flow);if(this.WB==null)return;if(this.M==null||!this.W_.algnd)this.M=new k(Math.round(q.x-this.tU.x),Math.round(q.y-this.tU.y));
this.xF(N,{M:this.M})};H.Qk.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;this.xJ(N,c,X);
if(!C.tE||this.tU==null)return;this.xy(N,X,l,C);this.xF(N,{M:this.M})};H.Qk.prototype.fr=function(N,c,X,l,C){if(this.WB==null)return;
this.xH(N,"heal",this.WB.lW(),this.WB.xG(),this.WB.xG(),{M:this.M});this._(N,this.WB.xG());H.xa.prototype.fr.call(this,N,c,X,l,C);
if(!this.W_.algnd)this.M=null};H.Qk.prototype.disable=function(N,c,X,l){this.tU=null;this.M=null};H.Qu=function(){H.fZ.call(this,[10,8],H.xK,"tools/htype");
this.tM=[];this.tG=null;this.tb=null;this.caller=null;this.tX=0;this.tn=null;this.te=null;this.tW=null;
this.tt=null;this.tq=null;this.tZ=null;this.td=!1;this.tg=!1;this.yG=!1;this.qE=null;this.q_=null;this.qT=null;
this.qI=!1;this.qB=!1;this.qs=-1;this.qK=-1;this.qv=document.createElement("textarea");this.qv.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.qv.addEventListener("input",this.QF.bind(this),!1);this.qv.addEventListener("keydown",this.QH.bind(this),!1);
document.body.appendChild(this.qv)};H.Qu.prototype=new H.fZ;H.Qu.prototype.fa=function(N){return N.tE};
H.Qu.prototype.fx=function(N,c,X,l){if(this.tn!=null)return;this.caller=c;this.tG=N;var C=N.R[N.Q[0]],q=C.add.TySh;
if(q!=null)this.QJ(c,q)};H.Qu.prototype.fR=function(N,c,X,l,C){if(this.tn!=null){var q=this.qB;if(N.I=="warp"||N.I=="warpCancel"){if(N.I=="warp")this.tn.add.TySh.XQ=N.Uj;
else this.tn.add.TySh.XQ=this.tt;var X=this.tG;this.QO(X,C);if(!q)this.QD(X);this.qv.focus()}if(N.I=="warpConfirm"){}if((N.I=="warpConfirm"||N.I=="warpCancel")&&q){this.qB=!1;
if(N.I=="warpConfirm")this.QN(X,c);else this.QY(X,c)}}if(N.I=="editCurr"){if(this.tn!=null)this.disable(X,c,C,l);
this.tG=X;this.tb=C;this.caller=c;var J=X.R[N.q$];this.Qa(X,c,C,J);var Z=_W.JA(J.add.TySh.Xk);this.qs=0;
this.qK=Z.length-1;this.QD(X);this.Ql();this.qv.focus()}if(N.I=="newED"){var W=X.R[N.qU],s=W.add.TySh,t=this.Qj(X,W);
s.Xk=N.qL;if(N.Kp)s.Kp=N.Kp;var T=new _R(s.Xk,C.MQ),g=_Z.ld(T,s);W.rect=g.rect;W.buffer=g.Ml;W._();X._();
var R=new _f(this.name,this);R.data={qC:t,qZ:this.Qj(X,W)};X.cB(R)}};H.Qu.prototype.fp=function(N){return this.tM.indexOf(N)!=-1};
H.Qu.prototype.enable=function(N,c,X,l){this.xw(c)};H.Qu.prototype.fi=function(){return this.tn!=null};
H.Qu.prototype.Qp=function(N,c){for(var X=N.R.length-1;X>=0;X--){var l=N.R[X];if(l.add.TySh&&l.rect.PH(c)&&N.VG(X))return l}};
H.Qu.prototype.fP=function(N,c,X,l,C){this.tG=N;this.tb=X;this.caller=c;var q=N.g.cR(C.x,C.y),J=this.tn==null;
if(J){var Z=this.Qp(N,q);if(Z!=null)this.Qa(N,c,X,Z);else{this.yG=!0;this.qE=C;return}}if(this.tZ&&this.tZ.fP(N,X,l,q)&&I.Uj.Uo(this.tn.add.TySh.XQ)||!J&&I.z.Ke(q,this.tn.rect)>20/N.g.o&&_W.Ju(this.tn.add.TySh.Xk)==0){this.td=!0;
this.q_=q;this.qT=this.tn.add.TySh.Kp.clone()}else{this.tg=!0;this.qs=this.qK=this.Qz(q);var W=Date.now();
if(W-this.tX<300){this.Qi();this.tg=!1}this.tX=W}this.QD(N)};H.Qu.prototype.Qa=function(N,c,X,l){this.tn=l;
this.xm(c,d.E.m,{I:d.L.jz,K:this.id,ta:"showactive"});N.Q=[N.R.indexOf(l)];N.cZ();N.qR=!0;var C=l.add.TySh;
this.tW=this.Qj(N,this.tn);if(_W.Ju(C.Xk)==1){var q=_W.Ja(C.Xk);q=new u(0,0,q[2]-q[0],q[3]-q[1]);var J=[q.x,q.y,q.x+q.h,q.y,q.x+q.h,q.y+q.s,q.x,q.y+q.s];
I.z.Kp(J,C.Kp,J);this.tZ=new Bw(J,!1,!1,!1,!0)}this.QO(N,X)};H.Qu.prototype.Qi=function(){var N=_W.JA(this.tn.add.TySh.Xk);
this.qs=this.Qw(N,this.qs);this.qK=this.QV(N,this.qs)};H.Qu.prototype.Qw=function(N,c){var X=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",l=[];
for(var C=0;C<X.length;C++)l.push(X.charAt(C));var q=l.indexOf(N[c])==-1?!0:!1;for(var C=c-1;C>=0;C--)if(l.indexOf(N.charAt(C))!=-1==q)return C+1;
return 0};H.Qu.prototype.QV=function(N,c){var X=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",l=[];for(var C=0;
C<X.length;C++)l.push(X.charAt(C));var q=l.indexOf(N[c])==-1?!0:!1;for(var C=c+1;C<N.length;C++)if(l.indexOf(N.charAt(C))!=-1==q)return C;
return N.length-1};H.Qu.prototype.xw=function(N){var c=new Q(d.E.m,!0);c.data={I:d.L.jf,WE:this.tq};
N.C(c)};H.Qu.prototype.fh=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y),J=this.tn;if(!C.tE){var Z="default";
if(this.tZ&&I.Uj.Uo(J.add.TySh.XQ)){if(this.tZ.kJ(q,N.g.o))Z=this.tZ.kJ(q,N.g.o);else{if(this.tZ.kj(q))Z="text"}}else if(J&&I.z.Ke(q,J.rect)>20/N.g.o)Z="move";
else if(this.Qp(N,q))Z="text";if(Z!=this.tq){this.tq=Z;this.xw(c)}}if(this.yG&&k.CO(this.qE,C)>4){this.yG=!1;
this.Qc(N,c,X,l,C);J=this.tn;_W.Jp(J.add.TySh.Xk,1);this.td=!0;this.tZ=new Bw(null,!1,!1,!1,!0);this.tZ.fP(N,X,l,N.g.cR(this.qE.x,this.qE.y))}if(this.td){var W=J.add.TySh;
if(this.tZ){this.tZ.fh(N,X,l,q);var s=W.Kp.clone(),t=Math.atan2(s.w,s.u);s.rotate(t);var T=I.sv.sC(I.sv.sU(this.tZ.ki())),g=Math.atan2(T.w,T.u);
T.rotate(g);if(!isNaN(T.u)&&T.u*T.Mm-T.w*T.Mz!=0){var R=new u(0,0,T.u/s.u,T.Mm/s.Mm);_W.Ji(W.Xk,[0,0,Math.round(R.h),Math.round(R.s)]);
W.Kp=I.sv.sC(I.sv.sU(this.tZ.ki(),R));this.QO(N,X)}}else{var P=q.x-this.q_.x,O=q.y-this.q_.y;W.Kp=this.qT.clone();
var b=new k(W.Kp.MD+P,W.Kp.MM+O);b=H.QG.AU(N,b,X);W.Kp.MD=b.x;W.Kp.MM=b.y;this.QO(N,X)}}if(this.tg)this.qK=this.Qz(q);
if(this.td||this.tg)this.QD(N)};H.Qu.prototype.Qc=function(N,c,X,l,C){var q=N.c_(),J=N.R.slice(0);q.ii("Text layer "+J.length);
this.tn=q;var Z=N.Q[N.Q.length-1],W=Z+1;if(J[Z].add.lsct==_I.iW)W--;this.tW={qP:J.slice(0),WU:N.Q.slice(0)};
J.splice(W,0,q);N.Q=[W];this.qs=this.qK=0;N.cL(J);this.tW.qh=J.slice(0);this.tW.tT=N.Q.slice(0);this.xm(c,d.E.m,{I:d.L.jz,K:this.id,ta:"showactive"});
C=N.g.cR(C.x,C.y);q.add.TySh=_W.Jr(C.x,C.y,X.qr);return q};H.Qu.prototype.fr=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);
if(this.yG){this.yG=!1;this.Qc(N,c,X,l,C);_W.Jp(this.tn.add.TySh.Xk,0);this.tg=!0}if(this.td||this.tg){this.QD(N);
this.Ql()}if(this.td&&this.tZ)this.tZ.fr(N,X,l,q);this.td=this.tg=!1;this.qv.focus()};H.Qu.prototype.Ql=function(){var N=Math.min(this.qs,this.qK),c=Math.max(this.qs,this.qK),X,l;
if(N==c){var C=this.te&&this.te.JK(N-1);if(N==0||C&&C.qS=="\n")X=l=N;else X=l=N-1}else{X=N;l=c-1}this.QJ(this.caller,this.tn.add.TySh,X,l)};
H.Qu.prototype.QJ=function(N,c,X,l){if(X==null){X=0;l=_W.JA(c.Xk).length-2}var C=_W.JO(c.Xk,X,l);this.xm(N,d.E.m,{I:d.L.jD,mz:BZ.uo,qr:C,qf:H.r.Cm(c.Kp)})};
H.Qu.prototype.ff=function(N,c,X,l){if(l.T(M.pR))this.QY(N,c)};H.Qu.prototype.disable=function(N,c,X,l){if(this.tn)this.QN(N,c);
else this.QY(N,c)};H.Qu.prototype.fk=function(N,c,X,l,C){if(N.ta=="commit")this.QN(X,c);if(N.ta=="cancel")this.QY(X,c);
if(N.ta=="showwarp"){if(X==null)return;if(this.tn==null){var q=X.R[X.Q[0]],J=q.add.TySh;if(J==null)return;
this.Qa(X,c,C,q);this.qv.focus();this.qB=!0}this.tt=this.tn.add.TySh.XQ;var Z=new Q(d.E.m,!0);Z.data={I:d.L.jl,mO:"textwarp"};
c.C(Z)}};H.Qu.prototype.fu=function(N,c){this.tb=N;var X=this.tG;if(X==null)return;if(c!=BZ.up&&c!=BZ.uo&&c!=BZ.uV)return;
if(this.qI){this.qI=!1;this.QO(X,N);this.QN(X,this.caller);return}if(this.tn==null){var l=X.R[X.Q[0]],C=l.add.TySh;
if(C==null)return;var q=_W.JA(C.Xk);this.qs=0;this.qK=q.length-1;var J=_W.JO(C.Xk,this.qs,this.qK-1);
if(JSON.stringify(J)==JSON.stringify(N.qr))return;this.Qa(X,this.caller,N,l);_W.Jj(C.Xk,this.qs,this.qK,N.qr);
var Z=this.QO(X,N);if(Z==!1){this.qI=!0;return}this.QN(X,this.caller);return}var W=Math.min(this.qs,this.qK),s=Math.max(this.qs,this.qK);
_W.Jj(this.tn.add.TySh.Xk,W,s-1,N.qr);var X=this.tG;this.QO(X,N);this.QD(X);this.qv.focus()};H.Qu.prototype.fQ=function(N,c){if(N.qC!=null)this.Qy(c,N.qZ);
else this.Qo(c,N.qh,N.tT)};H.Qu.prototype.fA=function(N,c){if(N.qC!=null)this.Qy(c,N.qC);else this.Qo(c,N.qP,N.WU)};
H.Qu.prototype.Qy=function(N,c){var X=c.qU;N.R[X].buffer=c.qx;N.R[X].rect=c.Gj.clone();N.R[X]._();var l=N.R[X].add.TySh;
l.XQ=c.Uj;l.XA=c.XA.clone();l.Kp=c.Kp.clone();l.Xk=JSON.parse(JSON.stringify(c.Xk));N._()};H.Qu.prototype.Qj=function(N,c){var X=c.add.TySh;
return{qU:N.R.indexOf(c),Kp:X.Kp.clone(),Uj:JSON.parse(JSON.stringify(X.XQ)),XA:X.XA.clone(),Xk:JSON.parse(JSON.stringify(X.Xk)),qx:I.clone(c.buffer),Gj:c.rect.clone()}};
H.Qu.prototype.Qo=function(N,c,X){N.Q=X;N.cL(c);N._()};H.Qu.prototype.QO=function(N,c,X){if(X==null)X=!1;
var l=this.tn.add.TySh;if(!_Z.J_(l,c.MQ))return!1;this.te=new _R(l.Xk,c.MQ);var C=_W.JA(l.Xk);if(!X){this.qv.value=C.slice(0,C.length-1)}var q=_Z.ld(this.te,l),J=q.rect;
if(I.Uj.Uo(l.XQ))l.XA=new u;else{if(_W.Ju(l.Xk)==1){var Z=_W.Ja(l.Xk),W=q.XA.y;l.XA=new u(0,W,Z[2]-Z[0],Z[3]-Z[1]-W)}else{l.XA=q.XA}}var s=this.tn.rect;
this.tn.rect=q.rect;this.tn.buffer=q.Ml;this.tn._();N.cC();N._(N.root.Vh(q.rect.vz(s),N,N.R.indexOf(this.tn)));
return!0};H.Qu.prototype.QF=function(N){if(this.tn==null)return;var c=this.qv.selectionStart,X=this.tn.add.TySh,l=_W.JA(X.Xk),C=this.qv.value+"\n",q=Math.min(this.qs,this.qK),J=Math.max(this.qs,this.qK);
this.qs=Math.min(c,q);if(C.length-c<l.length-this.qK)this.qK=l.length-C.length+c;if(l.length==C.length&&l!=C&&this.qs==this.qK)while(C.charAt(this.qs-1)!=l.charAt(this.qs-1))this.qs--;
var Z=l.substring(0,this.qs),W=l.substring(this.qK,l.length),s=C.substring(this.qs,C.length-W.length);
_W.JJ(X.Xk,this.qs,this.qK);_W.Jl(X.Xk,this.qs,s);_W.Jj(X.Xk,this.qs,this.qs+s.length-1,this.tb.qr);
this.qs=this.qK=Z.length+s.length;var t=this.tG;this.QO(t,this.tb,!0);this.QD(t,!0)};H.Qu.prototype.QH=function(N){if(this.tn==null)return;
var c=M,X=0,l=0,W=!1;if(c.pT(N.code,c.pQ))X=1;if(c.pT(N.code,c.pf))X=-1;if(c.pT(N.code,c.px))l=-1;if(c.pT(N.code,c.pA))l=1;
var C=N.ctrlKey||N.metaKey,q=c.pT(N.code,M.pr),J=c.pT(N.code,M.pS),Z=_W.JA(this.tn.add.TySh.Xk);if(X!=0||l!=0||q||J){N.preventDefault();
var s=this.qs;if(X!=0){if(C&&X==-1)s=this.Qw(Z,this.qs-1);else if(C&&X==1)s=this.QV(Z,this.qs);else s=this.qs+X}else if(l!=0){var t=this.te.J$(this.qs);
if(l==-1&&t.qQ==0)s=0;else if(l==1&&t.qQ==this.te.qA-1)s=99999999999;else s=this.te.Jv(new k(t.rect.x+t.rect.h/2,0),t.qQ+l)}else if(q){var T=this.qs-1;
while(T>0&&Z.charCodeAt(T)!=10)T--;s=T==0?0:T+1}else if(J){var T=this.qs;while(T<Z.length-1&&Z.charCodeAt(T)!=10)T++;
s=T}s=Math.max(0,Math.min(Z.length-1,s));if(N.shiftKey)this.qs=s;else this.qs=this.qK=s;W=!0}if(c.pT(N.code,M.L)&&C){this.qs=0;
this.qK=Z.length-1;W=!0}if(W){this.Ql();this.QD(this.tG)}};H.Qu.prototype.QN=function(N,c){if(this.tn==null)return;
var X=this.tn,l=X.add.TySh,C=this.tW;if(C.qU!=null){var q=this.Qj(N,X),J=N.cs();if(J!=null&&J.K==this&&J.data.qC&&J.data.qC.qU==C.qU)J.data.qZ=q;
else{var Z=new _f(this.name,this);Z.data={qC:C,qZ:q};N.cB(Z)}}else{var W=_W.JA(l.Xk).slice(0,50);W=W.replace(/(?:\r\n|\r|\n)/g," ");
X.ii(W);var Z=new _f(this.name,this);Z.data={qP:C.qP,qh:C.qh,WU:C.WU,tT:C.tT};N.cB(Z)}this.escape(N,c)};
H.Qu.prototype.QY=function(N,c){if(this.tn==null)return;if(this.tW.qU!=null){this.tn.add.TySh.Kp=this.tW.Kp.clone();
this.tn.add.TySh.Xk=JSON.parse(JSON.stringify(this.tW.Xk));this.tn.add.TySh.XQ=this.tW.Uj;this.tn.add.TySh.XA=this.tW.XA;
this.tn.buffer=I.clone(this.tW.qx);this.tn.rect=this.tW.Gj.clone();this.tn._()}else{N.Q=this.tW.WU;N.cL(this.tW.qP)}N._();
this.escape(N,c)};H.Qu.prototype.escape=function(N,c){this.tn=null;this.te=null;this.tZ=null;this.qv.blur();
N.v.tl=null;N.v.qk=null;N.v.tN=[];N.tv=!0;this.td=!1;this.tg=!1;this.qs=this.qK=-1;this.xm(c,d.E.m,{I:d.L.jz,K:this.id,ta:"hideactive"})};
H.Qu.prototype.xm=function(N,c,X,l){var C=new Q(c,!0);C.data=X;if(l)C.K=l;N.C(C)};H.Qu.prototype.Qz=function(N){var c=this.tn.add.TySh,X=this.te,l=c.Kp.clone();
l.Tk();var C=l.CM(N),q=_W.xG(c,X),J=I.Uj.UH(c.XQ,q),Z=I.P.k.Bl(J,0,1,0,1),W=new Uint32Array(30),s=I.P.k._Bu(Z.My,Z.Mj,C.x,C.y,W),t=I.P.IB(J,C.x,C.y,Z.My,W,s,!1),T=I.P.Bh;
if(T==null)T=new Float64Array(2);C=new k(q.x+T[0]*q.h,q.y+T[1]*q.s);var g=X.Jv(C),R=X.JK(g),P=X.J$(g).rect;
if(R.qS!="\n"&&(R.qu==0&&C.x>P.x+P.h/2||R.qu==1&&C.x<P.x+P.h/2))g++;return g};H.Qu.prototype.QD=function(N,c){if(c==null)c=!1;
var X=this.tn.add.TySh,l=this.te;N.v.tN=[];N.v.tl=null;N.v.qk=null;if(this.tZ){this.tZ.kY(N,!I.Uj.Uo(X.XQ));
var C=X.Kp.clone();C.Tk();I.z.Kp(N.v.tN,C,N.v.tN);I.z.Kp(N.v.tl.l,C,N.v.tl.l)}else this.Qm(N,X,l);var q=Math.min(this.qs,this.qK),J=Math.max(this.qs,this.qK);
if(!c){this.qv.selectionStart=q;this.qv.selectionEnd=J}if(l!=null){if(q==J){var Z=l.J$(q).rect.clone(),W=this.tb.qr.nR.FontSize;
if(W!=null&&W!=0){Z.y+=Z.s-W;Z.s=W}var s=l.JK(q);if(s!=null&&s.qu==1)Z.x+=Z.h;Z.y+=Z.s*.27;N.v.tl.Gv.push("M","L");
N.v.tl.l.push(Z.x,Z.y,Z.x,Z.y+Z.s)}else{N.v.qk={l:[],Gv:[]};for(var t=q;t<J;t++){var Z=l.J$(t).rect;
Z.y+=Z.s*.27;var T=I.z.Kq(Z);I.z.concat(N.v.qk,T)}}}if(l!=null){var g=_W.xG(X,l);if(!g.BH()){var R=I.Uj.UH(X.XQ,g);
if(N.v.tl){N.v.tl=I.z.Kd(N.v.tl);N.v.tl=I.z.Kg(N.v.tl,Math.min(g.h,g.s)/10);I.P.apply(R,N.v.tl.l,g)}if(N.v.qk){N.v.qk=I.z.Kd(N.v.qk);
N.v.qk=I.z.Kg(N.v.qk,Math.min(g.h,g.s)/10);I.P.apply(R,N.v.qk.l,g)}I.P.apply(R,N.v.tN,g)}}if(N.v.tl)I.z.Kp(N.v.tl.l,X.Kp,N.v.tl.l);
if(N.v.qk)I.z.Kp(N.v.qk.l,X.Kp,N.v.qk.l);I.z.Kp(N.v.tN,X.Kp,N.v.tN);N.tv=!0};H.Qu.prototype.Qm=function(N,c,X){if(X==null)return;
N.v.tN.push(0,0);if(N.v.tl==null)N.v.tl={Gv:[],l:[]};for(var l=0;l<X.nP.length;l++){var C=X.nP[l];for(var q=0;
q<C.qp.length;q++){var J=C.qp[q],Z=C.qa.x+J.qa.x+J.rect.x,W=C.qa.y+J.qa.y+J.rect.y+J.rect.s;N.v.tl.Gv.push("M","L");
N.v.tl.l.push(Z,W,Z+J.rect.h,W)}}N.tv=!0};H.QM=function(){H.xD.call(this,[10,9],H.fO,"tools/lasso");
this.WX="crosshair";this.qi=null;this.qw=null};H.QM.prototype=new H.xD;H.QM.prototype.xX=function(N,c,X,l){this.qi=this.WG;
this.qw={l:[this.qi.x,this.qi.y],Gv:["M"]}};H.QM.prototype.xn=function(N,c,X,l){if(!l.tE||this.qw==null)return;
this.qw.Gv.push("L");this.qw.l.push(this.Wb.x,this.Wb.y);this.qi=this.Wb;if(this.Wn){N.v.tl=this.qw;
N.tv=!0}};H.QM.prototype.xe=function(N,c,X,l){if(this.qw==null||!this.Wn)return;N.v.tl=null;N.tv=!0;
this.finish(N,c,X,l)};H.QM.prototype.getSelection=function(N,c,X,l){if(this.WG.TA(this.Wb))return null;
return this.xW(this.qw)};H.QG=function(){H.fZ.call(this,[10,11],H.fy,"tools/move");this.qV=new k(0,0);
this.qc=new k(0,0);this.WK=null;this.ql=new k(0,0);this.qJ=null;this.qy=null;this.qj=null;this.qo=[];
this.Z=[];this.qO=null;this.tF=!1;this.I=0;this.qF=null;this.qH=null;this.qN=!1;this.W_={qY:!1,qz:!1,qD:!1};
this.tZ=null;this.qm=[{name:"Get PNG"},{name:"Get SVG",mc:!0},{name:"Copy CSS"}];this.qM=new _k(this.qm);
this.qM.i("select",this.Qt,this)};H.QG.prototype=new H.fZ;H.fZ.prototype.fa=function(N){return this.tF&&this.I!=2};
H.QG.prototype.fl=function(){return this.tF&&this.I==0};H.QG.prototype.fJ=function(N,c,X,l){this.AE(N,-this.ql.x,-this.ql.y);
this.ql.Cj(0,0);this.AT(N,null,X);this.Qe(N)};H.QG.prototype.fV=function(){var N=this.W_;return[N.qY?1:0,N.qz?1:0,N.qD?1:0]};
H.QG.prototype.fc=function(N,c,X){var l=this.W_;if(N&&N[0]!=null)l.qY=N[0]==1;if(N&&N[1]!=null)l.qz=N[1]==1;
if(N&&N[2]!=null)l.qD=N[2]==1;var C=new Q(d.E.m,!0);C.data={I:d.L.jz,K:this.id,qG:l,qb:c};X.C(C)};H.QG.Qb=function(N,c,X,l,C){var q=N.cK(null,C),J=N.Vj(q)[0];
if(X!=1){var Z=new u(0,0,Math.round(J.h*X),Math.round(J.s*X));H.Q_.QB(J,Z);var W=[];for(var s=0;s<J.R.length;
s++)W.push(s);var t=H.r.kC(J,W,!0);H.r.kR(J,l,W,t,!1,I.sv.sZ(new Bh(X,0,0,X,0,0)),null,!0);J.cE()}var T=[];
for(var s=0;s<c.length;s++)T.push(BC._V(J,c[s].toUpperCase()));return T};H.QG.prototype.QX=function(N,c,X,l,C){if(N==null)return;
var q=H.QG.Qb(N,[c],X,l,null)[0],J=new Q(d.E.m,!0);J.data={I:d.L.jJ,data:q,name:N.R[N.Q[0]].getName()+"."+c};
C.C(J)};H.QG.prototype.fk=function(N,c,X,l,C){if(N.to=="getPNG"){this.QX(X,"png",N.qX,C,c)}else if(N.to=="getSVG"){this.QX(X,"svg",N.qX,C,c)}if(N.to=="prms"){this.W_=N;
this.Qe(X)}if(N.to=="algn"){var q=N.q;if(X==null)return;if(X.Q.length<2&&!(X.G!=null&&q!=3&&q!=7)){alert("Select multiple layers");
return}var J=X.G;X.G=null;var Z=J?J.rect:H.r.xG(X);this.Qq(X,c,l,C,!1);var W=this.qo,s={},t=[],T=[],g=[];
for(var R=0;R<W.length;R++){var P=W[R];while(X.R[P].getName()=="</Layer group>")P++;var O=X.root.VC(P),b=O;
while(O.parent!=null){O=O.parent;if(W.indexOf(O.index)!=-1)b=O}var z=T.indexOf(b.index);if(z==-1){z=T.length;
T.push(b.index)}t[R]=z}var m=[],f=[],B=[];for(var R=0;R<T.length;R++){var K=H.r.xG(X,X.cK(!0,T[R]));
B.push(K);var j=q==3?[K.y,K.s]:[K.x,K.h];m[R]=j;f.push(j)}H.QG.Qn(f);for(var R=0;R<T.length;R++){var K=B[R],S=K.x,r=K.y;
if(q==0)S=Z.x;if(q==1)S=Z.x+(Z.h-K.h)/2;if(q==2)S=Z.x+(Z.h-K.h);if(q==3)r=m[R][0];if(q==4)r=Z.y;if(q==5)r=Z.y+(Z.s-K.s)/2;
if(q==6)r=Z.y+(Z.s-K.s);if(q==7)S=m[R][0];g.push(Math.round(S-K.x),Math.round(r-K.y))}var n=[];for(var R=0;
R<W.length;R++){var o=t[R];n[2*R]=g[2*o];n[2*R+1]=g[2*o+1]}this.AE(X,0,0,null,n);var y=q==3||q==7?"Equal Gaps":[20,4,q<3?q:q-1];
this.AT(X,null,C,n,y);X.G=J}};H.QG.Qn=function(N){var c=N.length,l=0;N.sort(function(Z,W){return Z[0]+Z[1]/2-(W[0]+W[1]/2)});
var X=N[c-1][0]+N[c-1][1]-N[0][0];for(var C=0;C<c;C++)l+=N[C][1];var q=Math.round((X-l)/(c-1)),J=N[0][0];
for(var C=0;C<c;C++){N[C][0]=J;J+=N[C][1]+q}};H.QG.prototype.fR=function(N,c,X,l,C){var q=N.I;if(q=="trsl"){var J=Math.round(N.qn),Z=Math.round(N.qe);
this.ql.Cj(J,Z);this.Qq(X,c,l,C,!1,N.e);this.AE(X,J,Z);this.AT(X,null,C)}};H.QG.prototype.enable=function(N,c,X,l,C){this.qN=C?!0:!1;
this.Qe(N);this.xw("default",c)};H.QG.prototype.disable=function(N,c,X,l){if(N==null)return;if(this.tZ){this.tZ.clear(N);
this.tZ=null}if(N!=null&&N.v.qD){N.v.qD=null;N.tv=!0}if(N!=null&&N.v.ts){N.v.ts=null;N.tv=!0}};H.QG.prototype.fx=function(N,c,X,l){this.Qe(N)};
H.QG.prototype.Qe=function(N,c){if(N==null)return;var X=this.W_;this.disable(N,null,null,null);var l=I.z.KW(H.r.xG(N));
if(this.qN)return;if(X.qz){this.tZ=new Bw([l.x,l.y,l.x+l.h,l.y,l.x+l.h,l.y+l.s,l.x,l.y+l.s],!0);this.tZ.kY(N)}if(X.qD){var C=N.Vb(N.Q[0]),t=null,T=!1;
if(C==null)C=new u(0,0,N.h,N.s);N.v.qD={qW:[l],qt:[]};var q=N.v.qD.qt,J=l.x+l.h,Z=l.y+l.s,W=l.x+Math.floor(l.h/2),s=l.y+Math.floor(l.s/2);
if(c){var g=N.root.IB(new k(Math.floor(c.x),Math.floor(c.y)));if(g){t=I.z.KW(g.e.iN(N));if(t.PD(l)){T=(t.PN(l)||l.PN(t))&&!l.TA(t);
if(!T)t=null}}}this.QW(l,q);if(t!=null){N.v.qD.qW.push(t);var R=t.x+t.h,P=t.y+t.s,O=t.x+Math.floor(t.h/2),b=t.y+Math.floor(t.s/2);
if(T){var z=W,m=s;if(l.PN(t)){z=O;m=b}q.push(l.x,m,t.x,m);q.push(J,m,R,m);q.push(z,l.y,z,t.y);q.push(z,Z,z,P)}else{this.QW(t,q);
var f=Z<t.y||P<l.y,B=J<t.x||R<l.x;if(J<t.x)q.push(J,s,t.x,s);if(R<l.x)q.push(R,s,l.x,s);if(Z<t.y)q.push(W,Z,W,t.y);
if(P<l.y)q.push(W,P,W,l.y);if(f&&!B){if(l.x<t.x)q.push(l.x,b,t.x,b);if(t.x<l.x)q.push(t.x,s,l.x,s)}}}else{if(l.y>C.y)q.push(W,C.y,W,l.y);
if(Z<C.y+C.s)q.push(W,Z,W,C.y+C.s);if(l.x>C.x)q.push(C.x,s,l.x,s);if(J<C.x+C.h)q.push(J,s,C.x+C.h,s)}N.tv=!0}};
H.QG.prototype.QW=function(N,c){var X=N.h,l=N.s,C=N.x+Math.floor(X*.2),q=N.y+Math.floor(l*.2);c.push(C,N.y,C,N.y+l);
c.push(N.x,q,N.x+X,q)};H.QG.prototype.xw=function(N,c){var X={I:d.L.jf,WE:N},l=new Q(d.E.m,!0);l.data=X;
c.C(l)};H.QG.prototype.Qt=function(N){var c=this.qM.ov()[0],X=this.qJ;if(c<2)this.QX(X,["png","svg"][c],1,this.qy,this.qj);
if(c==2){var l=X.R[X.Q[0]],C=CSS.yh(l);C=C.join(";\n")+";";var q=d.S("textarea");q.value=C;document.body.appendChild(q);
q.select();document.execCommand("copy");document.body.removeChild(q)}};H.QG.prototype.fS=function(N,c,X,l,C){this.qJ=N;
this.qy=X;this.qj=c;var q=N.g.cR(C.x,C.y);this.Qd(N,q,l);var J=this.qM,Z=this.qm;J.parent=c;J.update(N,Z);
var W=new Q(d.E.m,!0);W.data={I:d.L.jh,mC:J,x:C.qq+1,y:C.qd+1};c.C(W)};H.QG.prototype.fP=function(N,c,X,l,C){this.qV.Cj(C.x,C.y);
this.qc=N.g.cR(C.x,C.y);this.WK=new _L(this.qc);this.Qq(N,c,l,X,!0)};H.QG.prototype.Qq=function(N,c,X,l,C,q){var J,Z=this.qc;
if(C){var W=l.qg&&l.dE.Xb;if(l.d_&&(this.qV.x<I.vC.vZ||0<this.qV.y&&this.qV.y<I.vC.vZ)){J=JSON.parse(JSON.stringify(N.Xb));
if(this.qV.x<I.vC.vZ)N.Xb[0].push(Z.x);if(this.qV.y<I.vC.vZ)N.Xb[1].push(Z.y);if(!W){var s=new Q(d.E.m);
s.data={I:d.L.jD,mz:BZ.uM};c.C(s);W=!0}}var t=this.Qg(N,Z);if(W&&t){this.I=2;this.qF=J?J:JSON.parse(JSON.stringify(N.Xb));
this.qo=t;this.tF=!0;return}if(this.tZ&&this.tZ.kJ(Z,N.g.o,!0)!=null){var s=new Q(d.E.m);s.data={I:d.L.jH,K:H.xr};
c.C(s);var T=new Q(d.E.A);T.K=H.xr;T.data={I:"doMouseDown",dT:this.qV};c.C(T);return}if(N.G==null&&(!this.qN&&(X.T(M.pC)||this.W_.qY)||this.qN&&this.W_.qY&&(X.T(M.pU)||N.Q.length<2))){this.Qd(N,Z,X)}if(X.T(M.pZ)&&N.G==null){var T=new Q(d.E.A);
T.K=H.xA;T.data={I:v.w$};c.C(T)}}this.qo=N.cK(q==null,q);this.Z=H.QG.Av(N,this.qo);this.I=0;if(N.G&&N.Q.length==1){if(!N.Vm()||!N.VX()){this.tF=!1;
return}var g=N.R[N.Q[0]],R=X.T(M.pZ);this.I=1;var P=N.history[N.dI];if(P.K==this&&P.data.I==1&&P.data.e==N.Q[0]&&g.X==g.WO.X&&!R){this.qH=P}else{var O=g.WO,b=!1,z;
if(!g.iu(N,N.G)||R){b=!0;g.ix(N,N.G,R)}if(g.WO.X<=0){z=I.a(g.WO.Wo.length>>2);I.TR(g.WO.Wo,z,3)}else z=I.clone(N.G.channel);
var m={rect:g.WO.GO.clone(),channel:z};this.qH=new _f(R?[12,53]:[12,54],this);this.qH.data={I:1,e:N.Q[0],WO:g.WO,dB:O,ds:b,WU:N.G,tT:m,Mm:new k(0,0)};
N.cB(this.qH);N.G=m;N.WD=!0}}this.tF=!0;this.qO=H.r.xG(N)};H.QG.prototype.Qd=function(N,c,X){var l=N.root.IB(new k(Math.floor(c.x),Math.floor(c.y)));
if(l){if(l.e.add.vmsk)N.tv=!0;var C=N.R.indexOf(l.e);if(X.T(M.pU)){var q=N.Q.indexOf(C);if(q==-1)N.Q.push(C);
else if(N.Q.length>1)N.Q.splice(q,1)}else if(N.Q.indexOf(C)==-1){l.e.X=0;N.Q=[C];N.cZ();N.qR=!0}}};H.QG.prototype.fh=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y),g,R;
if(this.WK)q=this.WK.ll(q,l);if(!this.tF){if(X.qg&&X.dE.Xb){var J=this.Qg(N,q),Z="default";if(J)Z=["col-resize","row-resize"][J[0]];
else if(this.tZ){var W=this.tZ.kJ(q,N.g.o);if(W)Z=W}this.xw(Z,c)}this.Qe(N,q);return}var s=this.qc,t=Math.round(q.x-s.x)-this.ql.x,T=Math.round(q.y-s.y)-this.ql.y;
if(this.qO){R=this.qO.clone();R.offset(this.ql.x+t,this.ql.y+T);g=H.QG.AL(N,R,X);t+=Math.round(g[0]);
T+=Math.round(g[1])}this.ql.x+=t;this.ql.y+=T;this.AE(N,t,T,q);this.Qe(N,q);if(g)H.QG.A$(N,R,g)};H.QG.prototype.Qg=function(N,c){c=[c.x,c.y];
for(var X=0;X<2;X++)for(var l=0;l<N.Xb[X].length;l++)if(Math.abs(N.Xb[X][l]-c[X])*N.g.o<4)return[X,l];
return null};H.QG.prototype.AE=function(N,c,X,l,C){if(this.I==0){if(C)H.QG.AK(N,this.qo,this.Z,C);else H.QG.As(N,this.qo,this.Z,c,X)}else if(this.I==2){var q=[l.x,l.y],J=this.qo;
N.Xb[J[0]][J[1]]=q[J[0]];N.tv=!0}else{var Z=this.qH.data;Z.Mm.offset(c,X);H.QG.A_(N,Z.e,c,X)}};H.QG.A_=function(N,c,X,l){var C=N.R[c];
N.G.rect.offset(X,l);C.ip(N,X,l,N.G);N.WD=!0;N._()};H.QG.prototype.fr=function(N,c,X,l,C){this.AT(N,C,X)};
H.QG.prototype.AT=function(N,c,X,l,C){if(!this.tF)return;this.tF=!1;if(this.I==0){if(l){this.AI(N,null,l,C)}else{if(this.ql.x==0&&this.ql.y==0)return;
this.AI(N,this.ql.clone())}N.tm=!0}else if(this.I==2){var q=0;c=[c.x,c.y];var J=this.qo,Z=this.qF[0].length+this.qF[1].length,W=N.Xb[0].length+N.Xb[1].length;
if(X.d_&&c[J[0]]<I.vC.vZ){N.Xb[J[0]].splice(J[1],1);q=1;if(Z==W-1)return}if(Z<W)q=2;var s=new _f([[23,2],[23,3],[23,4]][q],this);
s.data={I:2,qF:this.qF,dK:JSON.parse(JSON.stringify(N.Xb))};N.cB(s)}else{}this.ql.Cj(0,0)};H.QG.prototype.ff=function(N,c,X,l){var C=l.pE();
if(C.x!=0||C.y!=0){this.ql.Cj(C.x,C.y);this.Qq(N,c,l,X,!1);this.AE(N,C.x,C.y);this.AT(N,null,X);this.Qe(N)}};
H.QG.prototype.fA=function(N,c){if(N.I==0)H.QG.AK(c,N.Q,N.dv,N.d$,!0);else if(N.I==2){c.Xb=JSON.parse(JSON.stringify(N.qF));
c.tv=!0}else{var X=c.R[N.e];if(N.ds){X.ik(c,N.dB);c.G=N.WU;c.WD=!0;c._();X._()}else{H.QG.A_(c,N.e,-N.Mm.x,-N.Mm.y)}}};
H.QG.prototype.fQ=function(N,c){if(N.I==0)H.QG.AK(c,N.Q,N.dv,N.d$);else if(N.I==2){c.Xb=JSON.parse(JSON.stringify(N.dK));
c.tv=!0}else{var X=c.R[N.e];if(N.ds){X.WO=N.WO;c.G=N.tT;H.QG.A_(c,N.e,0,0);X._()}else{H.QG.A_(c,N.e,N.Mm.x,N.Mm.y)}}};
H.QG.prototype.AI=function(N,c,X,l){if(X){var C=!0;for(var q=0;q<X.length;q++)if(X[q]!=0)C=!1;if(C)return}var J=N.history[N.dI];
if(J.data&&J.K==this&&J.data.I==0&&X==null&&JSON.stringify(J.data.Q)==JSON.stringify(this.qo)&&JSON.stringify(J.data.dv)==JSON.stringify(this.Z)){var Z=J.data.d$;
for(var q=0;q<Z.length;q+=2){Z[q]+=c.x;Z[q+1]+=c.y}}else{var W=new _f(l?l:[12,54],this);if(X)W.data={I:0,Q:this.qo,dv:this.Z,d$:X};
else W.data={I:0,Q:this.qo,dv:this.Z,d$:H.QG.AB(this.qo,c.x,c.y)};N.cB(W)}};H.QG.AB=function(N,c,X){var l=[];
for(var C=0;C<N.length;C++)l.push(c,X);return l};H.QG.As=function(N,c,X,l,C){H.QG.AK(N,c,X,H.QG.AB(c,l,C))};
H.QG.AK=function(N,c,X,l,C){if(N.Q.length==0)return;if(X==null){X=[];for(var q=0;q<c.length;q++){X.push(N.R[c[q]].iD(N,!0))}}var J=new u,Z=new u(0,0,N.h,N.s);
for(var q=0;q<c.length;q++){var W=l[2*q],s=l[2*q+1];if(C){W=-W;s=-s}var t=N.R[c[q]],T=X[q];if(t.add.fxrp&&(T.indexOf(0)!=-1||t.i$()))t.add.fxrp.offset(W,s);
for(var g=0;g<T.length;g++){var R=T[g];if(R==0){t.rect.offset(W,s);if(t.iF()&&t.iM(N))t.iM(N).rect.offset(W,s);
if(t.add.artb){var P=t.iY();P.offset(W,s);t.iz(P)}if(t.add.TySh)t.add.TySh.Kp.translate(W,s);if(t.add.SoLd){var O=new Bh(1,0,0,1,W,s),b=t.add.SoLd,z=H.r.kS(b.Trnf),m=H.r.kS(b.nonAffineTransform);
I.z.Kp(z,O,z);I.z.Kp(m,O,m);b.Trnf=H.r.kf(z);b.nonAffineTransform=H.r.kf(m)}}if(R==1)t.im().rect.offset(W,s);
if(R==2)t.add.vmsk.offset(W,s);if(R==3){t.iM(N).b.rect.offset(W,s);if(T.length==1)t._()}}if(T.length>0){var f=t.add.GdFl;
if(f==null)f=t.add.PtFl;if(t.i$()&&!t.iZ()&&t.add.vmsk!=null&&I.D.US(t.add.vmsk.p)&&t.add.vmsk.Gy==255&&(f==null||f.Algn&&f.Algn.v)){t.rect.offset(W,s)}else t.ih(N);
var B=N.root.Vh(t.iN(N),N,c[q]);J=J.vz(B);B.offset(-W,-s);J=J.vz(B);if(t.add.SoCo||t.add.GdFl||t.add.PtFl||BP.get(t.add)!=null)J=J.vz(Z);
t.iU()}}N._(J)};H.QG.Av=function(N,c){var X=[];for(var l=0;l<c.length;l++){var C=N.R[c[l]];X.push(C.iD(N))}return X};
H.QG.A$=function(N,c,X){var l=N.v.ts={l:[],Gv:[]},C=c.x+X[0],q=c.y+X[1];if(X[2]!=1e9){l.Gv.push("M","L");
l.l.push(X[2],q,X[2],q+c.s)}if(X[3]!=1e9){l.Gv.push("M","L");l.l.push(C,X[3],C+c.h,X[3])}N.tv=!0};H.QG.AU=function(N,c,X){var l=H.QG.AC(N,[[c.x],[c.y]],X);
return new k(c.x+l[0],c.y+l[1])};H.QG.AL=function(N,c,X){var l=H.QG.AC(N,[[c.x,c.x+(c.h>>>1),c.x+c.h],[c.y,c.y+(c.s>>>1),c.y+c.s]],X);
return l};H.QG.AC=function(N,c,X){var l=[0,0,1e9,1e9];if(!X.dU||!X.qg)return l;for(var C=0;C<2;C++){var q=1e9,J=c[C],Z=0;
for(var W=0;W<3;W++){var s=H.QG.AZ(N,J[W],C,X);if(s!=1e9&&Math.abs(s-J[W])<Math.abs(q)){q=s-J[W];Z=s}}if(q!=1e9){l[C]=q;
l[C+2]=Z}}return l};H.QG.AZ=function(N,c,X,l){var C=1e9,q=l.dL,J=l.dE;if(q[0]&&J.Xb){var Z=N.Xb[X];for(var W=0;
W<Z.length;W++)if(Math.abs(Z[W]-c)<Math.abs(C-c))C=Z[W]}if(q[1]&&J.dZ){var s=Math.round(c/J.dC)*J.dC;
if(Math.abs(s-c)<Math.abs(C-c))C=s}if(q[4]){var t=N.h,T=N.s,g=[0,0,t>>>1,T>>>1,t,T];for(var W=0;W<6;
W+=2)if(Math.abs(g[W+X]-c)<Math.abs(C-c))C=g[W+X]}return Math.abs(C-c)<=4*d.V()/N.g.o?C:1e9};H.AR=function(){H.xD.call(this,[10,12],H.fY,"tools/mwand");
this.W_={Wm:"front",XO:0,dR:{WI:!0,WT:10}}};H.AR.prototype=new H.xD;H.AR.prototype.xe=function(N,c,X,l){this.finish(N,c,X,l)};
H.AR.prototype.getSelection=function(N,c,X,l){return H.AR.AP(N,this.Wb,this.W_.dR)};H.AR.AP=function(N,c,X){if(N.Q.length!=1){alert("More than one layer selected.");
return null}var l=N.R[N.Q[0]];if(l.add.lsct!=null&&l.add.lsct!=_I.ie){alert("No layer selected.");return null}if(c.x<0||c.x>N.h||c.y<0||c.y>N.s)return null;
var C=new u(0,0,N.h,N.s),q=C.h,J=C.s,Z=q*J,W=I.a(Z*4),s=l.X<=0?null:l.X==1?l.im():l.iM(N).b;if(s==null)I.TF(l.buffer,l.rect,W,C);
else H.xa.xY(s.channel,s.rect,s.color,W,C);W=new Uint32Array(W.buffer);var t=Math.round(c.x-.5-C.x),T=Math.round(c.y-.5-C.y);
if(!C.PH(c))t=T=0;var g=T*q+t,R=W[g],P=R&255,O=R>>8&255,b=R>>16&255,z=R>>24&255,m=I.a(q*J),f=X.WT,B=1/f;
if(X.WI){var K=I.a(m.length);K[g]=2;var j=[t,T];while(j.length>0){var S=j.pop(),r=j.pop(),n=S*q+r;K[n]=2;
var o=H.AR.Ah(W[n],P,O,b,z);if(o>f){m[n]=Math.round(255*(1-Math.max(0,Math.min(1,(o-f)*B))));continue}m[n]=255;
if(r>0){if(S>0&&K[n-q-1]==0){j.push(r-1,S-1);K[n-q-1]=1}if(S<J-1&&K[n+q-1]==0){j.push(r-1,S+1);K[n+q-1]=1}if(K[n-1]==0){j.push(r-1,S);
K[n-1]=1}}if(r<q-1){if(S>0&&K[n-q+1]==0){j.push(r+1,S-1);K[n-q+1]=1}if(S<J-1&&K[n+q+1]==0){j.push(r+1,S+1);
K[n+q+1]=1}if(K[n+1]==0){j.push(r+1,S);K[n+1]=1}}if(S>0&&K[n-q]==0){j.push(r,S-1);K[n-q]=1}if(S<J-1&&K[n+q]==0){j.push(r,S+1);
K[n+q]=1}}}else{for(var n=0;n<Z;n++){var o=H.AR.Ah(W[n],P,O,b,z);if(o>f)continue;else m[n]=255}if(f>0)for(var n=0;
n<Z;n++){if(m[n]==255)continue;var r=n%q,S=Math.floor(n/q),o=H.AR.Ah(W[n],P,O,b,z),y=255*(1-Math.max(0,Math.min(1,(o-f)*B)));
if(r>0&&m[n-1]==255||r<q-1&&m[n+1]==255||S>0&&m[n-q]==255||S<J-1&&m[n+q]==255)m[n]=Math.round(y)}}var D=I.Tg(m,C),x=I.a(D.h*D.s);
I.Ty(m,C,x,D);return{rect:D,channel:x}};H.AR.Ah=function(N,c,X,l,C){var q=N&255,J=N>>8&255,Z=N>>16&255,W=N>>24&255;
if(C==0)return W<5?0:255;var s=Math.max(Math.abs(q-c),Math.max(Math.abs(J-X),Math.abs(Z-l)));return W==0?255:s};
H.Ar=function(){H.xa.call(this,[10,26],H.fb,"tools/patch");this.qi=null;this.qw=null;this.qa=null;this.dP=new k;
this.dh=null};H.Ar.prototype=new H.xa;H.Ar.prototype.fP=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);if(N.G&&I.IB(q,N.G.channel,N.G.rect)){if(!N.Vm())return;
this.xV(N);this.qa=q;this.dP=new k(q.x-N.G.rect.x,q.y-N.G.rect.y);this.dh=I.a(N.G.rect.n()*4);I.set(this.dh,4294967295);
if(this.W_.patch==1){var J=N.R[N.Q[0]];J.ix(N,N.G,!0)}}else{this.qw={l:[q.x,q.y],Gv:["M"]};this.qi=q}};
H.Ar.prototype.fh=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);if(this.qa){if(this.W_.patch==1){var J=N.R[N.Q[0]].WO,Z=q.x-this.dP.x,W=q.y-this.dP.y;
H.QG.A_(N,N.Q[0],Math.round(Z-J.GO.x),Math.round(W-J.GO.y))}else this.AS(N,q,"clone")}if(this.qi){this.qw.Gv.push("L");
this.qw.l.push(q.x,q.y);this.qi=q;N.v.tl=this.qw;N.tv=!0}};H.Ar.prototype.fr=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);
if(this.qa){this.AS(N,q,"heal");this.finish(N,N.G.rect);this.qa=null}if(this.qi){var J=new Q(d.E.A,!0);
J.K=H.fj;if(this.qw.l.length<=4)J.data={I:"deselect"};else J.data={I:"polygon",dr:this.qw,mN:[10,26]};
c.C(J);this.qi=null;N.v.tl=null;N.tv=!0}};H.Ar.prototype.xw=function(N,c){var X=new Q(d.E.m,!0);X.data={I:d.L.jf,WE:"auto;"};
if(N)N.C(X)};H.Ar.prototype.AS=function(N,c,X){var l=new k(Math.round(this.qa.x-c.x),Math.round(this.qa.y-c.y));
if(this.W_.patch==1)l.Cj(-l.x,-l.y);this.xH(N,X,this.dh,N.G.rect,N.G.rect,{M:l});this._(N,N.G.rect)};
H.Af=function(){H.xa.call(this,[10,13],H.fq,"tools/pbucket")};H.Af.prototype=new H.xa;H.Af.prototype.enable=function(N,c,X,l){var C=new Q(d.E.m,!0);
C.data={I:d.L.jf,WE:"default"};c.C(C)};H.Af.prototype.fu=function(N,c){};H.Af.prototype.fr=function(N,c,X,l,C){if(!N.Vm())return;
var q=N.g.cR(C.x,C.y),J=H.AR.AP(N,q,this.W_.wconf);if(J==null)return;var Z=I.a(J.rect.n()*4);I.Tr(Z,(X.Wp&255)<<16|(X.Wp>>8&255)<<8|(X.Wp>>16&255)<<0);
I.TP(J.channel,Z,3);this.xV(N);this.xH(N,"draw",Z,J.rect,J.rect);this._(N,J.rect);this.finish(N,J.rect)};
H.Ax=function(){H.xD.call(this,[10,14],H.fF,"tools/plasso");this.WX="crosshair";this.tM=[];this.qw=null;
this.dS=0};H.Ax.prototype=new H.xD;H.Ax.prototype.disable=function(N,c,X,l){this.AQ(N)};H.Ax.prototype.xX=function(N,c,X,l){this.tM=[M.pV,M.pw]};
H.Ax.prototype.fp=function(N){return this.tM.indexOf(N)!=-1};H.Ax.prototype.xn=function(N,c,X,l){if(this.qw==null)return;
var C=this.qw.l.length-2;this.qw.l[C]=this.Wb.x;this.qw.l[C+1]=this.Wb.y;N.v.tl=this.qw;N.tv=!0};H.Ax.prototype.xe=function(N,c,X,l){var C=Date.now();
if(this.qw==null)this.qw={l:[this.Wb.x,this.Wb.y,this.Wb.x,this.Wb.y],Gv:["M","L"]};else{this.xn(N,c,X,l);
this.qw.Gv.push("L");this.qw.l.push(this.Wb.x,this.Wb.y);N.v.tl=this.qw;if(C-this.dS<250||k.CO(this.Wb,new k(this.qw.l[0],this.qw.l[1]))<4/N.g.o){this.finish(N,c,X,l);
this.AQ(N)}}this.dS=C;N.v.tl=this.qw};H.Ax.prototype.AQ=function(N){this.qw=null;this.tM=[];if(N!=null){N.v.tl=null;
N.tv=!0}};H.Ax.prototype.ff=function(N,c,X,l){if(this.qw==null)return;if(l.T(M.pV)||l.T(M.pw)){this.qw.l.pop();
this.qw.l.pop();this.qw.Gv.pop();this.xn(N,X,l)}if(l.T(M.pK)){if(this.qw.l.length>4)this.finish(N,X,l);
this.qw=null}if(l.T(M.pR)){this.qw=null}N.v.tl=this.qw;N.tv=!0};H.Ax.prototype.getSelection=function(N,c,X,l){return this.xW(this.qw)};
H.AA=function(){H.xD.call(this,[10,10],H.fH,"tools/mlasso");this.WX="crosshair";this.tM=[];this.df={dx:3};
this.p=[];this.dQ=[];this.qp=[];this.dA=null;this.dk=null;this.du=null;this.dp=0};H.AA.prototype=new H.xD;
H.AA.prototype.disable=function(N,c,X,l){this.clear(N)};H.AA.prototype.fp=function(N){return this.tM.indexOf(N)!=-1};
H.AA.prototype.xX=function(N,c,X,l){this.tM=[M.pV];var C=this.Ap(this.WG,N);if(this.p.length!=0&&(k.CO(C,this.p[0])<4*d.V()/N.g.o||Date.now()-this.dp<300)){this.Ak(N,this.p[0]);
this.finish(N,c,X);this.clear(N);return}this.dp=Date.now();if(this.p.length!=0)C=this.Ac(C,N,this.df.dx);
else{var q=N.h,J=N.s,Z=I.a(q*J),W=N.VN(),s=q*J*4;for(var t=0;t<s;t+=4)Z[t>>>2]=I.TY(Math.round(.3*W[t]+.6*W[t+1]+.1*W[t+2])*W[t+3]);
this.dA=I.Bj._Za(Z,q,J);this.du=new Uint16Array(Z.length)}this.Ak(N,C);this.Aa(N)};H.AA.prototype.Ak=function(N,c){var X=this.p;
this.dQ[X.length]=this.qp.length;if(X.length!=0){I.Bj.BF(this.dk,c.y*N.h+c.x);var l=this.Aw(N,c);l.reverse();
var C=this.AV(N,l);this.qp=this.qp.concat(C)}X.push(c);this.Au(N)};H.AA.prototype.Au=function(N){var c=this.p[this.p.length-1],X=c.y*N.h+c.x;
this.dk=I.Bj._sD(this.dA.pm,this.dA.MV,X);I.set(this.du,0)};H.AA.prototype.Ap=function(N,c){return new k(Math.floor(Math.max(0,Math.min(c.h-1,N.x))),Math.floor(Math.max(0,Math.min(c.s-1,N.y))))};
H.AA.prototype.clear=function(N){this.qp=[];this.p=[];this.dQ=[];this.dA=null;this.dk=null;this.du=null;
if(N!=null){N.v.tl=null;N.v.tN=[];N.tv=!0}this.tM=[]};H.AA.prototype.xn=function(N,c,X,l){if(this.p.length==0)return;
var C=this.Ac(this.Ap(this.Wb,N),N,this.df.dx),q=this.Aw(N,C);for(var J=0;J<q.length;J++){var Z=q[J],W=new k(Z%N.h,Math.floor(Z/N.h));
if(this.du[Z]>30&&k.CO(W,this.p[this.p.length-1])>20){this.Ak(N,W);return}this.du[Z]++}this.Aa(N)};H.AA.prototype.Aa=function(N){var c=this.Ac(this.Ap(this.Wb,N),N,this.df.dx),X=this.Aw(N,c);
X.reverse();var l=this.AV(N,X),C=this.qp.concat(l);N.v.tl=this.Ai(C);N.v.tN=[];for(var q=0;q<this.p.length;
q++)N.v.tN.push(this.p[q].x+.5,this.p[q].y+.5);N.tv=!0};H.AA.prototype.xe=function(N,c,X,l){};H.AA.prototype.ff=function(N,c,X,l){if(this.p.length==0)return;
if(l.T(M.pV)){this.p.pop();this.qp=this.qp.slice(0,this.dQ[this.p.length]);this.dQ.pop();if(this.p.length==0)this.clear(N);
else this.Au(N);this.Aa(N)}if(l.T(M.pK)){var C=this.Ap(this.Wb,N);this.Ak(N,C);this.finish(N,X,l);this.clear(N)}if(l.T(M.pR)){this.clear(N)}};
H.AA.prototype.Ai=function(N){var c={l:N.slice(0),Gv:["M"]};for(var X=2;X<N.length;X+=2)c.Gv.push("L");
return c};H.AA.prototype.getSelection=function(N,c,X,l){var C=this.Ai(this.qp);return this.xW(C)};H.AA.prototype.Aw=function(N,c){var X=this.p[this.p.length-1],l=X.y*N.h+X.x,C=c.y*N.h+c.x,q=[C];
while(C!=l){C=this.dk.MO[C];q.push(C);if(q.length>5e3){console.log(q);throw"e"}}return q};H.AA.prototype.AV=function(N,c){var X=[],l=N.h;
for(var C=0;C<c.length;C++){var q=c[C];X.push(q%l+.5,Math.floor(q/l)+.5)}return X};H.AA.prototype.Ac=function(N,c,X){var l=c.h,C=c.s,q=N.clone();
I.Bj.BF(this.dk,N.y*l+N.x);var J=this.dk.LU[N.y*l+N.x];for(var Z=-X+1;Z<X;Z++)for(var W=-X+1;W<X;W++){var s=N.x+W,t=N.y+Z;
if(s<0||s>=l||t<0||t>=C)continue;I.Bj.BF(this.dk,t*l+s);if(this.dk.LU[t*l+s]<J)q.Cj(s,t)}return q};H.Al=function(){H.xD.call(this,[10,15],H.fj,"tools/rselect");
this.WX="crosshair"};H.Al.prototype=new H.xD;H.Al.prototype.xn=function(N,c,X,l){if(!l.tE||!this.Wn)return;
var C=this.xG(N,X).vm(new u(0,0,N.h,N.s)),q=C.x,J=C.y,Z=C.x+C.h,W=C.y+C.s;N.v.tl={l:[q,J,Z,J,Z,W,q,W,q,J],Gv:["M","L","L","L","L"]};
N.tv=!0};H.Al.prototype.xe=function(N,c,X,l){N.v.tl=null;N.tv=!0;this.finish(N,c,X,l)};H.Al.prototype.getSelection=function(N,c,X,l){if(this.WG.TA(this.Wb)||!this.Wn)return null;
var C=this.xG(N,X).vm(new u(0,0,N.h,N.s));if(C.BH())return null;var q=I.a(C.n());I.set(q,255);return{channel:q,rect:C}};
H.Al.prototype.fR=function(N,c,X,l,C){var q=N.I,J,Z;if(q=="setsel"){Z=N.G;J=new _f(N.mN,this)}if(q=="all"){Z={channel:I.a(X.h*X.s),rect:new u(0,0,X.h,X.s)};
I.set(Z.channel,255);J=new _f([7,0],this)}if(q=="polygon"){Z=this.xW(N.dr);J=new _f(N.mN,this)}if(q=="deselect"){if(X.G==null)return;
Z=null;J=new _f([7,1],this)}if(q=="fromlayer"){var W=X.R[N.e];if(N.da==0){if(W.rect.BH())return;var s=I.a(W.buffer.length>>2);
I.TR(W.buffer,s,3);Z={channel:s,rect:W.rect.clone()}}else{var t=W.im(),s,T;if(t.si()==0){T=t.xG();if(T.n()==0)return;
s=t.wE()}else{T=new u(0,0,X.h,X.s);s=I.a(T.n());t.wT(T,s)}Z={channel:s,rect:T}}if(N.di&&X.G)Z=I.vH.vN(X.G,Z,"union");
J=new _f("Selection from layer",this)}if(q=="inverse"){if(X.G==null){alert("No selection!");return}Z={channel:I.a(X.h*X.s),rect:new u(0,0,X.h,X.s)};
I.Ty(X.G.channel,X.G.rect,Z.channel,Z.rect);I.Tk(Z.channel);J=new _f([7,2],this)}if(q=="expand"){var g=X.G.rect.clone();
g.PY(N.q,N.q);Z={channel:I.a(g.n()),rect:g};var R=I.a(Z.channel.length);I.Ty(X.G.channel,X.G.rect,R,Z.rect);
I.style.stroke(R,Z.channel,Z.rect,N.q);J=new _f([7,4],this)}if(q=="contract"){var P=X.G.rect.clone();
P.PY(1,1);var R=I.a(P.n()),O=I.a(R.length);I.Ty(X.G.channel,X.G.rect,R,P);I.Tk(R);I.style.stroke(R,O,P,N.q);
I.Tk(O);Z={channel:null,rect:X.G.rect.clone()};Z.rect.PY(-N.q,-N.q);Z.channel=I.a(Z.rect.n());I.Ty(O,P,Z.channel,Z.rect);
var J=new _f([7,5],this)}if(q=="feather"){var b=Math.ceil(2.6*N.q);Z={channel:null,rect:X.G.rect.clone()};
Z.rect.PY(b,b);Z.channel=I.a(Z.rect.n());var R=I.a(Z.channel.length);I.Ty(X.G.channel,X.G.rect,R,Z.rect);
I.blur.IY(R,Z.channel,Z.rect,N.q);var J=new _f([7,6],this)}if(q=="border"){Z=H.Al.AJ(X.G,N.q/2,N.q/2);
J=new _f([7,9],this)}if(Z!=null&&I.TN(Z.channel,0)){Z=null;J.name=[7,1]}if(Z)I.I_(Z);J.data={I:"changesel",WU:X.G,tT:Z};
X.cB(J);this.fQ(J.data,X)};H.Al.AJ=function(N,c,X){var l=Math.max(1,Math.ceil(X)),C=N.rect.clone();C.PY(l,l);
var q=C.n(),J={channel:I.a(q),rect:C},Z=I.a(q);I.Ty(N.channel,N.rect,Z,J.rect);if(X!=0)I.style.stroke(Z,J.channel,J.rect,X);
else I.Tx(Z,J.channel);var W=I.a(q);I.Tk(Z);if(c!=0)I.style.stroke(Z,W,J.rect,c);else I.Tx(Z,W);I.vH.vm(J.channel,W,J.channel);
return J};H.Ay=function(){H.fZ.call(this,[10,36],H.fm,"tools/ruler");this.dw=null;this.dV=null;this.dc=null;
this.dl=null};H.Ay.prototype=new H.fZ;H.Ay.prototype.fa=function(N){return N.tE};H.Ay.prototype.disable=function(N,c,X,l){this.dw=this.dV=null;
if(N)this.Qe(N)};H.Ay.prototype.fP=function(N,c,X,l,C){var q=N.g.o/d.V(),J=N.g.cR(C.x,C.y);J.x=Math.round(J.x);
J.y=Math.round(J.y);var Z=this.dw;if(Z&&k.CO(J,Z[0])*q<6)this.dV=[0];else if(Z&&k.CO(J,Z[1])*q<6)this.dV=[1];
else if(Z&&H.Ay.Aj(Z[0],Z[1],J)*q<6&&Math.min(Z[0].x,Z[1].x)-5<=J.x&&J.x<=Math.max(Z[0].x,Z[1].x)+5&&Math.min(Z[0].y,Z[1].y)-5<=J.y&&J.y<=Math.max(Z[0].y,Z[1].y)+5){this.dV=[0,1];
this.dl=[Z[0].clone(),Z[1].clone()];this.dc=J}else{this.dw=[J.clone(),J.clone()];this.dV=[1]}};H.Ay.prototype.fh=function(N,c,X,l,C){if(this.dV==null)return;
var q=this.dw,J=this.dV,Z=N.g.cR(C.x,C.y);Z.x=Math.round(Z.x);Z.y=Math.round(Z.y);if(J.length==2){var W=Z.x-this.dc.x,s=Z.y-this.dc.y;
q[0]=this.dl[0].clone();q[0].offset(W,s);q[1]=this.dl[1].clone();q[1].offset(W,s)}else{q[J[0]].Cj(Z.x,Z.y);
if(l.T(M.pU)){q[J[0]]=H.QS.Qf(q[1-J[0]],q[J[0]])}}this.Qe(N);this.xm(c,d.E.m,{I:d.L.jz,K:this.id,dJ:q[0],dy:q[1]})};
H.Ay.prototype.fr=function(N,c,X,l,C){this.dV=null};H.Ay.prototype.xm=function(N,c,X){var l=new Q(c,!0);
l.data=X;N.C(l)};H.Ay.prototype.Qe=function(N){var c=this.dw;if(c==null){N.v.tl=null;N.v.tN=[]}else{var X=[c[0].x,c[0].y,c[1].x,c[1].y];
N.v.tl={Gv:["M","L"],l:X};N.v.tN=X}N.tv=!0};H.Ay.Aj=function(N,c,X){var l=c.x-N.x,C=c.y-N.y,q=Math.abs(C*X.x-l*X.y+c.x*N.y-c.y*N.x),J=Math.sqrt(l*l+C*C);
return q/J};H.Ao=function(){H.xa.call(this,[10,19],H.fg,"tools/sharpen");this.WZ="copy"};H.Ao.prototype=new H.xa;
H.Ao.prototype.fP=function(N,c,X,l,C){this.xl(N,X,l,C,this.W_.strn,this.W_.pdetail?_C.lq:_C.fg);if(this.WB==null)return;
this.xF(N)};H.Ao.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;this.xJ(N,c,X);if(!C.tE)return;
this.xy(N,X,l,C);this.xF(N)};H.AO=function(){H.xa.call(this,[10,24],H.fM,"tools/shbrush");this.WZ="draw";
this.W_.opacity=.5};H.AO.prototype=new H.xa;H.AO.prototype.fP=function(N,c,X,l,C){this.xl(N,X,l,C,1);
if(this.WB==null)return;this.xF(N)};H.AO.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;this.xJ(N,c,X);
if(!C.tE)return;this.xy(N,X,l,C);this.xF(N)};H.AO.prototype.fr=function(N,c,X,l,C){if(this.WB==null)return;
this.xH(N,"sheal2",this.WB.lW(),this.WB.xG(),this.WB.xG(),null);this._(N,this.WB.xG());H.xa.prototype.fr.call(this,N,c,X,l,C)};
H.AO.prototype.fR=function(N,c,X,l,C){if(N.I&&N.I.slice(0,4)=="heal"){if(X.G==null){alert("Select an area to heal first.");
return}if(!X.Vm())return;this.xV(X);var q=X.G,J=I.a(q.rect.n()*4);I.TP(q.channel,J,3);this.xH(X,"s"+N.I,J,q.rect,q.rect);
this._(X,q.rect);this.finish(X,q.rect)}else H.xa.prototype.fR.call(this,N,c,X,l,C)};H.AF=function(){H.xa.call(this,[10,20],H.xE,"tools/smudge");
this.WZ="copy"};H.AF.prototype=new H.xa;H.AF.prototype.fP=function(N,c,X,l,C){this.xl(N,X,l,C,this.W_.strn,_C.xE);
if(this.WB==null)return;this.xF(N)};H.AF.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;this.xJ(N,c,X);
if(!C.tE)return;this.xy(N,X,l,C);this.xF(N)};H.AH=function(){H.xa.call(this,[10,23],H.xI,"tools/sponge");
this.WZ="sponge"};H.AH.prototype=new H.xa;H.AH.prototype.fP=function(N,c,X,l,C){this.xl(N,X,l,C,this.W_.flow);
if(this.WB==null)return;this.xF(N)};H.AH.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;this.xJ(N,c,X);
if(!C.tE)return;this.xy(N,X,l,C);this.xF(N)};H.AN=function(){H.fZ.call(this,[10,17],H.xh,"tools/zoom");
this.Tk=!1;this.mG=!0;this.tH=null;this.dj=0;this.dO=null};H.AN.prototype=new H.fZ;H.AN.prototype.enable=function(N,c,X,l){this.AG(c)};
H.AN.prototype.fP=function(N,c,X,l,C){this.tH=new k(C.x,C.y);this.dj=N.g.o;this.dO=N.g.M.clone()};H.AN.prototype.fh=function(N,c,X,l,C){if(this.tH==null)return;
var q=Math.round((C.x-this.tH.x)/16);if(q==0)return;var J=H.AN.Am(this.dj),Z=H.AN.AY[Math.max(0,Math.min(H.AN.AY.length-1,J-q))];
N.g.o=this.dj;N.g.M=this.dO.clone();this.fR({I:"zoom",o:Z,dT:this.tH},c,N,l,X)};H.AN.prototype.fr=function(N,c,X,l,C){if(k.CO(this.tH,C)<4){var q=this.mG;
if(this.Tk)q=!q;this.fR({I:"zoom",mG:q,dT:C},c,N,l,X)}this.tH=null};H.AN.AY=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
H.AN.Az=function(N,c,X,l){var C=1;while(N*C*1/2>X||c*C*1/2>l)C*=1/2;if(N*C*2/3>X||c*C*2/3>l)C*=1/2;else if(N*C>X||c*C>l)C*=2/3;
return C};H.AN.AD=function(N,c){var X=H.AN.Am(N);if(c&&X==0)return N;if(!c&&X==H.AN.AY.length-1)return N;
return H.AN.AY[c?X-1:X+1]};H.AN.Am=function(N){var c=0;while(H.AN.AY[c]>N)c++;return c};H.AN.AM=function(N,c,X,l){var C=N.tG;
if(l==0||l==null){l=H.AN.AD(N.o,X);if(l==N.o)return}var q=N.cR(c.x,c.y);if(C.h*l<=N.N.h&&C.s*l<=N.N.s)N.M.Cj(0,0);
else{N.M.x=Math.round(C.h*l/2-q.x*l+(c.x-N.N.h/2));N.M.y=Math.round(C.s*l/2-q.y*l+(c.y-N.N.s/2))}N.o=l};
H.AN.prototype.fR=function(N,c,X,l,C){var q=0,J=!1,Z=null;if(N.I=="adapt"){var W=0;if(N.q=="pixel")W=1;
if(N.q=="fitscr"){var W=0,s=X.g.N.h,t=X.g.N.s;if(X.h<=s&&X.s<=t){var T=1;while(X.h*(T+1)<=s&&X.s*(T+1)<=t)T++;
W=T}else{W=H.AN.Az(X.h,X.s,s,t)}}Z=new k(Math.round(X.g.N.h/2),Math.round(X.g.N.s/2));q=W}if(N.I=="scroll"){Z=N.dT;
J=N.tD.y<0}if(N.I=="zoom"){Z=N.dT?N.dT:new k(Math.round(X.g.N.h/2),Math.round(X.g.N.s/2));if(N.o!=null)q=N.o;
else J=N.mG}if(Z==null)return;H.AN.AM(X.g,Z,J,q);X.tm=!0};H.AN.prototype.ff=function(N,c,X,l){if(this.Tk!=l.T(M.pZ)){this.Tk=l.T(M.pZ);
var C={I:d.L.jz,K:this.id,Tk:this.Tk},q=new Q(d.E.m,!0);q.data=C;c.C(q);this.AG(c)}};H.AN.prototype.AG=function(N){var c=new Q(d.E.m,!0),X=this.mG;
if(this.Tk)X=!X;c.data={I:d.L.jf,WE:X?"zoom-in":"zoom-out"};N.C(c)};H.AN.prototype.fk=function(N,c,X,l){if(N.action){var C={I:"adapt",q:N.action};
this.fR(C,c,X,l,null)}else{this.mG=N.mG;this.AG(c)}};H.Ab=function(N,c,X){H.fZ.call(this,N,c,X);this.dF=null;
this.qj=null;this.dH=0};H.Ab.prototype=new H.fZ;H.Ab.prototype.fx=function(N,c,X,l){var C=N.R[N.Q[0]],q=C.add.vmsk,J=C.add.vstk,Z=H.Ab.Ae(N,N.Q[0]);
this.dF=N;this.qj=c;if(C.i$()&&q!=null&&(JSON.stringify(J)!=JSON.stringify(X.dN)||JSON.stringify(Z)!=JSON.stringify(X.dY))){this.dH=Date.now();
var W=new Q(d.E.m,!0);W.data={I:d.L.jD,mz:BZ.uO,q:Z};c.C(W);W.data={I:d.L.jD,mz:BZ.uF,q:J};c.C(W)}};
H.Ab.prototype.fu=function(N,c){if(this.dF==null)return;if(c==BZ.up||c==BZ.uO||c==BZ.uF){if(Date.now()-this.dH<50)return;
var X=c==BZ.uO,l=this.dF,C=X?N.dY:N.dN,q=[];for(var J=0;J<l.Q.length;J++){var Z=l.Q[J],W=l.R[Z];if(!W.i$()||W.add.vmsk==null)continue;
q.push(Z)}var s=new Q(d.E.A,!0);s.K=H.xA;s.data={I:v.VK,dz:q,dD:X,q:C};if(q.length!=0)this.qj.C(s)}};
H.Ab.prototype.fR=function(N,c,X,l,C){var q=X.R[X.Q[0]],J=q.add.vmsk,Z=J.clone(),W=J.clone();if(N.I=="remove"){if(W.Q.length==0)return;
W.p=I.D._Th(W.p,W.Q);W.Q=[];W.dm=[]}if(N.I=="append"){var s=I.D.UU(W.p),t=I.D.UU(N.dM);W.p=W.p.concat(N.dM.slice(2));
W.Q=[];for(var T=0;T<t;T++)W.Q.push(s+T)}this.An(X,q,W);this.AX(X,N.mN,X.Q[0],Z,W.clone())};H.Ab.prototype.fp=function(N){return[M.pV].indexOf(N)!=-1};
H.Ab.prototype.ff=function(N,c,X,l){if(N==null)return;var C=N.R[N.Q[0]],q=C.add.vmsk;if(q==null)return;
if(l.T(M.pR)||l.T(M.pK)){q.dm=[];N.tv=!0}if(q.Q.length!=0){var J=l.pE();if(J.x!=0||J.y!=0){var Z=q.clone(),W=q.clone(),s=new Bh(1,0,0,1,J.x,J.y);
I.D.$m(W.p,s,W.Q);this.An(N,C,W);this.AX(N,"Move Paths",N.Q[0],Z,W.clone(),!0)}if(l.T(M.pV))this.fR({I:"remove",mN:"Delete Paths"},c,N,l,X)}};
H.Ab.prototype.AX=function(N,c,X,l,C,q){var J=new _f(c,this);J.data={dG:X,db:l,pv:C,dX:q};N.cB(J)};H.Ab.prototype.fQ=function(N,c){this.An(c,c.R[N.dG],N.pv.clone())};
H.Ab.prototype.fA=function(N,c){this.An(c,c.R[N.dG],N.db.clone())};H.Ab.prototype.An=function(N,c,X){c.add.vmsk=X;
X.Xe=!0;c.ih(N);N._()};H.Ab.Ae=function(N,c){var X=N.R[c],l=X.add.vstk,C=null;if(l&&!l.fillEnabled.v)C={Xw:0};
else if(X.add.SoCo)C={Xw:1,aY:X.add.SoCo};else if(X.add.GdFl)C={Xw:2,aY:X.add.GdFl};else if(X.add.PtFl)C={Xw:3,aY:X.add.PtFl};
return C};H.Ab.AW=function(N,c){var X=N.add.vmsk,l=N.add.vstk,C=c.Xw;if(l)l.fillEnabled.v=C!=0;if(C>0){var q=["SoCo","GdFl","PtFl"][C-1];
for(var J=0;J<3;J++)delete N.add[["SoCo","GdFl","PtFl"][J]];N.add[q]=c.aY}};H.At=function(N,c,X,l){H.Ab.call(this,N,c,X);
this.W_={tmode:1,shape:null,pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{LT:0}};
this.dn=l;this.de=null;this.dW=null;this.dt=null};H.At.prototype=new H.Ab;H.At.prototype.fa=function(N){return N.tE&&this.id!=H.xs};
H.At.prototype.enable=function(N,c,X,l,C){var q=new Q(d.E.m,!0);q.data={I:d.L.jf,WE:"crosshair"};c.C(q)};
H.At.prototype.Aq=function(N,c,X,l){};H.At.prototype.fP=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);q=H.QG.AU(N,q,X);
var J=this.W_.tmode,Z=N.R[N.Q[0]],W=Z.add.vmsk;if(J==0&&W==null){alert("Paths can be added to existing shapes only.");
return}if(J==2&&!N.Vm())return;if(J==1){var s=new Q(d.E.A,!0);s.K=H.xA;s.data={I:v.Vv,mm:1};c.C(s);Z=N.R[N.Q[0]];
W=Z.add.vmsk}this.dt=[q.x,q.y];this.de=q;this.dW=new k(0,0)};H.At.prototype.Ad=function(N,c,X){var l=[this.de.clone(),c.clone()];
l[0].x=Math.floor(l[0].x);l[0].y=Math.floor(l[0].y);l[1].x=Math.ceil(l[1].x);l[1].y=Math.ceil(l[1].y);
if(this.dn)l=H.At.kE(l[0],l[1],X,!1,this.W_.cstr);N.g.t_=new u(l[0].x,l[0].y,l[1].x-l[0].x,l[1].y-l[0].y);
return this.Aq(l[0],l[1],X.T(M.pU),this.dt)};H.At.prototype.Ag=function(N,c,X){var l=N.g.cR(c.x,c.y),C=this.W_.cstr;
if(C.LT==2){var q=new u(l.x-C.x,l.y-C.y,C.x,C.y),J=H.QG.AL(N,q,X);l.x+=J[0];l.y+=J[1];H.QG.A$(N,q,J)}else l=H.QG.AU(N,l,X);
return l};H.At.prototype.fh=function(N,c,X,l,C){if(this.de==null)return;var q=this.Ag(N,C,X);if(l.T(M.pP))this.de=q.Co(this.dW);
else this.dW=q.Co(this.de);this.dt.push(q.x,q.y);if(this.W_.shape==null)this.W_.shape=X.dq[0];var J=this.Ad(N,q,l),Z=I.z.KM(J);
N.v.tl=Z;N.tv=!0};H.At.prototype.fr=function(N,c,X,l,C){if(this.de==null)return;var q=this.Ag(N,C,X),J=this.W_.binop,Z=this.W_.tmode;
if(this.dt.length!=2){var W=this.Ad(N,q,l);if(Z==0)W[2].GU=[1,2,3,0][J];if(Z!=2){var s=N.R[N.Q[0]],t=s.add.vmsk,T=t.clone(),g=t.clone();
g.p=g.p.concat(W.slice(2));g.Q=[I.D.UU(g.p)-1];this.An(N,s,g);if(Z==0)this.AX(N,this.name,N.Q[0],T,g)}else{var g=new v.wI;
g.p=g.p.concat(W.slice(2));var R=g.im(),P=I.a(R.rect.n()*4);I.Tr(P,(X.Wp&255)<<16|(X.Wp>>8&255)<<8|(X.Wp>>16&255)<<0);
I.TP(R.channel,P,3);var O=new Q(d.E.A,!0);O.K=H.fX;O.data={I:"draw",_$e:P,_ZS:R.rect,mN:this.name};c.C(O)}}this.de=null;
N.v.tl=null;N.v.ts=null;N.g.t_=null;N.tv=!0};H.At.prototype.fk=function(N,c,X,l,C){for(var X in N)this.W_[X]=N[X]};
H.At.kE=function(N,c,X,l,C){var q=N.x,J=N.y,Z=c.x,W=c.y;if(C&&C.LT==2){q=Z-C.x;J=W-C.y}else{var s=0;
if(C&&C.LT==1)s=C.x/C.y;else if(X&&X.T(M.pU))s=1;if(s!=0){var t=Math.abs(Z-q);Z=Z>q?q+t:q-t;W=W>J?J+t*s:J-t*s}if(X&&X.T(M.pZ)){q-=Z-q;
J-=W-J}}if(l){if(q>Z){var T=q;q=Z;Z=T}if(J>W){var T=J;J=W;W=T}q=Math.floor(q);J=Math.floor(J);Z=Math.ceil(Z);
W=Math.ceil(W)}return[new k(q,J),new k(Z,W)]};H.k_=function(){H.Ab.call(this,[10,29],H.xB,"tools/pen");
this.dd=null;this.dg=1};H.k_.prototype=new H.Ab;H.k_.prototype.fa=function(N){return this.dd!=null};
H.k_.prototype.fP=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y),t,T;q.x=Math.round(q.x);q.y=Math.round(q.y);
var J=H.QG.AU(N,q,X),Z=N.R[N.Q[0]],W=Z.add.vmsk;if(this.dg==0&&W==null){alert("Paths can be added to existing shapes only.");
return}var s=4*d.V()/N.g.o;if(W)t=I.D.IB(W.p,q,!0,s);if(this.dg!=2&&(W==null||(W.dm.length==0||W.dm[0]!=W.p.length-1)&&t.MB==-1)){var g=new Q(d.E.A,!0);
g.K=H.xA;g.data={I:v.Vv,mm:1};c.C(g);Z=N.R[N.Q[0]];W=Z.add.vmsk}this.dd=W.clone();var R=W.p,P=I.D.UU(R);
T=I.D.UB(W.p,new u(q.x-s,q.y-s,s*2,s*2));t=I.D.IB(W.p,q,!0,s);if(t.MB!=-1&&T[0].length==0){var O=I.D.UL(R,t.MB);
R[O].length++;R.splice(O+2+t.GH,0,{type:4,GC:J.clone(),t:J.clone(),GR:J.clone()});W.dm=[O+2+t.GH]}else{var b=0;
if(W.dm.length!=1){W.Q=[P];R.push({type:3,length:1,GU:1,GL:0,GN:0,GY:0});b=R.length}else{var z=W.dm[0],m=I.D._Pa(R,z),O=I.D.UL(R,m);
if(z==O+R[O].length&&k.CO(q,R[O+1].t)<s){R[O].type=0;W.dm=[];this.An(N,Z,W);N.tv=!0;this.AX(N,"Close the Path",N.Q[0],this.dd,W.clone());
this.dd=null;return}R[O].length++;b=z+1}R.splice(b,0,{type:4,GC:J.clone(),t:J.clone(),GR:J.clone()});
W.dm=[b]}this.An(N,Z,W);N.tv=!0};H.k_.prototype.fh=function(N,c,X,l,C){if(this.dd==null)return;var q=N.g.cR(C.x,C.y),J=H.QG.AU(N,q,X),Z=N.R[N.Q[0]],W=Z.add.vmsk,s=W.p,t=s[W.dm[0]];
t.GR=J;t.GC=t.t.add(t.t.Co(t.GR));this.An(N,Z,W);N.tv=!0};H.k_.prototype.fr=function(N,c,X,l,C){if(this.dd==null)return;
var q=N.R[N.Q[0]],J=q.add.vmsk;this.AX(N,"Add Anchor Point",N.Q[0],this.dd,J.clone());this.dd=null};
H.k_.prototype.fk=function(N,c,X,l,C){this.dg=N.tmode};H.kT=function(){H.At.call(this,[10,30],H.xs,"tools/fpen",!1)};
H.kT.prototype=new H.At;H.kT.prototype.Aq=function(N,c,X,l){return I.D._$y(l,this.W_.tolr)};H.kI=function(){H.Ab.call(this,[10,27],H.xv,"tools/pselect");
this.gE=null;this.g_=!1;this.dd=null;this.qO=null};H.kI.prototype=new H.Ab;H.kI.prototype.fa=function(N){return N.tE};
H.kI.prototype.fP=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y),J=N.root.VZ(q);if(J!=null){var Z=J.gT.e,W=N.R.indexOf(Z),s=Z.add.vmsk;
s.dm=[];var t=s.Q.indexOf(J.gI);Z.gB=!0;if(W!=N.Q[0]){N.Q=[W];N.cZ();N.qR=!0}else if(l.T(M.pU)){if(t==-1){s.Q.push(J.gI);
this.g_=!0}else s.Q.splice(t,1)}else{if(t==-1)s.Q=[J.gI];this.g_=!0}this.qO=I.D.$W(s.p,s.Q)}this.gE=q;
N.gs=!0;N.tv=!0};H.kI.prototype.fh=function(N,c,X,l,C){if(this.gE==null)return;var q=N.g.cR(C.x,C.y);
if(this.g_){var J=N.R[N.Q[0]];if(this.dd==null)this.dd=J.add.vmsk.clone();var Z=this.qO.clone(),W=Z.x,s=Z.y;
Z.offset(q.x-this.gE.x,q.y-this.gE.y);Z.x=Math.round(Z.x);Z.y=Math.round(Z.y);var t=H.QG.AL(N,Z,X),T=this.dd.clone(),g=new Bh(1,0,0,1,Z.x-W+t[0],Z.y-s+t[1]);
I.D.$m(T.p,g,T.Q);this.An(N,J,T);H.QG.A$(N,Z,t)}else{var R=this.gE;N.v.tl=I.z.Kq(new u(R.x,R.y,q.x-R.x,q.y-R.y));
N.tv=!0}};H.kI.prototype.fr=function(N,c,X,l,C){if(this.gE==null)return;var q=N.g.cR(C.x,C.y),J=N.R[N.Q[0]],Z=J.add.vmsk;
if(this.g_){if(!this.gE.TA(q))this.AX(N,"Drag Paths",N.Q[0],this.dd,Z);if(N!=null&&N.v.ts){N.v.ts=null;
N.tv=!0}}else{if(Z){var W=this.gE,s=new u(W.x,W.y,q.x-W.x,q.y-W.y),t=I.D._K_(Z.p,s);if(l.T(M.pU)){for(var T=0;
T<t.length;T++)if(Z.Q.indexOf(t[T])==-1)Z.Q.push(t[T])}else Z.Q=t}N.v.tl=null;N.tv=!0}this.gE=null;this.dd=null;
this.g_=!1};H.kI.prototype.fx=function(N,c,X,l){H.Ab.prototype.fx.call(this,N,c,X,l);var C=N.R[N.Q[0]],q=C.add.vmsk,J=C.add.vstk,Z=new Q(d.E.m,!0);
Z.data={I:d.L.jz,K:this.id,ta:"main",gK:q?q:null};c.C(Z)};H.kI.prototype.fk=function(N,c,X,l,C){var q=N.gv,J=X.Q[0],Z=new Q(d.E.A,!0);
Z.K=H.xA;if(q.gK){var W=X.R[J],s=W.add.vmsk.clone();this.An(X,W,q.gK);this.AX(X,s.Q[0]==q.gK.Q[0]?"Fill Rule":"Path Order",J,s,q.gK)}};
H.kB=function(){H.Ab.call(this,[10,28],H.x$,"tools/dselect");this.g$=-1;this.gU=-1;this.gE=null;this.dd=null;
this.dp=0};H.kB.prototype=new H.Ab;H.kB.prototype.fa=function(N){return N.tE};H.kB.prototype.fP=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y),J=N.R[N.Q[0]],Z=J.add.vmsk;
if(Z==null)return;var W=4*d.V()/N.g.o,s=I.D.UB(Z.p,new u(q.x-W,q.y-W,W*2,W*2));if(s[0].length!=0){var t=this.g$=s[0][0];
this.gU=0;var T=Z.dm.indexOf(t);this.gE=Z.p[t].t.clone();if(l.T(M.pU)){if(T==-1)Z.dm.push(t);else Z.dm.splice(T,1)}else if(T==-1)Z.dm=[t]}else if(s[1].length!=0){this.g$=s[1][0];
this.gU=1;this.gE=q}else if(s[2].length!=0){this.g$=s[2][0];this.gU=2;this.gE=q}else{var g=I.D.IB(Z.p,q,!0,W);
if(g.MB==-1)this.gE=q;else{Z.Q=[g.MB];Z.dm=[]}}if(this.dd==null)this.dd=J.add.vmsk.clone();N.tv=!0};
H.kB.prototype.fh=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);q.x=Math.round(q.x);q.y=Math.round(q.y);
q=H.QG.AU(N,q,X);var J=N.R[N.Q[0]],Z=J.add.vmsk;if(this.g$!=-1){var J=N.R[N.Q[0]],Z=this.dd.clone(),W=new Bh(1,0,0,1,q.x-this.gE.x,q.y-this.gE.y);
if(this.gU==0)I.D.$m(Z.p,W,null,Z.dm);else{var s=Z.p[this.g$],t=s.GC,T=s.GR;if(this.gU==2){t=s.GR;T=s.GC}t.Cj(q.x,q.y);
if(s.type==1||s.type==4){var g=k.CO(t,s.t),R=k.CO(T,s.t);if(R!=0){T.x=s.t.x-(t.x-s.t.x)*(R/g);T.y=s.t.y-(t.y-s.t.y)*(R/g)}}}this.An(N,J,Z)}else if(this.gE!=null){var P=this.gE;
N.v.tl=I.z.Kq(new u(P.x,P.y,q.x-P.x,q.y-P.y));N.tv=!0}};H.kB.prototype.fr=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y),J=N.R[N.Q[0]],Z=J.add.vmsk;
if(this.g$!=-1){if(Date.now()-this.dp<300){var W=Z.p[this.g$],s=this.gU,t=null;if(s==0){var T=W.GC.TA(W.t),g=W.GR.TA(W.t);
if(!T&&!g){t="Anchor Type";if(W.type==1||W.type==4)W.type++;else{W.type--;W.GR=W.t.add(W.t.Co(W.GC))}}else{t="Add Handles";
if(T&&g){W.GC.x-=30;W.GR.x+=30}else if(T)W.GC=W.t.add(W.t.Co(W.GR));else if(g)W.GR=W.t.add(W.t.Co(W.GC))}}else{t="Remove Handle";
if(s==1)W.GC.Cy(W.t);else W.GR.Cy(W.t)}this.An(N,J,Z);this.AX(N,t,N.Q[0],this.dd,Z)}else if(!this.gE.TA(q)){this.AX(N,"Drag Anchors",N.Q[0],this.dd,Z)}this.dp=Date.now()}else if(this.gE!=null){var R=this.gE,P=new u(R.x,R.y,q.x-R.x,q.y-R.y);
if(P.h<0)P.x+=P.h;if(P.s<0)P.y+=P.s;P.h=Math.abs(P.h);P.s=Math.abs(P.s);var O=I.D.UB(Z.p,P);Z.dm=O[0];
N.v.tl=null}this.dd=null;this.gE=null;this.g$=this.gU=-1;N.tv=!0};H.kB.prototype.fp=function(N){return[M.pV].indexOf(N)!=-1};
H.kB.prototype.ff=function(N,c,X,l){if(N==null)return;var C=N.R[N.Q[0]],q=C.add.vmsk;if(q==null||q.dm.length==0)return;
var J=l.pE();if(J.x!=0||J.y!=0){var Z=q.clone(),W=q.clone(),s=new Bh(1,0,0,1,J.x,J.y);I.D.$m(W.p,s,null,W.dm);
this.An(N,C,W);this.AX(N,"Move Anchors",N.Q[0],Z,W.clone(),!0)}if(l.T(M.pV)){var Z=q.clone(),W=q.clone();
W.p=I.D._Uz(W.p,W.dm);W.dm=[];this.An(N,C,W);this.AX(N,"Delete Anchors",N.Q[0],Z,W.clone(),!0)}};H.kB.prototype.AX=function(N,c,X,l,C,q){var J=N.history[N.dI];
if(q&&J!=null&&J.K==this&&J.data.dX&&J.data.dG==X&&JSON.stringify(J.data.db.dm)==JSON.stringify(l.dm)){J.data.pv=C}else{var J=new _f(c,this);
J.data={dG:X,db:l,pv:C,dX:q};N.cB(J)}};H.Rect=function(){H.At.call(this,[10,32],H.xU,"tools/rect",!0)};
H.Rect.prototype=new H.At;H.Rect.prototype.Aq=function(N,c,X){var l=this.W_.crad,C=c.x-N.x,q=c.y-N.y;
return I.D.Ua.Rect(N.x,N.y,C,q,l)};H.UJ=function(){H.At.call(this,[10,33],H.xL,"tools/ellipse",!0)};
H.UJ.prototype=new H.At;H.UJ.prototype.Aq=function(N,c,X){var l=c.x-N.x,C=c.y-N.y;return I.D.Ua.UJ(N.x,N.y,l,C)};
H.ks=function(){H.At.call(this,[10,34],H.xC,"tools/pshape",!1)};H.ks.prototype=new H.At;H.ks.prototype.Aq=function(N,c,X){var l=this.W_.pshape,C=this.W_.crad,q=this.W_.irad/100,J=this.W_.sides,Z=this.W_.length;
c=c.clone();if(X){if(Math.abs(c.x-N.x)<Math.abs(c.y-N.y))c.x=N.x;else c.y=N.y}var W=N.x,s=N.y,t=c.x,T=c.y,g=Math.sqrt((t-W)*(t-W)+(T-s)*(T-s)),R=Math.atan2(-T+s,t-W);
if(l==0)return I.D.Ua._$a(W,s,g,R,J,C);if(l==1)return I.D.Ua._$u(W,s,g,R,J,C,q);return I.D.Ua._$w(W,s,g,R,Z)};
H.Ul=function(){H.At.call(this,[10,35],H.xZ,"tools/line",!1)};H.Ul.prototype=new H.At;H.Ul.prototype.Aq=function(N,c,X){var l=this.W_.width;
c=c.clone();if(X){if(Math.abs(c.x-N.x)<Math.abs(c.y-N.y))c.x=N.x;else c.y=N.y}return I.D.Ua.Ul(N.x,N.y,c.x,c.y,l)};
H.kK=function(){H.At.call(this,[10,31],H.xR,"tools/cshape",!0)};H.kK.prototype=new H.At;H.kK.prototype.Aq=function(N,c,X){var l=this.W_.shape,C=l.n$.h/l.n$.s,q=v.wI.wB(l.p),J=c.x-N.x,Z=c.y-N.y;
I.D.$m(q,new Bh(J,0,0,Z,N.x,N.y));return q};H.r=function(N,c,X){H.fZ.call(this,N,c,X);this.gL=0;this.R=null;
this.gC=null;this.tb=null;this.tf=1;this.gZ=!1;this.cursor=null;this.dB=null;this.WU=null;this.ds=!1;
this.tu=null;this.gR=0;this.gP=0;this.tI=null;this.tZ=null;this.gh=null;this.gr=null;this.gS=null};H.r.prototype=new H.fZ;
H.r.prototype.fa=function(N){return this.tZ&&this.tZ.ka()};H.r.prototype.fR=function(N,c,X,l,C){this.tb=C;
if(N.I=="doMouseDown"){if(this.tZ==null)return;this.fP(X,c,C,l,N.dT);return}if(!this.fw(X,C))return;
this.R=X.cK(N.e==null,N.e);this.kL(X);var q=this.tI,J=N.tQ!=null?N.tQ:4,Z=this.tZ.kV()[J],W=Z.x,s=Z.y;
if(N.I=="rot"&&N.q!=Math.PI&&(q.h+q.s&1)==1){W=Math.floor(W);s=Math.floor(s)}var t=new Bh;t.translate(-W,-s);
if(N.I=="rot")t.rotate(N.q);if(N.I=="scl")t.scale(N.q.x,N.q.y);t.translate(W,s);var T=this.tZ.ki();I.z.Kp(T,t,T);
this.tZ.kw(T);this.QN(X,c,N.mN,!1)};H.r.prototype.fi=function(){return!0};H.r.prototype.fw=function(N,c){if(N==null)return!1;
if(this.id==H.xS)return N.G!=null;var X=N.cK(!0);for(var l=0;l<X.length;l++){var C=N.R[X[l]];if(C.add.artb){alert("You can not ransform the whole artboard");
return!1}if(C.add.TySh)if(!_Z.J_(C.add.TySh,c.MQ))return!1;if(C.add.SoLd){if(X.length==1&&(C.im()&&C.im().XS||C.add.vmsk&&C.add.vmsk.XS)){alert("Unlink masks before transforming Smart Object");
return!1}if(!N._I$(C.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+N.Vq(C.add.SoLd.Idnt.v).Xi+")");
return!1}}}if(N.G==null)return!0;if(!N.Vm())return!1;return N.VX()};H.r.prototype.fP=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);
if(this.gP==1){var J=I.sv.Tk(I.sv.sU(this.tZ.ki(),this.tI));q=I.sv.sP(J,q)}var Z=this.gP==0?this.tZ:this.gh;
this.gZ=Z.fP(N,X,l,q);if(this.gZ&&Z.kj(q)){if(Date.now()-this.gR<250)this.QN(N,c,null,!0);this.gR=Date.now()}};
H.r.prototype.xw=function(N){var c=new Q(d.E.m,!0);c.data={I:d.L.jf,WE:this.cursor};N.C(c)};H.r.prototype.fh=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);
if(this.gP==1){var J=I.sv.Tk(I.sv.sU(this.tZ.ki(),this.tI));q=I.sv.sP(J,q)}var Z=this.gP==0?this.tZ:this.gh;
if(!C.tE){var W="default";if(Z&&Z.kJ(q,N.g.o))W=Z.kJ(q,N.g.o);if(W!=this.cursor){this.cursor=W;this.xw(c)}}if(!this.gZ)return;
Z.fh(N,X,l,q);this.kQ(N,X,!0);this.k$(N);this.kU(c)};H.r.prototype.fr=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);
this.tZ.fr(N,X,l,q);this.gZ=!1};H.r.prototype.ff=function(N,c,X,l){if(l.T(M.pK))this.QN(N,c,null,!0);
else if(l.T(M.pR))this.QY(N,c);else{var C=this.tZ.ff(N,X,l);if(C){this.kQ(N,X,!0);this.kU(c)}}};H.r.prototype.fk=function(N,c,X,l){if(N.ta=="commit")this.QN(X,c,null,!0);
else if(N.ta=="cancel")this.QY(X,c);else if(N.ta=="switchWarp"){this.gP=1-this.gP;this.kx();this.k$(X);
this.kU(c)}else if(N.ta=="wrp"){this.gh.kD(N.gf);this.k$(X);this.kQ(X,this.tb,!0)}else if(N.ta=="cen"){this.tZ.kl(N.gx);
this.k$(X);this.kQ(X,this.tb,!0)}else if(N.ta=="trn"){var C=I.sv.sZ(N.gQ),q=this.tI,J=I.sv.sU(this.tZ.ki(),this.tI);
C[6]=J[6],C[7]=J[7];var Z=[q.x,q.y,q.x+q.h,q.y,q.x+q.h,q.y+q.s,q.x,q.y+q.s];I.sv.apply(C,Z);this.tf=N.tf;
this.tZ.kw(Z);this.k$(X);this.kQ(X,this.tb,!0)}};H.r.prototype.k$=function(N){if(this.gP==0)this.tZ.kY(N);
else{this.gh.kY(N);var c=I.sv.sU(this.tZ.ki(),this.tI);I.sv.apply(c,N.v.tl.l);I.sv.apply(c,N.v.tN)}};
H.r.prototype.QN=function(N,c,X,l){this.kQ(N,this.tb,this.tf==0);var C=new _f(X?X:this.name,this);if(this.gL==0)C.data={type:this.gL,R:this.R,tu:this.gC,tp:H.r.kC(N,this.R)};
else if(this.gL==1){var q=N.R[this.R[0]],J;if(q.WO.X<=0){J=I.a(q.WO.GO.n());I.TR(q.WO.Wo,J,3)}else J=N.G.channel;
var Z={rect:q.WO.GO.clone(),channel:J};C.data={type:this.gL,e:this.R[0],WU:this.WU,tT:Z,dB:this.dB,ds:this.ds,WO:q.WO,tu:this.tu,tp:{Gj:q.WO.GO,qx:q.WO.Wo}}}else if(this.gL==2){C.data={type:this.gL,WU:this.WU,tT:{rect:N.G.rect.clone(),channel:I.clone(N.G.channel)}}}N.cB(C);
this.escape(N,c,l)};H.r.prototype.QY=function(N,c){if(this.gL==0)H.r.kZ(N,this.R,this.gC);else if(this.gL==1){var X=N.R[this.R[0]];
N.G=this.WU;if(!this.ds){X.WO.GO=this.tu.Gj;X.WO.Wo=this.tu.qx;X.ip(N,0,0,N.G)}else{X.ik(N,this.dB)}N._();
N.WD=!0}else if(this.gL==2){N.G=this.WU;N.WD=!0}this.escape(N,c,!0)};H.r.prototype.escape=function(N,c,X){this.tZ.clear(N);
this.tZ=null;this.gh=null;this.gP=0;if(X)this.xm(c,d.E.m,{I:d.L.jN})};H.r.prototype.fQ=function(N,c){if(N.type==0)H.r.kZ(c,N.R,N.tp);
else{if(N.type==1){var X=c.R[N.e];if(N.ds){X.WO=N.WO}else{X.WO.GO=N.tp.Gj;X.WO.Wo=N.tp.qx}X.ip(c,0,0,c.G);
c._()}c.G={rect:N.tT.rect.clone(),channel:I.clone(N.tT.channel)};c.WD=!0}};H.r.prototype.fA=function(N,c){if(N.type==0)H.r.kZ(c,N.R,N.tu);
else{if(N.type==1){var X=c.R[N.e];if(N.ds){X.ik(c,N.dB)}else{X.WO.GO=N.tu.Gj;X.WO.Wo=N.tu.qx;X.ip(c,0,0,c.G)}c._()}c.G=N.WU;
c.WD=!0}};H.r.prototype.enable=function(N,c,X,l){this.xw(c);if(this.tZ)return;this.R=N.cK(!0);this.tb=X;
this.kL(N);this.kU(c);this.k$(N)};H.r.prototype.kU=function(N){var c={I:d.L.jz,K:this.id};if(this.gP==0){var X=I.sv.sU(this.tZ.ki(),this.tI),l=I.sv.sC(X);
c.gQ={KR:l,gx:this.tZ.kc()}}else{c.gf=this.gh.kz()}c.gA=this.gh!=null;this.xm(N,d.E.m,c)};H.r.prototype.kL=function(N){var c=this.id==H.xS,X=!0,l=N.R[this.R[0]],q=!1,J=null;
if(c){this.gL=2;this.WU=N.G}else if(N.G&&this.R.length==1&&!l.rect.BH()){this.gL=1;this.WU=N.G;this.dB=l.WO;
this.ds=!1;if(!l.iu(N,N.G)){this.ds=!0;l.ix(N,N.G,!1)}this.tu={qx:l.WO.Wo,Gj:l.WO.GO}}else{this.gL=0;
this.gC=H.r.kC(N,this.R);for(var C=0;C<this.gC.length;C++)if(this.gC[C][3]!=null)X=!1}if(this.gC&&this.gC.length==1){var Z=this.gC[0];
if(Z[3]==null)q=!0;if(Z[4]!=null)J=N.R[this.R[0]].add.SoLd}var W=c?N.G.rect.clone():H.r.xG(N,this.R);
this.tI=W;if(!c&&J){var s=H.r.kS(J.nonAffineTransform);this.tI=I.z.sX(I.Uj.UH(J.warp.v));this.gh=new Bj(J.warp.v);
this.gr=I.sv.sU(s,this.tI);this.tZ=new Bw(s,!0,!0,X)}else{if(q||c)this.gh=new Bj(I.Uj.a(this.tI));this.gr=[1,0,0,0,1,0,0,0];
this.tZ=new Bw([W.x,W.y,W.x+W.h,W.y,W.x+W.h,W.y+W.s,W.x,W.y+W.s],!0,!0,X)}this.gS=[1,0,0,0,1,0,0,0]};
H.r.xG=function(N,c){if(c==null)c=N.cK(!0);var X=new u;if(N.G&&c.length==1)X=N.G.rect.clone();else for(var l=0;
l<c.length;l++)X=X.vz(N.R[c[l]].iN(N,c.length==1));return X};H.r.prototype.xm=function(N,c,X,l){var C=new Q(c,!0);
C.data=X;if(l)C.K=l;N.C(C)};H.r.kC=function(N,c,X){var l=[];for(var C=0;C<c.length;C++){var q=N.R[c[C]],J=q.iD(N,X),Z=[];
if(J.indexOf(0)!=-1){var W={Ml:I.clone(q.buffer),Gj:q.rect.clone()};Z.push(W);if(q.iF()){var s=q.iM(N);
W.gk=I.clone(s.buffer);W.gu=s.rect.clone()}}else Z.push(null);if(J.indexOf(1)!=-1)Z.push(q.im().clone());
else Z.push(null);if(J.indexOf(2)!=-1)Z.push({gK:q.add.vmsk.clone(),cF:q.add.vstk?JSON.parse(JSON.stringify(q.add.vstk)):null});
else Z.push(null);if(q.add.TySh&&Z[0])Z.push(q.add.TySh.Kp.clone());else Z.push(null);if(q.add.SoLd&&Z[0])Z.push(JSON.parse(JSON.stringify(q.add.SoLd)));
else Z.push(null);if(J.indexOf(3)!=-1)Z.push(q.iM(N).b.clone());else Z.push(null);l.push(Z)}return l};
H.r.kZ=function(N,c,X){for(var l=0;l<c.length;l++){var C=N.R[c[l]],q=X[l];if(q[0]){C.rect=q[0].Gj.clone();
C.buffer=I.clone(q[0].Ml);if(C.iF()){var J=C.iM(N);J.buffer=I.clone(q[0].gk);J.rect=q[0].gu.clone()}}if(q[1]){C.im().channel=I.clone(q[1].channel);
C.im().rect=q[1].rect.clone();C.im().Xe=!0}if(q[2]){C.add.vmsk=q[2].gK.clone();if(q[2].cF)C.add.vstk=JSON.parse(JSON.stringify(q[2].cF))}if(q[3]){C.add.TySh.Kp=q[3].clone()}if(q[4]){C.add.SoLd=JSON.parse(JSON.stringify(q[4]))}if(q[5]){var Z=C.iM(N).b;
Z.channel=I.clone(q[5].channel);Z.rect=q[5].rect.clone()}C.ih(N);C._()}N._()};H.r.Cm=function(N){var c=N.clone(),X=Math.atan2(-c.w,c.u),l=new Bh;
l.rotate(-X);c.concat(l);return(Math.abs(c.u)+Math.abs(c.Mm))/2};H.r.kR=function(N,c,X,l,C,q,J,Z){var W=I.sv.sC(q),s=H.r.Cm(W);
for(var t=0;t<X.length;t++){var T=N.R[X[t]],g=l[t];if(T.add.lmfx&&Z)_$._Pe(T.add.lmfx,s);if(g[0]&&!g[3]&&!g[4]&&!g[5]){var R=H.r.kh([g[0].Ml,g[0].Gj],C,q,J,C?T.buffer.buffer:null);
if(R){T.rect=R.rect;T.buffer=R.buffer}}if(g[1])H.r.kr(N,g[1],T.im(),C,q,J);if(g[2]){var P=g[2].gK.clone(),O=X.length==1&&P.Q.length!=0;
if(J&&!I.Uj.Uo(J)){var b=I.Uj.UH(J);I.sv.apply(q,b);I.D.__W(P.p,b)}else I.D._IQ(P.p,q,O?P.Q:null);if(T.add.vstk)T.add.vstk.strokeStyleLineWidth.v.val=g[2].cF.strokeStyleLineWidth.v.val*s;
P.XO*=s;T.add.vmsk=P}if(g[3]){var z=g[3].clone();z.concat(W);T.add.TySh.Kp=z;var m=new _R(T.add.TySh.Xk,c.MQ),f=_Z.ld(m,T.add.TySh);
T.rect=f.rect;T.buffer=f.Ml}if(g[4]){var B=T.add.SoLd,K=H.r.kS(g[4].nonAffineTransform);I.sv.apply(q,K);
var j=I.z.Kt(K);if(Bw.kH(K)){if(J){var S=I.z.sX(I.Uj.UH(g[4].warp.v)),r=I.sv.sU(K,S),n=I.z.sX(I.Uj.UH(J));
K=[n.x,n.y,n.x+n.h,n.y,n.x+n.h,n.y+n.s,n.x,n.y+n.s];I.sv.apply(r,K);B.warp.v=J}var o=I.sv.sU(K),y=K;
if(!I.sv.sL(o)){o[6]=o[7]=0;y=[0,0,1,0,1,1,0,1];I.sv.apply(o,y)}B.Trnf=H.r.kf(y);B.nonAffineTransform=H.r.kf(K);
T.iS(N,C)}}if(g[5])H.r.kr(N,g[5],T.iM(N).b,C,q,J);if(C==!1)T.I_();T.ih(N);T._()}N._()};H.r.kP=function(N,c,X,l){if(X==null)X=!1;
return H.r.kh(N,X,I.sv.sZ(c),null,l)};H.r.kh=function(N,c,X,l,C){var q={},s=0;if(l&&!I.Uj.Uo(l)){var J=I.Uj.UH(l);
I.sv.apply(X,J);q.rect=I.z.Kt(J);q.buffer=I.a(q.rect.n()*4);I.P.drawImage(J,N[0],N[1].h,N[1].s,q.buffer,q.rect,c);
return q}I.Ti(N);var Z=N[0],W=N[1];while(s+3<N.length&&I.sv.sL(X)&&H.r.Cm(I.sv.sC(X))<.4){s+=2;var t=N[s],T=N[s+1];
X=I.sv.sr(X,[W.h/T.h,0,-T.x,0,W.s/T.s,-T.y,0,0]);W=T;Z=t}var g=I.sv.sr(X,I.sv.sZ(new Bh(W.h,0,0,W.s,W.x,W.y))),R=[0,0,1,0,1,1,0,1];
I.sv.apply(g,R);q.rect=I.z.Kt(R);if(!Bw.kH(R)||q.rect.h>3e4||q.rect.s>3e4)return null;var P=q.rect.n()*4;
if(C&&C.byteLength>=P&&P>=C.byteLength>>2){q.buffer=new Uint8Array(C)}else{q.buffer=I.a(P)}I.sv.drawImage(g,Z,W.h,W.s,q.buffer,q.rect,c);
if(q.buffer)return q};H.r.kr=function(N,c,X,l,C,q){if(c.color==255)I.Tk(c.channel);var J=c.rect,Z=I.a(J.n()*4);
I.TP(c.channel,Z,3);var W=H.r.kh([Z,J],l,C,q);if(W){X.rect=W.rect;X.channel=I.a(W.rect.n());I.TR(W.buffer,X.channel,3);
X.Xe=!0}if(c.color==255){I.Tk(c.channel);if(W)I.Tk(X.channel)}};H.r.kS=function(N){var c=[],X=N.v.length;
for(var l=0;l<X;l++)c.push(N.v[l].v);return c};H.r.kf=function(N){var c={t:"VlLs",v:[]},X=N.length;for(var l=0;
l<X;l++)c.v.push({t:"doub",v:N[l]});return c};H.r.prototype.kx=function(){var N=I.z.sX(I.Uj.UH(this.gh.kz())),c=I.sv.sU(this.tZ.ki(),this.tI),X=[N.x,N.y,N.x+N.h,N.y,N.x+N.h,N.y+N.s,N.x,N.y+N.s];
I.sv.apply(c,X);this.tZ.kw(X);this.tI=N};H.r.prototype.kQ=function(N,c,X){var l=I.sv.sU(this.tZ.ki(),this.tI),Z=1e-10;
l=I.sv.sr(l,I.sv.Tk(this.gr));var C=I.sv.sC(l),q=this.gS,J=I.sv.sC(q);this.gS=l;var W=Math.abs,s=Math.round,t=l[2]-q[2],T=l[5]-q[5],g=W(l[0]-q[0])<Z&&W(l[1]-q[1])<Z&&W(l[3]-q[3])<Z&&W(l[4]-q[4])<Z&&W(l[6]-q[6])<Z&&W(l[7]-q[7])<Z&&W(t-s(t))<Z&&W(T-s(T))<Z,R=this.gL==0&&this.R.length==1&&this.gC[0][2]&&this.gC[0][2].gK.Q.length!=0;
if(g&&this.gL==0&&X==!0&&this.gP==0&&!R){H.QG.As(N,this.R,H.QG.Av(N,this.R),Math.round(-J.MD+C.MD),Math.round(-J.MM+C.MM));
return}var P=this.gh?this.gh.kz():null;if(this.gL==0){H.r.kR(N,c,this.R,this.gC,X,l,P)}else if(this.gL==1){var O=N.R[this.R[0]],b=this.tu.Gj;
if(O.X<=0){var z=H.r.kh([this.tu.qx,b],X,l,P);O.WO.Wo=z.buffer;O.WO.GO=z.rect;var m=I.a(z.rect.n());
I.TR(O.WO.Wo,m,3);N.G={channel:m,rect:O.WO.GO.clone()}}else{var f=I.a(b.n()*4);I.TP(this.tu.qx,f,3);
var z=H.r.kh([f,b],X,l,P);O.WO.Wo=I.a(z.rect.n());I.TR(z.buffer,O.WO.Wo,3);O.WO.GO=z.rect;this.kA(N,X,l,P)}O.ip(N,0,0,N.G);
if(X==!1)O.I_();N.WD=!0;N._()}else if(this.gL==2)this.kA(N,X,l,P)};H.r.prototype.kA=function(N,c,X,l){var C=this.WU.rect,q=I.a(C.n()*4);
I.TP(this.WU.channel,q,3);var J=H.r.kh([q,C],c,X,l),Z=I.a(J.rect.n());I.TR(J.buffer,Z,3);N.G={channel:Z,rect:J.rect};
N.WD=!0};H.r.prototype.disable=function(N,c,X,l){if(this.tZ)this.QN(N,c,null,!0)};H.kk=function(){H.r.call(this,[10,16],H.xr,"tools/transform")};
H.kk.prototype=new H.r;H.ku=function(){H.r.call(this,[7,10],H.xS,"tools/transform")};H.ku.prototype=new H.r;
H.kp=function(){H.xa.call(this,[10,37],H.fN,"tools/qselect");this.WZ="qselect"};H.kp.prototype=new H.xa;
H.kp.prototype.fP=function(N,c,X,l,C){this.xl(N,X,l,C,1);if(this.WB==null)return;this.xF(N)};H.kp.prototype.fh=function(N,c,X,l,C){if(this.WB==null)return;
this.xJ(N,c,X);if(!C.tE)return;this.xy(N,X,l,C);this.xF(N)};function Bw(N,c,X,l,C,q){this.gp=null;this.dw=N?N.slice(0):null;
this.ga=4;this.Wb=null;this.gw=null;this.gV=null;this.gc=-1;this.gJ=[];for(var J=0;J<8;J++)this.gJ.push(d.js(BC._i(0,PIMG.rotate,-.5,-.5,-45-J*45)));
this.gy=c;this.gj=X;this.go=l;this.gO=C;this.gF=q}Bw.prototype.ka=function(){return this.gc!=-1};Bw.prototype.ki=function(){return this.dw.slice(0)};
Bw.prototype.kw=function(N){this.dw=N};Bw.prototype.kV=function(){return this.kN(this.dw)};Bw.prototype.kc=function(N){if(N==null)N=this.dw;
if(this.ga==9)return this.Wb;else return this.kN(N)[this.ga]};Bw.prototype.kl=function(N){if(this.ga==9)this.Wb=N.clone();
else{var c=this.kc(),X=new Bh(1,0,0,1,N.x-c.x,N.y-c.y);I.z.Kp(this.dw,X,this.dw)}};Bw.prototype.kJ=function(N,c,X){var l=this.ko(N,c),C;
if(l==9)return"default";if(l==10&&X)return null;if(l==10&&!this.gy)return"move";if(l==-1||l==4)return null;
if(l==11){var q=this.kc().Co(N);C=90-Math.atan2(q.y,q.x)*180/Math.PI;var J=Math.round(8*(C/360));J=(J+8)%8;
return this.gJ[J]}else{var Z=this.ky(N,this.dw);C=[135,90,45,180,0,0,225,270,315][l];var W=I.sv.sU(this.dw);
C+=Math.atan2(-W[3],W[0])*180/Math.PI;var s="ew nesw ns nwse ew nesw ns nwse".split(" "),J=Math.round(8*(C/360));
J=(J+8)%8;return s[J]+"-resize"}};Bw.prototype.ky=function(N,c){var X=I.sv.Tk(I.sv.sU(c)),l=new Float64Array(2);
I.sv.sR(N.x,N.y,X,l);return new k(l[0],l[1])};Bw.prototype.kj=function(N){var c=this.ky(N,this.dw);return 0<=c.x&&c.x<=1&&0<=c.y&&c.y<=1};
Bw.prototype.fP=function(N,c,X,l,C){var q=N.g.o;if(this.dw==null)l=H.QG.AU(N,l,c);this.gV=l.clone();
if(this.dw==null){this.gV.offset(1,1);var J=C==null?1:1/C;this.dw=[l.x,l.y,l.x+1,l.y,l.x+1,l.y+J,l.x,l.y+J];
this.gp=this.dw.slice(0);this.gc=8;this.kY(N);return!0}this.gp=this.dw.slice(0);var Z=this.ko(l,q);if(0<=Z&&Z<=8)this.gV=this.kN(this.dw)[Z];
this.gc=Z;this.kY(N);this.gw=this.kc();return Z!=-1};Bw.prototype.ko=function(N,c){var X=-1,l=this.kN(),C=6*d.V()/c;
if(X==-1)if(k.CO(this.kc(),N)<C)X=9;if(X==-1)for(var q=0;q<l.length;q++)if(q!=4&&k.CO(l[q],N)<C)X=q;
if(X==-1){if(this.kj(N)){if(this.gy)X=10}else{var J=this.ky(N,this.dw),Z=new u(0,0,1,1);Z.PY(.2,.2);
X=Z.PH(J)?11:10}}return X};Bw.prototype.fh=function(N,c,X,l){if(this.gc==-1)return;var C=N.g.o,q=this.gV,J=this.gc,Z=this.kN(),W=H.QG.AU(N,q,c),s=H.QG.AU(N,l,c),t,T;
if(J==9){var Z=this.kN(),g=-1;for(var R=0;R<Z.length;R++)if(k.CO(Z[R],s)*C<10)g=R;this.ga=g==-1?9:g;
this.Wb=s.clone()}else if(J==10){T=I.z.sX(this.gp);var P=T.x,O=T.y;T.offset(l.x-q.x,l.y-q.y);if(this.kF()){T.x=Math.round(T.x);
T.y=Math.round(T.y)}t=H.QG.AL(N,T,c);var b=new Bh(1,0,0,1,T.x-P+t[0],T.y-O+t[1]);I.z.Kp(this.gp,b,this.dw)}else if(J==11){var z=this.kc(this.gp),m=z.Co(l),f=z.Co(q),B=Math.atan2(m.y,m.x),K=Math.atan2(f.y,f.x),b=new Bh(1,0,0,1,-z.x,-z.y),j=Math.PI/12;
if(X.T(M.pU))b.rotate(Math.round((K-B)/j)*j);else b.rotate(K-B);b.translate(z.x,z.y);I.z.Kp(this.gp,b,this.dw)}else{var S,r=this.gp;
if(this.go&&(J==0||J==2||J==6||J==8)&&X.T(M.pC)){S=r.slice(0);var R=[0,0,2,0,0,0,6,0,4,0][J],n=-1,o=s.x,y=s.y;
if(X.T(M.pU)){var D=R+6&7,x=R+10&7,A=Bw.kO(r[R],r[R+1],r[D],r[D+1],s.x,s.y),e=Bw.kO(r[R],r[R+1],r[x],r[x+1],s.x,s.y),U=A[2]<e[2]?A:e;
o=U[0];y=U[1];if(X.T(M.pZ))n=A[2]<e[2]?D:x}else if(X.T(M.pZ))n=R+4&7;if(n!=-1){var L=r[n],Y=r[n+1],E=(r[R]+L)/2,i=(r[R+1]+Y)/2;
S[n]=E-(o-E);S[n+1]=i-(y-i)}S[R]=o;S[R+1]=y}else{S=this.dw.slice(0);if(this.kF()){s.x=Math.round(s.x);
s.y=Math.round(s.y)}var a=[0,1,2,5,8,7,6,3],V=a[(a.indexOf(J)+4)%8],G=[];for(var R=0;R<3;R++)for(var n=0;
n<3;n++)G.push(new k(n/2,R/2));var z=this.gw,$=this.ky(s,r),p=this.ky(q,r),w=X.T(M.pZ)?this.ky(z,r):G[V],BX=new Bh,Bn=new Bh,Be=($.x-w.x)/(p.x-w.x);
if(Be==0)Be=1e-4;var BW=($.y-w.y)/(p.y-w.y);if(BW==0)BW=1e-4;if(this.gO){Be=Math.max(Be,0);BW=Math.max(BW,0)}if(J==0||J==2||J==6||J==8){if(X.T(M.pU)||this.gF)BX.scale(Be,Be);
else BX.scale(Be,BW)}if(J==1||J==3||J==5||J==7){var Bt=this.gF;if(J==1||J==7)BX.scale(Bt?BW:1,BW);else BX.scale(Be,Bt?Be:1);
if(this.gj&&X.T(M.pC)){if(J==1||J==7)Bn.Mz=($.x-w.x)/($.y-w.y);else Bn.w=($.y-w.y)/($.x-w.x)}}S=[0,0,1,0,1,1,0,1];
var Bq=new Bh;Bq.translate(-w.x,-w.y);Bq.concat(BX);Bq.concat(Bn);Bq.translate(w.x,w.y);I.z.Kp(S,Bq,S);
var U=I.sv.sU(r);I.sv.apply(U,S)}if(Bw.kH(S))this.dw=S}this.kY(N);if(t)H.QG.A$(N,T,t)};Bw.kO=function(N,c,X,l,C,q){var J=X-N,Z=l-c,W=C-N,s=q-c,t=J*J+Z*Z,T=W*J+s*Z,g=T/t,R=N+g*J,P=c+g*Z,O=C-R,b=q-P;
return[R,P,Math.sqrt(O*O+b*b)]};Bw.prototype.kF=function(){var N=this.dw;return Math.abs(N[1]-N[3])<1e-6&&Math.abs(N[2]-N[4])<1e-6||Math.abs(N[0]-N[2])<1e-6&&Math.abs(N[3]-N[5])<1e-6};
Bw.kH=function(N){return I.z.KN(N)||I.z.KN([N[6],N[7],N[4],N[5],N[2],N[3],N[0],N[1]])};Bw.prototype.fr=function(N,c,X,l){this.gc=-1;
N.v.ts=null;N.tv=!0};Bw.prototype.ff=function(N,c,X){var l=X.pE();if(l.x||l.y){var C=new Bh(1,0,0,1,l.x,l.y);
I.z.Kp(this.dw,C,this.dw);this.kY(N);return!0}return!1};Bw.prototype.kN=function(N){if(N==null)N=this.dw;
var c=N[6]-N[0],X=N[7]-N[1],l=N[4]-N[2],C=N[5]-N[3],q=[N[0],N[1],N[2],N[3],N[0]+c/2,N[1]+X/2,N[2]+l/2,N[3]+C/2,N[6],N[7],N[4],N[5]],J=[];
for(var Z=0;Z<3;Z++){var W=Z*4,s=q[W+0],t=q[W+1],T=q[W+2],g=q[W+3];J.push(new k(s,t));J.push(new k(s+(T-s)/2,t+(g-t)/2));
J.push(new k(T,g))}return J};Bw.prototype.kY=function(N,c){if(c==null)c=!1;var X=this.kN();N.v.tl={Gv:[],l:[]};
N.v.tl.Gv.push("M","L","L","L","L");N.v.tl.l.push(X[0].x,X[0].y,X[2].x,X[2].y,X[8].x,X[8].y,X[6].x,X[6].y,X[0].x,X[0].y);
if(!c){N.v.tN=[];for(var l=0;l<X.length;l++)if(l!=4)N.v.tN.push(X[l].x,X[l].y);var C=this.kc();N.v.tN.push(C.x,C.y)}N.tv=!0};
Bw.prototype.clear=function(N){N.v.ts=null;N.v.tl=null;N.v.tN=[];N.tv=!0};function Bj(N,c){this.Uj=null;
this.gc=-1;this.kD(N)}Bj.prototype.kz=function(){return JSON.parse(JSON.stringify(this.Uj))};Bj.prototype.kD=function(N){this.Uj=JSON.parse(JSON.stringify(N))};
Bj.prototype.kj=function(N){return!0};Bj.prototype.kJ=function(N,c){var X=this.ko(N,c);if(X==-1)return"default";
return"pointer"};Bj.prototype.fP=function(N,c,X,l){this.gc=this.ko(l,N.g.o);return this.gc!=-1};Bj.prototype.ko=function(N,c){var X=-1,l=20*d.V(),C=this.km();
for(var q=0;q<C.length;q++)if(k.CO(C[q],N)*c<l)X=q;return X};Bj.prototype.fh=function(N,c,X,l){if(this.gc==-1)return;
var C=N.g.o,q=this.gc,J=I.Uj.UH(this.Uj);J[q*2]=l.x;J[q*2+1]=l.y;I.Uj.UF(J,this.Uj)};Bj.prototype.fr=function(N,c,X,l){this.gc=-1;
N.tv=!0};Bj.prototype.ff=function(N,c,X){var l=X.pE();if(l.x||l.y){var C=new Bh(1,0,0,1,l.x,l.y);I.z.Kp(this.dw,C,this.dw);
this.kY(N)}};Bj.prototype.km=function(N){var c=I.Uj.UH(this.Uj),X=[];for(var l=0;l<c.length;l+=2)X.push(new k(c[l],c[l+1]));
return X};Bj.prototype.kY=function(N){var c=this.km();N.v.tl={Gv:[],l:[]};N.v.tl.Gv.push("M","C","C","C","C");
var X=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var l=0;l<X.length;l++)N.v.tl.l.push(c[X[l]].x,c[X[l]].y);
N.v.tl.Gv.push("M","L","L","M","L","L","M","L","L","M","L","L");X=[4,0,1,2,3,7,11,15,14,13,12,8];for(var l=0;
l<X.length;l++)N.v.tl.l.push(c[X[l]].x,c[X[l]].y);N.v.tN=[];for(var l=0;l<c.length;l++)N.v.tN.push(c[l].x,c[l].y);
N.tv=!0};Bj.prototype.clear=function(N){N.v.tl=null;N.v.tN=[];N.tv=!0};var BL={};BL.kM=function(N){this.id=N};
BL.kM.prototype.fR=function(N,c,X,l,C){};BL.kM.prototype.fQ=function(N,c){};BL.kM.prototype.fA=function(N,c){};
BL.History=function(){BL.kM.call(this,H.xQ);this.gH=!0;this.gN=0};BL.History.prototype=new BL.kM;BL.History.prototype.fR=function(N,c,X,l){if(N.I=="h_itemchange"){if(N.index<X.dI)for(var C=X.dI;
C>N.index;C--)this.kG(X);if(N.index>X.dI)for(var C=X.dI;C<N.index;C++)this.kb(X)}if(N.I=="h_stepfwd")this.kb(X);
if(N.I=="h_stepbck")this.kG(X);if(N.I=="h_undoredo"){var q=this.gH||this.gN!=X.dI;if(q){this.kG(X);q=!1}else{this.kb(X);
q=!0}this.gH=q;this.gN=X.dI}else this.gH=!0};BL.History.prototype.kG=function(N){if(N.dI==0)return;var c=N.history[N.dI];
c.K.fA(c.data,N);N.dI--};BL.History.prototype.kb=function(N){if(N.dI==N.history.length-1)return;var c=N.history[N.dI+1];
c.K.fQ(c.data,N);N.dI++};BL.kX=function(){BL.kM.call(this,H.xA)};BL.kX.prototype=new BL.kM;BL.kX.prototype.fR=function(N,c,X,l,C){var q=N.I;
if(q==v.V$&&X.G==null)q=v.w$;if(q==v.wV){var J=X.R[N.e],Z=new _f([6,33],this),W=J.iv()?["pass"].concat(__.aq):__.aq;
Z.data={I:q,e:N.e,mb:J.bg,gY:W[N.gY]};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wc){var J=X.R[N.e],s=X.cs(),Z;
if(s&&s.data&&s.data.I==q&&s.data.e==N.e)Z=s;else{Z=new _f([6,32],this);Z.data={I:q,e:N.e,mb:J.opacity,gY:N.gY};
X.cB(Z)}Z.data.gY=N.gY;this.fQ(Z.data,X)}if(q==v.wl){var J=X.R[N.e],T=0;if(J.add.lspf==null)J.add.lspf=0;
var t=J.add.lspf;if(N.gD)T=t|1<<N.gz;else if((t>>>N.gz&1)!=0)T=t-(1<<N.gz);var Z=new _f("Lock Change",this,!0);
Z.data={I:q,e:N.e,mb:t,gY:T};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wy){var J=X.R[N.e],g="----",R=N.gM,T=null;
for(var P=0;P<_S.yp.yJ.length;P++)if(J.add[_S.yp.yJ[P]])g=_S.yp.yJ[P];var O=J.add[g];if(R=="TySh")T=_W.Jr(50,50,C.qr);
var Z=new _f("Layer Type",this);Z.data={I:q,e:N.e,gG:[g,O],gM:[R,T]};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wJ){var J=X.R[N.e],Z;
if(J.add.iOpa==null)J.add.iOpa=255;var s=X.cs();if(s&&s.data&&s.data.I==q&&s.data.e==N.e)Z=s;else{Z=new _f("Fill Opacity Change",this);
Z.data={I:q,e:N.e,mb:J.add.iOpa,gY:N.gY};X.cB(Z)}Z.data.gY=N.gY;this.fQ(Z.data,X)}if(q==v.wj){var b=[];
if(l.T(M.pZ)){var z=X.cs(),m=z?z.data:null;if(z!=null&&z.K==this&&m.I==v.wj&&m.dz.length!=1){var f=new Q(d.E.A);
f.K=H.xQ;f.data={I:"h_stepbck"};c.C(f);if(m.e==N.e)return}var B=X.root.VC(N.e),K=X.cK(null,N.e);while(B.parent!=X.root){K.push(B.parent.index);
B=B.parent}for(var P=0;P<X.R.length;P++){var j=X.R[P],S=j.iw(),r=K.indexOf(P)!=-1;if(!r&&S)b.push(P);
if(P==N.e&&!S)b.push(P)}}else b.push(N.e);var Z=new _f("Layer visibility",this,!0);Z.data={I:q,dz:b,e:N.e};
X.cB(Z);this.fQ(Z.data,X)}if(q==v.wO){var escape=!1;if(l.T(M.pC)){var n=X.Q.indexOf(N.e);if(n==-1)X.Q.push(N.e);
else if(X.Q.length>1)X.Q.splice(n,1);X.Q.sort(function(Z,K_){return Z-K_})}else if(l.T(M.pU)&&N.gb>0){q=N.gb==1?v.wf:N.gb==2?v.wx:v.wQ;
escape=!0}else if(l.T(M.pU)&&X.Q.length>0){var o=Math.min(N.e,X.Q[0]),y=Math.max(N.e,X.Q[X.Q.length-1]);
X.Q=[];for(var P=o;P<=y;P++)X.Q.push(P)}else{X.Q=[N.e]}if(!escape){if(X.Q.length==1){var D=X.Q[0];for(var P=0;
P<X.R.length;P++){if(P==D)continue;var x=X.R[P];x.X=0;x.gB=!1}var J=X.R[D];if(N.gb==2)J.gB=!J.gB;else J.X=N.gb<=0?0:N.gb}else for(var P=0;
P<X.R.length;P++){var x=X.R[P];x.X=0;x.gB=!1}X.tm=!0}}if(q==v.wf||q==v.wQ){var A=N.e!=null?N.e:X.Q[0],J=X.R[A],e=q==v.wf,U=e?J.im():J.iM(X).b;
if(U==null)return;var Z=new _f(U.isEnabled?e?[6,15]:[6,42]:e?[6,14]:[6,41],this);Z.data={I:q,e:A};X.cB(Z);
this.fQ(Z.data,X)}if(q==v.wx){var A=N.e!=null?N.e:X.Q[0],J=X.R[A],U=J.add.vmsk;if(U==null)return;var Z=new _f(U.isEnabled?[6,17]:[6,16],this);
Z.data={I:q,e:A};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wF){var J=X.R[N.e];if(J.add.lsct==_I.iW)J.add.lsct=_I.it;
else J.add.lsct=_I.iW;X.tm=!0}if(q==v.wD){var A=N.e?N.e:X.Q[0];if(!X.VJ(A))return;var J=X.R[A],Z=new _f(J.Xy?[6,19]:[6,18],this);
Z.data={I:q,e:A};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wH){var J=X.R[N.e];if(J.ic())J.Xj-=32;else J.Xj+=32;
X.tm=!0}if(q==v.wN||q==v.wd){var J=X.R[N.e],Z;if(q==v.wN)Z=new _f(J.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(q==v.wd)Z=new _f(J.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);Z.data={I:q,e:N.e};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wY||q==v.wg){var D=N.index,J=X.R[N.e],Z;
if(q==v.wY)Z=new _f(J.add.lmfx[F.cf[D[0]]].v[D[1]].v.enab.v?[6,30]:[6,29],this);if(q==v.wg)Z=new _f(J.add.SoLd.filterFX.v.filterFXList.v[D].v.enab.v?[6,44]:[6,43],this);
Z.data={I:q,e:N.e,index:N.index};X.cB(Z);this.fQ(Z.data,X)}if(q==v.VI||q==v.VB){var L=q==v.VI;if(L&&N.src==N.gX)return;
var J=X.R[N.e],Y=JSON.parse(JSON.stringify(J.add.SoLd.filterFX.v)),E=JSON.parse(JSON.stringify(Y)),i=E.filterFXList.v;
if(L){i.splice(N.gX,0,i[N.src]);i.splice(N.src+(N.src<N.gX?0:1),1)}else i.splice(N.KO,1);var Z=new _f(L?[6,52]:[6,53],this);
Z.data={I:v.Vs,e:N.e,gn:Y,ge:E};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wa){var J=X.R[N.e],U=J.im(),Z=new _f(U.XS?[6,26]:[6,25],this);
Z.data={I:q,e:N.e};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wi){var J=X.R[N.e],U=J.add.vmsk,Z=new _f(U.XS?[6,28]:[6,27],this);
Z.data={I:q,e:N.e};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wW){var Z=new _f(N.mN,this);Z.data={I:v.wW,qP:X.R.slice(0),qh:N.qh,gW:X.Q.slice(0),gt:N.tT};
X.cB(Z);this.fQ(Z.data,X)}if(q==v.wU){var a=X.cK(null,N.e),G=1e10;if(X.R.length==a.length){alert("Project must have at least 1 layer");
return}var V=[];for(var P=0;P<X.R.length;P++)if(a.indexOf(P)==-1)V.push(X.R[P]);for(var P=0;P<a.length;
P++)G=Math.min(G,a[P]);G=Math.max(G-1,0);while(V[G].name=="</Layer group>")G++;var Z=new _f([6,31],this);
Z.data={I:v.wW,qP:X.R.slice(0),qh:V,gW:X.Q.slice(0),gt:[G]};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wL){var K=X.Q,$=0,BX=!1;
if(K.length==1&&X.R[K[0]].XG==0){alert("Select multiple layers");return}var p=[];for(var P=0;P<X.R.length;
P++){var w=X.R[P].XG;p.push(w);$=Math.max($,w)}var Bn=-1,Be=-1;for(var P=0;P<K.length;P++){var w=X.R[K[P]].XG;
if(w==0)BX=!0;else if(Bn==-1||Bn==w)Bn=w;else Be=w}if(!BX)for(var P=0;P<K.length;P++)X.R[K[P]].XG=0;
else if(Be==-1)for(var P=0;P<K.length;P++)X.R[K[P]].XG=Bn;else for(var P=0;P<K.length;P++)X.R[K[P]].XG=$+1;
var BW=[];for(var P=0;P<X.R.length;P++){var w=X.R[P].XG;if(BW[w]==null)BW[w]=0;BW[w]++}for(var P=0;P<X.R.length;
P++){var w=X.R[P].XG;if(BW[w]==1)X.R[P].XG=0}var Bt=p;p=[];for(var P=0;P<X.R.length;P++){var w=X.R[P].XG;
p.push(w);$=Math.max($,w)}var Z=new _f(BX?"Link Layers":"Unlink Layers",this);Z.data={I:v.wL,gq:Bt,gd:p};
X.cB(Z);this.fQ(Z.data,X)}if(q==v.w$){var Bq=X.cv(N.e);q=v.wz;N.R=Bq;N.gg=X;N.Fw=X}if(q==v.wz){var Bd,Bg,sE=N.gg,s_=N.Fw;
if(sE!=s_){var Bd=new u(0,0,sE.h,sE.s),Bg=new u(0,0,s_.h,s_.s),sT=[],sI=[];for(var P=0;P<N.R.length;
P++){var x=N.R[P];if(x.add.SoLd==null)continue;var sB=x.add.SoLd.Idnt.v;if(sT.indexOf(sB)==-1){sT.push(sB);
sI.push(_s.VO()+sB.slice(8))}x.add.SoLd.Idnt.v=sI[sT.indexOf(sB)]}if(sT.length>0){if(s_.add.lnk2==null)s_.add.lnk2=[];
for(var P=0;P<sT.length;P++){var ss=sE.Vq(sT[P]),sK=ss.clone();sK.Ga=sI[P];s_.add.lnk2.push(sK)}}}var sv=s_.Q.slice(0);
sv.sort(function(Z,K_){return Z-K_});var V=s_.R.slice(0),s$=[],sU=-1;for(var P=0;P<sv.length;P++)sU=Math.max(sU,sv[P]);
sU++;for(var P=0;P<N.R.length;P++){var j=N.R[P];V.splice(sU,0,j);s$.push(sU);sU++}var Z=new _f([6,0],this);
Z.data={I:v.wW,qP:s_.R.slice(0),qh:V,gW:sv,gt:s$};s_.cB(Z);this.fQ(Z.data,s_)}if(q==v.wP){var sL=X.cK(),V=X.R.slice(0);
for(var P=0;P<sL.length;P++){var j=X.R[sL[P]].clone();j.ib(X);V.splice(sL[P],1,j)}var Z=new _f([6,8],this);
Z.data={I:v.wW,qP:X.R.slice(0),qh:V,gW:X.Q.slice(0),gt:X.Q.slice(0)};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wh){var sL=X.cK(),V=X.R.slice(0),sC=new _s("hi");
for(var P=0;P<sL.length;P++){var sZ=X.R[sL[P]],sR=sZ.iw();sZ.io(!0);var sP=X.root.VC(sL[P]);if(sZ.iv())continue;
if(sP==null)continue;var j=sZ.clone();j.ib(X);var sh=sP.xG(X,!0);j.rect.offset(-sh.x,-sh.y);if(j.b)j.b.rect.offset(-sh.x,-sh.y);
sC.h=sh.h;sC.s=sh.s;sC.cL([j]);sC._();sC.cE();j.buffer=I.a(sh.n()*4);I.Tx(sC.VN(),j.buffer);j.rect=sh;
j._();j.k.rI=!0;if(j.add.lmfx)delete j.add.lmfx;j.b=j.XF=null;V.splice(sL[P],1,j);j.io(sR);sZ.io(sR)}var Z=new _f([6,34],this);
Z.data={I:v.wW,qP:X.R.slice(0),qh:V,gW:X.Q.slice(0),gt:X.Q.slice(0)};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wq){var sL=X.cK(),V=X.R.slice(0);
for(var P=0;P<sL.length;P++){var j=X.R[sL[P]],sr=j.add.TySh;if(sr==null)continue;var x=new _R(sr.Xk,C.MQ),sS=I.z._sv(_Z.lg(x,sr));
for(var sf in sS){var sx=sS[sf];sx=I.z.Kd(sx);var sQ=j.clone();delete sQ.add.TySh;sQ.Xj=sQ.Xj|1<<4;sQ.add.SoCo=JSON.parse(JSON.stringify(F.cz[0]));
var sA=sQ.add.SoCo.Clr.v;sA.Rd.v=parseInt(sf.slice(1,3),16);sA.Grn.v=parseInt(sf.slice(3,5),16);sA.Bl.v=parseInt(sf.slice(5,7),16);
var sk=new v.wI;sk.p=I.z._Ua(sx);if(sQ.add.vmsk!=null){sQ.add.vmsk._KK();sk.concat(sQ.add.vmsk)}sQ.add.vmsk=sk;
sQ.add.vstk=JSON.parse(JSON.stringify(F.cF.default));sQ.add.vstk.strokeEnabled.v=!1;sQ.ih(X);V.splice(V.indexOf(j),0,sQ)}V.splice(V.indexOf(j),1)}var Z=new _f([6,40],this);
Z.data={I:v.wW,qP:X.R.slice(0),qh:V,gW:X.Q.slice(0),gt:X.Q.slice(0)};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wC){var sv=X.Q.slice(0),su=X.R.slice(0),sL=X.cK();
X.Vo(sL);var Z=new _f([6,36,0],this);Z.data={I:v.wW,qP:su,qh:X.R.slice(),gW:sv,gt:X.Q.slice(0)};X.cB(Z);
this.fQ(Z.data,X)}if(q==v.wZ){var ss=N.tG.Vq(N.id),sK=ss.clone();sK.raw=N.data;sK.XV="8BIM";sK.Xw="8BPB";
sK.Xi=sK.Xi+".psd";var Z=new _f([6,36,1],this);Z.data={I:v.wZ,id:N.id,NG:ss,YY:sK};N.tG.cB(Z);this.fQ(Z.data,N.tG)}if(q==v.wR){var sp,sa;
if(N.B$){sp=N.tG;sa=N.B$}else{N.tG.cC();N.tG.cU();N.tG._();N.tG.cE();N.tG.VN();sp=BC.PSD._c(N.tG,0,0,[!0,!0]);
sa=N.tG.name}sp=new Uint8Array(sp);var n=N.q$!=null?N.q$:X.Q[X.Q.length-1]+1,si=X.VH(sp,sa,0,0),V=X.R.slice(0);
V.splice(n,0,si);var Z=new _f([6,36,2],this);Z.data={I:v.wW,qP:X.R.slice(),qh:V,gW:X.Q.slice(0),gt:[V.indexOf(si)]};
X.cB(Z);this.fQ(Z.data,X)}if(q==v.wr||q==v.wS){var sv=X.Q.slice(0);if(q==v.wr)X.Q=[X.Q[0],X.Q[0]-1];
var sL=X.cK(),su=X.R.slice(0);X.Vo(sL,l.T(M.pZ));var si=X.R[X.Q[0]],sw=X.Vq(si.add.SoLd.Idnt.v);X.add.lnk2.splice(X.add.lnk2.indexOf(sw),1);
delete si.add.SoLd;var Z=new _f([6,12],this);Z.data={I:v.wW,qP:su,qh:X.R.slice(),gW:sv,gt:X.Q.slice(0)};
X.cB(Z);this.fQ(Z.data,X)}if(q==v.wm||q==v.wG||q==v.Vv||q==v.wb||q==v.V$){var j=X.c_(),sV=BT.get([0,3]);
if(q==v.wG)sV=BT.get(BP.names[N.bx]);if(q==v.Vv)sV=BT.get(N.yi==null?[12,76,1]:[6,48,0,N.yi]);j.ii(sV+" "+X.R.length);
if(q==v.V$){var sZ=X.R[X.Q[0]],sc=sZ.iQ(X,X.G);if(sc==null){alert("Copied area is empty");return}j.rect=sc.rect,j.buffer=sc.qx}if(q==v.wb){j.rect=N.tc.rect.clone();
if(!new u(0,0,X.h,X.s).PN(j.rect)){j.rect.x=Math.floor((X.h-j.rect.h)/2);j.rect.y=Math.floor((X.s-j.rect.s)/2)}j.buffer=I.clone(N.tc.buffer)}if(q==v.wG){j.Xj|=16;
BP.ac(N.bx,j.add);var sl=j.b=new v.ig;if(X.G!=null){sl.color=0;sl.channel=I.clone(X.G.channel);sl.rect=X.G.rect.clone()}}if(q==v.Vv){j.Xj|=16;
if(N.mm==0)j.b=new v.ig;else{j.add.vmsk=new v.wI;j.add.vstk=JSON.parse(JSON.stringify(F.cF.default));
j.add.vstk.strokeEnabled.v=!1}var sJ;if(N.yi!=null){sJ=["SoCo","GdFl","PtFl"][N.yi];j.add[sJ]=JSON.parse(JSON.stringify(F.cz[N.yi]))}else{var sy=C.dY;
j.add.vstk=JSON.parse(JSON.stringify(C.dN));sJ=["none","SoCo","GdFl","PtFl"][sy.Xw];H.Ab.AW(j,sy);if(sy.Xw==0)j.add.SoCo=JSON.parse(JSON.stringify(F.cz[0]))}if(sJ=="PtFl")X.VF(_$.cg(j.add[sJ].Ptrn.v,C.LP));
j.ih(X)}var sj=X.Q[X.Q.length-1],so=sj+1;if(X.R[sj].add.lsct==_I.iW)so--;var V=X.R.slice(0);V.splice(so,0,j);
var sO=[5,2];if(q==v.wm)sO=[6,13];if(q==v.wG)sO=[6,1];if(q==v.Vv)sO=[6,48,1];if(q==v.V$)sO=[6,49];var Z=new _f(sO,this);
Z.data={I:v.wW,qP:X.R.slice(0),qh:V,gW:X.Q.slice(0),gt:[so]};X.cB(Z);this.fQ(Z.data,X);if(q==v.Vv&&N.mm==0||q==v.wG){var sF=new Q(d.E.m);
sF.data={I:d.L.jc,mO:"properties"};c.C(sF)}}if(q==v.wM){var j=X.c_();j.ii(BT.get([0,4])+" "+X.R.length);
j.bg="pass";j.add.lsct=_I.iW;j.Xj=24;var sH=X.cT(),sj=X.Q[X.Q.length-1],so=sj+1,V=X.R.slice(0);V.splice(so,0,sH,j);
var Z=new _f([6,20],this);Z.data={I:v.wW,qP:X.R.slice(0),qh:V,gW:X.Q.slice(0),gt:[so+1]};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wX){var sN=l.T(M.pZ),sY;
if(X.Q.indexOf(N.source)!=-1)sY=X.cK();else sY=X.c$(N.source);if(sY.indexOf(N.target)!=-1)return;sY.sort(function(Z,K_){return Z-K_});
var sz=X.R[N.target],V=[];if(sN)V=X.R.slice(0);else for(var P=0;P<X.R.length;P++)if(sY.indexOf(P)==-1)V.push(X.R[P]);
var sD=V.indexOf(sz),sm=[];for(var P=0;P<sY.length;P++){var sM=sD+(N.m_?0:1)+P,x=X.R[sY[P]];if(sN)x=x.clone();
V.splice(sM,0,x);sm.push(sM)}var Z=new _f(sN?[6,0]:[6,35],this);Z.data={I:v.wW,qP:X.R.slice(0),qh:V,gW:X.Q.slice(0),gt:sm};
X.cB(Z);this.fQ(Z.data,X)}if(q==v.wn){var j=X.c_();j.ii(BT.get([0,4])+" "+X.R.length);j.bg="pass";j.add.lsct=_I.iW;
j.Xj=24;var sH=X.cT(),sY=X.cK();sY.sort(function(Z,K_){return Z-K_});var V=[];for(var P=0;P<X.R.length;
P++)if(sY.indexOf(P)==-1)V.push(X.R[P]);var sj=X.Q[X.Q.length-1]-sY.length;V.splice(sj+1,0,sH);for(var P=0;
P<sY.length;P++)V.splice(sj+2+P,0,X.R[sY[P]]);V.splice(sj+2+sY.length,0,j);var Z=new _f([6,9],this);
Z.data={I:v.wW,qP:X.R.slice(0),qh:V,gW:X.Q.slice(0),gt:[V.indexOf(j)]};X.cB(Z);this.fQ(Z.data,X)}if(q==v.ww){if(X.Q.length!=1)return;
var n=X.Q[0];if(X.R[n].im()==null)q=v.wu;else q=v.wp}if(q==v.wu){if(X.Q.length!=1)return;var n=X.Q[0];
if(X.R[n].im()==null){var Z=new _f([6,21],this),sl=new v.ig;if(N.mM||l.T(M.pZ))sl.color=0;if(X.G!=null){sl.color=0;
sl.channel=I.clone(X.G.channel);sl.rect=X.G.rect.clone()}Z.data={I:q,e:n,b:sl};X.cB(Z);this.fQ(Z.data,X)}}if(q==v.wA){if(X.Q.length!=1)return;
var n=X.Q[0];if(X.R[n].im()!=null){var Z=new _f([6,22],this);Z.data={I:q,e:n,b:X.R[n].im()};X.cB(Z);
this.fQ(Z.data,X)}}if(q==v.VE){if(X.Q.length!=1)return;var n=X.Q[0];if(X.R[n].iM(X).b==null){var Z=new _f([6,45],this);
Z.data={I:q,e:n,b:new v.ig};X.cB(Z);this.fQ(Z.data,X)}}if(q==v.V_){if(X.Q.length!=1)return;var n=X.Q[0];
if(X.R[n].iM(X).b!=null){var Z=new _f([6,46],this);Z.data={I:q,e:n,b:X.R[n].iM(X).b};X.cB(Z);this.fQ(Z.data,X)}}if(q==v.VT){if(N.e==null&&X.Q.length!=1)return;
var n=N.e!=null?N.e:X.Q[0];if(X.R[n].iF()){var Z=new _f([6,47],this);Z.data={I:q,e:n,_Ev:X.R[n].add.SoLd.filterFX,Uh:X.R[n].iM(X)};
X.cB(Z);this.fQ(Z.data,X)}}if(q==v.wp){if(X.Q.length!=1)return;var n=X.Q[0],j=X.R[n];if(X.R[n].add.vmsk==null){var Z=new _f([6,23],this),sl=new v.wI;
sl.p[1].all=N.mM?1:0;Z.data={I:q,e:n,b:sl};X.cB(Z);if(j.i$()){j.add.vstk=JSON.parse(JSON.stringify(F.cF.default));
j.add.vstk.strokeEnabled.v=!1}this.fQ(Z.data,X)}}if(q==v.wk){if(X.Q.length!=1)return;var n=X.Q[0],sG=X.R[n].add.vmsk;
if(sG!=null){var Z=new _f([6,24],this);Z.data={I:q,e:n,b:sG};X.cB(Z);this.fQ(Z.data,X)}}if(q==v.we){var sb=X.R[N.e].getName(),sX=N.name.substring(0,255);
if(sb==sX)return;var Z=new _f([6,37],this);Z.data={I:q,e:N.e,_EU:sb,YW:sX};X.cB(Z);this.fQ(Z.data,X)}if(q==v.wt){var sn=X.cK(),se=[],sW=[];
for(var P=0;P<sn.length;P++){se.push(X.R[sn[P]].add.lclr);sW.push(N._EC)}var Z=new _f([6,38],this);Z.data={I:q,R:sn,_EZ:se,_ER:sW};
X.cB(Z);this.fQ(Z.data,X)}if(q==v.VU){var Z=X.history[X.dI];if(Z!=null&&Z.K==this&&Z.data.I==q&&Z.data.e==N.Px&&Z.data.gY.aI==N.xx.aI)Z.data.gY=N.xx;
else{Z=new _f("Mask Density / Feather",this);Z.data={I:q,e:N.Px,Bv:X.R[N.Px].iX(N.xx.aI),gY:N.xx};X.cB(Z)}this.fQ(Z.data,X)}if(q==v.VK){var st=JSON.stringify(N.q),sq=JSON.parse(st),Z=X.history[X.dI];
if(Z!=null&&Z.K==this&&Z.data.I==q&&Z.data.yi==N.yi&&Z.data.dD==N.dD&&Z.data.dz.join(",")==N.dz.join(","))for(var P=0;
P<N.dz.length;P++)Z.data.II[P]=sq;else{Z=new _f("Edit Style",this);Z.data={I:q,dz:N.dz,dD:N.dD,YN:[],II:[]};
var sd=!1;for(var P=0;P<N.dz.length;P++){var A=N.dz[P],j=X.R[A],sg=N.dD?H.Ab.Ae(X,A):JSON.parse(JSON.stringify(j.add.vstk));
Z.data.YN.push(sg);Z.data.II.push(sq);if(JSON.stringify(sg)!=st)sd=!0}if(!sd)return;X.cB(Z)}if(N.dD&&sq.Xw==3)X.VF(_$.cg(sq.aY.Ptrn.v,C.LP));
if(!N.dD){var KE=sq.strokeStyleContent.v;if(KE.classID==F.cF.cY[2])X.VF(_$.cg(KE.Ptrn.v,C.LP))}this.fQ(Z.data,X)}};
BL.kX.kn=function(N,c){for(var X=0;X<N.R.length;X++){var l=N.R[X];if(l.add.SoLd==null||l.add.SoLd.Idnt.v!=c)continue;
l.iS(N)}N._()};BL.kX._IP=function(N,c,X){c.color=255-c.color;I.Tk(c.channel);c.Xe=!0;N.ih(X);X._()};
BL.kX.prototype.fA=function(N,c){var X=N.I,l=c.R[N.e];if(X==v.wZ){c.add.lnk2.splice(c.add.lnk2.indexOf(N.YY),1,N.NG);
BL.kX.kn(c,N.id)}if(X==v.wV){l.bg=N.mb;c._()}if(X==v.wc){l.opacity=N.mb;c._()}if(X==v.wl){l.add.lspf=N.mb}if(X==v.wy){var C=N.gM,q=N.gG;
delete l.add[C[0]];if(q[0]!="----")l.add[q[0]]=q[1]}if(X==v.wJ){l.add.iOpa=N.mb;c._()}if(X==v.wj){for(var J=0;
J<N.dz.length;J++){var Z=c.R[N.dz[J]];Z.io(!Z.iw())}c._()}if(X==v.wf){var W=l.im();W.isEnabled=!W.isEnabled;
l.ih(c);c._()}if(X==v.wQ){var W=l.iM(c).b;W.isEnabled=!W.isEnabled;l._();c._()}if(X==v.wx){var W=l.add.vmsk;
W.isEnabled=!W.isEnabled;if(!W.isEnabled){if(l.XF){l.b=l.XF;l.XF=null}else l.b=null}else if(l.b){l.XF=l.b;
l.b=null}l.ih(c);c._()}if(X==v.wD){l.Xy=!l.Xy;c._()}if(X==v.wN){l.add.lmfx.masterFXSwitch.v=!l.add.lmfx.masterFXSwitch.v;
l.k.rI=!0;c._()}if(X==v.wd){l.add.SoLd.filterFX.v.enab.v=!l.add.SoLd.filterFX.v.enab.v;l.if(c);c._()}if(X==v.wY){var s=N.index,t=l.add.lmfx[F.cf[s[0]]].v[s[1]].v;
t.enab.v=!t.enab.v;l.k.rI=!0;c._()}if(X==v.wg){var T=l.add.SoLd.filterFX.v.filterFXList.v[N.index].v;
T.enab.v=!T.enab.v;l.if(c);c._()}if(X==v.Vs){l.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(N.gn));
l.if(c);c._()}if(X==v.wa){var W=l.im();W.XS=!W.XS}if(X==v.wi){var W=l.add.vmsk;W.XS=!W.XS}if(X==v.wL){var g=N.gq;
for(var J=0;J<g.length;J++)c.R[J].XG=g[J]}if(X==v.wW){if(N.gW)c.Q=N.gW;c._();c.cL(N.qP)}if(X==v.wu){if(l.XF)l.XF=null;
else l.b=null;l.ih(c);c._();l.X=0}if(X==v.wA){if(l.b)l.XF=N.b;else l.b=N.b;l.ih(c);c._()}if(X==v.VE){l.iM(c).b=null;
l._();c._()}if(X==v.V_){l.iM(c).b=N.b;l._();c._()}if(X==v.VT){l.add.SoLd.filterFX=N._Ev;c.VV(N.Uh);l.iS(c)}if(X==v.wp){delete l.add.vmsk;
if(l.XF)l.b=l.XF;else l.b=null;l.XF=null;l.ih(c);c._();l.X=0}if(X==v.wk){l.add.vmsk=N.b;if(l.b&&l.add.vmsk.isEnabled)l.XF=l.b;
l.ih(c);c._()}if(X==v.we){l.ii(N._EU)}if(X==v.wt){for(var J=0;J<N.R.length;J++)c.R[N.R[J]].add.lclr=N._EZ[J]}if(X==v.VK){var R=N.YN;
for(var J=0;J<N.dz.length;J++){var Z=c.R[N.dz[J]],P=R[J];if(!N.dD)Z.add.vstk=JSON.parse(JSON.stringify(P));
else H.Ab.AW(Z,JSON.parse(JSON.stringify(P)));Z.ir(c)}c._()}if(X==v.VU){l.in(N.Bv);l.ih(c);c._()}c.tm=!0};
BL.kX.prototype.fQ=function(N,c){var X=N.I,l=c.R[N.e];if(X==v.wZ){c.add.lnk2.splice(c.add.lnk2.indexOf(N.NG),1,N.YY);
BL.kX.kn(c,N.id)}if(X==v.wV){l.bg=N.gY;c._()}if(X==v.wc){l.opacity=N.gY;c._()}if(X==v.wl){l.add.lspf=N.gY}if(X==v.wy){var C=N.gG,q=N.gM;
delete l.add[C[0]];if(q[0]!="----")l.add[q[0]]=q[1]}if(X==v.wJ){l.add.iOpa=N.gY;c._()}if(X==v.wj){for(var J=0;
J<N.dz.length;J++){var Z=c.R[N.dz[J]];Z.io(!Z.iw())}c._()}if(X==v.wf){var W=l.im();W.isEnabled=!W.isEnabled;
l.ih(c);c._()}if(X==v.wQ){var W=l.iM(c).b;W.isEnabled=!W.isEnabled;l._();c._()}if(X==v.wx){var W=l.add.vmsk;
W.isEnabled=!W.isEnabled;if(!W.isEnabled){if(l.XF){l.b=l.XF;l.XF=null}else l.b=null}else if(l.b){l.XF=l.b;
l.b=null}l.ih(c);c._()}if(X==v.wD){l.Xy=!l.Xy;c._()}if(X==v.wN){l.add.lmfx.masterFXSwitch.v=!l.add.lmfx.masterFXSwitch.v;
l.k.rI=!0;c._()}if(X==v.wd){l.add.SoLd.filterFX.v.enab.v=!l.add.SoLd.filterFX.v.enab.v;l.if(c);c._()}if(X==v.wY){var s=N.index,t=l.add.lmfx[F.cf[s[0]]].v[s[1]].v;
t.enab.v=!t.enab.v;l.k.rI=!0;c._()}if(X==v.wg){var T=l.add.SoLd.filterFX.v.filterFXList.v[N.index].v;
T.enab.v=!T.enab.v;l.if(c);c._()}if(X==v.Vs){l.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(N.ge));
l.if(c);c._()}if(X==v.wa){var W=l.im();W.XS=!W.XS}if(X==v.wi){var W=l.add.vmsk;W.XS=!W.XS}if(X==v.wL){var g=N.gd;
for(var J=0;J<g.length;J++)c.R[J].XG=g[J]}if(X==v.wW){if(N.gt)c.Q=N.gt;c._();c.cL(N.qh)}if(X==v.wu){if(l.b)l.XF=N.b;
else l.b=N.b;l.ih(c);c._()}if(X==v.wA){if(l.XF)l.XF=null;else l.b=null;l.ih(c);l.X=0;c._()}if(X==v.VE){l.iM(c).b=N.b;
l.X=0;l._();c._()}if(X==v.V_){l.iM(c).b=null;l.X=0;l._();c._()}if(X==v.VT){delete l.add.SoLd.filterFX;
l.X=0;c.Vc(N.Uh);l.iS(c)}if(X==v.wp){if(l.i$()&&l.add.vstk==null){l.add.vstk=JSON.parse(JSON.stringify(F.cF.default));
l.add.vstk.strokeEnabled.v=!1}l.add.vmsk=N.b;if(l.b)l.XF=l.b;l.ih(c);c._()}if(X==v.wk){if(l.XF&&N.b.isEnabled){l.b=l.XF;
l.XF=null}else if(l.b&&N.b.isEnabled){l.b=null}delete l.add.vmsk;l.ih(c);l.gB=!1;c._()}if(X==v.we){l.ii(N.YW)}if(X==v.wt){for(var J=0;
J<N.R.length;J++)c.R[N.R[J]].add.lclr=N._ER[J]}if(X==v.VK){var R=N.II;for(var J=0;J<N.dz.length;J++){var Z=c.R[N.dz[J]],P=R[J];
if(!N.dD)Z.add.vstk=JSON.parse(JSON.stringify(P));else H.Ab.AW(Z,JSON.parse(JSON.stringify(P)));Z.ir(c)}c._()}if(X==v.VU){l.in(N.gY);
l.ih(c);c._()}c.tm=!0};BL.kW=function(){BL.kM.call(this,H.xk);this.LZ=null;this.hf=null;this.Uy=null;
this.P_=null};BL.kW.prototype=new BL.kM;BL.kW.prototype.fR=function(N,c,X,l,C){var q=X.R[N.e],J=N.MB,W=null;
if(this.LZ==null){this.Uy=BL.kW.kt(X,q);this.LZ=JSON.stringify(this.Uy);if(q.add.lmfx)this.hf=JSON.stringify(q.add.lmfx)}if(q.add.lmfx==null){q.add.lmfx=JSON.parse(F.default);
for(var Z=0;Z<F.order.length;Z++)q.add.lmfx[F.cf[Z]]={t:"VlLs",v:[]}}if(N.I=="changeprop"){if(J!=0){var s=JSON.parse(F.cw[J[0]]),t=q.add.lmfx[F.cf[J[0]]].v;
if(t[J[1]]==null)t[J[1]]={t:"Objc",v:s};W=t[J[1]].v;for(var T in s)if(W[T]==null)W[T]=s[T]}if(N.I=="changeprop"){if(J==0){this.Uy[N.yi].v=N.q;
BL.kW.kq(X,q,this.Uy)}else if(N.yi=="lagl"){if(W.uglg&&W.uglg.v){X.Ve(N.q.val);this.Uy.Hv=X.Vn()}else W[N.yi].v=N.q}else if(N.yi=="Lald"){if(W.uglg.v){X.Vt(N.q.val);
this.Uy.Ts=X.VW()}else W[N.yi].v=N.q}else if((J[0]==3||J[0]==8)&&(N.yi=="Clr"||N.yi=="Grad")){if(N.yi=="Clr"){W.Clr={t:"Objc",v:N.q};
delete W.Grad}if(N.yi=="Grad"){W.Grad={t:"Objc",v:N.q};delete W.Clr}}else{W[N.yi].v=N.q}}if(J!=0)if(W.Ptrn)X.VF(_$.cg(W.Ptrn.v,C.LP))}else if(N.I=="st_dupsingle"){var g=q.add.lmfx[F.cf[N.KO[0]]].v;
if(g[N.KO[1]]==null)return;var R=JSON.parse(JSON.stringify(g[N.KO[1]]));g.splice(N.KO[1],0,R)}else if(N.I=="cancel"){if(this.hf==null)delete q.add.lmfx;
else q.add.lmfx=JSON.parse(this.hf);BL.kW.kq(X,q,JSON.parse(this.LZ));this.LZ=null;this.hf=null}else if(N.I=="confirm"){var P=new _f([11,6],this);
P.data={e:N.e,RW:this.hf,RG:JSON.stringify(q.add.lmfx),_q:this.LZ,lf:JSON.stringify(this.Uy)};X.cB(P);
this.LZ=null;this.hf=null}else if(N.I=="st_copy"){this.P_=this.hf;this.LZ=null;this.hf=null}else{var P=new _f([11,6],this),O=null;
if(N.I=="st_clear")O=null;if(N.I=="st_delsingle"){O=JSON.parse(this.hf);O[F.cf[N.KO[0]]].v.splice(N.KO[1],1);
O=JSON.stringify(O)}if(N.I=="st_paste"){if(this.P_==null)return;O=this.P_}if(O==null)delete q.add.lmfx;
else q.add.lmfx=JSON.parse(O);P.data={e:N.e,RW:this.hf,RG:O,_q:this.LZ,lf:JSON.stringify(this.Uy)};X.cB(P);
this.LZ=null;this.hf=null}q.k.rI=!0;X._()};BL.kW.kt=function(N,c){if(c.add.iOpa==null)c.add.iOpa=255;
var X=c.iv()?["pass"].concat(__.aq):__.aq;return{lrMd:{v:X.indexOf(c.bg)},Opct:{v:{type:"#Prc",val:Math.round(c.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(c.add.iOpa*100/255)},t:"UntF"},Hv:N.Vn(),Ts:N.VW(),iv:c.iv()}};
BL.kW.kq=function(N,c,X){var l=c.iv()?["pass"].concat(__.aq):__.aq;c.bg=l[X.lrMd.v];c.opacity=Math.round(X.Opct.v.val*255/100);
c.add.iOpa=Math.round(X.iOpa.v.val*255/100);N.Ve(X.Hv);N.Vt(X.Ts)};BL.kW.prototype.fA=function(N,c){var X=c.R[N.e];
if(N.RW==null)delete X.add.lmfx;else X.add.lmfx=JSON.parse(N.RW);BL.kW.kq(c,X,JSON.parse(N._q));X.k.rI=!0;
c._()};BL.kW.prototype.fQ=function(N,c){var X=c.R[N.e];if(N.RG==null)delete X.add.lmfx;else X.add.lmfx=JSON.parse(N.RG);
BL.kW.kq(c,X,JSON.parse(N.lf));X.k.rI=!0;c._()};BL.kd=function(){BL.kM.call(this,H.xp)};BL.kd.prototype=new BL.kM;
BL.kd.prototype.fR=function(N,c,X,l){var C=JSON.parse(JSON.stringify(X.XX)),q=JSON.parse(JSON.stringify(X.XX)),J=null,Z=null,W=null,s=-1,t=!1;
if(N.I=="delLC"){var T=BL.kd.u_(X.XX,N.MB),g=X.XX.lastAppliedComp?X.XX.lastAppliedComp.v:0;q.list.v.splice(T,1);
if(g==N.MB)delete q.lastAppliedComp;J="Delete Layer Comp"}if(N.I=="editLC"){var T=BL.kd.u_(X.XX,N.MB),R=q.list.v[T].v;
if(N.YW!=null)R.Nm.v=N.YW;if(N.H$!=null){var P=N.H$,O=R.capturedInfo.v,b=O&(1<<P)-1;O=O>>P;if((O&1)==1)O--;
else O++;R.capturedInfo.v=(O<<P)+b}J="Layer Comp properties"}if(N.I=="setLC"){BL.kd.kg(X);if(N.MB==0)delete q.lastAppliedComp;
else q.lastAppliedComp={t:"long",v:N.MB};J="Switch Layer Comp";t=!0}if(N.I=="updLC"){BL.kd.kg(X);Z=BL.kd.uK(X,N.MB);
W=BL.kd.uv(X,N.MB);q.lastAppliedComp={t:"long",v:N.MB};J="Update Layer Comp";s=N.MB;t=!0}if(N.I=="addLC"){BL.kd.kg(X);
var z=1;for(var m=0;m<q.list.v.length;m++)z=Math.max(z,q.list.v[m].v.compID.v)+1;z+=Math.floor(Math.random()*1e4);
var f={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(q.list.v.length+1)},compID:{t:"long",v:z},capturedInfo:{t:"long",v:7}}};
q.list.v.push(f);q.lastAppliedComp={t:"long",v:z};J="New Layer Comp";var B=BL.kd.uv(X,z);BL.kd.uL(X,B,z)}var K=new _f(J,this);
K.data={_EJ:C,_Ey:q,_W:Z,lu:W,MB:s,Aa:t};this.fQ(K.data,X);X.cB(K)};BL.kd.prototype.fQ=function(N,c){c.XX=N._Ey;
c.gs=!0;if(N.lu)BL.kd.uL(c,N.lu,N.MB);if(N.Aa){var X=c.XX.lastAppliedComp?c.XX.lastAppliedComp.v:0,l=BL.kd.u_(c.XX,X),C=l==-1?null:c.XX.list.v[l].v,q=C?C.capturedInfo.v:7;
BL.kd.us(c,X,q);c._()}};BL.kd.prototype.fA=function(N,c){c.XX=N._EJ;c.gs=!0;if(N._W)BL.kd.uL(c,N._W,N.MB);
if(N.Aa){var X=c.XX.lastAppliedComp?c.XX.lastAppliedComp.v:0,l=BL.kd.u_(c.XX,X),C=l==-1?null:c.XX.list.v[l].v,q=C?C.capturedInfo.v:7;
BL.kd.us(c,X,q);c._()}};BL.kd.kg=function(N){if(N.XX.lastAppliedComp!=null||!N.KH)return;var c=BL.kd.uv(N,0);
BL.kd.uL(N,c,0);N.KH=!1};BL.kd.uE=function(N,c,X){N.v.Hrzn.v+=c;N.v.Vrtc.v+=X};BL.kd.u_=function(N,c){var X=N.list.v;
for(var l=0;l<X.length;l++)if(X[l].v.compID.v==c)return l;return-1};BL.kd.uT=function(N){var c=N.layerSettings.v,C=null;
if(c.length==0)return;var X="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),l=c[0].v;
if(l.enab==null)l.enab={t:"bool",v:!0};if(l.Ofst==null)l.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var q=0;q<c.length;q++){var J=c[q].v;if(C==null)C=JSON.parse(JSON.stringify(J));else for(var Z=0;
Z<X.length;Z++){var W=X[Z];if(J[W])C[W]=JSON.parse(JSON.stringify(J[W]))}c[q].v=JSON.parse(JSON.stringify(C))}};
BL.kd.uI=function(N,c){var X=N.add.shmd.cmls,l=X.layerSettings.v;for(var C=0;C<l.length;C++){var q=l[C].v,J=q.compList.v[0].v;
if(J==c)return C}return-1};BL.kd.uB=function(N,c){var X=BL.kd.uI(N,c);return X==-1?null:N.add.shmd.cmls.layerSettings.v[X].v};
BL.kd.us=function(N,c,X){for(var l=0;l<N.R.length;l++){var C=N.R[l],q=C.add.shmd.cmls,J=q.layerSettings.v,Z=BL.kd.uB(C,c);
if(Z==null){C.io(!1);continue}if((X&1)!=0){if(Z.enab)C.io(Z.enab.v);else C.io(!0)}if((X&2)!=0){if(Z.Ofst){var W=Z.Ofst.v,s=C.iN(N),t=Math.round(W.Hrzn.v-s.x),T=Math.round(W.Vrtc.v-s.y);
if(t!=0||T!=0)H.QG.As(N,[l],null,t,T)}}if((X&4)!=0){if(Z.Lefx){var g=JSON.parse(JSON.stringify(Z.Lefx.v));
BK.Z_(g);if(JSON.stringify(g)!=JSON.stringify(C.add.lmfx)){C.add.lmfx=g;C.k.rI=!0}}else delete C.add.lmfx;
if(Z.blendOptions){var R=Z.blendOptions.v;if(R.Opct)C.opacity=Math.round(255*R.Opct.v.val/100);if(R.Md)C.bg=C.add.lsct==_I.iq?"norm":__.i_(R.Md.v.BlnM)}else{C.opacity=255;
C.bg=C.iv()?"pass":"norm"}}}};BL.kd.uK=function(N,c){var X={};for(var l=0;l<N.R.length;l++){var C=N.R[l];
if(C.add.shmd==null||C.add.shmd.cmls==null)continue;X["l"+C.add.lyid]=JSON.parse(JSON.stringify(BL.kd.uB(C,c)))}return X};
BL.kd.uv=function(N,c){var X={};for(var l=0;l<N.R.length;l++){var C=N.R[l],q=C.add.lyid;X["l"+q]=BL.kd.u$(N,C,c)}return X};
BL.kd.u$=function(N,c,X){var l=c.add.shmd?c.add.shmd.cmls:null,C={classID:"null"},q=c.iN(N),J={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:q.x},Vrtc:{t:"long",v:q.y}}};
C.compList={t:"VlLs",v:[{t:"long",v:X}]};C.enab={t:"bool",v:c.iw()};C.Ofst=JSON.parse(JSON.stringify(J));
C.FXRefPoint=JSON.parse(JSON.stringify(l&&l.origFXRefPoint?l.origFXRefPoint:J));C.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:__._Ta(c.bg)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*c.opacity/255}}}};
if(c.add.vmsk){C.vectorMask={t:"Objc",v:{classID:"null"}};C.vectorMask.v.Ofst=JSON.parse(JSON.stringify(J))}if(c.add.lmfx){C.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(c.add.lmfx))};
BK.ZT(C.Lefx.v)}return C};BL.kd.uU=function(N,c){var X=c.add.lyid;if(c.add.shmd==null)c.add.shmd={};
if(c.add.shmd.cmls==null){c.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:X},layerSettings:{t:"VlLs",v:[{t:"Objc",v:BL.kd.u$(N,c,0)}]}}}};
BL.kd.uL=function(N,c,X){for(var l=0;l<N.R.length;l++){var C=N.R[l],q=C.add.lyid;BL.kd.uU(N,C);var J=C.add.shmd.cmls,Z=J.layerSettings.v,W=c["l"+q];
if(W!=null)W={t:"Objc",v:JSON.parse(JSON.stringify(W))};var s=BL.kd.uI(C,X);if(s==-1){if(W==null)continue;
else Z.push(W)}else{if(W==null)Z.splice(s,1);else Z[s]=W}}};BL.kd.uC=function(N,c){for(var X=0;X<N.R.length;
X++){var l=N.R[X],C=l.add.lyid;if(l.add.shmd==null||l.add.shmd.cmls==null)continue;var q=l.iN(N),J=Math.round(q.x),Z=Math.round(q.y);
if(!c){J=-J;Z=-Z}var W=l.add.shmd.cmls,s=W.layerSettings.v;if(W.origFXRefPoint)BL.kd.uE(W.origFXRefPoint,-J,-Z);
for(var t=0;t<s.length;t++){var T=s[t].v;BL.kd.uE(T.Ofst,J,Z);if(T.imageMask)BL.kd.uE(T.imageMask.v.Ofst,J,Z);
if(T.vectorMask)BL.kd.uE(T.vectorMask.v.Ofst,J,Z)}}};BL.uZ=function(){BL.kM.call(this,H.xf);this.tp=null};
BL.uZ.prototype=new BL.kM;BL.uZ.uR=function(N,c,X,l){if(l)c/=4;var C=0,q=0,J=255,Z=0,W=0,s=255;while(q+N[C]<c){q+=N[C];
C++}while(Z+N[J]<c){Z+=N[J];J--}if(l){C-=Math.round(N[C]/(X/32));J+=Math.round(N[J]/(X/32));if(C<0)W=Math.round(-C*255/(J-C));
if(J>255)s=255-Math.round((J-255)*255/(J-C))}return[Math.max(C,0),Math.min(J,255),W,s,100]};BL.uZ.prototype.fR=function(N,c,X,l,C){var q=N.I;
if(q=="auto"){var J=N.mD,Z=BL.uZ.getData(X);for(var W=0;W<Z.length;W++){var s=Z[W],t=s.Xp.n(),T,g=I.TW(s.W$),R=.001*t;
if(J==0||J==2)T=[[0,255,0,255,100],BL.uZ.uR(g[1],R,t,J==2),BL.uZ.uR(g[2],R,t,J==2),BL.uZ.uR(g[3],R,t,J==2)];
if(J==1)T=[BL.uZ.uR(g[0],R*.33,t,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var P=BP.au("levl",T);
BP.ap(P,s.W$,s._t)}BL.uZ.uf(X,Z);BL.uZ.uS(X,Z,"Auto "+["Tone","Contrast","Color"][J],this);X._()}if(q=="edit_layer")this.uP(N,c,X,l);
if(q=="edit"||q=="confirm"||q=="cancel")this.uh(N,X,C);if(q=="start"){var O=X.R[X.Q[0]];if(O.add.SoLd&&O.X<=0){var b=new Q(d.E.A,!0);
b.K=H.xu;b.data={I:"start",filter:N._$};c.C(b);return}if(!X.VM())return;if(Ts[N._$]){if(X.Q.length!=1)alert("Will be applied to "+X.Q.length+" layers.");
var b=new Q(d.E.m,!0);b.data={I:d.L.jl,mO:"adjust_"+N._$};c.C(b)}else{this.uh({I:"edit",L_:1,bx:N._$},X,C);
this.uh({I:"confirm",bx:N._$},X,C)}}};BL.uZ.prototype.uP=function(N,c,X,l){var C=N.I,q=X.Q[0],J=X.R[q],Z=X.history[X.dI],W;
if(Z&&Z.K==this&&Z.data.Bv!=null&&Z.data.e==q)W=Z;else{var W=new _f([6,39],this);W.data={e:q,Bv:BP.ao(J.add),gY:N.q};
X.cB(W)}W.data.gY=N.q;this.fQ(W.data,X)};BL.uZ.getData=function(N,c){var X=[],l=new u(0,0,N.h,N.s);for(var C=0;
C<N.Q.length;C++){var q=N.R[N.Q[C]],J={e:N.Q[C],WV:q.X};X.push(J);var Z=q.X<=0?null:q.X==1?q.im():q.iM(N).b,W=Z?Z.rect:q.rect;
if(N.G)J.Xp=Z!=null?N.G.rect.vm(l):N.G.rect.vm(W);else J.Xp=c||Z!=null?W.vz(l):W.clone();var s=J.Xp.n();
J.W$=I.a(s*4);J._t=I.a(s*4);if(Z){H.xa.xY(Z.channel,Z.rect,Z.color,J.W$,J.Xp);H.xa.xY(Z.channel,Z.rect,Z.color,J._t,J.Xp)}else{I.TF(q.buffer,W,J.W$,J.Xp);
I.TF(q.buffer,W,J._t,J.Xp)}if(N.G){J.$k=I.a(s);I.Ty(N.G.channel,N.G.rect,J.$k,J.Xp)}}return X};BL.uZ.prototype.uh=function(N,c,X){if(this.tp==null)this.tp=BL.uZ.getData(c);
if(N.I=="edit"){var l=BP.au(N.bx,N.L_);if(l!=null){for(var C=0;C<this.tp.length;C++){var q=this.tp[C];
BP.ap(l,q.W$,q._t)}BL.uZ.uf(c,this.tp)}}if(N.I=="cancel"){BL.uZ.ur(c,this.tp);this.tp=null}if(N.I=="confirm"){BL.uZ.uS(c,this.tp,BP.names[N.bx],this);
this.tp=null}c._()};BL.uZ.ur=function(N,c){BL.uZ.ux(N,c,!1)};BL.uZ.uS=function(N,c,X,l){for(var C=0;
C<c.length;C++){var q=c[C],J=N.R[q.e],Z=J.X<=0?null:J.X==1?J.im():J.iM(N).b;if(Z){Z.I_();Z.Xe=!0;J.ih();
H.xa.xY(Z.channel,Z.rect,Z.color,q._t,q.Xp)}else{J.I_();J._();I.TF(J.buffer,J.rect,q._t,q.Xp)}}var W=new _f(X,l);
W.data=c;N.cB(W)};BL.uZ.uf=function(N,c){for(var X=0;X<c.length;X++){var l=c[X],C=N.R[l.e];if(l.WV==0){C.extend(l.Xp);
if(l.$k){I.TF(l.W$,l.Xp,C.buffer,C.rect);I.B.Iw(l._t,l.Xp,C.buffer,C.rect,l.$k,l.Xp,0,l.Xp,1)}else I.TF(l._t,l.Xp,C.buffer,C.rect)}else{var q=l.WV==1?C.im():C.iM(N).b;
q.extend(l.Xp);if(l.$k){var J=I.a(l.Xp.n()*4);I.Tx(l.W$,J);I.B.Iw(l._t,l.Xp,J,l.Xp,l.$k,l.Xp,0,l.Xp,1);
H.xa.xz(J,l.Xp,q)}else H.xa.xz(l._t,l.Xp,q);q.Xe=!0;C.ih()}C._()}};BL.uZ.ux=function(N,c,X){for(var l=0;
l<c.length;l++){var C=c[l],q=N.R[C.e];if(C.WV==0){q.extend(C.Xp);I.TF(X?C._t:C.W$,C.Xp,q.buffer,q.rect);
q.I_()}else{var J=C.WV==1?q.im():q.iM(N).b;J.extend(C.Xp);H.xa.xz(X?C._t:C.W$,C.Xp,J);J.I_();J.Xe=!0;
q.ih()}q._()}};BL.uZ.prototype.fA=function(N,c){var X=c.R[N.e];if(N.Bv!=null)BP.Zb(N.Bv,X.add);else BL.uZ.ux(c,N,!1);
c._()};BL.uZ.prototype.fQ=function(N,c){var X=c.R[N.e];if(N.Bv!=null)BP.Zb(N.gY,X.add);else BL.uZ.ux(c,N,!0);
c._()};BL.uQ=function(){BL.kM.call(this,H.xu);this.tp=null;this.I=null};BL.uQ.prototype=new BL.kM;BL.uQ.prototype.fR=function(N,c,X,l,C){if(N.I=="start"){var q=X.R[X.Q[0]],J;
if(q.add.SoLd&&q.X<=0){J={e:X.Q[0],index:0};if(q.add.SoLd.filterFX!=null)J.index=q.add.SoLd.filterFX.v.filterFXList.v.length}else if(!X.VM())return;
var Z=N.filter;if(TK[Z]||Ts[Z]){if(X.Q.length!=1)alert("Will be applied to "+X.Q.length+" layers.");
var W=new Q(d.E.m,!0);W.data={I:d.L.jl,mO:"filter_"+Z,nq:J};c.C(W)}else N={I:"edit",filter:N.filter,nq:J}}if(N.I=="edit"||N.I=="cancel"||N.I=="confirm"){if(N.nq)this.uA(N,X,C);
else this.uu(N,X,C)}};BL.uQ.prototype.uA=function(N,c,X){var l=c.R[N.nq.e],C=N.filter;if(N.I=="edit"){if(this.I==null){var q=_E.names[C];
if(q==null)q=BP.names[C];this.I=new _f(q,this);this.I.data={nq:N.nq,_ED:JSON.parse(JSON.stringify(l.add.SoLd))}}if(!l.iF()){l.add.SoLd.filterFX=_E.aW();
this.I.data.Uh={id:l.add.SoLd.placed.v,rect:new u,buffer:I.a(1),b:new v.ig};c.VV(this.I.data.Uh);l.iS(c)}var J=l.add.SoLd.filterFX.v.filterFXList.v;
if(J[N.nq.index]==null){J.push(_E.at(C,X))}if(N.L_)J[N.nq.index].v.Fltr.v=N.L_;this.I.data._Em=JSON.parse(JSON.stringify(l.add.SoLd));
this.fQ(this.I.data,c);if(N.L_==null)N={I:"confirm"}}if(N.I=="cancel"){if(this.I)this.fA(this.I.data,c);
this.I=null}if(N.I=="confirm"){c.cB(this.I);this.I=null}};BL.uQ.prototype.uk=function(N){return{W:N>>16,d:N>>8&255,w:N&255}};
BL.uQ.prototype.uu=function(N,c,X){if(this.tp==null)this.tp=BL.uZ.getData(c,!0);if(N.I=="edit"){for(var l=0;
l<this.tp.length;l++){var C=this.tp[l],q={rect:C.Xp,buffer:C.W$},J={rect:C.Xp,buffer:C._t};_E.ap(N.filter,q,N.L_,this.uk(X.Wp),this.uk(X.Wa),J)}BL.uZ.uf(c,this.tp);
if(N.L_==null)N={I:"confirm",filter:N.filter}}if(N.I=="cancel"){BL.uZ.ur(c,this.tp);this.tp=null}if(N.I=="confirm"){BL.uZ.uS(c,this.tp,_E.names[N.filter],this);
this.tp=null}c._()};BL.uQ.prototype.fA=function(N,c){if(N.nq){var X=c.R[N.nq.e];if(N.Uh)c.Vc(N.Uh);X.add.SoLd=JSON.parse(JSON.stringify(N._ED));
if(X.iF())X.if(c);else{X.iS(c);X.X=0}}else BL.uZ.ux(c,N,!1);c._()};BL.uQ.prototype.fQ=function(N,c){if(N.nq){var X=c.R[N.nq.e];
if(N.Uh)c.VV(N.Uh);X.add.SoLd=JSON.parse(JSON.stringify(N._Em));if(X.iF())X.if(c);else X.iS(c);if(!X.ic())X.Xj+=32}else BL.uZ.ux(c,N,!0);
c._()};var BZ={up:"0",ua:"1",ui:"2",uw:"3",uV:"4",uc:"5",ul:"6",uJ:"7",uy:"8",uj:"9",uo:"10",uO:"10.6",uF:"10.7",uH:"11",uN:"13",fX:"20",uY:"21",uz:"22",_Rt:"23",um:"23.0",uM:"23.1",uG:"23.2",ub:"23.3",uX:"23.4",un:"30",ue:"31",uW:"40",ut:"41"};
function M(){this.ct={};this.ey=0}M.prototype.reset=function(){this.ct={};this.ey=0};M.prototype.uq=function(N){this.ey++;
this.ct[N]=!0};M.prototype.ud=function(N){this.ey--;delete this.ct[N];if(this.ey<=0||M.pT(N,M.pL))this.reset()};
M.prototype.T=function(N){for(var c=0;c<N.p$.length;c++)if(this.ct[N.p$[c]])return!0;return!1};M.prototype.pE=function(){var N=this,c=N.T(M.pU)?10:1,X=0,l=0;
if(N.T(M.pf))X=-c;if(N.T(M.pQ))X=c;if(N.T(M.px))l=-c;if(N.T(M.pA))l=c;return new k(X,l)};M.prototype.p_=function(){var N=this,c=M.aL;
for(var X=0;X<10;X++)if(N.T(c[X]))return X;return-1};M.pT=function(N,c){return c.p$.indexOf(N)!=-1};
M.pI=function(N){var c=N.code;return M.ps.indexOf(c)==-1||N.shiftKey&&c=="F5"};M.pB=function(N){if(N==null)return"";
var c=[];for(var X=0;X<N.length;X++)c.push(N[X].pv);return c.join(" + ")};M.ps="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
M.pK={pv:"Enter",p$:["Enter","NumpadEnter"]};M.pU={pv:"Shift",p$:["ShiftLeft","ShiftRight"]};M.pL={pv:"Meta",p$:["MetaLeft","MetaRight","OSLeft","OSRight"]};
M.pC={pv:"Ctrl",p$:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};M.pZ={pv:"Alt",p$:["AltLeft","AltRight"]};
M.pR={pv:"Escape",p$:["Escape"]};M.pP={pv:"Space",p$:["Space"]};M.ph={pv:"Tab",p$:["Tab"]};M.pr={pv:"Home",p$:["Home"]};
M.pS={pv:"End",p$:["End"]};M.pf={pv:"Left",p$:["ArrowLeft"]};M.px={pv:"Up",p$:["ArrowUp"]};M.pQ={pv:"Right",p$:["ArrowRight"]};
M.pA={pv:"Down",p$:["ArrowDown"]};M.pk={pv:"+",p$:["NumpadAdd","BracketRight"]};M.pu={pv:"-",p$:["NumpadSubtract","Minus","Slash"]};
M.pp={pv:";",p$:["Semicolon"]};M.pa={pv:"Dead",p$:["Dead"]};M.pi={pv:"=",p$:["Equal"]};M.pw={pv:"Backspace",p$:["Backspace"]};
M.pV={pv:"Delete",p$:["Delete"]};M.pc={pv:"[",p$:["BracketLeft"]};M.pl={pv:"]",p$:["BracketRight"]};
M.pJ={pv:".",p$:["Period"]};M.py={pv:",",p$:["Comma"]};M.L={pv:"A",p$:["KeyA"]};M.po={pv:"B",p$:["KeyB"]};
M.uk={pv:"C",p$:["KeyC"]};M.If={pv:"D",p$:["KeyD"]};M.E={pv:"E",p$:["KeyE"]};M.Cc={pv:"F",p$:["KeyF"]};
M.pO={pv:"G",p$:["KeyG"]};M._IY={pv:"H",p$:["KeyH"]};M.pH={pv:"I",p$:["KeyI"]};M.pN={pv:"J",p$:["KeyJ"]};
M.pY={pv:"K",p$:["KeyK"]};M.pz={pv:"L",p$:["KeyL"]};M.pD={pv:"M",p$:["KeyM"]};M.pm={pv:"N",p$:["KeyN"]};
M.pM={pv:"O",p$:["KeyO"]};M.pG={pv:"P",p$:["KeyP"]};M._IE={pv:"Q",p$:["KeyQ"]};M._ZW={pv:"R",p$:["KeyR"]};
M.pn={pv:"S",p$:["KeyS"]};M.k={pv:"T",p$:["KeyT"]};M.pe={pv:"U",p$:["KeyU"]};M.pW={pv:"V",p$:["KeyV"]};
M._sm={pv:"W",p$:["KeyW"]};M.pq={pv:"X",p$:["KeyX"]};M._Pw={pv:"Y",p$:["KeyY","KeyZ"]};M.pg={pv:"Z",p$:["KeyZ","KeyY"]};
M.aE={pv:"0",p$:["Numpad0","Digit0"]};M.a_={pv:"1",p$:["Numpad1","Digit1"]};M._Ux={pv:"2",p$:["Numpad2","Digit2"]};
M._ES={pv:"3",p$:["Numpad3","Digit3"]};M.__I={pv:"4",p$:["Numpad4","Digit4"]};M._Py={pv:"5",p$:["Numpad5","Digit5"]};
M._Cg={pv:"6",p$:["Numpad6","Digit6"]};M._vE={pv:"7",p$:["Numpad7","Digit7"]};M._vZ={pv:"8",p$:["Numpad8","Digit8"]};
M._TX={pv:"9",p$:["Numpad9","Digit9"]};M.aL=[M.aE,M.a_,M._Ux,M._ES,M.__I,M._Py,M._Cg,M._vE,M._vZ,M._TX];
M._$N={pv:"F1",p$:["F1"]};M._Pq={pv:"F2",p$:["F2"]};M._Bv={pv:"F3",p$:["F3"]};M._Cw={pv:"FF",p$:["F4"]};
M._$J={pv:"F5",p$:["F5"]};M._IO={pv:"F6",p$:["F6"]};M._Ih={pv:"F7",p$:["F7"]};M._PJ={pv:"F8",p$:["F8"]};
M._TW={pv:"F9",p$:["F9"]};M._ZU={pv:"F10",p$:["F10"]};M._BL={pv:"F11",p$:["F11"]};M._BR={pv:"F12",p$:["F12"]};
function _f(N,c,X){if(X==null)X=!1;this.name=N;this.K=c;this.Ir=X;this.data=null}var BP={};BP.get=function(N){for(var c in BP.names)if(N[c]!=null)return c;
return null};BP.au=function(N,c){var X;if(N=="brit"){var l=c[0],C=c[1],q=c[2];if(q){var J=l/255,Z=1+C/100;
if(Z>1)Z=1+Math.tan(Math.PI/2*C/100);var W=(1-Z)/2,s=I.KR.Kr(J,J,J),t=[Z,0,0,W,0,Z,0,W,0,0,Z,W,0,0,0,1],T=I.KR.multiply(s,t),g=new I.IL(256);
for(var R=0;R<256;R++)g.W[R]=R;I.KR.transform(g,g,T);X={type:"remap",Gm:g.W,GM:g.W,GG:g.W,hk:!1,hF:!1}}else{var P=1024,O=-30+60*(C+100)/200,b=[],m;
for(var R=0;R<4;R++)b.push(I.vn.ve(R/3*255,R/3*255,!0));b[1].v.Hrzn.v=64;b[1].v.Vrtc.v=64-O;b[2].v.Hrzn.v=128+64;
b[2].v.Vrtc.v=128+64+O;b.sort(function(K_,KT){return K_.v.Hrzn.v-KT.v.Hrzn.v});var z=I.vn.$B(b,P);b=[];
for(var R=0;R<3;R++)b.push(I.vn.ve(R/2*255,R/2*255,!0));if(l<0){var f=128+10*l/150,B=128-120*l/150;b[1].v.Hrzn.v=B;
b[1].v.Vrtc.v=f;m=I.vn.$B(b,P);for(var R=0;R<P;R++)if(R*(255/P)<B)m[R]=R*(255/P)/B*f/255}else{b[1].v.Hrzn.v=128-64*l/150;
b[1].v.Vrtc.v=128+24*l/150;m=I.vn.$B(b,P)}var K=new Uint8Array(P);for(var R=0;R<P;R++){var j=Math.round((P-1)*m[R]);
K[R]=Math.round(255*z[j])}X={type:"remap",Gm:K,GM:K,GG:K,hk:!1,hF:!1}}}if(N=="levl"){var S=c,r,n,s,o,y,D;
r=-S[0][0]/255;n=1/(S[0][1]/255-S[0][0]/255);s=I.KR.multiply(I.KR.KS(n,n,n),I.KR.Kr(r,r,r));o=I.KR.KS(1/(S[1][1]/255-S[1][0]/255),1/(S[2][1]/255-S[2][0]/255),1/(S[3][1]/255-S[3][0]/255));
y=I.KR.Kr(-S[1][0]/255,-S[2][0]/255,-S[3][0]/255);D=I.KR.multiply(o,y);var K=new I.IL(256);for(var R=0;
R<256;R++)K.W[R]=K.d[R]=K.w[R]=R;var x=1/(S[0][4]/100),A=1/(S[1][4]/100),e=1/(S[2][4]/100),U=1/(S[3][4]/100);
I.KR.transform(K,K,D);for(var R=0;R<256;R++){K.W[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(K.W[R]/255,A))));
K.d[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(K.d[R]/255,e))));K.w[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(K.w[R]/255,U))))}I.KR.transform(K,K,s);
for(var R=0;R<256;R++){K.W[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(K.W[R]/255,x))));K.d[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(K.d[R]/255,x))));
K.w[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(K.w[R]/255,x))))}r=S[0][2]/255;n=S[0][3]/255-S[0][2]/255;
s=I.KR.multiply(I.KR.Kr(r,r,r),I.KR.KS(n,n,n));o=I.KR.KS(S[1][3]/255-S[1][2]/255,S[2][3]/255-S[2][2]/255,S[3][3]/255-S[3][2]/255);
y=I.KR.Kr(S[1][2]/255,S[2][2]/255,S[3][2]/255);D=I.KR.multiply(y,o);I.KR.transform(K,K,I.KR.multiply(s,D));
X={type:"remap",Gm:K.W,GM:K.d,GG:K.w,hk:!1,hF:!1}}if(N=="curv"){var L=c[0].length==256?1:0,Y=[];if(L==0){var E=I.vn.$K(c[0],256);
for(var R=1;R<4;R++){var i=I.vn.$K(c[R],256);Y.push(I.vn.$v(i,E))}}else{var a=[];for(var R=0;R<4;R++){var V=new Uint8Array(256);
a.push(V);for(var G=0;G<256;G++)V[G]=c[R][G]}for(var R=1;R<4;R++)Y.push(I.vn.$v(a[R],a[0]))}X={type:"remap",Gm:Y[0],GM:Y[1],GG:Y[2],hk:!1,hF:!1}}if(N=="expA"){var $=c[0],p=c[1],w=c[2],K=new Uint8Array(256);
for(var R=0;R<256;R++){var c=R/255,BX=Math.pow(Math.abs(p),1/(Math.PI/2));if(p>0){c=Math.max(p/Math.E,c);
c=c*Math.exp(p/1.75+$/Math.PI);c=(1-BX)*c+BX*1}else{c=c*Math.exp(-p*1.75+$/Math.PI);c=c+-BX*1.14}c=Math.pow(c,1/w);
c=Math.max(0,Math.min(1,c));K[R]=Math.round(c*255)}X={type:"remap",Gm:K,GM:K,GG:K,hk:!1,hF:!1}}if(N=="vibA"){X={type:"vibrance",mz:c}}if(N=="hue2"){c=JSON.parse(JSON.stringify(c));
var Bn=[],Be=[],BW=[];for(var R=0;R<256;R++){Bn[R]=R/255;Be[R]=0;BW[R]=0}var Bt=c.nE?c.mZ:c.n_,Bq=1+Bt[2]/100,Bd=Bq<1?1:0,Bg=Bd*Bq+1-Bd,sE=(1-Bd)*(Bq-1);
if(c.nE){var s_=Bt[0]/360,sT=Math.tan(Math.PI/2*Bt[1]/100);for(var R=0;R<256;R++){Bn[R]=s_;Be[R]=sT}}else{for(var R=0;
R<256;R++){var sI=Bn[R],sB=Be[R];Bn[R]+=Bt[0]/360;var ss=Bt[1]/100;if(ss>0)ss=Math.tan(Math.PI/2*Bt[1]/100);
for(var G=0;G<6;G++){var sK=c.nT[G].Hq,sv=c.nT[G].nI,BX=0;for(var s$=1;s$<4;s$++)if(sv[s$]<sv[0])sv[s$]+=360;
var sU=sv[0],sL=sv[1],sC=sv[2],sZ=sv[3],sR=sI*360;if(sR<sv[0])sR+=360;var sP=(sR-sU)/(sL-sU),sh=(sR-sC)/(sZ-sC);
if(sP<0)BX=0;else if(sP<1)BX=sP;else if(sh<0)BX=1;else if(sh<1)BX=1-sh;else BX=0;var Z=sK[1]/100;if(Z>0)Z=Math.tan(Math.PI/2*sK[1]/100);
Bn[R]+=BX*sK[0]/360;Be[R]+=BX*Z;BW[R]+=BX*sK[2]/100}}for(var R=0;R<256;R++){Be[R]=(1+Be[R])*(1+ss)-1;
BW[R]=Math.max(-1,Math.min(1,BW[R]))}}var sr=new Uint8Array(256),sS=new Uint8Array(256),sf=new Uint8Array(256);
for(var R=0;R<256;R++){Bn[R]-=Math.floor(Bn[R]);var sx=Be[R];if(sx<0)Be[R]=(1+Be[R])*.5;else Be[R]=.5+.49*Math.atan2(Be[R],1)/(Math.PI/2);
BW[R]=(1+BW[R])/2;sr[R]=Math.round(255*Bn[R]);sS[R]=Math.round(255*Be[R]);sf[R]=Math.round(255*BW[R])}X={type:"remapHSL",WF:sr,GJ:sS,WH:sf,WN:Bg,WY:sE,Wz:c.nE?1:0}}if(N=="nvrt"){var K=new Uint8Array(256);
for(var R=0;R<256;R++)K[R]=255-R;X={type:"remap",Gm:K,GM:K,GG:K,hk:!1,hF:!1}}if(N=="grdm"){var sQ=c[0],sA=I.c.sa(sQ.Clrs.v,0,0),P=1024,sk=I.c.sV(sQ,sA,P),su=I.a(P),sp=I.a(P),sa=I.a(P);
I.TR(sk,su,0);I.TR(sk,sp,1);I.TR(sk,sa,2);if(c[1]){su.reverse();sp.reverse();sa.reverse()}X={type:"remap",Gm:su,GM:sp,GG:sa,hk:!0,hF:!1}}if(N=="selc"){var si=new Float32Array(9*3*2),sw=c.ns,sV=c.nB;
for(var G=1;G<10;G++){var sl=(G-1)*6,sJ=sw[G][0]/100,sy=sw[G][1]/100,sj=sw[G][2]/100,so=sw[G][3]/100;
if(sV){si[sl]=si[sl+1]=si[sl+2]=1;si[sl+3]=sJ*(1+so)+so;si[sl+4]=sy*(1+so)+so;si[sl+5]=sj*(1+so)+so}else{si[sl+0]=(1+sJ)*(1+so);
si[sl+1]=(1+sy)*(1+so);si[sl+2]=(1+sj)*(1+so)}}X={type:"selc",BS:si}}if(N=="blwh"){var sO=[],sz=0,sD=0;
for(var R=0;R<6;R++)sO.push((c[R]-50)/50);var sF=I.c.si(c[7]);sF.W/=255;sF.d/=255;sF.w/=255;var sH=I.T_(sF.W,sF.d,sF.w),sN=I._m(I.TE(sH.MC,1,.5)),sY=sH.Mw*sH.L_;
if(sN==.5)sz=sD=.5;else{sz=sY*(.5-sN)/(.5/sN-1);sD=1-sY*(.5-sN)-1/(2*(1-sN));sD/=1-1/(2*(1-sN))}X={type:"blwh",_D:sO,GX:c[6]?1:0,_O:sH.MC,_m:sN,lV:sY,bl:sz,NU:sD}}if(N=="blnc"){var S=[];
for(var R=0;R<3;R++){var sM=c.Hq[R][0]/100,sG=c.Hq[R][1]/100,sb=c.Hq[R][2]/100,sX=c._m?sX=(Math.min(sM,sG,sb)+Math.max(sM,sG,sb))/2:0;
S[R]=[sM-sX,sG-sX,sb-sX]}var Y=[I.a(256),I.a(256),I.a(256)];for(var G=0;G<3;G++)for(var R=0;R<256;R++){var sn=R*(1/255),se=0,O=0,sW=0;
O=S[2][G];sW=Math.abs(O);if(O<0)se=Math.pow(sn,Math.SQRT2);else se=1.63*(Math.pow(sn+.04,.5)-.2);sn=sW*se+(1-sW)*sn;
O=S[1][G];sW=Math.abs(O);if(O<0)se=Math.pow(sn,2);else se=Math.min(2.35*(Math.pow(sn+.09,.5)-.3),Math.pow(sn,1/2));
sn=sW*se+(1-sW)*sn;O=S[0][G];sW=Math.abs(O);if(O<0)se=sn<.4?0:Math.pow((sn-.4)/.6,Math.SQRT2);else se=Math.pow(sn,Math.SQRT2/2);
sn=sW*se+(1-sW)*sn;sn=Math.max(0,Math.min(1,sn));Y[G][R]=Math.round(sn*255)}X={type:"remap",Gm:Y[0],GM:Y[1],GG:Y[2],hk:!1,hF:!1}}if(N=="phfl"){var sq=[c.mZ.Rd.v/255,c.mZ.Grn.v/255,c.mZ.Bl.v/255],sd=c.XK/100,Y=[I.a(256),I.a(256),I.a(256)];
for(var G=0;G<3;G++)for(var R=0;R<256;R++){var sn=R*(1/255),sg=sn*sq[G];sg=Math.max(0,Math.min(1,sg));
sn=sd*sg+(1-sd)*sn;Y[G][R]=Math.round(sn*255)}X={type:"remap",Gm:Y[0],GM:Y[1],GG:Y[2],hk:!1,hF:c.Xv}}if(N=="thrs"){var K=I.a(256);
for(var R=c;R<256;R++)K[R]=255;X={type:"remap",Gm:K,GM:K,GG:K,hk:!0,hF:!1}}if(N=="mixr"){var T=[];for(var R=0;
R<c.q.length;R++)if(R%5!=3)T.push(c.q[R]/100);if(c.X$){for(var KE=1;KE<3;KE++)for(var sn=0;sn<4;sn++)T[KE*4+sn]=T[sn]}X={type:"matrix",KR:T}}return X};
BP.ap=function(N,c,X){var l=Date.now();if(N.type=="matrix")I.KR._ZM(c,X,N.KR);if(N.type=="blwh"){var C=N.lV,q=N._m,J=N.bl,Z=N.NU,W=c.length;
for(var s=0;s<W;s+=4){var t=c[s]*(1/255),T=c[s+1]*(1/255),g=c[s+2]*(1/255),R=I._d(t,T,g),P=0;for(var O=0;
O<6;O++)P+=Math.min(1,1.7*(1-R.MV))*R.Mw*N._D[O]*BP.ai(R.MC,O*(1/6));var b=Math.max(0,Math.min(1,R.MV*(1+P)));
if(N.GX==1){var z=0;if(b<J)z=b*(.5/q);else if(b<Z)z=b+C*(.5-q);else z=1-(1-b)*.5/(1-q);R.MC=N._O;R.Mw=Math.min(1,C+3*C*Math.abs(b-.5*(J+Z)));
R.MV=z}else{R.MC=0;R.Mw=0;R.MV=b}var m=I.TE(R.MC,R.Mw,R.MV);X[s]=Math.round(m.W*255);X[s+1]=Math.round(m.d*255);
X[s+2]=Math.round(m.w*255)}}if(N.type=="selc"){var f=N.BS,W=c.length,B=1/255;for(var s=0;s<W;s+=4){var t=c[s]*B,T=c[s+1]*B,g=c[s+2]*B,R=I._d(t,T,g),K=Math.max(t,Math.max(T,g)),j=Math.min(t,Math.min(T,g)),S=1-t,r=1-T,n=1-g,o=0,y=0,D=0;
for(var O=0;O<9;O++){var x=O*6,L=0;if(f[x]==1&&f[x+1]==1&&f[x+2]==1&&f[x+3]==0&&f[x+4]==0&&f[x+5]==0)continue;
var A=S*f[x]+f[x+3],e=r*f[x+1]+f[x+4],U=n*f[x+2]+f[x+5];if(O<6)L=BP.ai(R.MC,O*(1/6))*R.Mw*2*Math.min(R.MV,1-R.MV);
else if(O==6)L=Math.max(0,j-.5)*2;else if(O==7)L=1-(Math.abs(K-.5)+Math.abs(j-.5));else L=Math.max(0,.5-K)*2;
o+=(Math.max(0,Math.min(1,A))-S)*L;y+=(Math.max(0,Math.min(1,e))-r)*L;D+=(Math.max(0,Math.min(1,U))-n)*L}S=Math.max(0,Math.min(1,S+o));
r=Math.max(0,Math.min(1,r+y));n=Math.max(0,Math.min(1,n+D));t=1-S;T=1-r;g=1-n;X[s]=Math.round(t*255);
X[s+1]=Math.round(T*255);X[s+2]=Math.round(g*255)}}if(N.type=="remap"){I._IC(c,X,N.Gm,N.GM,N.GG,N.hk,N.hF)}if(N.type=="remapHSL"){var Y=new Uint32Array(c.buffer),E=new Uint32Array(X.buffer),W=Y.length;
for(var s=0;s<W;s++){var i=Y[s],t=(i&255)*(1/255),T=(i>>>8&255)*(1/255),g=(i>>>16&255)*(1/255),a=i>>>24,Bn;
t=N.WN*t+N.WY*(1-t);T=N.WN*T+N.WY*(1-T);g=N.WN*g+N.WY*(1-g);var R=I._d(t,T,g),V=R.MC,G=R.Mw,$=R.MV,p=N.WF[Math.round(V*255)]*(1/255),w=N.GJ[Math.round(V*255)]*(1/255)*2-1,BX=N.WH[Math.round(V*255)]*(1/255)*2-1;
if(N.Wz==1)Bn=w;else{if(w>0)w=Math.tan(Math.PI/2*w);var Bn=Math.min(G*(1+w),1)}var Be=Math.abs(BX),BW=I.TE(p,Bn*(1-Be),$+(BX>0?1:-1)*Math.min($,1-$)*G),m=I.TE(p,Bn,$);
t=m.W*(1-Be)+BW.W*Be;T=m.d*(1-Be)+BW.d*Be;g=m.w*(1-Be)+BW.w*Be;E[s]=a<<24|g*255<<16|T*255<<8|t*255}}if(N.type=="vibrance"){var Y=new Uint32Array(c.buffer),E=new Uint32Array(X.buffer),W=Y.length,Bt=N.mz[0]/100,Bq=N.mz[1]/100;
for(var s=0;s<W;s++){var i=Y[s],t=(i&255)*(1/255),T=(i>>>8&255)*(1/255),g=(i>>>16&255)*(1/255),a=i>>>24,R=I.T_(t,T,g),V=R.MC,G=R.Mw,$=R.L_,Bd=0,Bg=45/360,sE=V<Bg?Math.cos(Math.PI/2*(V-Bg/2)/(Bg/2)):0;
G=G+.2*(1-.4*sE)*Bt*Math.max(0,Math.sin(G*Math.PI));G=G*(1+Bq);G=Math.max(0,Math.min(1,G));var m=I.TT(V,G,$);
t=m.W;T=m.d;g=m.w;E[s]=a<<24|g*255<<16|T*255<<8|t*255}}};BP._sE=function(N,c,X){if(N.type=="remap")h.Tt(c,{W:N.Gm,d:N.GM,w:N.GG},N.hk,N.hF,X);
if(N.type=="remapHSL")h.Ch(c,{W:N.WF,d:N.GJ,w:N.WH},X,N.WN,N.WY,N.Wz);if(N.type=="vibrance")h.Cf(c,N.mz[0]/100,N.mz[1]/100,X);
if(N.type=="selc")h.CQ(c,N.BS,X);if(N.type=="blwh")h.CA(c,N._D,[N.GX,N._O,N._m,N.lV,N.bl,N.NU],X);if(N.type=="matrix")h.Cx(c,N.KR,X)};
BP.ai=function(N,c){var X=I._X(c,N)*6;return Math.max(0,Math.min(1,X<0?1+X:1-X))};BP.ready={brit:1,levl:1,curv:1,expA:1,vibA:1,hue2:1,blnc:1,blwh:1,phfl:1,mixr:1,nvrt:1,thrs:1,grdm:1,selc:1};
BP.aw=["expA","mixr"];BP.aV={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr"};
BP.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15]};
BP.keys={levl:[M.pC,M.pz],curv:[M.pC,M.pD],hue2:[M.pC,M.pe],nvrt:[M.pC,M.pH],blnc:[M.pC,M.po]};BP.ac=function(N,c){if(N=="brit"){c.brit={XE:0,X_:0,XT:0,XI:0};
c.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}}}if(N=="levl"){c[N]=[];
for(var X=0;X<62;X++)c[N].push([0,255,0,255,100])}if(N=="curv")c[N]=[[0,0,255,255],[0,0,255,255],[0,0,255,255],[0,0,255,255]];
if(N=="expA")c[N]=[0,0,1];if(N=="vibA")c[N]={classID:"null",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};
if(N=="hue2")c[N]={nE:!1,mZ:[0,25,0],n_:[0,0,0],nT:[{nI:[315,345,15,45],Hq:[0,0,0]},{nI:[15,45,75,105],Hq:[0,0,0]},{nI:[75,105,135,165],Hq:[0,0,0]},{nI:[135,165,195,225],Hq:[0,0,0]},{nI:[195,225,255,285],Hq:[0,0,0]},{nI:[255,285,315,345],Hq:[0,0,0]}]};
if(N=="nvrt")c[N]=1;if(N=="grdm")c[N]={rev:!1,XU:!1,c:JSON.parse(F.cw[F.order.indexOf("GrFl")]).Grad.v,mode:0,XL:867527939,XC:!1,XZ:!0,XR:2048,XP:3,Xh:[0,0,0,0],Xr:[32768,32768,32768,32768]};
if(N=="selc"){c[N]={nB:!0,ns:[]};for(var X=0;X<10;X++)c[N].ns.push([0,0,0,0])}if(N=="blwh")c[N]={classID:"null",Rd:{t:"long",v:50},Yllw:{t:"long",v:50},Grn:{t:"long",v:50},Cyn:{t:"long",v:50},Bl:{t:"long",v:50},Mgnt:{t:"long",v:50},useTint:{t:"bool",v:!1},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:255},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}},bwPresetKind:{t:"long",v:3},blackAndWhitePresetFileName:{t:"TEXT",v:""}};
if(N=="blnc")c[N]={Hq:[[0,0,0],[0,0,0],[0,0,0]],_m:!1};if(N=="thrs")c[N]=128;if(N=="phfl")c[N]={color:{Xs:7,L_:[1254,3530,63045,0]},XK:10,Xv:!1};
if(N=="mixr")c[N]={X$:!1,q:[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}};BP.al=function(N,c,X){if(N=="brit"){X.Brgh.v=c[0];
X.Cntr.v=c[1];X.useLegacy.v=c[2]}if(N=="levl"){var l=X.Adjs.v=[];for(var C=0;C<4;C++){var q=c[C],J={classID:"LvlA",Chnl:BP.ay(C)};
J.Inpt={t:"VlLs",v:[{LT:"long",L_:q[0]},{LT:"long",L_:q[1]}]};J.Otpt={t:"VlLs",v:[{LT:"long",L_:q[2]},{LT:"long",L_:q[3]}]};
J.Gmm={LT:"doub",L_:q[4]/100};l.push({t:"Objc",v:J})}}if(N=="curv"){var l=X.Adjs.v=[];for(var C=0;C<4;
C++){var q=c[C],J={classID:"CrvA",Chnl:BP.ay(C),Crv:{t:"VlLs",v:[]}};for(var Z=0;Z<q.length;Z++)J.Crv.v.push(q[Z]);
l.push({t:"Objc",v:J})}}if(N=="expA"){X.Exps.v=c[0];X.Ofst.v=c[1];X.gammaCorrection.v=c[2]}if(N=="vibA"){X.vibrance.v=c[0];
X.Strt.v=c[1]}if(N=="hue2"){X.Clrz.v=c.nE;var l=X.Adjs.v=[];for(var C=0;C<7;C++){var W=C==0?c.nE?c.mZ:c.n_:c.nT[C-1].Hq,s=BP.aJ(W);
l.push({t:"Objc",v:s});if(C!=0){var t=c.nT[C-1].nI;s.LclR={t:"long",v:C},s.BgnR={t:"long",v:t[0]};s.BgnS={t:"long",v:t[1]};
s.EndS={t:"long",v:t[2]};s.EndR={t:"long",v:t[3]}}}}if(N=="blnc"){X.PrsL.v=c._m;var T=["ShdL","MdtL","HghL"];
for(var C=0;C<3;C++){var l=X[T[C]].v;for(var Z=0;Z<3;Z++)l[Z].v=c.Hq[C][Z]}}if(N=="blwh")BP.write(N,c,X);
if(N=="phfl"){X.Dnst.v=c.XK;X.PrsL.v=c.Xv;var g=I.c.si(c.mZ),R=BP.aF([g.W,g.d,g.w,0]);R={classID:"LbCl",Lmnc:{t:"doub",v:R[0]/100},A:{t:"doub",v:R[1]/100},B:{t:"doub",v:R[2]/100}};
X.Clr={t:"Objc",v:R}}if(N=="grdm"){X.Grad.v=c[0];X.Rvrs={t:"bool",v:c[1]}}if(N=="selc"){X.Mthd.v=c.nB?"Absl":"Rltv";
var P=["Cyn","Mgnt","Ylw","Blck"],O="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" "),l=X.ClrC.v=[];
for(var C=1;C<10;C++){var b=c.ns[C],s={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:O[C-1]}}};for(var Z=0;Z<4;
Z++)s[P[Z]]={t:"UntF",v:{type:"#Prc",val:b[Z]}};l.push({t:"Objc",v:s})}}if(N=="thrs")X.Lvl.v=c;if(N=="mixr"){X.Mnch={t:"bool",v:c.X$};
function z(m,C){var f={classID:"ChMx"},B={Rd:0,Grn:1,Bl:2,Cnst:4};for(var K in B)f[K]={t:"UntF",v:{type:"#Prc",val:m[C+B[K]]}};
return{t:"Objc",v:f}}if(c.X$)X.Gry=z(c.q,0);else{X.Rd=z(c.q,0);X.Grn=z(c.q,5);X.Bl=z(c.q,10)}}return X};
BP.aJ=function(N){return{classID:"Hst2",H:{t:"long",v:N[0]},Strt:{t:"long",v:N[1]},Lght:{t:"long",v:N[2]}}};
BP.ay=function(N){var c=["Cmps","Rd","Grn","Bl"];return{t:"obj ",v:[{t:"Enmr",v:{class:"Chnl",type:"Chnl",enum:c[N]}}]}};
BP.aj=function(N,c){var X,l={Cmps:0,Rd:1,Grn:2,Bl:3};if(N=="brit")X=BP.aH("brit",c);if(N=="levl"){var C=c.Adjs.v;
X=[];for(var q=0;q<4;q++)X.push([0,255,0,255,100]);for(var q=0;q<C.length;q++){var J=C[q].v,Z=l[J.Chnl.v[0].v.enum],W=X[Z];
if(J.Inpt){W[0]=J.Inpt.v[0].v;W[1]=J.Inpt.v[1].v}if(J.Otpt){W[2]=J.Otpt.v[0].v;W[3]=J.Otpt.v[1].v}if(J.Gmm)W[4]=Math.round(J.Gmm.v*100)}}if(N=="curv"){var C=c.Adjs.v;
X=[];for(var q=0;q<4;q++)X.push([I.vn.ve(0,0,!0),I.vn.ve(255,255,!0)]);for(var q=0;q<C.length;q++){var J=C[q].v,Z=l[J.Chnl.v[0].v.enum],s=J.Crv.v,t=[];
for(var T=0;T<s.length;T++)t.push(I.vn.ve(s[T].v.Hrzn.v,s[T].v.Vrtc.v));X[Z]=t}}if(N=="expA")X=[c.Exps.v,c.Ofst.v,c.gammaCorrection.v];
if(N=="vibA")X=BP.aH(N,c);if(N=="hue2"){var C=c.Adjs.v;X={nE:c.Clrz.v,mZ:[100,25,0],n_:[0,0,0],nT:[{nI:[315,345,15,45],Hq:[0,0,0]},{nI:[15,45,75,105],Hq:[0,0,0]},{nI:[75,105,135,165],Hq:[0,0,0]},{nI:[135,165,195,225],Hq:[0,0,0]},{nI:[195,225,255,285],Hq:[0,0,0]},{nI:[255,285,315,345],Hq:[0,0,0]}]};
for(var q=0;q<C.length;q++){var J=C[q].v,g=[J.H.v,J.Strt.v,J.Lght.v];if(J.LclR==null)X.n_=X.mZ=g;else X.nT[J.LclR.v-1].Hq=g}}if(N=="blnc"){X={Hq:[[0,0,0],[0,0,0],[0,0,0]],_m:c.PrsL.v};
var R=["ShdL","MdtL","HghL"];for(var q=0;q<3;q++){var C=c[R[q]].v;X.Hq[q]=[C[0].v,C[1].v,C[2].v]}}if(N=="blwh")X=BP.aH(N,c);
if(N=="phfl"){var P=[255,0,0];if(c.Clr){var O=c.Clr.v;if(O.classID=="LbCl")P=BP.aO([O.Lmnc.v*100,O.A.v*100,O.B.v*100])}X={XK:c.Dnst.v,Xv:c.PrsL.v,mZ:I.c.sw({W:P[0],d:P[1],w:P[2]})}}if(N=="grdm")X=[c.Grad.v,c.Rvrs?c.Rvrs.v:!1];
if(N=="selc"){var b=["Cyn","Mgnt","Ylw","Blck"],l="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
X={nB:c.Mthd.v!="Rltv",ns:[]};for(var q=0;q<10;q++)X.ns.push([0,0,0,0]);var C=c.ClrC.v;for(var q=0;q<C.length;
q++){var J=C[q].v,Z=l.indexOf(J.Clrs.v.Clrs),z=X.ns[Z+1];for(var T=0;T<4;T++)if(J[b[T]])z[T]=J[b[T]].v.val}}if(N=="thrs")X=c.Lvl.v;
if(N=="mixr"){function m(f,B,q){var K={Rd:0,Grn:1,Bl:2,Cnst:4};for(var j in K)if(f[j])B[q+K[j]]=f[j].v.val}X={X$:!1,q:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(c.Mnch&&c.Mnch.v)X.X$=!0;if(X.X$)m(c.Gry.v,X.q,0);else{m(c.Rd.v,X.q,0);m(c.Grn.v,X.q,5);m(c.Bl.v,X.q,10)}}return X};
BP.ao=function(N){var c=BP.get(N);if(c=="brit"){if(N.CgEd)return BP.aH(c,N.CgEd);else return[N.brit.XE,N.brit.X_,!0]}else if(c=="levl"){var X=[];
for(var l=0;l<4;l++)X.push(JSON.parse(JSON.stringify(N[c][l])));return X}else if(c=="curv"){var X=N[c];
if(X[0].length==256)return X;var C=[];for(var l=0;l<4;l++){var q=X[l],J=[];C.push(J);for(var Z=0;Z<q.length;
Z+=2)J.push(I.vn.ve(q[Z],q[Z+1],!0))}return C}else if(c=="vibA")return BP.aH(c,N[c]);else if(c=="grdm"){var W=N[c];
return[W.c,W.rev]}else if(c=="blwh")return BP.aH(c,N[c]);else if(c=="phfl"){var W=N[c],s=[255,0,0];if(W.color){var q=W.color;
if(q.Xs==7)s=BP.aO(q.L_)}return{XK:W.XK,Xv:W.Xv,mZ:I.c.sw({W:s[0],d:s[1],w:s[2]})}}else return N[c]};
BP.aO=function(N){var c=N[0]/100,X=N[1]/100,l=N[2]/100,C=903.3,q=.008856,J=(c+16)/116,Z=J*J*J,W=J-l/200,s=W*W*W,t=X/500+J,T=t*t*t,g=s>q?s:(116*W-16)/C,R=Z>q?Z:(116*J-16)/C,P=T>q?T:(116*t-16)/C,O=P*96.72,b=R*100,z=g*81.427,m=I.KR.KQ(I.KR.Ku,[O/100,b/100,z/100,0]);
for(var f=0;f<4;f++)m[f]=Math.max(0,Math.min(255,I._e(m[f])*255));return m};BP.aF=function(N){for(var c=0;
c<4;c++)N[c]=I._Ej(N[c]/255);var X=I.KR.KQ(I.KR.Tk(I.KR.Ku),N),l=100*X[0]/96.72,C=100*X[1]/100,q=100*X[2]/81.427;
if(l>.008856)l=Math.pow(l,1/3);else l=7.787*l+16/116;if(C>.008856)C=Math.pow(C,1/3);else C=7.787*C+16/116;
if(q>.008856)q=Math.pow(q,1/3);else q=7.787*q+16/116;var J=116*C-16,Z=500*(l-C),W=200*(C-q);return[J*100,Z*100,W*100,0]};
BP.aH=function(N,c){if(N=="blwh"){var X="Rd Yllw Grn Cyn Bl Mgnt".split(" "),l=[];for(var C=0;C<6;C++)l.push(c[X[C]].v);
l.push(c.useTint.v,c.tintColor.v);return l}if(N=="brit")return[c.Brgh.v,c.Cntr.v,c.useLegacy?c.useLegacy.v:!0];
if(N=="vibA")return[c.vibrance?c.vibrance.v:0,c.Strt?c.Strt.v:0]};BP.write=function(N,c,X){console.log(X);
if(N=="blwh"){var l="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var C=0;C<6;C++)X[l[C]].v=c[C];X.useTint.v=c[6];
X.tintColor.v=c[7]}};BP.Zb=function(N,c){var X=BP.get(c);if(X=="brit"){if(!N[2]){c.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:N[0]},Cntr:{t:"long",v:N[1]},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}};
c.brit={XE:0,X_:0,XT:0,XI:0}}else{delete c.CgEd;c.brit.XE=N[0];c.brit.X_=N[1]}}else if(X=="levl"){for(var l=0;
l<4;l++)c[X][l]=JSON.parse(JSON.stringify(N[l]))}else if(X=="curv"){if(N[0].length==256)c[X]=N;else{var C=[];
for(var l=0;l<4;l++){var q=N[l],J=[];C.push(J);for(var Z=0;Z<q.length;Z++)J.push(q[Z].v.Hrzn.v,q[Z].v.Vrtc.v)}c[X]=C}}else if(X=="vibA"){c[X]={classID:"null",vibrance:{t:"long",v:N[0]},Strt:{t:"long",v:N[1]}}}else if(X=="grdm"){c[X].c=N[0];
c[X].rev=N[1]}else if(X=="blwh")BP.write(X,N,c[X]);else if(X=="phfl"){var W={color:{Xs:7,L_:[8445,-4871,1032,0]},XK:N.XK,Xv:N.Xv},s=I.c.si(N.mZ);
W.color.L_=BP.aF([s.W,s.d,s.w,0]);c[X]=W}else c[X]=N};var _E={};_E.aN=[{aY:"LqFy"},{az:[24,2],aD:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,\0\0\x02\xB5".split(",")},{az:[24,6],aD:["AdNs","DstS","Mdn "]},{az:[24,8],aD:["ClrH","Msc "]},{az:[24,10],aD:["Clds"]},{az:[24,12],aD:["Shrp","ShrM","UnsM"]},{az:[24,14],aD:["FndE"]},{az:[24,16],aD:["HghP","Mxm ","Mnm ","Ofst"]}];
_E.names={LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],"\0\0\x02\xB5":[24,3,10],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],"Msc ":[24,9,5],Clds:[24,11,0],Shrp:[24,13,0],ShrM:[24,13,2],UnsM:[24,13,4],FndE:[24,15,3],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4]};
_E.am=function(N){var c=null;if(N=="LqFy"){var X={ML:50,MC:50,map:new Float32Array(50*50*2)},l=new Uint8Array(BN.Zs(X)),C=[];
for(var q=0;q<l.length;q++)C.push(l[q]);c={__name:"Liquify\0",classID:"LqFy",LqMe:{t:"tdta",v:C}}}if(N=="\0\0\x02\xB1")c={__name:"Box Blur\0",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};
if(N=="GsnB")c={__name:"Gaussian Blur\0",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};if(N=="\0\0\x02\xB5")c={__name:"Surface Blur\0",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(N=="AdNs")c={__name:"Add Noise\0",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(N=="DstS")c={__name:"Dust & Scratches\0",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};
if(N=="Mdn ")c={__name:"Median\0",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};if(N=="ClrH")c={__name:"Color Halftone\0",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(N=="Msc ")c={__name:"Mosaic\0",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(N=="UnsM")c={__name:"Unsharp Mask\0",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(N=="HghP")c={__name:"High Pass\0",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(N=="Mxm ")c={__name:"Maximum\0",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(N=="Mnm ")c={__name:"Minimum\0",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(N=="Ofst")c={__name:"Offset\0",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(N=="brit")c={__name:"Brightness/Contrast\0",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(N=="levl")c={__name:"Levels\0",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(N=="curv")c={__name:"Curves\0",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(N=="expA")c={__name:"Exposure\0",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:0}};
if(N=="vibA")c={__name:"Vibrance\0",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};
if(N=="hue2")c={__name:"Hue/Saturation\0",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(N=="blnc")c={__name:"Color Balance\0",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(N=="blwh")c={__name:"Black & White\0",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(N=="phfl")c={__name:"Photo Filter\0",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(N=="grdm")c={__name:"Gradient Map\0",classID:"GrMp",Rvrs:{t:"bool",v:!0},Grad:JSON.parse(F.cw[6]).Grad};
if(N=="selc")c={__name:"Selective Color\0",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Absl"}},ClrC:{t:"VlLs",v:[]}};
if(N=="thrs")c={__name:"Threshold\0",classID:"Thrs",Lvl:{t:"long",v:128}};if(N=="mixr")c={__name:"Channel Mixer\0",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
return c};_E._RG=function(N){var c=new k(0,0);if(N.enab.v==!1)return c;var X=N.filterFXList.v;for(var l=0;
l<X.length;l++){var C=X[l].v,J=0,Z=0;if(C.enab.v==!1)continue;var q=_.RU(C.filterID.v);if("Blr ,BlrM,GsnB,\0\0\x02\xB1,UnsM,HghP".split(",").indexOf(q)!=-1){var W;
if(q=="Blr ")W=.5;if(q=="BlrM")W=.8;if(["GsnB","\0\0\x02\xB1","UnsM","HghP"].indexOf(q)!=-1)W=C.Fltr.v.Rds.v.val;
J=Z=W*2.57}if(q=="Ofst"||q=="LqFy"){J=Z=1e4}J=Math.ceil(J);Z=Math.ceil(Z);if(J>c.x)c.x=J;if(Z>c.y)c.y=Z}return c};
_E.ap=function(N,c,X,l,C,q){if(q==null)q={buffer:I.a(c.buffer.length),rect:c.rect.clone()};I.Tx(c.buffer,q.buffer);
if(N=="Avrg"){var J=0,Z=0,W=0,s=0,t=1;for(var T=0;T<c.buffer.length;T+=4){var g=c.buffer[T+3];W+=c.buffer[T]*g;
Z+=c.buffer[T+1]*g;J+=c.buffer[T+2]*g;s+=g}var R=1/s;J=Math.round(t*(J*R)+(1-t)*255);Z=Math.round(t*(Z*R)+(1-t)*255);
W=Math.round(t*(W*R)+(1-t)*255);I.Tr(q.buffer,J<<16|Z<<8|W,4278190080)}if("Blr ,BlrM,GsnB,\0\0\x02\xB1,UnsM,HghP".split(",").indexOf(N)!=-1){var P;
if(N=="Blr ")P=.5;if(N=="BlrM")P=.8;if(["GsnB","\0\0\x02\xB1","UnsM","HghP"].indexOf(N)!=-1)P=X.Rds.v.val;
var O=N=="\0\0\x02\xB1"?I.blur.ID:I.blur.IY;_E.ab(P,O,q.buffer,q.rect);if(N=="UnsM"){var b=X.Amnt.v.val/100,z=X.Thsh.v;
for(var T=0;T<c.buffer.length;T++){if((T&3)==3){q.buffer[T]=c.buffer[T];continue}var m=c.buffer[T],f=q.buffer[T],B=b*(m-f);
if(B>0)B=Math.max(0,B-z);else B=Math.min(0,B+z);q.buffer[T]=Math.max(0,Math.min(255,m+B))}}if(N=="HghP")for(var T=0;
T<c.buffer.length;T++){if((T&3)==3){q.buffer[T]=c.buffer[T];continue}var m=c.buffer[T],f=q.buffer[T];
q.buffer[T]=Math.max(0,Math.min(255,128+m-f))}}if(N=="\0\0\x02\xB5"){var K=X.Rds.v.val,j=X.Thsh.v,S=c.rect.h,r=c.rect.s,n=new I.IL(S*r);
I.TZ(c.buffer,n);var o=new I.IL(S*r);I.BG.Be(n.W,n.u,o.W,S,r,K,I.BG.s_,[j]);I.BG.Be(n.d,n.u,o.d,S,r,K,I.BG.s_,[j]);
I.BG.Be(n.w,n.u,o.w,S,r,K,I.BG.s_,[j]);I.Tx(n.u,o.u);I.TL(o,q.buffer)}if(N=="AdNs"){var y=new Uint8ClampedArray(q.buffer.buffer),D=255*X.Nose.v.val/100,x;
if(X.Dstr.v.Dstr=="Gsn")x=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else x=function(){return Math.random()*2-1};for(var T=0;T<y.length;T+=4){var K=y[T],A=y[T+1],e=y[T+2],U,L,Y;
if(X.Mnch.v){U=L=Y=x()}else{U=x();L=x();Y=x()}K+=D*U;A+=D*L;e+=D*Y;y[T]=K;y[T+1]=A;y[T+2]=e}}if(N=="Mdn "||N=="DstS"||N=="Mxm "||N=="Mnm "){var K=0;
if(N=="Mdn "||N=="Mxm "||N=="Mnm ")K=X.Rds.v.val;if(N=="DstS")K=X.Rds.v;var O=I.BG._RQ;if(N=="Mxm ")O=I.BG._sy;
if(N=="Mnm ")O=I.BG._sO;var S=c.rect.h,r=c.rect.s,n=new I.IL(S*r);I.TZ(c.buffer,n);var o=new I.IL(S*r);
I.BG.Be(n.W,n.u,o.W,S,r,K,O);I.BG.Be(n.d,n.u,o.d,S,r,K,O);I.BG.Be(n.w,n.u,o.w,S,r,K,O);if(N=="Mdn "){I.set(n.W,255);
I.BG.Be(n.u,n.W,o.u,S,r,K,O)}else if(N=="Mxm "||N=="Mnm "){var E=I.a(n.u.length);I.set(E,255);I.Tk(n.u);
I.BG.Be(n.u,E,o.u,S,r,K,O);I.Tk(n.u);I.Tk(o.u)}else I.Tx(n.u,o.u);I.TL(o,q.buffer);if(N=="DstS"){var j=X.Thsh.v;
for(var T=0;T<S*r*4;T++){var i=Math.abs(c.buffer[T]-q.buffer[T]);if(i<=j)q.buffer[T]=c.buffer[T]}}}if(N=="ClrH"){var K=X.Rds.v;
K=Math.round(K*Math.sqrt(2));var S=c.rect.h,r=c.rect.s,n=new I.IL(S*r);I.TZ(c.buffer,n);I.Tk(n.W);I.Tk(n.d);
I.Tk(n.w);var a=d.S("canvas","");a.width=S;a.height=r;var V=a.getContext("2d"),G=I.a(S*r*4);for(var $=0;
$<3;$++){var p=$==0?n.W:$==1?n.d:n.w,w=Math.PI*X["Ang"+($+1)].v/180,BX=new Bh(1/K,0,0,1/K,0,0);BX.rotate(w);
I.TP(p,G,3);var Bn=H.r.kP([G,c.rect],BX,!0),Be=Bn.rect;V.clearRect(0,0,S,r);var BW=Math.sin(w),Bt=Math.cos(w);
for(var T=0;T<Be.s;T++)for(var Bq=0;Bq<Be.h;Bq++){var Bd=(Bq+Be.x+.5)*K,Bg=(T+Be.y+.5)*K,sE=Bd,s_=Bg;
Bd=Bt*sE-BW*s_;Bg=BW*sE+Bt*s_;var sT=Bn.buffer[(T*Be.h+Bq<<2)+3]*(1/255),P=K*Math.sqrt(sT*(1/Math.PI));
V.beginPath();V.arc(Bd,Bg,P,0,2*Math.PI);V.fill()}var sI=V.getImageData(0,0,S,r);I.TR(sI.data,p,3)}I.Tk(n.W);
I.Tk(n.d);I.Tk(n.w);I.TL(n,q.buffer)}if(N=="Msc "){var sB=X.ClSz.v.val,S=c.rect.h,r=c.rect.s,ss=Math.ceil(S/sB),sK=Math.ceil(r/sB),sv=I.a(ss*sK*4);
I.scale.vc(c.buffer,S,r,sv,ss,sK,1/sB);I.scale.vc(sv,ss,sK,q.buffer,S,r,sB)}if(N=="Clds"){I.Tr(q.buffer,4278190080);
var s$=new Float32Array(q.rect.n()),sU=0;for(var T=0;T<8;T++){noise.seed(Math.random());var sL=Math.pow(2,T),sC=sL/170,sZ=1/sL;
sU+=sZ;for(var Bg=0;Bg<q.rect.s;Bg++)for(var Bd=0;Bd<q.rect.h;Bd++)s$[Bg*q.rect.h+Bd]+=noise.perlin2(Bd*sC,Bg*sC)*sZ}sU=1/sU;
for(var T=0;T<s$.length;T++){var sR=Math.max(0,Math.min(1,.5+.7*s$[T]*sU)),sP=1-sR;q.buffer[4*T]=Math.round(sR*l.W+sP*C.W);
q.buffer[4*T+1]=Math.round(sR*l.d+sP*C.d);q.buffer[4*T+2]=Math.round(sR*l.w+sP*C.w)}}if(N=="Shrp"||N=="ShrM"){var S=c.rect.h,r=c.rect.s,sh;
if(N=="Shrp")sh=14;if(N=="ShrM")sh=11;var sr=I.BG.BX([-1,-1,-1,-1,sh,-1,-1,-1,-1]);I.BG.Bn(c.buffer,q.buffer,S,r,sr,3)}if(N=="FndE"){var S=c.rect.h,r=c.rect.s;
_E._Bw(c.buffer,q.buffer,S,r)}if(N=="Ofst"){var S=c.rect.h,r=c.rect.s,sS=new Uint32Array(c.buffer.buffer),sf=new Uint32Array(q.buffer.buffer),sE=X.Hrzn.v,s_=X.Vrtc.v,sx=X.Fl.v.FlMd;
I.Tr(sf,0);if(sx=="Bckg"||sx=="Rpt"){var sQ=c.rect.clone();sQ.offset(sE,s_);I.TF(sS,sQ,sf,q.rect)}if(sx=="Rpt"){var sA,sk,su,sp,sa;
sE=Math.max(-S,Math.min(S,sE));s_=Math.max(-r,Math.min(r,s_));sA=sE>0?sE:0;su=sE>0?S:S+sE;sk=s_>0?0:s_+r;
sp=s_>0?s_:r;sa=s_>0?0:S*(r-1);for(var Bg=sk;Bg<sp;Bg++)for(var Bd=sA;Bd<su;Bd++)sf[Bg*S+Bd]=sS[sa+Bd-sE];
sA=sE>0?0:S+sE;su=sE>0?sE:S;sk=s_>0?s_:0;sp=s_>0?r:r+s_;sa=sE>0?0:S-1;for(var Bg=sk;Bg<sp;Bg++)for(var Bd=sA;
Bd<su;Bd++)sf[Bg*S+Bd]=sS[sa+S*(Bg-s_)];if(sE>=0&&s_>=0){sA=0;su=sE;sk=0;sp=s_;sa=0}if(sE>=0&&s_<0){sA=0;
su=sE;sk=r+s_;sp=r;sa=S*(r-1)}if(sE<0&&s_>=0){sA=S+sE;su=S;sk=0;sp=s_;sa=S-1}if(sE<0&&s_<0){sA=S+sE;
su=S;sk=r+s_;sp=r;sa=S*r-1}for(var Bg=sk;Bg<sp;Bg++)for(var Bd=sA;Bd<su;Bd++)sf[Bg*S+Bd]=sS[sa]}if(sx=="Wrp"){sE=(sE+100*S)%S;
s_=(s_+100*r)%r;var sQ=new u(sE-S,s_-r,S,r);I.TF(sS,sQ,sf,q.rect);sQ.offset(S,0);I.TF(sS,sQ,sf,q.rect);
sQ.offset(0,r);I.TF(sS,sQ,sf,q.rect);sQ.offset(-S,0);I.TF(sS,sQ,sf,q.rect)}}if(N=="LqFy"){var si=X.LqMe.v,sw=BN.ZB(new Uint8Array(si).buffer),S=c.rect.h,r=c.rect.s;
I.KE.K_(c.buffer,q.buffer,S,r,null,sw.map,sw.ML,sw.MC)}return q};_E._Bw=function(N,c,X,l){var C=I.a(N.length);
I.BG.Bn(N,c,X,l,[-1,0,1,-2,0,2,-1,0,1],3);I.BG.Bn(N,C,X,l,[1,2,1,0,0,0,-1,-2,-1],3);for(var q=0;q<C.length;
q+=4){var J=c[q],Z=c[q+1],W=c[q+2],s=c[q+3],t=C[q],T=C[q+1],g=C[q+2],R=C[q+3];c[q]=255-Math.max(0,Math.min(255,Math.sqrt(J*J+t*t)));
c[q+1]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+T*T)));c[q+2]=255-Math.max(0,Math.min(255,Math.sqrt(W*W+g*g)))}};
_E.ab=function(N,c,X,l){_E._KJ(X);var C=new I.IL(l.n());I.TZ(X,C);c(C.W,C.W,l,N);c(C.d,C.d,l,N);c(C.w,C.w,l,N);
c(C.u,C.u,l,N);I.TL(C,X);_E._KH(X)};_E._KJ=function(N){var c=N.length;for(var X=0;X<c;X+=4){var l=N[X+3];
if(l==255)continue;N[X]=I.TY(N[X]*l);N[X+1]=I.TY(N[X+1]*l);N[X+2]=I.TY(N[X+2]*l)}};_E._KH=function(N){var c=N.length,X=_E._KN;
for(var l=0;l<c;l+=4){var C=N[l+3];if(C==0||C==255)continue;var q=255/C;N[l]=~~(N[l]*q+.5);N[l+1]=~~(N[l+1]*q+.5);
N[l+2]=~~(N[l+2]*q+.5)}};_E._KN=function(){var N=new Uint8Array(256*256);for(var c=0;c<256;c++)for(var X=0;
X<256;X++)N[X*256+c]=Math.round(255*c/X);return N}();_E.aW=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
_E.at=function(N,c){var X={W:c.Wp>>16,d:c.Wp>>8&255,w:c.Wp&255},l={W:c.Wa>>16,d:c.Wa>>8&255,w:c.Wa&255},C=_E.names[N];
if(C==null)C=BP.names[N];var q=N;for(var J in BP.aV)if(BP.aV[J]==N)q=J;var Z={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:BT.get(C)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:I.c.sw(X)},BckC:{t:"Objc",v:I.c.sw(l)},filterID:{t:"long",v:_._KP(q)}}};
if(TK[N]||Ts[N])Z.v.Fltr={t:"Objc",v:_E.am(N)};return Z};function __(){}__.aq="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
__.ad="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
__.ag="Normal,Dissolve,Darken,Multiply,Color Burn,Linear Burn,Darker Color,Lighten,Screen,Color Dodge,Linear Dodge,Lighter Color,Overlay,Soft Light,Hard Light,Vivid Light,Linear Light,Pin Light,Hard Mix,Difference,Exclusion,Subtract,Divide,Hue,Saturation,Color,Luminosity".split(",");
__.iE=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
__.i_=function(N){if(N=="passThrough")return"pass";return __.aq[__.ad.indexOf(N)]};__._Ta=function(N){if(N=="pass")return"passThrough";
return __.ad[__.aq.indexOf(N)]};__.getName=function(N){return __.ag[__.aq.indexOf(N)]};function v(){this.rect=null;
this.bg="norm";this.opacity=255;this.Xy=!1;this.Xj=0;this.XG=0;this.XN=[0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535];
this.name=null;this.add={};this.buffer=null;this.Xl=null;this.Xo=null;this.b=null;this.XF=null;this.rT=0;
this.Tf=d.S("canvas","").getContext("2d");this.NM=d.S("canvas","").getContext("2d");this._o=d.S("canvas","").getContext("2d");
this.YO=d.S("canvas","").getContext("2d");this.X=0;this.gB=!1;this.WO=null;this.k=new v.iI}v.iI=function(){this.aB=!0;
this.rI=!0;this.IS=I.a(0);this.lJ=I.a(0);this.nM=null;this.ek={};this.De=null;this.YX=null;this.Nt=null;
this.hD=null;this.Ln=null;this.hJ=null;this.Pz=null;this.tV=null;this.hp=null;this.Iy=null;this.sG=null;
this.RK=null;this.CV=!1};v.iI.prototype.iB=function(){this.aB=!1;this.rI=!1;this.nM=null;this.CV=h.LH};
v.iI.prototype._RS=function(){_$.cX(this.ek);this.IS=I.a(0);this.lJ=I.a(0);if(this.hD)this.hD.delete();
if(this.Ln)this.Ln.delete();this.hD=null;this.Ln=null;var N=[this.hJ,this.Pz,this.tV,this.hp,this.Iy,this.sG];
for(var c=0;c<6;c++)if(N[c]!=null&&N[c]instanceof h.IL)N[c].delete();this.hJ=null;this.Pz=null;this.tV=null;
this.hp=null;this.Iy=null;this.sG=null};v.prototype._=function(N){if(N==null)N=this.rect.clone();if(this.k.nM==null)this.k.nM=N;
else this.k.nM=this.k.nM.vz(N)};v.prototype.iv=function(){return this.add.lsct==_I.iW||this.add.lsct==_I.it};
v.prototype.i$=function(){var N=this.add;return N.SoCo!=null||N.GdFl!=null||N.PtFl!=null};v.prototype.iU=function(){var N=this.add.lmfx;
if(N==null)return;var c=["GrFl","patternFill"];for(var X=0;X<c.length;X++){var l=F.cf[F.order.indexOf(c[X])],C=N[l].v;
if(C.length==0)continue;for(var q=0;q<C.length;q++){var J=C[q].v;if(J.enab.v&&(J.Algn==null||!J.Algn.v))this.k.rI=!0}}};
v.prototype.iL=function(){var N=this.b;if(this.i$())N=this.im();if(!h.LH)return N.wE();if(this.k.Ln==null||this.k.aB||h.LH!=this.k.CV){if(this.k.Ln)this.k.Ln.delete();
this.k.Ln=new h.CE(N.xG().h,N.xG().s);this.k.Ln.set(N.wE())}return this.k.Ln};v.prototype.iC=function(N){var c=this.rect,X=this.buffer;
if(!h.LH){var l=this.iR(N,X,c);if(l){X=l.Ml;c=l.rect}return X}if(this.k.nM!=null||h.LH!=this.k.CV){var l=this.iR(N,X,c);
if(l){X=l.Ml;c=l.rect}var C=c;if(h.LH!=this.k.CV||this.k.hD==null||this.k.hD.h!=C.h||this.k.hD.s!=C.s){if(this.k.hD)this.k.hD.delete();
this.k.hD=new h.IL(C.h,C.s);this.k.hD.set(X)}else{var q=this.k.nM.clone();q.offset(-c.x,-c.y);this.k.hD.set(X,q)}}return this.k.hD};
v.prototype.iZ=function(){var N=this.b;if(this.i$())N=this.im();return N!=null&&N.isEnabled&&(N.si()==0||N.si()!=0&&!N.rect.BH())};
v.prototype.iR=function(N,c,X){if(this.iF()){var l=this.iM(N);if(l.b&&l.b.isEnabled&&(!l.b.rect.BH()||l.b.color==0)){var C=this.add.SoLd.filterFX.v;
l.b.Gy=C.filterMaskDensity?C.filterMaskDensity.v:255;l.b.XO=C.filterMaskFeather?C.filterMaskFeather.v:0;
var q=l.buffer,J=l.b.wT(X);I.Tk(J);c=I.clone(c);I.B.Iw(q,l.rect,c,X,J,X,0,X,1);return{Ml:c,rect:X}}}};
v.prototype._LJ=function(){var N={Oj:!1,KT:!1,__k:0,__u:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)N.KT=!0;
if(this.im()&&this.im().isEnabled)N.Oj=!0;if(N.Oj&&N.KT){N.__k=this.im().rect.x-this.add.vmsk.im().rect.x;
N.__u=this.im().rect.y-this.add.vmsk.im().rect.y}return N};v.prototype.ih=function(N){if(this.add.lsct==_I.iq)return;
var c=this,X=this.im()!=null&&this.im().Xe,l=this.add.vmsk!=null&&this.add.vmsk.Xe,C=this._LJ(),q=JSON.stringify(C)!=this.k.De||C.Oj&&X||C.KT&&l;
if(q){if(C.KT){var J=this.add.vmsk.im();if(C.Oj){this.b=this.im().sr(J);this.k.YX=new k(this.b.rect.x-this.im().rect.x,this.b.rect.y-this.im().rect.y)}else this.b=J}if(this.b)this.k.aB=!0;
if(this.b)this.k.Nt=new k(this.rect.x-this.b.rect.x,this.rect.y-this.b.rect.y);if(C.Oj)this.im().Xe=!1;
if(C.KT)this.add.vmsk.Xe=!1;this._()}else{if(C.Oj&&C.KT){this.b.rect.x=this.im().rect.x+this.k.YX.x;
this.b.rect.y=this.im().rect.y+this.k.YX.y}}if(c.i$()){this.ir(N)}if(c.iV()){var Z;if(this.b)Z=new k(this.rect.x-this.b.rect.x,this.rect.y-this.b.rect.y);
if(this.b&&this.b.isEnabled&&(this.k.Nt==null||!Z.TA(this.k.Nt))){this.k.Nt=Z;this._();this.k.aB=!0}}if(BP.get(c.add)!=null)this.k.aB=!0;
this.k.De=JSON.stringify(C)};v.prototype.ir=function(N){var c=this,X=c.add.vstk,l,C=c.add.vmsk?this.add.vmsk.im():null,J=!0;
if(C&&C.isEnabled&&C.si()==0)l=C.xG().clone();else l=new u(0,0,N.h,N.s);var q=c.im();if(q&&q.isEnabled&&q.si()==0)l=l.vm(c.b.xG());
if(X&&!X.fillEnabled.v)J=!1;var Z=C&&X;if(X&&(!X.strokeEnabled.v||X.strokeStyleLineWidth.v.val==0))Z=!1;
var W=I.a(l.n()*4);if(J){if(c.add.SoCo)_$.l$(W,c.add.SoCo.Clr.v);if(c.add.GdFl)_$.lE(c.add.GdFl,W,l,N,null,C&&C.color==0?C.rect:null);
if(c.add.PtFl)_$.vp(c.add.PtFl,W,l,N,c.add.fxrp)}if(C){var s=C.Gy;if(Z)C.Gy=255;var t=I.a(l.n());if(C.si()!=0)I.set(t,Math.round(C.si()));
if(C&&C.isEnabled){var T=C.xG(),g=C.wE();if(T.TA(l))I.Tx(g,t);else I.Ty(g,T,t,l)}if(c.add.SoCo&&J){I.TP(t,W,3)}else I.Tb(t,l,W,l);
if(Z)C.Gy=s}c.buffer=W;c.rect=l;if(Z){var R=F.cF.cN.indexOf(X.strokeStyleLineAlignment.v.strokeStyleLineAlignment),P=X.strokeStyleContent.v,O=F.cF.cY.indexOf(P.classID),b=this.add.vmsk.im(X);
if(c.rect.TA(new u(0,0,N.h,N.s)))c.rect=c.rect;else if(R!=0){var z=c.rect.vz(b.xG()),m=I.a(z.n()*4);
I.TF(c.buffer,c.rect,m,z);c.buffer=m;c.rect=z}var s=b.Gy;b.Gy=255;var f=b.wT(c.rect);b.Gy=s;if(b.color==255)I.Tk(f);
var B=I.a(c.rect.n()*4);if(O==0)_$.l$(B,P.Clr.v);if(O==1)_$.lE(P,B,c.rect,N,null,C.color==0?C.rect:null);
if(O==2)_$.vp(P,B,c.rect,N,c.add.fxrp);var K=X.strokeStyleOpacity.v.val/100;if(K!=1)I.Tz(f,K);I.TP(f,B,3);
if(b.color==255)R=2-R;if(R==0){I.B.Ih("norm",B,c.rect,c.buffer,c.rect,c.rect,1);I.Tb(t,c.rect,c.buffer,c.rect)}if(R==1){I.B.Ih("norm",B,c.rect,c.buffer,c.rect,c.rect,1)}if(R==2){I.Tk(t);
I.B.Iw(B,c.rect,c.buffer,c.rect,t,l,255,c.rect,1,!1);I.Tk(t)}if(b.Gy!=255){var j=I.clone(B);I.Tr(j,4278190080,16777215);
I.B.Ih("norm",j,c.rect,c.buffer,c.rect,c.rect,1-b.Gy/255)}s=C.Gy;C.Gy=255;this.lJ=C.wT(c.rect);C.Gy=s}this._()};
v.prototype.iS=function(N,c){var X=this,l=X.add.SoLd.Idnt.v,C=X.add.SoLd,q=N.Vg(l,C.Crop?C.Crop.v:null);
if(q==null)return;var J=q.ny;C.Sz.v.Wdth.v=J[1].h;C.Sz.v.Hght.v=J[1].s;var Z=C.warp.v,W=H.r.kS(C.nonAffineTransform),s=I.sv.sU(W,J[1]);
if(Z&&!I.Uj.Uo(Z)){var t=I.z.sX(I.Uj.UH(Z)),T=t.x,g=t.y,R=1/t.h,P=1/t.s;s=I.sv.sU(W);s=I.sv.sr(s,[R,0,-T*R,0,P,-g*P,0,0])}var O=H.r.kh(J,c,s,Z);
if(O==null){X.buffer=I.a();X.rect=new u}else if(X.iF()){var b=X.iM(N);b.buffer=O.buffer;b.rect=O.rect.clone();
this.if(N,c)}else{X.buffer=O.buffer;X.rect=O.rect}X.ih(N);X._();N._()};v.prototype.if=function(N,c){if(c==null)c=!1;
var X=this.iM(N),l=this.add.SoLd.filterFX.v,C=_E._RG(l),q=new u(0,0,N.h,N.s),J=X.rect.vz(q),Z=X.rect.clone();
Z.PY(C.x,C.y);var W={buffer:null,rect:J.vm(Z)};W.buffer=I.a(W.rect.n()*4);I.TF(X.buffer,X.rect,W.buffer,W.rect);
if(l.enab.v&&c==!1){var s=l.filterFXList.v;for(var t=0;t<s.length;t++){var T=s[t].v;if(T.enab.v==!1)continue;
var g=I.c.si(T.FrgC.v),R=I.c.si(T.BckC.v),P=_.RU(T.filterID.v),O=T.Fltr?T.Fltr.v:null;if(BP.aV[P]!=null){var b=BP.aV[P],z=BP.aj(b,O),m=BP.au(b,z);
BP.ap(m,W.buffer,W.buffer)}else W=_E.ap(P,W,O,g,R)}}this.rect=W.rect;this.buffer=W.buffer;this.I_();
this._();N._()};v.prototype.ix=function(N,c,X){this.WO=this.iA(N,c,X)};v.prototype.iQ=function(N,c){var X=this.iA(N,c,!0);
if(X==null)return null;var l={gb:X.X,qx:X.Wo,rect:X.GO};if(l.gb==1||l.gb==3){var C=l.rect,q=I.a(C.h*C.s*4);
I.TP(l.qx,q,0);I.TP(l.qx,q,1);I.TP(l.qx,q,2);I.Tj(N.G.channel,N.G.rect,q,C);l.qx=q}return l};v.prototype.iA=function(N,c,X){var l,C,q,J,Z,W,s;
if(this.X<=0){var t=I.a(this.rect.h*this.rect.s);I.TR(this.buffer,t,3);l=I.vH.vN(c,{channel:t,rect:this.rect},"intersection");
if(l==null)return null;var T=I.Tg(l.channel,l.rect);J=l.rect.clone();Z=this.rect.clone();C=I.a(J.h*J.s*4);
I.TF(this.buffer,Z,C,J);I.TP(l.channel,C,3);q=I.clone(this.buffer);if(!X){var g=I.clone(c.channel);I.Tk(g);
I.Tb(g,c.rect,q,Z)}W=I.clone(this.buffer);s=this.rect.clone()}if(this.X==1||this.X==3){var R=this.X==1?this.im():this.iM(N).b;
J=c.rect.clone();Z=R.rect.clone();C=R.w_(J);var q=I.clone(R.channel);if(!X)I.B.Io(R.color==255?I.IK(J.h*J.s):I.I$(J.h*J.s),J,q,Z,c.channel,J,1);
W=I.clone(R.channel);s=R.rect.clone()}return{X:this.X,Wo:C,GO:J,n$:q,tw:Z,NC:W,Yj:s}};v.prototype.ik=function(N,c){var X=this.WO;
if(X.X==0){this.rect=X.Yj;this.buffer=X.NC;this._()}if(X.X==1||X.X==3){var l=X.X==1?this.im():this.iM(N).b;
l.channel=X.NC;l.rect=X.Yj;if(this.X==1){l.Xe=!0;this.ih(N)}if(this.X==3)this._()}this.WO=c};v.prototype.iu=function(N,c){var X=this.WO;
if(X==null)return!1;if(X.X!=this.X)return!1;if(!c.rect.TA(X.GO))return!1;var l=X.tw.vz(X.GO);if(X.X<=0){if(!l.TA(this.rect))return!1;
var C=I.a(X.Wo.length>>2);I.TR(X.Wo,C,3);if(!I.TA(c.channel,C))return!1;var q=I.a(l.h*l.s*4);I.TF(X.n$,X.tw,q,l);
I.B.Ih("norm",X.Wo,X.GO,q,l,l,1);return I.TA(q,this.buffer)}if(X.X==1||X.X==3){var J=X.X==1?this.im():this.iM(N).b;
if(!l.TA(J.rect))return!1;var Z=I.a(l.n());I.set(Z,J.color);I.Ty(X.n$,X.tw,Z,l);I.B.Io(X.Wo,X.GO,Z,l,c.channel,l,1);
return I.TA(Z,J.channel)}};v.prototype.ip=function(N,c,X,l){var C=this.WO;C.GO.offset(c,X);var q=C.tw.vz(C.GO);
if(C.X<=0){var J=I.a(q.n()*4);I.TF(C.n$,C.tw,J,q);I.B.Ih("norm",C.Wo,C.GO,J,q,q,1);this.buffer=J;this.rect=q;
this._()}else{var Z=this.X==1?this.im():this.iM(N).b,W=I.a(q.n());I.set(W,Z.color);I.Ty(C.n$,C.tw,W,q);
I.B.Io(C.Wo,C.GO,W,q,l.channel,q,1);Z.channel=W;Z.rect=q.clone();if(this.X==1){Z.Xe=!0;this.ih(N)}if(this.X==3)this._()}};
v.prototype.ia=function(){var N=[-1,0,1,2];if(this.b)N.push(-2);if(this.XF)N.push(-3);return N};v.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
v.prototype.ii=function(N){this.add.luni=this.name=N};v.prototype.iw=function(){return(this.Xj&1<<1)==0};
v.prototype.iV=function(){return(this.Xj&1<<4)==0};v.prototype.ic=function(){return(this.Xj&1<<5)!=0};
v.prototype._Rh=function(){var N=this.add.lspf;return N==null?!1:(N>>0&1)!=0};v.prototype._Lv=function(){var N=this.add.lspf;
return N==null?!1:(N>>1&1)!=0};v.prototype._$Y=function(){var N=this.add.lspf;return N==null?!1:(N>>2&1)!=0};
v.prototype._TE=function(){var N=this.add.lspf;return N==null?!1:(N>>31&1)!=0};v.prototype.io=function(N){if(N&&!this.iw())this.Xj-=2;
if(!N&&this.iw())this.Xj+=2};v.prototype.iO=function(){var N=this.add.lmfx;if(N==null)return!1;for(var c in N){if(c=="masterFXSwitch")continue;
if(c=="Scl")continue;if(c=="classID")continue;if(N[c].v.length>0)return!0}return!1};v.prototype.iF=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
v.prototype.iH=function(){var N=this.add.lmfx;if(N==null)return!1;if(!N.masterFXSwitch.v)return!1;for(var c in N){if(c=="masterFXSwitch")continue;
if(c=="Scl")continue;if(c=="classID")continue;var X=N[c].v;for(var l=0;l<X.length;l++)if(X[l].v.enab.v)return!0}return!1};
v.prototype.iN=function(N,c,X){var l=new u,C=this.iD(N,X);if(C.indexOf(0)!=-1)l=l.vz(this.rect);if(C.indexOf(1)!=-1)l=l.vz(this.im().xG());
if(C.indexOf(2)!=-1){var q=this.add.vmsk;l=l.vz(I.D.$W(q.p,q.Q.length!=0&&c?q.Q:null))}if(C.indexOf(3)!=-1)l=l.vz(this.iM(N).b.xG());
if(C.length==0&&this.i$())l=new u(0,0,N.h,N.s);return l};v.prototype.iY=function(){var N=this.add.artb.artboardRect.v,c=N.Btom.v,X=N.Left.v,l=N.Rght.v,top=N.Top.v;
return new u(X,top,l-X,c-top)};v.prototype.iz=function(N){var c={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
c.Btom.v=N.y+N.s;c.Left.v=N.x;c.Rght.v=N.x+N.h;c.Top.v=N.y;if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null}};
this.add.artb.artboardRect.v=c};v.prototype.iD=function(N,c){var X=[],l=this;if(l.X<=0||c){if(l.iV())if(!this.rect.BH())X.push(0);
if(l.im()&&!l.im().rect.BH())if(l.im().XS||c)X.push(1);if(l.add.vmsk)if(l.add.vmsk.XS||c)X.push(2);if(l.iF()&&l.iM(N).b&&!l.iM(N).b.rect.BH())X.push(3)}else if(l.X==1){X.push(1);
if(l.im().XS&&!l.im().rect.BH()){if(l.iV())if(!this.rect.BH())X.push(0);if(l.add.vmsk)if(l.add.vmsk.XS)X.push(2)}}else if(l.X==3&&!l.iM(N).b.rect.BH())X.push(3);
if(l.add.artb&&X.indexOf(0)==-1)X.push(0);X.sort();return X};v.prototype.im=function(){var N=this;return N.XF?N.XF:N.add.vmsk&&N.add.vmsk.isEnabled?null:N.b};
v.prototype.iM=function(N){var c=this.add.SoLd.placed.v,X=N.add.FEid;if(X==null)return null;for(var l=0;
l<X.length;l++)if(X[l].id==c)return X[l];return null};v.prototype.extend=function(N){I._Ef(this,N)};
v.prototype.iG=function(N,c){var X=N.clone();if(this.iH()){var l=this.add.lmfx,C=c.root.VC(c.R.indexOf(this)),q=l.gradientFillMulti.v,J=!1;
for(var Z=0;Z<q.length;Z++)if(q[Z].v.enab.v&&q[Z].v.Algn.v)J=!0;if(J)X=X.vz(C.xG(c,!1));var W=_$._PD(this,c);
X.offset(W.x,W.y);X.h+=W.h;X.s+=W.s}return X};v.prototype.I_=function(){if(this.iV())I.IT(this);var N=this.im();
if(N)N.I_()};v.prototype.clone=function(){var N=new v;N.rect=this.rect.clone();N.buffer=I.clone(this.buffer);
N.bg=this.bg;N.opacity=this.opacity;N.Xy=this.Xy;N.Xj=this.Xj;N.name=this.name;if(this.b)N.b=this.b.clone();
if(this.XF)N.XF=this.XF.clone();for(var c in this.add)N.add[c]=BK.clone(c,this.add[c]);return N};v.prototype.ib=function(N){var c=this;
if(c.add.TySh)delete c.add.TySh;if(c.add.SoLd){var X=this.iR(N,this.buffer,this.rect);if(X){this.buffer=X.Ml;
this.rect=X.rect;this._()}delete c.add.SoLd}if(c.add.SoCo||c.add.GdFl||c.add.PtFl){if(c.add.SoCo)delete c.add.SoCo;
if(c.add.GdFl)delete c.add.GdFl;if(c.add.PtFl)delete c.add.PtFl;if(c.add.vmsk){console.log(c.XF,c.b);
delete c.add.vmsk;if(c.XF==null&&c.b)delete c.b;else if(c.XF!=null&&c.b!=null){c.b=c.XF;delete c.XF}}}if(!c.iv()&&BP.get(c.add)==null&&!this.iV())this.Xj-=16};
v.prototype.iX=function(N){var c=255,X=0;if(N==2){var l=this.add.SoLd.filterFX.v;if(l.filterMaskDensity)c=l.filterMaskDensity.v;
if(l.filterMaskFeather)X=l.filterMaskFeather.v}else{var C=N==0?this.im():this.add.vmsk;c=C.Gy;X=C.XO}return{aI:N,hd:c,hq:X}};
v.prototype.in=function(N){if(N.aI==2){var c=this.add.SoLd.filterFX.v;if(N.hd==255)delete c.filterMaskDensity;
else c.filterMaskDensity={t:"long",v:N.hd};if(N.hq==0)delete c.filterMaskFeather;else c.filterMaskFeather={t:"doub",v:N.hq};
this._()}else{var X=N.aI==0?this.im():this.add.vmsk;X.Gy=N.hd;X.XO=N.hq;X.Xe=!0}};var _I={ie:0,iW:1,it:2,iq:3};
v.ig=function(){this.color=255;this.XS=!0;this.isEnabled=!0;this.XH=!1;this.Gy=255;this.XO=0;this.rect=new u;
this.channel=I.a(0);this.__V=null;this.__c=null;this.Xe=!0};v.ig.prototype.sr=function(N){if(!this.isEnabled)return N;
var c=new v.ig;c.color=Math.round(this.si()*N.si()/255);if(this.si()==0&&N.si()==0)c.rect=this.xG().vm(N.xG());
else if(N.si()==0)c.rect=N.xG().clone();else if(this.si()==0)c.rect=this.xG().clone();else c.rect=this.xG().vz(N.xG());
c.channel=this.wT(c.rect);c.Gy=255;c.XO=0;var X=N.wT(c.rect);I._Zq(X,c.rect,c.channel,c.rect);return c};
v.ig.prototype.xG=function(){if(this.XO==0)return this.rect;var N=Math.ceil(this.XO*2.2),c=this.rect.clone();
c.PY(N,N);return c};v.ig.prototype.wE=function(){if(this.XO==0&&this.Gy==255)return this.channel;if(this.XO==0){var N=I.clone(this.channel);
I.Tk(N);I.Tz(N,this.Gy/255);I.Tk(N);return N}var c=this.xG(),X=this.w_(c),N=I.a(c.n());I.blur.IY(X,N,c,this.XO);
if(this.Gy!=255){I.Tk(N);I.Tz(N,this.Gy/255);I.Tk(N)}return N};v.ig.prototype.si=function(){return Math.round(255-(255-this.color)*(this.Gy/255))};
v.ig.prototype.extend=function(N){I.extend(this,N,this.color)};v.ig.prototype.I_=function(){if(this.color==255)I.Tk(this.channel);
I.I_(this);if(this.color==255)I.Tk(this.channel)};v.ig.prototype.clone=function(){var N=new v.ig;N.color=this.color;
N.XS=this.XS;N.isEnabled=this.isEnabled;N.XH=this.XH;N.Gy=this.Gy;N.XO=this.XO;N.rect=this.rect.clone();
N.channel=I.clone(this.channel);return N};v.ig.prototype.w_=function(N,c){if(c==null)c=I.a(N.n());I.set(c,this.color);
I.Ty(this.channel,this.rect,c,N);return c};v.ig.prototype.wT=function(N,c){var X=this.xG(),l=this.wE();
if(c==null)c=I.a(N.n());I.set(c,this.si());I.Ty(l,X,c,N);return c};v.wI=function(){this.XS=!0;this.isEnabled=!0;
this.Gy=255;this.XO=0;this.p=[{type:6},{type:8,all:0}];this.XF=null;this.Xe=!0;this.Q=[];this.dm=[]};
v.wI.prototype.offset=function(N,c){this.XF=this.im();I.D.$m(this.p,new Bh(1,0,0,1,N,c));this.XF.rect.offset(N,c)};
v.wI.prototype.im=function(N){if(!this.Xe&&this.XF&&N==null){this.XF.isEnabled=this.isEnabled;return this.XF}var c=I.D.$W(this.p);
if(N){var X=Math.ceil(N.strokeStyleLineWidth.v.val);c.PY(X,X)}c=I.z.KW(c);var l=new v.ig;l.color=I.D.US(this.p)?0:255;
l.XS=this.XS;l.isEnabled=this.isEnabled;l.XH=!0;l.rect=c;l.Gy=this.Gy;l.XO=this.XO;l.channel=I.a(l.rect.n());
if(!c.BH())I.D._UL(this.p,l.channel,l.rect,N);if(N==null){this.XF=l;this.Xe=!1}return l};v.wI.prototype.clone=function(){var N=new v.wI;
N.XS=this.XS;N.isEnabled=this.isEnabled;N.Gy=this.Gy;N.XO=this.XO;N.p=v.wI.wB(this.p);N.Q=this.Q.slice(0);
N.dm=this.dm.slice(0);return N};v.wI.prototype.concat=function(N){var c=N.p.slice(2);if(c.length==0)return;
c[0].GU=3;this.p=this.p.concat(c)};v.wI.wB=function(N){var c=[];for(var X=0;X<N.length;X++){var l=N[X];
if(l.type>5||l.type==0||l.type==3)c.push(JSON.parse(JSON.stringify(l)));else c.push({type:l.type,GC:l.GC.clone(),t:l.t.clone(),GR:l.GR.clone()})}return c};
v.wI._IN=function(N,c,X){if(N.length!=c.length)return!1;for(var l=2;l<N.length;l++){var C=N[l],q=c[l];
if(C.type!=q.type)return!1;if(C.type==0||C.type==3){if(C.length!=q.length||!X&&C.GU!=q.GU)return!1}else if(!C.GC.TA(q.GC)||!C.t.TA(q.t)||!C.GR.TA(q.GR))return!1}return!0};
v.wI.prototype._KK=function(){var N=this.p;for(var c=3;c<N.length;c++)if(N[c].type==0||N[c].type==3)N[c].GU=-1};
v.wv=function(){this.type=null;this.Xa=2;this.Ga=null;this.Xi="";this.Xw="";this.XV="";this.open=0;this.raw=null;
this.ny=null};v.wv.prototype.clone=function(){var N=new v.wv;N.type=this.type;N.Xa=this.Xa;N.Ga=this.Ga;
N.Xi=this.Xi;N.Xw=this.Xw;N.XV=this.XV;N.open=this.open;N.raw=new Uint8Array(this.raw.buffer.slice(0));
return N};v.w$="0";v.wU="2";v.wL="2.5";v.wC="3";v.wZ="4";v.wR="5";v.wP="6";v.wh="7";v.wr="8";v.wS="9";
v.wf="10";v.wx="11";v.wQ="12";v.wA="13";v.wk="14";v.wu="15";v.wp="16";v.wa="17";v.wi="18";v.ww="19";
v.wV="20";v.wc="21";v.wl="21.5";v.wJ="22";v.wy="22.5";v.wj="23";v._vB="24";v.wO="25";v.wF="26";v.wH="27";
v.wN="28";v.wY="29";v.wz="30";v.wD="31";v.wm="32";v.wM="33";v.wG="34";v.wb="35";v.wX="36";v.wn="37";
v.we="38";v.wW="39";v.wt="40";v.wq="41";v.wd="50";v.wg="51";v.VE="52";v.V_="53";v.VT="54";v.VI="54.5";
v.VB="54.6";v.Vs="54.7";v.VK="55";v.Vv="56";v.V$="57";v.VU="58";function _B(){this.depth=0;this.index=-1;
this.e=null;this.__l=null;this.lF=-1;this.children=null;this.parent=null;this.R_=null}_B.prototype._RP=function(){var N=0;
if(this.e.iv()){for(var c=0;c<this.children.length;c++)N+=this.children[c]._RP()}else if(this.e.buffer)N+=this.e.buffer.length;
return N};_B.prototype.VC=function(N){var c=this.R_[N];return this.R_[N]};_B.prototype.IB=function(N){var c=this.e;
if(!c.iw())return null;if(c.iZ()){if(c.b.rect.PH(N)){if(!I.IB(N,c.b.channel,c.b.rect))return null}else if(c.b.color==0)return null}if(c.iv()){for(var X=this.children.length-1;
X>=0;X--){var l=this.children[X],C=l.IB(N);if(C)return C}return null}else if(c.add.TySh&&c.rect.PH(N))return this;
else if(I._KI(N,c.buffer,c.rect))return this;return null};_B.prototype.VZ=function(N){var c=this.e;if(!c.iw())return null;
var X=c.add.vmsk;if(X&&X.isEnabled){var l=I.D.IB(X.p,N).MB;if(l!=-1)return{gT:this,gI:l}}if(c.iv()){for(var C=this.children.length-1;
C>=0;C--){var q=this.children[C],J=q.VZ(N);if(J)return J}return null}return null};_B.prototype.VR=function(N,c){N.push(this.index);
if(this.e.iv()){N.push(this.lF);if(c)if(this.e.X==1&&this.e.im().XS==!1)return;for(var X=0;X<this.children.length;
X++)this.children[X].VR(N)}};_B.prototype.$$=function(N,c,X){var l=this.e,C,q;if(l.iv()&&l.add.artb!=null)c=l.iY();
if(c.h>c.s){C=X;q=Math.floor(X*(c.s/c.h))}else{C=Math.floor(X*(c.h/c.s));q=X}var J=q;if(l.i$()&&l.add.vmsk){var Z=l.rect.clone(),W,s;
if(Z.BH())Z=new u(0,0,20,20);if(Z.h>Z.s){W=X;s=Math.floor(X*(Z.s/Z.h))}else{W=Math.floor(X*(Z.h/Z.s));
s=X}if(W*s==0)W=s=16;I.$a.$l(l.Tf,W,s,Z,l.buffer,l.rect,!1);I.$a._$k(l.Tf,W,s);J=s}else if(l.add.SoCo){J=Math.max(16,Math.min(C,q));
I.$a._LU(l.Tf,J,J,l.add.SoCo)}else if(l.add.GdFl){I.$a._TG(l.Tf,J,J,l.add.GdFl)}else if(l.add.PtFl){I.$a._sn(l.Tf,J,J,l.add.PtFl,N)}else if(l.add.TySh){I.$a._$i(l.Tf,J,J,l.add.TySh)}else if(BP.get(l.add)!=null){I.$a._Br(l.Tf,J,J,l.add)}else if(l.add.SoLd){I.$a.$l(l.Tf,C,q,c,l.buffer,l.rect,!1);
I.$a._sl(l.Tf,C,q,l.add.SoLd)}else if(l.iv()){J=16}else{if(l.iV())I.$a.$l(l.Tf,C,q,c,l.buffer,l.rect,!1);
else{I.$a._L$(l.Tf,J,J)}}var t=l.im();if(t)I.$a.$w(l.NM,C,q,c,t);if(l.iF()&&l.iM(N)&&l.iM(N).b){var T=l.iM(N).b;
I.$a.$w(l.YO,C,q,c,T)}if(l.add.vmsk){I.$a.$w(l._o,C,q,c,l.add.vmsk.im(),!0)}if(l.add.vmsk||t)J=Math.max(J,q);
l.rT=Math.max(J,16);if(l.iv()&&l.add.lsct==_I.iW)for(var g=0;g<this.children.length;g++)this.children[g].$$(N,c,X)};
_B.prototype.VP=function(N,c,X,l){this.depth=X;var C=N[c];if(l==null)l=[];this.R_=l;if(C.add.lsct==_I.iq){this.__l=C;
this.lF=c-1;this.children=[];var q=c+1;while(!0){var J=N[q];if(J==null)console.log(q,N.length);if(J.add.lsct==_I.iW||J.add.lsct==_I.it){if(C.add.lyid==J.add.lyid)C.add.lyid+=16777215;
this.e=J;this.index=q-1;l[this.index]=this;break}var Z=new _B;Z.parent=this;q=Z.VP(N,q,X+1,l);this.children.push(Z)}return q+1}else{this.e=C;
this.index=c-1;l[this.index]=this;return c+1}};_B.prototype.Vh=function(N,c,X){var l=this.VC(X),C=N;
while(l.parent!=null){C=l.e.iG(C,c);l=l.parent}return C};_B.prototype.xG=function(N,c){var X=this.e,l=new u;
if(!X.iw())return l;var C=X.im();if(X.iv())for(var q=0;q<this.children.length;q++){var J=this.children[q].xG(N,!0);
l=l.vz(J)}else if(BP.get(X.add)!=null)l=X.iZ()&&X.b.color==0?X.b.xG().clone():new u(0,0,N.h,N.s);else if(X.i$()&&X.add.vmsk&&X.add.vmsk.isEnabled&&X.add.vstk){var Z=X.add.vmsk,W=X.add.vstk,s=Math.ceil(Z.XO*2.2),t=W.strokeEnabled.v?Math.ceil(W.strokeStyleLineWidth.v.val):0,T=F.cF.cN.indexOf(W.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(T==0)t=0;else if(T==1)t/=2;l=I.z.KW(I.D.$W(Z.p));l.PY(Math.ceil(s+t),Math.ceil(s+t))}else if(X.i$()&&C&&C.isEnabled&&C.si()!=0)l=new u(0,0,N.h,N.s);
else l=X.iN(N,!1,!0);return c?X.iG(l,N):l};_B.prototype.Vr=function(N,c,X,l,C){var q=this.e,J=_$.kt(q);
if(!q.iw())return;if(q.opacity==255){this.VS(N,c,X,l,C);return}var Z=I.clone(N);this.VS(Z,c,X,l,C);I.B.Iw(Z,c,N,c,null,null,0,X,q.opacity/255,q.bg=="diss")};
_B.prototype.VS=function(N,c,X,l,C){var q=this.e,J=_$.kt(q),Z=BP.get(q.add)!=null,T,P;if(q.iv()&&q.bg=="pass"&&!q.iZ()&&!(C.length>0||J.fill!=1||q.iH())){this.Vf(N,c,X,l);
return}var W=q.iv()&&q.bg=="pass"&&(C.length>0||J.fill!=1||q.iH()),s=q.rect,t=q.buffer;if(q.iv()){s=this.xG(l,!1);
var g=I.a(s.n()*4);T=I.a(s.n());this.Vf(g,s,X,l);I.TR(g,T,3)}else if(Z){s=c.clone();T=I.a(s.n());I.set(T,255)}else{s=q.rect;
T=I.a(s.n());I.TR(t,T,3)}if(q.iZ()){var R=q.b.wT(s);I.Tm(R,T)}if(q.iH())P=_$.ce(q.add.lmfx,q.add.fxrp,T,s,l);
if(q.iH())_$.lT(q.add.lmfx,P,s,N,c,X);if(q.iv()){t=I.a(s.n()*4);if(q.bg=="pass")I.TF(N,c,t,s);if(W){var g=I.a(s.n()*4);
this.Vf(g,s,X,l);var O=I.a(s.n());I.TR(g,O,3);I.Tb(O,s,t,s)}this.Vf(t,s,X,l)}if(Z){t=I.clone(N);I.Tr(t,4278190080,16777215);
var b=BP.get(q.add),z=BP.au(b,BP.ao(q.add));BP.ap(z,t,t)}var m=I.clone(t);I.Tr(m,4278190080,16777215);
for(var f=0;f<C.length;f++)C[f].Vr(m,s,X,l,[]);var B=I.a(s.n()*4);I.TF(N,c,B,s);if(Z)J.MJ=!0;I.B.Ih(q.bg=="pass"?"norm":q.bg,m,s,B,s,X,1,J);
if(q.iH()){var K=q.k.ek.type.FrFX,j=null;if(K.length!=0){j=K[0];for(var f=0;f<K.length;f++)if(K[f].eV.h>j.eV.h)j=K[f];
var S=I.a(j.eV.h*j.eV.s*4);I.TF(N,c,S,j.eV)}_$.lI(q.add.lmfx,P,s,N,c,X,B,S,j?j.eV:null)}I.B.Iw(B,s,N,c,T,s,0,X,1,q.bg=="diss")};
_B.prototype.Vf=function(N,c,X,l){var C=this.children;for(var q=0;q<C.length;q++){var J=[];for(var Z=q+1;
Z<C.length;Z++)if(C[Z].e.Xy)J.push(C[Z]);else break;C[q].Vr(N,c,X,l,J);q+=J.length}};_B.pe={delete:function(N){if(N&&N.h)N.delete()},a:function(N,c){return h.LH?new h.IL(N,c):I.a(N*c*4)},Vx:function(N,c,X){if(h.LH){if(N==null||N.h!=c||N.s!=X){_B.pe.delete(N);
return new h.IL(c,X)}}else{if(N==null||!(N instanceof Uint8Array)||N.length!=c*X*4){_B.pe.delete(N);
return I.a(c*X*4)}}return N},Ty:function(N,c,X,l,C){(h.LH?h.TH:I.TF)(N,c,X,l,C)},Iw:function(N,c,X,l,C,q,J,Z,W,s){(h.LH?h.B.Cw:I.B.Iw)(N,c,X,l,C,q,J,Z,W,s)},Ih:function(N,c,X,l,C,q,J,Z){if(h.LH)h.B.Ci(N,c,X,l,C,q,J,Z);
else I.B.Ih(N,c,X,l,C,q,J,Z)},Tr:function(N,c,X){if(h.LH){h.Lb(N);h.Th(c,X)}else I.Tr(N,c,X)},_ZX:function(N,c,X,l,C){if(h.LH){h.B.Cw(null,null,l,C,N,c,X,C,1,!1)}else{if(X==255)I.Tb(N,c,l,C);
else{var q=I.a(c.n());I.To(l,C,q,c);I.Tm(N,q);I.Tr(l,0,16777215);I.Tj(q,c,l,C)}}},TX:function(N,c,X,l){if(h.LH)h.B.Cw(null,null,X,l,N,c,0,l,1,!1);
else I.TX(N,c,X,l)}};_B.prototype.VA=function(N,c,X,l,C){var q=this.e,J=_$.kt(q),Z=_B.pe,W=q.i$()?q.im():q.b;
if(!q.iw())return;if(q.iZ()&&W.rect.BH()){return}if(q.add.vstk==null&&this.xG(l,!1).BH()){return}var s=this.xG(l,!0).vm(X);
if(!c.TA(X)&&!X.PD(s))return;if(q.iv()&&q.add.artb)X=X.vm(q.iY());var t=_B.Vk(q,C);if(!t){this.Vu(N,c,X,l,C);
return}q.k.hJ=Z.Vx(q.k.hJ,s.h,s.s);Z.Ty(N,c,q.k.hJ,s,X);this.Vu(q.k.hJ,s,X,l,C);Z.Iw(q.k.hJ,s,N,c,null,null,0,X,q.opacity/255,q.bg=="diss")};
_B.Vk=function(N,c){return N.opacity!=255&&(c.length!=0||N.iv()||N.iH())};_B.prototype.Vu=function(N,c,X,l,C){var q=this.e,J=_$.kt(q),Z=BP.get(q.add)!=null,W=_B.pe,s=_B.Vk(q,C),t=s?1:q.opacity/255,T=q.i$()?q.im():q.b,g=q.iv()&&q.bg=="pass"&&!(C.length>0||J.fill!=1||q.iH()),R=!q.iv()&&!Z&&!q.iH()&&C.length==0,P=Z&&!q.iH()&&C.length==0,f=null,B=null,K=null,n;
if(g||R||P){var O=N,b=c;if(q.iZ()){b=this.xG(l,!1);O=q.k.hp=W.Vx(q.k.hp,b.h,b.s);W.Ty(N,c,q.k.hp,b)}if(g)this.Va(O,b,X,l);
if(R)W.Ih(q.bg,q.iC(l),q.rect,O,b,X,t,J);if(P){var z=q.iZ()&&T.si()==0?T.xG().clone():b.clone();q.k.tV=this.Vp(O,b,q.k.tV,z,q.add);
J.MJ=!0;W.Ih(q.bg,q.k.tV,z,O,b,X,t,J)}if(q.iZ())W.Iw(O,b,N,c,q.iL(),T.xG(),T.si(),X,1,q.bg=="diss");
q.k.iB();return}var m=q.iv()&&q.bg=="pass"&&(C.length>0||J.fill!=1||q.iH()),z=q.rect;if(q.iv()){z=this.xG(l,!1);
K=q.k.tV=W.Vx(q.k.tV,z.h,z.s);W.Tr(K,0);this.Va(K,z,z,l);B=W.Vx(q.k.Pz,z.h,z.s);W.Ty(K,z,B,z)}else if(Z){z=q.iZ()&&T.si()==0?T.xG().clone():c.clone();
B=W.Vx(q.k.Pz,z.h,z.s);W.Tr(B,4294967295)}else{z=q.rect;f=q.iC(l);B=W.Vx(q.k.Pz,z.h,z.s);W.Ty(f,z,B,z)}q.k.Pz=B;
if(q.iZ())W._ZX(q.iL(),T.xG(),T.si(),B,z);if(q.iH())if(q.k.nM||q.k.rI||q.k.CV!=h.LH||q.k.aB||q.iv()){var j=B;
if(h.LH){j=I.a(z.h*z.s*4);B.get(j)}var S=I.a(z.h*z.s);I.TR(j,S,3);if(q.k.rI||q.k.CV!=h.LH||!I.TA(S,q.k.IS)){var r=null;
if(q.i$()&&q.add.vmsk&&q.add.vmsk.isEnabled&&q.add.vmsk.im().color==0)r=q.add.vmsk.im().rect;_$._PV(q.k.ek,S,z,q.add.lmfx,q.add.fxrp,l,r);
q.k.IS=I.clone(S)}}if(q.iH())_$.lT(q.add.lmfx,q.k.ek,z,N,c,X);if(q.iv()){f=W.Vx(q.k.hp,z.h,z.s);W.Tr(f,0);
if(q.bg=="pass")W.Ty(N,c,f,z);if(m)W.TX(K,z,f,z);this.Va(f,z,X,l);q.k.hp=f}if(Z){f=q.k.hp=this.Vp(N,c,q.k.hp,z,q.add)}if(q.iv()||Z)n=f;
else{n=W.Vx(q.k.hp,z.h,z.s);W.Ty(f,z,n,z,X);q.k.hp=n}W.Tr(n,4278190080,16777215);for(var o=0;o<C.length;
o++)C[o].VA(n,z,X,l,[]);var y=q.k.Iy=W.Vx(q.k.Iy,z.h,z.s);W.Ty(N,c,y,z,X);if(Z)J.MJ=!0;W.Ih(q.bg=="pass"?"norm":q.bg,n,z,y,z,X,1,J);
if(q.iH()){var D=q.k.ek.type.FrFX,x=null;if(D.length!=0){x=D[0];for(var o=0;o<D.length;o++)if(D[o].eV.h>x.eV.h)x=D[o];
q.k.sG=W.Vx(q.k.sG,x.eV.h,x.eV.s);W.Ty(N,c,q.k.sG,x.eV,X);q.k.RK=W.Vx(q.k.RK,x.eV.h,x.eV.s)}_$.lI(q.add.lmfx,q.k.ek,z,N,c,X,y,q.k.sG,q.k.RK,x?x.eV:null)}if(!h.LH){var A=I.a(z.n());
I.TR(B,A,3);B=A}W.Iw(y,z,N,c,B,z,0,X,1,q.bg=="diss");q.k.iB()};_B.prototype.Vp=function(N,c,X,l,C){var q=_B.pe;
X=q.Vx(X,l.h,l.s);q.Ty(N,c,X,l);var J=BP.get(C),Z=BP.au(J,BP.ao(C));if(Z!=null){if(h.LH){var W=l.clone();
W.x=W.y=0;BP._sE(Z,X,W)}else BP.ap(Z,X,X)}return X};_B.prototype.Va=function(N,c,X,l){var C=this.children;
for(var q=0;q<C.length;q++){var J=[];for(var Z=q+1;Z<C.length;Z++)if(C[Z].e.Xy)J.push(C[Z]);else break;
C[q].VA(N,c,X,l,J);q+=J.length}};function _s(N){this.name=N;this.XY=-1;this.ed=null;this.Vl=null;this.hG=null;
this.TS=null;this.h=0;this.s=0;this.R=[];this.XM={};this.add={};this.buffer=null;this.XW=4;this.Xm=72;
this.Q=[];this.Xb=[[],[]];this.XX={classID:"CompList",list:{t:"VlLs",v:[]}};this.root=null;this.ht=null;
this.nr=!1;this.HZ=!1;this.KH=!1;this.WD=!1;this.tv=!1;this.tm=!1;this.gs=!1;this.qR=!1;this.nM=null;
this.Fe=null;this.WO={};this.G=null;this.v={tN:[],__D:[],tl:null,ts:null,qk:null,qD:null};this.history=[new _f([1,0],null)];
this.dI=0;this.$X=0;this.g=new _K(this)}_s.prototype.Vi=function(){var N=this.name;return N.slice(0,N.length-4).endsWith("-sketch")};
_s.prototype.Vw=function(N){this.add.artd={classID:"null",Cnt:{t:"long",v:N},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
_s.prototype.VV=function(N){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(N)==-1)this.add.FEid.push(N)};
_s.prototype.Vc=function(N){var c=this.add.FEid.indexOf(N);this.add.FEid.splice(c,1);if(this.add.FEid.length==0)delete this.add.FEid};
_s.prototype._=function(N){if(N==null)N=new u(0,0,this.h,this.s);if(this.nM==null)this.nM=N;else this.nM=this.nM.vz(N)};
_s.prototype.__O=function(N){return this.nM!=null};_s.prototype.VJ=function(N){var c=this.R[N],X=this.root.VC(N);
if(X==null)return!1;if(c.iv()||X.parent.children.indexOf(X)==0)return!1;return!0};_s._Lb=function(N){if(N.add.lnk2)for(var c=0;
c<N.add.lnk2.length;c++){var X=N.add.lnk2[c].Ga;N.add.lnk2[c].Ga=_s.VO()+X.slice(8);for(var l=0;l<N.R.length;
l++){var C=N.R[l].add.SoLd;if(C&&C.Idnt.v==X)C.Idnt.v=N.add.lnk2[c].Ga}}};_s.prototype.Vj=function(N){N.sort(function(t,T){return t-T});
var top=N[N.length-1],c=this.R.slice(0),X=this.Q.slice(0),l=[],C=[];for(var q=0;q<this.R.length;q++){if(N.indexOf(q)!=-1)C.push(this.R[q]);
else l.push(this.R[q])}this.cL(C);this.Q=[];var J=this.root.xG(this,!0);if(J.BH())J=new u(0,0,100,100);
var Z=new u(-J.x,-J.y,this.h,this.s),W=new Uint8Array(BC.PSD._c(this,0,0,[!0,!1]));this.cL(c);this.Q=X;
var s=new _s(this.R[top].getName());BC.PSD._l(W.buffer,s);delete s.add.artd;s.cL(s.R);_s._Lb(s);H.Q_.QB(s,J);
s._();s.cE();s.VN();return[s,J,l,top]};_s.prototype.Vo=function(N,c){var X=this.Vj(N),l=X[0],C=X[1],q=X[2],top=X[3],J=new Uint8Array(BC.PSD._c(l));
if(c)q=this.R.slice(0);var Z=this.VH(J,l.name,C.x,C.y);if(top==this.R.length-1)q.push(Z);else q.splice(c?top+1:top-N.length+1,0,Z);
this.cL(q);this.Q=[q.indexOf(Z)]};_s.VO=function(){var N="";for(var c=0;c<8;c++)N+=Math.floor(Math.random()*16).toString(16);
return N};_s.prototype.VF=function(N){if(N==null)return;if(this.add.Patt==null)this.add.Patt=[];var c=this.add.Patt;
for(var X=0;X<c.length;X++)if(c[X].id==N.id)return;c.push(N)};_s.prototype.VH=function(N,c,X,l){if(this.add.lnk2==null)this.add.lnk2=[];
var C=null;for(var q=0;q<this.add.lnk2.length;q++)if(I.TA(N,this.add.lnk2[q].raw)){C=this.add.lnk2[q].Ga;
break}var J=BC._x(N.buffer);if(C==null){C=_s.VO()+"-d71c-11e5-b1ae-a548a96e5f9f";var Z=new v.wv;Z.Ga=C;
Z.XV=J=="psd"?"8BIM":"    ";Z.Xi=c+"."+(J=="psd"?J:J+"\0");Z.Xw=J=="psd"?"8BPB":"    ";Z.open=0;Z.raw=N;
Z.type="liFD";Z.Xa=2;this.add.lnk2.push(Z)}var W=this.Vg(C),s=_s.VO()+"-d71c-11e5-b1ae-a548a96e5f9f",t=this.c_();
t.ii(c);if(W!=null){t.rect=W.ny[1].clone();t.rect.offset(X,l);t.buffer=I.a(t.rect.n()*4);I.Tx(W.ny[0],t.buffer)}t.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:C},placed:{t:"TEXT",v:s},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:I.Uj.a(t.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:t.rect.h},Hght:{t:"doub",v:t.rect.s}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var T=I.z.Kq(t.rect).l;t.add.SoLd.Trnf=H.r.kf(T);t.add.SoLd.nonAffineTransform=H.r.kf(T);return t};_s.prototype.VN=function(){if(h.LH&&this.Fe){this.ht.get(this.buffer);
this.Fe=null}return this.buffer};_s.prototype.VY=function(){for(var N=0;N<this.R.length;N++)this.R[N].iU();
this._()};_s.prototype.Vz=function(){for(var N=0;N<this.R.length;N++)if(this.R[N].add.lmfx)this.R[N].k.rI=!0};
_s.prototype.VD=function(){var N=this.XM.r1044;if(N==null){N=this.XM.r1044=new Uint8Array(4);var c=0;
for(var X=0;X<this.R.length;X++)c=Math.max(c,this.R[X].add.lyid);_.RX(N,0,c)}var l=_.Y(N,0);_.RX(N,0,l+1);
return l+1};_s.prototype.Vm=function(N){if(N==null)N=!0;var c=this;if(c.Q.length!=1){if(N)alert("More than one layer selected.");
return!1}return this.VM(N)};_s.prototype.VM=function(N){if(N==null)N=!0;var c=this;for(var X=0;X<c.Q.length;
X++){var l=c.R[c.Q[X]];if(l.add.lsct!=null&&l.add.lsct!=_I.ie&&l.X!=1){if(N)alert("Layer is not editable.");
return!1}if(l.X<=0&&!l.iV()){if(N)alert("Layer is not editable.");return!1}if(l.X<=0&&l.add.TySh){if(N)alert("Text Layer must be rasterized first");
return!1}if(l.X<=0&&l.add.SoLd){if(N)alert("Smart Object must be rasterized first");return!1}}return!0};
_s.prototype.VG=function(N){var c=this.root.VC(N);if(c.parent)return c.e.iw()&&this.VG(c.parent.index);
else return c.e.iw()};_s.prototype.Vb=function(N){var c=this.root.VC(N);if(c==null)return null;var X=c.e;
if(X.add.artb)return X.iY();if(c.parent)return this.Vb(c.parent.index);return null};_s.prototype.VX=function(){var N=this.R[this.Q[0]];
if(N.X<=0&&!N.rect.PD(this.G.rect)){alert("Selected area is empty.");return!1}if(this.Q.length==1&&this.G){var c=I.a(this.G.channel.length);
I.To(N.buffer,N.rect,c,this.G.rect);I.Tm(this.G.channel,c);if(I.TN(c,0)){alert("Selected area is empty.");
return!1}}return!0};_s.prototype.Vn=function(){if(this.XM["r"+1037]==null)this.Ve(30);return _.RY(this.XM["r"+1037],0)};
_s.prototype.Ve=function(N){if(this.XM["r"+1037]==null)this.XM["r"+1037]=new Uint8Array(4);if(_.RY(this.XM["r"+1037],0)==N)return;
_.Rz(this.XM["r"+1037],0,N);this.Vz()};_s.prototype.VW=function(){if(this.XM["r"+1049]==null)this.Vt(30);
return _.RY(this.XM["r"+1049],0)};_s.prototype.Vt=function(N){if(this.XM["r"+1049]==null)this.XM["r"+1049]=new Uint8Array(4);
if(_.RY(this.XM["r"+1049],0)==N)return;_.Rz(this.XM["r"+1049],0,N);this.Vz()};_s.prototype.Vq=function(N){if(this.add.lnk2==null)return null;
for(var c=0;c<this.add.lnk2.length;c++)if(this.add.lnk2[c].Ga==N)return this.add.lnk2[c];return null};
_s.prototype._I$=function(N){var c=this.Vq(N);if(c==null)return!1;var X=BC._x(c.raw.buffer);if(X==null)return!1;
if(BC._A(X)!=null||X=="psd")return!0;return!1};_s.prototype.Vg=function(N,c){var X=this.Vq(N);if(X==null)return null;
if(X.ny)return X;var l=BC._x(X.raw.buffer);if(l==null){alert("Unsupported format: "+_.Ra(X.raw,0,4));
return null}var C=BC._A(l);if(C._F){var q=new _s(name+(l=="psd"?"":"-"+l)+".psd");C._l(X.raw.buffer,q);
for(var J=0;J<q.R.length;J++)if(q.R[J].i$())q.R[J].ih(q);q.cC();q._();q.cE();X.ny=[q.VN(),new u(0,0,q.h,q.s)]}else if(C){var Z=C._l(X.raw.buffer)[0];
X.ny=[new Uint8Array(Z.data),Z.M$]}if(X.ny){if(c==1){var W=X.ny[0],s=X.ny[1],t=I.a(s.n());I.TR(W,t,3);
var T=I.Tg(t,s),g=I.a(T.n()*4);I.TF(W,s,g,T);X.ny=[g,T]}I.Ti(X.ny);return X}};_s.prototype.cE=function(){var N=this.h,c=this.s,X=new u(0,0,N,c),l=X.vm(this.nM);
if(l.BH())return;if(h.LH&&this.ht==null)this.ht=new h.IL(N,c);if(this.buffer==null||this.buffer.length!=N*c*4||h.LH&&(this.ht.h!=N||this.ht.s!=c)){this.buffer=I.a(N*c*4);
if(this.ht)this.ht.delete();if(h.LH)this.ht=new h.IL(N,c)}if(!l.TA(X)){if(!h.LH){var C=I.I$(l.n()*4);
I.TF(C,l,this.buffer,X)}if(h.LH){h.Lb(this.ht,l);h.Th(0)}}else{if(h.LH){this.ht.set(null)}else{I.set(this.buffer,0)}}var q=Date.now(),J=h.LH?this.ht:this.buffer;
this.root.VA(J,X,l,this,[]);this.Fe=this.nM.clone()};_s.prototype.c_=function(){var N=new v;N.rect=new u(0,0,0,0);
N.buffer=I.a(1);N.add.luni=new k(0,0);N.add.lyid=this.VD();N.add.lsct=_I.ie;N.add.lclr=0;N.add.fxrp=new k(0,0);
return N};_s.prototype.cT=function(){var N=this.c_();N.ii("</Layer group>");N.add.lsct=_I.iq;N.Xj=24;
return N};_s.prototype.cI=function(){return this.dI!=this.$X};_s.prototype.cB=function(N){while(this.history.length>this.dI+1)this.history.pop();
if(this.$X>this.dI)this.$X=-1;if(N.K.id!=H.xp){this.KH=!0;if(this.XX.lastAppliedComp){delete this.XX.lastAppliedComp;
this.gs=!0}}this.history.push(N);this.dI++;this.tm=!0;var c=0;for(var X=this.history.length-1;X>=0;X--){var l=this.history[X];
if(l.Ir)continue;c++;if(c==30){this.dI-=X;this.history=this.history.slice(X);break}}};_s.prototype.cs=function(){if(this.dI!=this.history.length-1)return null;
return this.history[this.history.length-1]};_s.prototype.cK=function(N,c){if(N==null)N=!1;var X=c!=null?[c]:this.Q.slice(0),l=[];
for(var C=0;C<X.length;C++){var q=this.R[X[C]].XG;if(q!=0&&l.indexOf(q)==-1)l.push(q)}for(var C=0;C<this.R.length;
C++){var q=this.R[C].XG;if(q!=0&&l.indexOf(q)!=-1&&X.indexOf(C)==-1)X.push(C)}var J=[];for(var C=0;C<X.length;
C++){var Z=this.c$(X[C],N);for(var W=0;W<Z.length;W++)if(J.indexOf(Z[W])==-1)J.push(Z[W])}return J};
_s.prototype.cv=function(N){var c=this,X=c.cK(!1,N);X.sort(function(W,s){return W-s});var l=[];for(var C=0;
C<X.length;C++){var q=c.R[X[C]].clone();q.add.lyid=c.VD();if(q.iF()){var J=q.iM(c),Z={id:_s.VO()+J.id.slice(8),buffer:I.clone(J.buffer),rect:J.rect.clone(),b:J.b?J.b.clone():null};
c.VV(Z);q.add.SoLd.placed.v=Z.id}q.ih(c);l.push(q)}return l};_s.prototype.c$=function(N,c){var X=[],l=this.root.VC(N);
if(l)l.VR(X,c);return X};_s.prototype.cU=function(){this.root.$$(this,new u(0,0,this.h,this.s),32)};
_s.prototype.cL=function(N){for(var c=0;c<this.R.length;c++){var X=this.R[c];if(N.indexOf(X)==-1){X.k._RS();
X._()}}this.R=N.slice(0);this.cC()};_s.prototype.cC=function(){this.root=new _B;var N=this.c_();N.bg="pass";
N.add.lsct=_I.iW;var c=this.cT(),X=[c];for(var l=0;l<this.R.length;l++)X.push(this.R[l]);X.push(N);this.root.VP(X,0,0);
if(this.Q.length==0)this.Q=[this.R.length-1]};_s.prototype.cZ=function(){if(this.Q.length!=1)return;
var N=this.root.VC(this.Q[0]);while(N.parent!=null){var c=N.parent.e;c.add.lsct=_I.iW;N=N.parent}this.tv=this.__M=!0};
function _K(N){this.tG=N;this.o=0;this.M=new k(0,0);this.N=new u(0,0,1,1);this.Zq=new u(0,0,N.h,N.s);
this.t_=null;this.hW=null;this.hR=new Uint32Array(0);this.GA=null;this.Gk=null;this.zh=I.a(0);this.hn=null;
this.$G=null}_K.prototype.cR=function(N,c){var X=Math.round((this.N.h-this.tG.h*this.o)/2+this.M.x),l=Math.round((this.N.s-this.tG.s*this.o)/2+this.M.y),C=(N-X)/this.o,q=(c-l)/this.o;
return new k(C,q)};_K.prototype.cP=function(N,c){var X=Math.round((this.N.h-this.tG.h*this.o)/2+this.M.x),l=Math.round((this.N.s-this.tG.s*this.o)/2+this.M.y),C=N*this.o+X,q=c*this.o+l;
return new k(C,q)};_K.prototype.cr=function(){var N=this.tG,c=this,X=this.N.h,l=this.N.s,C=Math.floor(N.h*c.o),q=Math.floor(N.s*c.o);
if(c.o<.99){var J=I.TJ(null,new u(0,0,N.h,N.s),c.o).rect;C=J.h;q=J.s}return new u(Math.round((X-C)/2+c.M.x),Math.round((l-q)/2+c.M.y),C,q)};
_K.prototype.cS=function(){var N=this.tG,c=this,X=this.cr();return new u(Math.floor((c.N.x-X.x)/c.o),Math.floor((c.N.y-X.y)/c.o),Math.ceil(c.N.h/c.o)+1,Math.ceil(c.N.s/c.o)+1)};
function F(){}F.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");F.cf="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
F.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];F._RH=["DrSh","IrSh","SoFi","GrFl","FrFX"];
F.cQ=["Clr"];F.cA="Grad Rvrs Type Algn Angl Scl Ofst".split(" ");F.ck=["Ptrn","Scl","Algn","phase"];
F.cu={};F.cu.cp="{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}";
F.cu.c="{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}";
F.cu.ca="{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}";
F.cu.ci="{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}";
F.cu.cp="\"Clr\": "+F.cu.cp;F.cu.c="\"Grad\":"+F.cu.c+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"}";
F.cu.ci="\"Ptrn\":"+F.cu.ci+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
F.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
F.cw=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+F.cu.cp+","+F.cu.c+","+F.cu.ci+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+F.cu.cp+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+F.cu.c+",\"Dthr\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+F.cu.ci+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":57},\"t\":\"UntF\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
F.c={};F.c.types="Lnr Rdl Angl Rflc Dmnd shapeburst".split(" ");F.c.names=[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]];
F.stroke={};F.stroke.types=["InsF","CtrF","OutF"];F.stroke.names=[[19,5,2],[19,5,1],[19,5,0]];F.stroke.cV=["SClr","GrFl","Ptrn"];
F.stroke._sC=[[13,0],[12,37],[12,62]];F.cl={};F.cl.types=["SfBL","PrBL"];F.cl.names=[[19,1,0],[19,1,1]];
F.cl.cJ=["SrcC","SrcE"];F.cl._TH=[[19,5,1],[12,69]];F.cj={};F.cj.types=["OtrB","InrB","Embs","PlEb","strokeEmboss"];
F.cj.style=[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]];F.cj.co=["SfBL","PrBL","Slmt"];F.cj._s$=[[19,3,0],[19,3,1],[19,3,2]];
F.cj.dir=[[19,4,0],[19,4,1]];F.cF={};F.cF.cH=["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"];
F.cF.cN=["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"];F.cF.join=["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"];
F.cF.cY=["solidColorLayer","gradientLayer","patternLayer"];F.cF.default={classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!0},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignOutside"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+F.cu.cp+"}")},strokeStyleResolution:{t:"doub",v:72}};
F.cz=[{classID:"null",Clr:{t:"Objc",v:{}}},{classID:"null",Dthr:{t:"bool",v:!0},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}},Grad:{t:"Objc",v:{}}},{classID:"null",Ptrn:{t:"Objc",v:{}},Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
F.cz[0].Clr.v=JSON.parse(F.cw[5]).Clr.v;F.cz[1].Grad.v=JSON.parse(F.cw[6]).Grad.v;F.cz[2].Ptrn.v=JSON.parse(F.cw[7]).Ptrn.v;
var _$={};_$._Kc=function(N,c,X){if(N.BH())return;var l=I.D.__t(N.p);l.x=Math.floor(l.x*c);l.h=Math.ceil(l.h*c);
l.y=Math.floor(l.y*X);l.s=Math.ceil(l.s*X);N.rect=l;N.channel=I.a(l.n());I._H.width=l.h;I._H.height=l.s;
var C=I.N;C.fillStyle="#ffffff";I.D.__q(C,N.p,c,X,-l.x,-l.y);C.fill();var q=C.getImageData(0,0,l.h,l.s).data;
I.TR(q,N.channel,3)};_$.cm=function(N){var c,X;if(N){if(N.solidFillMulti.v.length>0)c=N.solidFillMulti.v[0].v;
if(N.gradientFillMulti.v.length>0)X=N.gradientFillMulti.v[0].v;if(c&&(c.enab.v==!1||c.Opct.v.val!=100||c.Md.v.BlnM!="Nrml"))c=null;
if(X&&(X.enab.v==!1||X.Opct.v.val!=100||X.Md.v.BlnM!="Nrml"))X=null}return[c,X]};_$._Pe=function(N,c){for(var X=0;
X<F.order.length;X++){var l=F.order[X],C=N[F.cf[X]].v;for(var q=0;q<C.length;q++){var J=C[q].v,Z=["Sz","blur","Sftn","Dstn","Ckmt"];
for(var W=0;W<Z.length;W++){var s=J[Z[W]];if(s)s.v.val=Math.round(s.v.val*c)}}}};_$._PD=function(N,c){var X=new u(-.5,-.5,1,1),l=N.add.lmfx;
for(var C=0;C<F.order.length;C++){var q=F.order[C],J=l[F.cf[C]].v;for(var Z=0;Z<J.length;Z++){var W=J[Z].v,g;
if(!W.enab.v)continue;var s=W.blur?W.blur.v.val:0,t=W.Ckmt?W.Ckmt.v.val/100:0,T=Math.round(s*t);if(q=="DrSh"){g=new u(-.5,-.5,1,1);
g.PY(s,s);_$.lU(g,W,c,0)}if(q=="OrGl"){g=new u(-.5,-.5,1,1);g.PY(s,s)}if(q=="FrFX"){var R=_$.cb(W)[1];
g=new u(-.5,-.5,1,1);g.PY(Math.ceil(R),Math.ceil(R))}if(q=="ebbl"){var s=W.blur.v.val;if(W.bvlS.v.BESl=="Embs"||W.bvlS.v.BESl=="PlEb")s/=2;
var P=["OtrB","InrB","Embs","PlEb","strokeEmboss"],O=["SfBL","PrBL","Slmt"],b=["In","Out"],z=W.bvlT.v.bvlT!="SfBL"?s:s*.43,m=Math.round(s);
g=new u(-m,-m,2*m,2*m)}if(g)X=X.vz(g)}}if(X.x!=Math.ceil(X.x)){X.x=Math.ceil(X.x);X.h-=1}if(X.y!=Math.ceil(X.y)){X.y=Math.ceil(X.y);
X.s-=1}return X};_$.cb=function(N){var c=0,X=0,l=N.Styl.v.FStl,C=N.Sz.v.val;if(l=="OutF")X=C;if(l=="InsF")c=C;
if(l=="CtrF")c=X=C/2;return[c,X]};_$.cX=function(N){if(N.all==null)return;for(var c=0;c<N.all.length;
c++){var X=N.all[c];if(X.LA)X.LA.delete();if(X.v_)X.v_.delete();if(X.ij)X.ij.delete()}};_$._PV=function(N,c,X,l,C,q,J){_$.cX(N);
var Z=_$.ce(l,C,c,X,q,J);N.type=Z.type,N.all=Z.all;if(h.LH)for(var W=0;W<N.all.length;W++){var s=N.all[W];
s.LA=new h.IL(s.eo.h,s.eo.s);s.LA.set(s.Ml);delete s.Ml;if(s.$b){s.v_=new h.CE(s.eo.h,s.eo.s);s.v_.set(s.$b);
delete s.$b}if(s.Wx){s.ij=new h.CE(s.eo.h,s.eo.s);s.ij.set(s.Wx);delete s.Wx}}};_$.ce=function(N,c,X,l,C,q){if(q==null)q=l;
var J=0,Z=0;for(var W=0;W<F.order.length;W++){var s=F.order[W],t=F.cf[W],T=N[t].v;for(var g=0;g<T.length;
g++){var R=T[g].v;if(s=="DrSh"&&R.enab.v&&R.Ckmt.v.val>0&&R.blur.v.val>0)J=Math.max(J,Math.ceil(R.Ckmt.v.val*R.blur.v.val/100));
if(s=="OrGl"&&R.enab.v&&R.Ckmt.v.val>0&&R.blur.v.val>0&&R.GlwT.v.BETE=="SfBL")J=Math.max(J,Math.ceil(R.Ckmt.v.val*R.blur.v.val/100));
if(s=="OrGl"&&R.enab.v&&R.blur.v.val>0&&R.GlwT.v.BETE=="PrBL")J=Math.max(J,R.blur.v.val);if(s=="FrFX"&&R.enab.v&&R.Sz.v.val>0){if(R.Styl.v.FStl=="OutF")J=Math.max(J,R.Sz.v.val);
if(R.Styl.v.FStl=="CtrF")J=Math.max(J,Math.ceil(R.Sz.v.val/2));Z=Math.max(Z,_$.cb(R)[1])}}}var P=new _$.lR(X,l,J),O={type:{},all:[]};
for(var b=0;b<F.order.length;b++){var s=F.order[b],t=F.cf[b];O.type[s]=[];for(var z=N[t].v.length-1;
z>=0;z--){var m=N[t].v[z].v;if(!m.enab.v)continue;var f=m.blur?m.blur.v.val:0,B=m.Ckmt?m.Ckmt.v.val/100:0,K=f*B;
if(s=="DrSh"){var j=P.lx(K,f-K,!0),S=j.lP,r=j.Gj;r.offset(-P.rect().x-1,-P.rect().y-1);_$.lv(S,m);_$.lU(r,m,C,0);
var n=I.a(r.n()*4);_$.l$(n,m.Clr.v);I.TP(S,n,3);var o={Ml:n,eo:r,GG:__.i_(m.Md.v.BlnM),Wm:m.Opct.v.val/100,rL:m.layerConceals.v};
O.type[s].push(o);O.all.push(o)}if(s=="IrSh"){var j=P.lx(K,f-K,!1);_$.lU(j.Gj,m,C,0);var r=P.rect().clone(),S=I.a(r.n());
I.set(S,255);I.Ty(j.lP,j.Gj,S,r);_$.lv(S,m);var n=I.a(r.n()*4);_$.l$(n,m.Clr.v);I.TP(S,n,3);r.offset(-P.rect().x-1,-P.rect().y-1);
var o={Ml:n,eo:r,GG:__.i_(m.Md.v.BlnM),Wm:m.Opct.v.val/100};O.type[s].push(o);O.all.push(o)}if(s=="GrFl"){var n=I.a(P.rect().n()*4);
_$.lE(m,n,P.rect(),C,null,q);var r=P.rect().clone();r.offset(-P.rect().x-1,-P.rect().y-1);var o={Ml:n,eo:r,GG:__.i_(m.Md.v.BlnM),Wm:m.Opct.v.val/100};
O.type[s].push(o);O.all.push(o)}if(s=="SoFi"){var n=I.a(P.lP().length*4);_$.l$(n,m.Clr.v);var r=P.rect().clone();
r.offset(-P.rect().x-1,-P.rect().y-1);var o={Ml:n,eo:r,GG:__.i_(m.Md.v.BlnM),Wm:m.Opct.v.val/100};O.type[s].push(o);
O.all.push(o)}if(s=="ebbl"){var y=!1,a=1;if(y)console.log(m);var D=Date.now(),x=m.bvlS.v.BESl;if(x=="strokeEmboss"){var A=N.frameFXMulti.v;
if(A.length==0)continue;A=A[0].v;if(!A.enab.v)continue;var e=A.Styl.v.FStl;if(e=="OutF")x="OtrB";if(e=="CtrF")x="Embs";
if(e=="InsF")x="InrB"}var f=m.blur.v.val;if(x=="Embs"||x=="PlEb")f/=2;var U=["OtrB","InrB","Embs","PlEb","strokeEmboss"],L=["SfBL","PrBL","Slmt"],Y=["In","Out"],E=m.bvlT.v.bvlT!="SfBL"?f:f*.45,i=Math.round(f);
f*=a;E*=a;i*=a;var V=P.rect().clone();V.x*=a;V.y*=a;V.h*=a;V.s*=a;var G=V.clone();G.PY(i,i);var $=G.h,p=G.s,w=$*p,BX=P.rect().h,Bn=P.rect().s,Be=I.a(BX*Bn*a*a);
I.scale.vV(P.lP(),BX,Bn,Be,BX*a,Bn*a,a);var BW=I.a(w);I.Ty(Be,V,BW,G);var Bt=new Float64Array(w),Bq=new Float64Array(w);
I.style.$C(BW,Bt,$,p);I.Tk(BW);I.style.$C(BW,Bq,$,p);if(y)console.log("distTransform computed",Date.now()-D);
var Bd=Bq;Bq=new Float64Array(w);for(var W=0;W<w;W++)Bd[W]=Bd[W]-Bt[W];for(var W=0;W<w;W++){var Bg=Bd[W];
if(Bg<-E)Bd[W]=-E;else if(Bg>E)Bd[W]=E}if(y)console.log("summing + cropping",Date.now()-D);if(m.bvlT.v.bvlT=="SfBL"){I.blur.Iz(Bd,Bt,G,Math.max(2,Math.pow(f*.21,1.22)));
var sE=Bd;Bd=Bt;Bt=sE}if(y)console.log("blurring",Date.now()-D);var s_=new Float64Array(w);I.Tx(Bd,s_);
if(m.useShape.v){var sT=Math.min(100,m.Inpr.v.val+1)/100;if(x!="OtrB"&&x!="InrB")sT=1;var sI=I.vn.$B(m.MpgS.v.Crv.v,2e3),sB=Math.round(2e3/sT);
sI=I.vn._Lq(sI,sB,x=="InrB");var ss=.5/E;for(var W=0;W<w;W++){var sK=Bd[W],sv=.99999*(sK+E)*ss;Bd[W]=-E+2*E*sI[~~(sv*(sB-1))]}if(y)console.log("applying shape",Date.now()-D)}if(m.useTexture.v){var s$=I.a($*p*4);
_$.vp(m,s$,G,C,c);var sU=I.a($*p);I.T$(s$,sU);var sL=I.a($*p);I.blur.ID(sU,sL,G,1);sU=sL;var sC=f*m.textureDepth.v.val*(1/100)*(1/255);
if(m.InvT.v)sC=-sC;for(var W=0;W<w;W++)Bd[W]+=-sC*sU[W];if(y)console.log("applying texture",Date.now()-D)}var sZ=(m.bvlT.v.bvlT=="SfBL"?1:.5)*(m.bvlD.v.BESs=="In"?1:-1)*m.srgR.v.val/100;
for(var W=0;W<w;W++)Bd[W]*=sZ;if(y)console.log("scaling",Date.now()-D);var sR=m.uglg&&m.uglg.v?C.Vn():m.lagl.v.val;
sR=sR*(Math.PI/180);var sP=m.uglg&&m.uglg.v?C.VW():m.Lald.v.val;sP=sP*(Math.PI/180);var sh=Math.cos(sR)*Math.cos(sP),sr=-Math.sin(sR)*Math.cos(sP),sS=Math.sin(sP),sf=new Float64Array(w),sx=new Float64Array(w),sQ=x=="PlEb";
for(var W=0;W<p;W++)for(var g=0;g<$;g++){var sA=W*$+g,sk=-(W==0?Bd[sA+$]-Bd[sA]:W==p-1?Bd[sA]-Bd[sA-$]:.5*(Bd[sA+$]-Bd[sA-$])),su=-(g==0?Bd[sA+1]-Bd[sA]:g==$-1?Bd[sA]-Bd[sA-1]:.5*(Bd[sA+1]-Bd[sA-1])),sp=1,sa=1/Math.sqrt(su*su+sk*sk+1);
su*=sa;sk*=sa;sp*=sa;var sw=su*sh+sk*sr+sp*sS,sV=sw;if(sQ)sV=-su*sh-sk*sr+sp*sS;if(sw>0)sf[sA]=sw;if(sV>0)sx[sA]=sV}if(y)console.log("raycasting",Date.now()-D);
if(m.Sftn.v.val!=0){I.blur.Iz(sf,Bt,G,m.Sftn.v.val*.43);var sE=Bt,Bt=sf,sf=sE;if(sQ){I.blur.Iz(sx,Bt,G,m.Sftn.v.val*.43);
var sE=Bt,Bt=sx,sx=sE}else I.Tx(sf,sx)}if(y)console.log("softening",Date.now()-D);var sI=I.vn.$B(m.TrnS.v.Crv.v,1024);
for(var W=0;W<w;W++){sf[W]=sI[~~(sf[W]*1024)];sx[W]=sI[~~(sx[W]*1024)]}if(y)console.log("contour remap",Date.now()-D);
$=Math.round($/a);p=Math.round(p/a);var sc=I.a($*p*4);_$.l$(sc,m.hglC.v);var sl=I.a($*p*4);_$.l$(sl,m.sdwC.v);
var sJ=I.a($*p*4);_$.l$(sJ,m.hglC.v);var sy=I.a($*p*4);_$.l$(sy,m.sdwC.v);var sj=1/sS,so=1/(1-sS),ss=1/E,sO=new Float64Array(1e3);
for(var W=0;W<1e3;W++)sO[W]=Math.pow(W*.001,.2);for(var W=0;W<p;W++)for(var g=0;g<$;g++){var sA=W*$+g,sF=4*sA+3,sH=0,sN=0;
if(a==1){sH=sf[sA];sN=sx[sA]}else{var sY=a*a*W*$+a*g;sH=.25*(sf[sY]+sf[sY+1]+sf[sY+a*$]+sf[sY+a*$+1]);
sN=.25*(sx[sY]+sx[sY+1]+sx[sY+a*$]+sx[sY+a*$+1])}var sz=Math.max(0,Math.min(.9999,(s_[sA]+E*.993)*ss));
sz=sO[Math.floor(sz*1e3)];var sD=sz*(1-Math.min(1,sH*sj)),sm=sz*(1-Math.min(1,(1-sH)*so)),sM=sz*(1-Math.min(1,sN*sj)),sG=sz*(1-Math.min(1,(1-sN)*so));
sl[sF]=Math.round(255*sD);sc[sF]=Math.round(255*sm);sy[sF]=Math.round(255*sM);sJ[sF]=Math.round(255*sG)}if(y)console.log("baking textures",Date.now()-D);
G=P.rect().clone();G.PY(i/a,i/a);G.offset(-P.rect().x-1,-P.rect().y-1);var sb={_Ts:m.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(x)!=-1){sb.YE={Ml:sc,eo:G,GG:__.i_(m.hglM.v.BlnM),Wm:m.hglO.v.val/100};
sb.$R={Ml:sl,eo:G,GG:__.i_(m.sdwM.v.BlnM),Wm:m.sdwO.v.val/100};O.all.push(sb.YE,sb.$R)}if(["OtrB","Embs","PlEb"].indexOf(x)!=-1){sb.BE={Ml:sJ,eo:G,GG:__.i_(m.hglM.v.BlnM),Wm:m.hglO.v.val/100};
sb.MA={Ml:sy,eo:G,GG:__.i_(m.sdwM.v.BlnM),Wm:m.sdwO.v.val/100};O.all.push(sb.BE,sb.MA)}if(y)console.log(Date.now()-D);
O.type[s].push(sb)}if(s=="patternFill"){var sX=P.rect(),n=I.a(sX.n()*4);_$.vp(m,n,sX,C,c);var r=sX.clone();
r.offset(-sX.x-1,-sX.y-1);var o={Ml:n,eo:r,GG:__.i_(m.Md.v.BlnM),Wm:m.Opct.v.val/100};O.type[s].push(o);
O.all.push(o)}if(s=="ChFX"){var n=I.a(P.lP().length*4);_$.l$(n,m.Clr.v);var f=m.blur.v.val,se=P.rect().clone();
se.PY(f,f);var sW=I.a(se.n()),sq=I.a(se.n());I.Ty(P.lP(),P.rect(),sq,se);I.blur.IY(sq,sW,se,f*.43);var sd=I.vn.$K(m.MpgS.v.Crv.v,256,!0);
I.Tt(sW,sd);var sg=I.a(P.lP().length),KE=I.a(P.lP().length),K_=P.rect().clone();_$.lU(K_,m,C,0);I.Ty(sW,se,sg,K_);
K_=P.rect().clone();_$.lU(K_,m,C,Math.PI);I.Ty(sW,se,KE,K_);var KT=sg.length;for(var W=0;W<KT;W++)n[4*W+3]=Math.abs(sg[W]-KE[W]);
if(m.Invr.v)for(var W=0;W<KT;W++)n[4*W+3]=255-n[4*W+3];var r=P.rect().clone();r.offset(-P.rect().x-1,-P.rect().y-1);
var o={Ml:n,eo:r,GG:__.i_(m.Md.v.BlnM),Wm:m.Opct.v.val/100};O.type[s].push(o);O.all.push(o)}if(s=="OrGl"){var j;
if(m.GlwT.v.BETE=="SfBL")j=P.lx(K,f-K,!0);else j=P.lQ(f,B,!0);var S=j.lP,r=j.Gj;_$.lK(S,m);_$.lv(S,m);
var n=I.a(r.n()*4);if(m.Grad==null){_$.l$(n,m.Clr.v);I.TP(S,n,3)}else{var KI={Mn:S,Mb:255,MG:0,MX:r};
_$.lE(m,n,r,C,KI);for(var W=0;W<n.length;W+=4){var KB=S[W>>2];if(KB<32)n[W+3]=Math.max(0,KB-1)<<3}}r.offset(-P.rect().x-1,-P.rect().y-1);
var o={Ml:n,eo:r,GG:__.i_(m.Md.v.BlnM),Wm:m.Opct.v.val/100};O.type[s].push(o);O.all.push(o)}if(s=="IrGl"){var j;
if(m.GlwT.v.BETE=="SfBL")j=P.lx(K,f-K,!1);else j=P.lQ(f,B,!1);var S=j.lP,r=j.Gj;_$.lK(S,m);_$.lv(S,m);
if(m.glwS.v.IGSr=="SrcC")I.Tk(S);var n=I.a(r.n()*4);if(m.Grad==null){_$.l$(n,m.Clr.v);I.TP(S,n,3)}else{var KI={Mn:S,Mb:255,MG:0,MX:r};
_$.lE(m,n,r,C,KI)}r.offset(-P.rect().x-1,-P.rect().y-1);var o={Ml:n,eo:r,GG:__.i_(m.Md.v.BlnM),Wm:m.Opct.v.val/100};
O.type[s].push(o);O.all.push(o)}if(s=="FrFX"){var Ks=_$.cb(m),KK=Ks[0],Kv=Ks[1],r=P.rect().clone(),K$=null,KU=null;
r.PY(Math.ceil(Z),Math.ceil(Z));if(Kv>0){var j=P.lx(Kv,0,!0);KU=j.lP;if(KU.length<r.n()){KU=I.a(r.n());
I.Ty(j.lP,j.Gj,KU,r)}}if(KK>0){var j=P.lx(KK,0,!1);K$=I.a(r.n());I.set(K$,255);I.Ty(j.lP,j.Gj,K$,r)}r.offset(-P.rect().x-1,-P.rect().y-1);
var n=I.a(r.n()*4),KL=m.PntT.v.FrFl;if(KL=="SClr")_$.l$(n,m.Clr.v);if(KL=="GrFl")_$.lE(m,n,r,C,P._Ec(KK,Kv));
if(KL=="Ptrn")_$.vp(m,n,r,C,c);var o={Ml:n,eo:r,GG:__.i_(m.Md.v.BlnM),Wm:m.Opct.v.val/100,Wx:KU,$b:K$};
O.type[s].push(o);O.all.push(o)}}}return O};_$.cW=function(N){var c=1/Math.sqrt(N.x*N.x+N.y*N.y+N.Gn*N.Gn);
N.x*=c;N.y*=c;N.Gn*=c};_$._EM=function(N,c){return{x:N.y*c.Gn-N.Gn*c.y,y:N.Gn*c.x-N.x*c.Gn,Gn:N.x*c.y-N.y*c.x}};
_$._KV=function(N,c){return N.x*c.x+N.y*c.y+N.Gn*c.Gn};_$.kt=function(N){var c=_$.cd();return{fill:N.add.iOpa!=null?N.add.iOpa/255:c.fill,rC:N.add.brst!=null?N.add.brst:c.rC,DM:N.add.knko!=null?N.add.knko:c.DM,style:!1,MJ:!1}};
_$.cd=function(){return{fill:1,rC:[1,1,1],DM:0,style:!1,MJ:!1}};_$.cg=function(N,c){if(c==null)return null;
var X=N.Idnt.v,l=null;for(var C=0;C<c.length;C++)if(c[C].id==X)return c[C];return null};_$.vp=function(N,c,X,l,C){var q=_$.cg(N.Ptrn.v,l.add.Patt);
if(q!=null&&!X.BH()){var J=I.scale.vp(q.Ml,q.Gj.h,q.Gj.s),Z=N.Scl.v.val/100,W=-X.x+N.phase.v.Hrzn.v-1,s=-X.y+N.phase.v.Vrtc.v-1;
if(N.Algn!=null&&!N.Algn.v){}else{W+=C.x;s+=C.y}I.scale._vT(J,c,X.h,X.s,Z,Z,W+1,s+1)}};_$.lE=function(N,c,X,l,C,q){if(q==null)q=X;
var J=N.Type?N.Type.v.GrdT:"shapeburst",Z=N.Algn&&N.Algn.v?q:new u(0,0,l.h,l.s),W=N.Angl?I.c.sJ(N,Z):[new k(0,0),new k(100,0)],s=W[0].x,t=W[0].y,T=W[1].x-s,g=W[1].y-t,R=Math.sqrt(T*T+g*g);
R=1/(2*R*R);var P=[T*R,g*R,-g*R,T*R];I.c.sp(N.Grad.v,c,X,P,s,t,N.Rvrs?N.Rvrs.v:!1,F.c.types.indexOf(J),0,0,C)};
_$._RD=function(N,c){for(var X=0;X<N.all.length;X++){var l=N.all[X];l.eV=l.eo.clone();l.eV.offset(c.x,c.y)}};
_$.lT=function(N,c,X,l,C,q){var J=h.LH?_$.ls:_$.lB;_$._RD(c,X);var Z=c.type.DrSh;for(var W=0;W<Z.length;
W++)if(!Z[W].rL)J(Z[W],l,C,q)};_$.lI=function(N,c,X,l,C,q,J,Z,W,s){var t=X,T=h.LH?_$.ls:_$.lB,g=h.LH?h.B.Cw:I.B.Iw,R;
R=c.type.DrSh;for(var P=0;P<R.length;P++)if(R[P].rL)T(R[P],l,C,q);R=c.type.OrGl;for(var P=0;P<R.length;
P++)T(R[P],l,C,q);var O="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var b=0;b<O.length;b++){var R=c.type[O[b]];
for(var P=0;P<R.length;P++)T(R[P],J,t,q)}var z=c.type.ebbl[0],m=z!=null&&z._Ts;R=c.type.FrFX;for(var P=0;
P<R.length;P++){var f=R[P];_B.pe.Ty(Z,s,W,s,q);T(f,W,s,q);if(m&&P==R.length-1){if(z.MA)T(z.MA,W,s,q);
if(z.BE)T(z.BE,W,s,q);if(z.$R)T(z.$R,W,s,q);if(z.YE)T(z.YE,W,s,q)}if(f.$b||f.v_)g(W,s,J,t,h.LH?f.v_:f.$b,f.eV,0,q,1);
if(f.Wx||f.ij)g(W,s,l,C,h.LH?f.ij:f.Wx,f.eV,0,q,1)}if(!m&&z!=null){if(z.MA)T(z.MA,l,C,q);if(z.BE)T(z.BE,l,C,q);
if(z.$R)T(z.$R,J,t,q);if(z.YE)T(z.YE,J,t,q)}};_$.lB=function(N,c,X,l){var C=_$.cd();C.fill=N.Wm;C.style=!0;
I.B.Ih(N.GG,N.Ml,N.eV,c,X,l,1,C)};_$.ls=function(N,c,X,l){var C=_$.cd();C.fill=N.Wm;C.style=!0;h.B.Ci(N.GG,N.LA,N.eV,c,X,l,1,C)};
_$.lK=function(N,c){var X=1-c.Inpr.v.val/100,l=1+Math.tan(X*(Math.PI/2)),C=N.length;for(var q=0;q<C;
q++)N[q]=Math.min(255,Math.round(N[q]*l))};_$.lv=function(N,c){var X=c.blur.v.val,l=Math.round(X*(c.Ckmt.v.val/100));
if(X>l){var C=I.vn.$K(c.TrnS.v.Crv.v,256,!0);I.Tt(N,C)}if(c.Nose.v.val>0)I.style._TS(N,c.Nose.v.val/100)};
_$.l$=function(N,c,X){if(X==null)X=255;var l=I.c.si(c),C=X<<24|l.w<<16|l.d<<8|l.W;I.Tr(N,C)};_$.lU=function(N,c,X,l){var C=c.uglg&&c.uglg.v?X.Vn():c.lagl.v.val;
C=C*Math.PI/180+l;var q=Math.cos(C)*c.Dstn.v.val,J=Math.sin(C)*c.Dstn.v.val;N.x-=Math.round(q);N.y+=Math.round(J)};
_$.lL=function(N){if(N==null)return null;var c=N.frameFXMulti.v;if(c.length==0)return null;c=c[0].v;
var X=JSON.parse(JSON.stringify(F.cF.default));_$.lC(c,X);return X};_$.lC=function(N,c){var X=F.stroke.cV.indexOf(N.PntT.v.FrFl),l=[F.cQ,F.cA,F.ck][X],C=c.strokeStyleContent.v={classID:F.cF.cY[X]};
for(var q=0;q<l.length;q++)C[l[q]]=N[l[q]];c.strokeEnabled=N.enab;c.strokeStyleLineWidth=N.Sz;c.strokeStyleLineAlignment.v.strokeStyleLineAlignment=F.cF.cN[F.stroke.types.indexOf(N.Styl.v.FStl)];
c.strokeStyleOpacity=N.Opct;c.strokeStyleBlendMode=N.Md};_$.lZ=function(N,c){var X=[];for(var l=0;l<N.length;
l++)X.push({t:"UntF",v:{type:"#Nne",val:Math.round(N[l]*c)}});return X};_$.lR=function(N,c,X){this.Cq=c.clone();
this.Cq.PY(1,1);this.HR=c.clone();this.HR.PY(X,X);this.lD=I.a(this.Cq.n());I.Ty(N,c,this.lD,this.Cq);
this.UK=null;this.$t=null;this.$p=null};_$.lR.prototype.lP=function(){return this.lD};_$.lR.prototype.rect=function(){return this.Cq};
_$.lR.prototype.lh=function(){return this.HR};_$.lR.prototype.IZ=function(){if(this.UK)return this.UK;
this.UK=I.clone(this.lP());I.Tk(this.UK);return this.UK};_$.lR.prototype.lr=function(){if(this.$t)return this.$t;
this.$t=new Float64Array(this.rect().n());I.style.$C(this.IZ(),this.$t,this.rect().h,this.rect().s);
return this.$t};_$.lR.prototype.lS=function(){if(this.$p)return this.$p;var N=this.lh(),c=I.a(N.n());
I.Ty(this.lP(),this.rect(),c,N);this.$p=new Float64Array(N.n());I.style.$C(c,this.$p,N.h,N.s);return this.$p};
_$.lR.prototype._Ec=function(N,c){var X={Mb:-c,MG:N,MX:null,Mn:null};if(c==0){X.MX=this.rect();X.Mn=this.lr();
return X}var l=this.lS().slice(0),C=this.lh();X.MX=C;X.Mn=l;for(var q=0;q<l.length;q++)l[q]=-l[q];if(N==0)return X;
var J=this.lr(),Z=this.rect();for(var W=0;W<Z.s;W++)for(var s=0;s<Z.h;s++){var t=W*Z.h+s,T=(W+Z.y-C.y)*C.h+s+Z.x-C.x;
l[T]+=J[t]}return X};_$.lR.prototype.lx=function(N,c,X){var l=Math.ceil(N+c),C={Gj:this.rect().clone(),lP:null};
C.Gj.PY(l,l);C.lP=I.a(C.Gj.n());if(N==0&&c==0)I.Tx(X?this.lP():this.IZ(),C.lP);else{var q=I.a(C.Gj.n());
I.Ty(this.lP(),this.rect(),q,C.Gj);if(!X)I.Tk(q);if(N!=0){if(X)I.style.$U(q,C.Gj,this.lS(),this.lh(),N);
else I.style.$U(q,C.Gj,this.lr(),this.rect(),N)}if(c!=0)I.blur.IY(q,C.lP,C.Gj,Math.max(1,c*.43));else C.lP=q}return C};
_$.lR.prototype.lQ=function(N,c,X){var l=N*(c-.5),C={Gj:this.rect().clone(),lP:null};if(X)C.Gj.PY(N,N);
C.lP=I.a(C.Gj.n());var q=C.Gj.h,J=C.Gj.s,Z=X?this.lS():this.lr(),W=X?this.lh():this.rect(),s=C.Gj,t=s.vm(W),q=t.h,J=t.s,T=t.x-s.x,g=t.y-s.y,R=t.x-W.x,P=t.y-W.y,O=1-c*2;
for(var b=0;b<J;b++)for(var z=0;z<q;z++){var m=Z[(b+P)*W.h+z+R],f=m/N;C.lP[(b+g)*s.h+z+T]=Math.max(0,Math.min(255,255-255*((f+O)/(1+O))))}return C};
function _U(){}_U.lA=function(N){return JSON.parse(JSON.stringify(N))};_U.lk=function(){return _U.lA(_U._Eo)};
_U._Eo={classID:"brushPreset",Nm:{t:"TEXT",v:"$$$/Presets/Brushes/BasicBrushes_abr/HardMechanical5pixels=Hard Mechanical 5 pixels"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:5}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
_U.cW={};_U.cW.check=function(N){var c=_U.cW.li;for(var X=0;X<c.length;X++)if(N[c[X]]==null)N[c[X]]=JSON.parse(_U.cW.lw[c[X]]);
var l=[];for(var X=0;X<c.length;X++)l.push(c[X]);var C=_U.cW.lc;for(var X=0;X<C.length;X++){var q=C[X][0],J=C[X][1],Z=!0;
for(var W=0;W<q.length;W++)Z=Z&&N[q[W]].v==!0;if(Z)for(var W=0;W<J.length;W++){if(N[J[W]]==null)console.log("Missing conditional parameter "+J[W]);
else l.push(J[W])}}for(var s in N)if(l.indexOf(s)==-1)console.log("Extra parameter "+s);N=N.Brsh.v;c=_U.cW.la.li;
for(var X=0;X<c.length;X++)if(N[c[X]]==null)N[c[X]]=JSON.parse(_U.cW.la.lw[c[X]]);l=[];for(var X=0;X<c.length;
X++)if(N[c[X]])l.push(c[X]);else console.log("Missing default parameter "+c[X]);C=_U.cW.la._Et[N.classID];
for(var X=0;X<C.length;X++)if(N[C[X]]==null&&C[X]!="dtipsGridSize"&&C[X]!="dtipsErodibleTipHeightMap"&&N._Tf!=1)console.log("Missing conditional parameter "+C[X]);
else l.push(C[X]);for(var s in N)if(l.indexOf(s)==-1)console.log("Extra parameter "+s)};_U.cW.lp=function(N){var c=_U.cW.lc;
for(var X=0;X<c.length;X++){var l=c[X][0],C=c[X][1],q=!0;for(var J=0;J<l.length;J++)q=q&&N[l[J]]&&N[l[J]].v==!0;
if(q){for(var J=0;J<C.length;J++)if(N[C[J]]==null){N[C[J]]=JSON.parse(_U.cW.lw[C[J]])}}else for(var J=0;
J<C.length;J++)if(N[C[J]]!=null){delete N[C[J]]}}};_U.cW.la={};_U.cW.la.li="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
_U.cW.la.lw={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};_U.cW.la._Et={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
_U.cW.lc=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
_U.cW.li="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
_U.cW.lw={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function _L(N){this.$P=N;this.dir=0}_L.prototype.ll=function(N,c){if(this.dir==0&&!this.$P.TA(N))this.dir=Math.abs(this.$P.x-N.x)<Math.abs(this.$P.y-N.y)?1:2;
var X=N;if(c.T(M.pU)){if(this.dir==1)X=new k(this.$P.x,N.y);if(this.dir==2)X=new k(N.x,this.$P.y)}return X};
function _C(N,c,X,l,C,q,J,Z){this.w=N;this.Xt=c;this.Xq=X;this.Wp=C;this.Wa=q;this.gv=l;this.t$=null;
this.Ws=null;this.Fo=0;this.rr=0;this.HS=0;this.eA=0;this.XL=0;this._Tp=J;this.M$=new u;this.rect=new u;
this.Ml=I.a(0);if(J.n()<200*200){this.rect=J.clone();this.Ml=I.a(J.n()*4)}if(Z!=null){this.Ml=Z;this.rect=J.clone()}this.history=[];
this.iT=[];this.Z$=[];this.Wb=null;this.Br=_C.lM(N,this.Xt,this.Xq)}_C.prototype.__s=function(N,c){this.w=N;
this.Wp=c;this.history=[];this.Br=_C.lM(N,this.Xt,this.Xq)};_C.prototype.moveTo=function(N,c,X){if(X==null)X=1;
this.Fo=X;var l=new k(N,c),C=this.w.Brsh.v.Dmtr.v.val;this.t$=l.clone();this.Ws=l.clone();this.Wb=l.clone();
this.iT.push(N,c);this.Z$.push(X);if(this.gv.WA!=_C.xE)this.lN(l,this.lH()*X,new k(0,0));this.eA=l.clone()};
_C.prototype.lineTo=function(N,c,X){if(X==null)X=1;var l=this.iT,C=l.length,q=l[C-2],J=l[C-1];if(N==q&&c==J)return;
var Z=this.w.Brsh.v.Dmtr.v.val,W=Math.ceil(Z)+1,s=new u(Math.round(q),Math.round(J),0,0);s.PY(W,W);var t=new u(Math.round(N),Math.round(c),0,0);
t.PY(W,W);this.lm(s.vz(t));this.iT.push(N,c);this.Z$.push(X);C+=2;if(C>=6)this.ly(C)};_C.prototype.finish=function(){var N=this.iT,c=N.length;
if(c==4)this.lo(N[c-2],N[c-1],this.Z$[(c>>1)-1],!0);if(c>4)this.ly(c+2)};_C.prototype.ly=function(N){var c=this.iT,X=this.Z$,l=c[N-6],C=c[N-5],q=c[N-4],J=c[N-3],Z=X[(N>>1)-3],W=X[(N>>1)-2],s=new k(0,0),t=new k(0,0);
if(8<=N)s=_C.lj(c[N-8],c[N-7],l,C,q,J);if(N<=c.length)t=_C.lj(c[N-2],c[N-1],q,J,l,C);var T=l+s.x,g=C+s.y,R=q+t.x,P=J+t.y,O=new u;
for(var b=0;b<10;b++){var z=(b+1)*.1,m=1-z,f=m*m*m*l+3*z*m*m*T+3*z*z*m*R+z*z*z*q,B=m*m*m*C+3*z*m*m*g+3*z*z*m*P+z*z*z*J;
this.lo(f,B,Z+z*(W-Z));O=O.vz(this.M$)}this.M$=O};_C.lj=function(N,c,X,l,C,q){var J=N-X,Z=c-l,W=C-X,s=q-l,t=Math.sqrt(J*J+Z*Z),T=Math.sqrt(W*W+s*s),g=Math.acos((J*W+Z*s)/(t*T))/Math.PI,R=.35,P=.1;
g=P+g*(R-P);var O=C-N,b=q-c,z=Math.sqrt(O*O+b*b),m=g*T/z;return new k(O*m,b*m)};_C.prototype.lo=function(N,c,X,l){var C=this.gv._so;
if(C==null)C=0;if(C==0||l){this.lO(N,c,X);return}var q=this.Wb,J=N-q.x,Z=c-q.y,W=Math.sqrt(J*J+Z*Z);
J/=W;Z/=W;if(W>C){var s=q.x+J*(W-C),t=q.y+Z*(W-C);this.lO(s,t,X);this.Wb.Cj(s,t)}};_C.prototype.lO=function(N,c,X){this.M$=new u;
var l=new k(N,c),C=this.w.Brsh.v.Dmtr.v.val,q=this.gv.WA,J=l.Co(this.Ws);J.normalize(1);var Z=k.CO(this.Ws,l),W=-this.rr,s=this.Ws.clone();
while(!0){var t=this.lH()*(this.Fo+(X-this.Fo)*(W/Z)),T=this.__J()*(t+this.HS)/2;if(q==_C.xE)T=1;if(W+T<Z){W+=T;
var g=new k(this.Ws.x+J.x*W,this.Ws.y+J.y*W),O=1;if(q==_C.xE){var R=s.clone();R.x+=J.x>0?1:-1;var P=s.clone();
P.y+=J.y>0?1:-1;if(k.CO(R,g)<k.CO(P,g))g=R;else g=P;W=k.CO(g,this.Ws)}if(this.w.useScatter.v==!0){O=this.w.Cnt.v;
var b=this.w.countDynamics.v.jitter.v.val/100,z=b*(-1+2*this.lY());O+=Math.round(O*z)}for(var m=0;m<O;
m++)this.lN(g,t,J);s=g}else break}this.rr=Z-W;this.Ws=l;this.Fo=X};_C.prototype.__J=function(){var N=this.w.Brsh.v.Spcn.v.val,c=Math.max(5,this.w.Brsh.v.Rndn.v.val);
return c/100*(N/100)};_C.prototype.lH=function(){var N=this.w,c=N.Brsh.v.Dmtr.v.val;if(N.useTipDynamics.v){var X=c*(N.minimumDiameter.v.val/100);
c=X+(c-X)*(1-this.lY()*(N.szVr.v.jitter.v.val/100))}return c};_C.prototype.lN=function(N,c,X){var l=this.w,C=this.w.Brsh.v,q=C.Dmtr.v.val,J=this.gv,Z=J.WQ,W=J.WA,s=J._TV,t=new Bh;
t.translate(-this.Br.bb.h/2,-this.Br.bb.s/2);t.scale(1/this.Br._j,1/this.Br._j);t.scale(c/q,c/q);t.scale(1,Math.max(5,C.Rndn.v.val)/100);
if(l.useTipDynamics.v){var T=l.minimumRoundness.v.val/100;t.scale(1,T+(1-T)*Math.round(100-this.lY()*l.roundnessDynamics.v.jitter.v.val)/100);
t.rotate((-.5+this.lY())*4*Math.PI*(l.angleDynamics.v.jitter.v.val/100))}t.rotate(C.Angl.v.val*(Math.PI/180));
if(l.useScatter.v){var g=(-1+2*this.lY())*l.scatterDynamics.v.jitter.v.val/100;t.translate(-g*c*X.y,g*c*X.x)}t.translate(N.x,N.y);
var R=this._TP(t,N);this.lm(R.rect);this.M$=this.M$.vz(R.rect);if(W==null){var P=this.si(l);I.Tr(R.sk,Math.round(P.w*255)<<16|Math.round(P.d*255)<<8|Math.round(P.W*255)<<0,4278190080);
I.B._Zb(R.sk,R.rect,this.Ml,this.rect,R.rect,Z)}if(W==_C.xE){var O=new k(R.rect.x+R.rect.h/2,R.rect.y+R.rect.s/2),b=Math.round(O.x-this.eA.x),z=Math.round(O.y-this.eA.y),m=R.rect.clone();
m.offset(-b,-z);var f=m.vm(this.rect);f.offset(b,z);I.TF(this.Ml,this.rect,R.sk,m);I.B.__r(R.sk,R.rect,this.Ml,this.rect,R.Zf,R.rect,Z)}if(W==_C.fd||W==_C.fg||W==_C.lq){var B=R.rect.vm(this.rect),K=I.a(B.n());
I.Ty(R.Zf,R.rect,K,B);var j=R.sk;I.TF(this.Ml,this.rect,j,B);if(W==_C.fg){var S=I.clone(j),r=I.BG.BX([-1,-1,-1,-1,25,-1,-1,-1,-1]);
I.BG.Bn(j,S,B.h,B.s,r,3);I.Tx(S,j)}else if(W==_C.lq){var n=_E.am("UnsM");n.Amnt.v.val=15;n.Thsh.v=0;
n.Rds.v.val=5;var S=I.a(j.length);_E.ap("UnsM",{buffer:j,rect:B},n,0,0,{buffer:S,rect:B});I.Tx(S,j)}else{_E.ab(1,I.blur.ID,j,B)}I.B.Iw(j,B,this.Ml,this.rect,K,B,0,B,Z,!1)}this.HS=c;
this.eA=O};_C.prototype.si=function(N){var c=_C.lz(this.Wp);if(N.useColorDynamics.v){var X=1-this.lY()*N.clVr.v.jitter.v.val/100,l=_C.lz(this.Wa);
c.W=X*c.W+(1-X)*l.W;c.d=X*c.d+(1-X)*l.d;c.w=X*c.w+(1-X)*l.w;var C=(-.5+this.lY())*N.H.v.val/100,q=(-1+2*this.lY())*N.Strt.v.val/100,J=(-1+2*this.lY())*N.Brgh.v.val/100,Z=I.T_(c.W,c.d,c.w);
Z.MC=(Z.MC+C+1)%1;Z.Mw=Z.Mw+q;if(Z.Mw<0)Z.Mw=-Z.Mw;if(Z.Mw>1)Z.Mw=1-(Z.Mw-1);Z.L_=Z.L_+J;if(Z.L_<0)Z.L_=-Z.L_;
if(Z.L_>1)Z.L_=1-(Z.L_-1);c=I.TT(Z.MC,Z.Mw,Z.L_)}return c};_C.prototype.cW=function(N){return Math.max(0,Math.min(1,N))};
_C.prototype.lY=function(){this.XL++;return _C.hash(this.XL)};_C.lz=function(N){return{W:(N>>16&255)/255,d:(N>>8&255)/255,w:(N>>0&255)/255}};
_C.hash=function(N){N=N^61^N>>16;N=N+(N<<3);N=N^N>>4;N=N*668265261;N=N^N>>15;return(N&16777215)/16777215};
_C.prototype._TP=function(N,c){var X=this.gv.Wu,l;if(X){N=N.clone();N.MD=Math.floor(N.MD);N.MM=Math.floor(N.MM)}var C=new k(N.MD%1,N.MM%1);
for(var q=0;q<this.history.length;q++){var J=this.history[q];if(!(J.Gh.u==N.u&&J.Gh.w==N.w&&J.Gh.Mz==N.Mz&&J.Gh.Mm==N.Mm))continue;
if(k.CO(J.qa,C)<.2){l=J;break}}if(l){l.rect.x=Math.round(l.tI.x-l.Gh.MD+N.MD);l.rect.y=Math.round(l.tI.y-l.Gh.MM+N.MM)}else{var Z=Math.round(this.w.Brsh.v.Dmtr.v.val),W;
if(X&&Z<=3){W={buffer:I.a(Z*Z*4),rect:new u(Math.round(c.x-Z/2),Math.round(c.y-Z/2),Z,Z)};I.Tr(W.buffer,4278190080)}else W=H.r.kP([this.Br.sk,this.Br.bb],N);
if(X){for(var q=0;q<W.buffer.length;q++)W.buffer[q]=W.buffer[q]>127?255:0}if(W==null)W={buffer:I.a(0),rect:new u};
l={sk:W.buffer,Zf:I.a(W.rect.n()),rect:W.rect,tI:W.rect.clone(),Gh:N,qa:new k(N.MD%1,N.MM%1)};I.TR(l.sk,l.Zf,3);
this.history.push(l);if(this.history.length>200)this.history=this.history.slice(100)}return l};_C.prototype.lm=function(N){var c=this._Tp;
N=N.vm(c);if(N.BH())return;if(!this.rect.PN(N)){var X=this.rect.vz(N);while(X.n()/this.rect.n()<2){X.PY(16,16);
X=X.vm(c)}if(c.n()/X.n()<2)X=c.clone();var l=I.a(X.n()*4);if(this.Ml)I.TF(this.Ml,this.rect,l,X);this.rect=X;
this.Ml=l}};_C.lM=function(N,c,X){var l,C,q,J=N.Brsh.v.Dmtr.v.val;if(N.Brsh.v.classID=="computedBrush"){var Z=N.Brsh.v.Hrdn.v.val/100,W=1.55;
q=1.2;var s=Math.round(q*J*W),t=Math.pow(Z,.55);C=new u(0,0,s,s);l=I.a(s*s);var T=s/2,g=1/T,c=_C._TN(Z);
for(var R=0;R<s;R++){var P=W*(R-T+.25)*g,O=W*(R-T+.75)*g;for(var b=0;b<s;b++){var z=W*(b-T+.25)*g,m=W*(b-T+.75)*g,f=Math.floor(Math.sqrt(z*z+P*P)*(1e3/1.55)),B=Math.floor(Math.sqrt(m*m+P*P)*(1e3/1.55)),K=Math.floor(Math.sqrt(z*z+O*O)*(1e3/1.55)),j=Math.floor(Math.sqrt(m*m+O*O)*(1e3/1.55));
l[R*s+b]=Math.round(255*.25*(c[f]+c[B]+c[K]+c[j]))}}}if(N.Brsh.v.classID=="sampledBrush"){var S;for(var R=0;
R<c.length;R++)if(c[R].id==N.Brsh.v.sampledData.v)S=c[R];l=S.channel;C=new u(0,0,S.rect.h,S.rect.s);
q=Math.min(C.h,C.s)/J}var r=I.a(C.n()*4);I.TP(l,r,3);while(Math.min(C.h,C.s)>J*2){var n=new u(C.x,C.y,Math.floor(C.h/2),Math.floor(C.s/2)),o=H.r.kP([r,C],new Bh(n.h/C.h,0,0,n.s/C.s,0,0));
q*=n.h/C.h;C=o.rect;r=o.buffer}return{_j:q,bb:C,sk:r}};_C.lG=[];_C._TN=function(N){if(_C.lG[N])return _C.lG[N];
var c=Math.pow(N,.55),X=new Float64Array(2e3);for(var l=0;l<2e3;l++)X[l]=_C._Zt(l*(1/1e3)*1.55,c);_C.lG[N]=X;
return X};_C._Zt=function(N,c){var X=N<c?1:_C._Ze((N-c)/Math.pow(1.001-c,.86));return X};_C._Ze=function(N){var c=N*.85;
return Math.exp(-(c*c)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};_C.prototype.xG=function(){return this.rect.clone()};
_C.prototype.le=function(){return this.rect.vm(this.M$)};_C.prototype.lW=function(){return this.Ml};
_C.$$=function(N,c,X,l,C){var q=d.S("canvas",""),J=q.getContext("2d");q.width=l;q.height=C;J.fillStyle="#ffffff";
J.fillStyle="#000000";J.font=Math.floor(10*d.V())+"px Arial";var Z=""+N.Brsh.v.Dmtr.v.val,W=J.measureText(Z);
J.fillText(Z,(l-W.width)/2,C-2);var s=l,t=C-10*d.V(),T=Math.min(s,t),g=N.Brsh.v.Dmtr.v.val,R=N.Brsh.v.classID;
if(R=="computedBrush"){J.translate(s/2,t/2);J.rotate(-N.Brsh.v.Angl.v.val*Math.PI/180);J.scale(1,.1+.9*N.Brsh.v.Rndn.v.val/100);
var P=Math.min(.95*T/2,Z/2)+.5,O=.9*N.Brsh.v.Hrdn.v.val/100,b=J.createRadialGradient(0,0,0,0,0,P);b.addColorStop(O,"rgba(0,0,0,1)");
b.addColorStop((.5+O)/1.5,"rgba(0,0,0,.5)");b.addColorStop(1,"rgba(0,0,0,0)");J.fillStyle=b;J.fillRect(-P,-P,2*P,2*P)}else if(R=="sampledBrush"){var z;
for(var m=0;m<c.length;m++)if(c[m].id==N.Brsh.v.sampledData.v)z=c[m];var f=d.S("canvas",""),B=f.getContext("2d");
f.width=z.rect.h;f.height=z.rect.s;var K=B.getImageData(0,0,f.width,f.height),j=new I.IL(f.width*f.height);
j.u=z.channel;I.TL(j,K.data);B.putImageData(K,0,0);T=Math.min(T,N.Brsh.v.Dmtr.v.val);var S=Math.max(f.width,f.height),r=.85*f.width*T/S,n=.85*f.height*T/S;
J.drawImage(f,(s-r)/2,(t-n)/2,r,n)}else{}return q.toDataURL()};_C.lt=function(N,c,X){if(X==0)X=1;var l=new u(0,0,128,128),C=N.Brsh.v.Dmtr.v.val;
N.Brsh.v.Dmtr.v.val=Math.min(180,C*X);var q=N.Brsh.v.Dmtr.v.val,J=new _C(N,c,null,{WQ:1},0,0,l);N.Brsh.v.Dmtr.v.val=C;
J.moveTo(l.h/2,l.s/2);var Z=new I.IL(l.n()),W=I.a(l.n()*4);I.TF(J.lW(),J.xG(),W,l);I.TZ(W,Z);if(q>=3){var s=I.a(l.n());
I.G._ZG(Z.u,s,l);var t=I.a(l.n());I.blur.IY(I.clone(s),t,l,1);I.Th(Z,255);I.Tx(t,Z.u);for(var T=0;T<s.length;
T++)if(s[T]==255){Z.u[T]=255;Z.W[T]=Z.d[T]=Z.w[T]=0}}else{var g=64*128+64,R=Z.u,P=10;for(var T=0;T<4;
T++){R[g-P*128+T*128-1]=R[g-P*128+T*128]=255;R[g+P*128-T*128-1-128]=R[g+P*128-T*128-128]=255;R[g-128-P+T]=R[g-128-P+T+128]=255;
R[g-128+P-T-1]=R[g-128+P-T-1+128]=255}}var O=I.a(l.n()*4);I.TL(Z,O);O[3]=Math.max(O[3],1);var b=BC._a(O,l.h,l.s);
return b};_C.xE="0";_C.fd="1";_C.fg="2";_C.lq="3";var _Z={};_Z.ld=function(N,c){var X=N.JU(),W;if(X.x==Infinity||X.BH())return{Ml:I.a(0),rect:new u,XA:new u};
var l=N.JU(),C=_Z.lg(N,c),q=I.z.Kt(C.l);if(q.BH())return{Ml:I.a(0),rect:new u,XA:new u};var J=d.S("canvas","");
J.width=q.h;J.height=q.s;var Z=J.getContext("2d");Z.translate(-q.x,-q.y);_Z._Tt(C,Z);if(N.nR.length!=0){var s=Z.getImageData(0,0,q.h,q.s);
W=new Uint8Array(s.data.buffer)}else W=I.a(q.n()*4);return{Ml:W,rect:q,XA:l}};_Z.lg=function(N,c){var X={Gv:[],l:[]};
_Z._ZY(N,X);if(!I.Uj.Uo(c.XQ)){var l=I.z.sX(X.l);X=I.z.Kd(X);X=I.z.Kg(X,Math.min(l.h,l.s)/8);var C=_W.xG(c,N),q=I.Uj.UH(c.XQ,C);
I.P.apply(q,X.l,C)}var J=c.Kp;I.z.Kp(X.l,J,X.l);return X};_Z._Tt=function(N,c){Typr.U.pathToContext({crds:N.l,cmds:N.Gv},c)};
_Z.J_=function(N,c){var X=N.Xk.ResourceDict.FontSet,l=[],C=N.Xk.EngineDict.StyleRun.RunArray,J=!0;for(var q=0;
q<C.length;q++)l.push(_W.JV(N.Xk,q).Font);for(var q=0;q<l.length;q++){var Z=l[q];if(c.MK(X[Z].Name)==null)J=!1}return J};
_Z._ZY=function(N,c){var X=new Bh;for(var l=0;l<N.nP.length;l++)_Z._ZN(N.nR,N.nP[l],c,X)};_Z._ZN=function(N,c,X,l){l.translate(c.qa.x,c.qa.y);
for(var C=0;C<c.qp.length;C++){var q={},J=c.qp[C];if(!J.ZS)break;l.translate(J.qa.x,J.qa.y);for(var Z=J.start;
Z<J.end;Z++)_Z._Zl(N,c.eH[Z],q,X,l);l.translate(-J.qa.x,-J.qa.y)}l.translate(-c.qa.x,-c.qa.y)};_Z._IU="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
_Z._Zl=function(N,c,X,l,C){C.translate(c.qa.x,c.qa.y);for(var q=c.start;q<c.end;q++){var J=N[q];if(J.path.Gv.length==0)continue;
var Z=C.clone();Z.translate(J.qa.x,J.qa.y);var W=J.Xz.FontSize/J.Tv.head.unitsPerEm,s=_W.si(J.Xz),t=(Math.round(s.W)<<16)+(Math.round(s.d)<<8)+Math.round(s.w);
l.Gv.push("#"+I._z(t));var T=new Bh(W,0,0,-W,0,0);if(J.qu==1&&_Z._IU.indexOf(J.qS)!=-1)T.concat(new Bh(-1,0,0,1,J.rect.h,0));
if(J.Xz.FauxItalic)T.concat(new Bh(1,0,-Math.tan(.18),1,0,0));T.scale(J.scale.x,J.scale.y);T.concat(Z);
I.z.concat(l,J.path,T);if(J.Xz.Underline){if(X.cy==null)X.cy=J.Tv.post.underlineThickness*W;if(X.lb==null)X.lb=J.Tv.post.underlinePosition*W;
var g=0,R=-X.lb+X.cy/2,P=1.05*J.rect.h/J.scale.x,O=X.cy;I.z.concat(l,{Gv:["M","L","L","L"],l:[g,R,g+P,R,g+P,R+O,g,R+O]},Z)}if(J.Xz.Strikethrough){var b=J.Tv["OS/2"].yStrikeoutSize*W,z=J.Tv["OS/2"].yStrikeoutPosition*W,g=0,R=-z-b/2,P=1.05*J.rect.h/J.scale.x,O=b;
I.z.concat(l,{Gv:["M","L","L","L"],l:[g,R,g+P,R,g+P,R+O,g,R+O]},Z)}l.Gv.push("X")}C.translate(-c.qa.x,-c.qa.y)};
function _R(N,c){var X,l=_W.Ja(N);if(l)X=new u(l[0],l[1],l[2],l[3]);this.qA=0;this.nP=[];this.rect=new u;
this.nR=[];var C=_W.JA(N),q={};for(var J=0;J<C.length;J++){var Z={qS:C.charAt(J),Xz:_W._Ka(N,J),sx:0,path:null,Tv:null,rect:new u,bb:new u,qa:new k(0,0),scale:new k(0,0),rR:0,lineHeight:0,hC:0,Tn:0,qu:0,MB:J},W=N.ResourceDict.FontSet[Z.Xz.Font].Name,s=Z.Tv=c.MK(W);
if(q[W]==null){q[W]=Typr.U.stringToGlyphs(s,C)}var t=q[W],T=Typr.U.codeToGlyph(s,Z.qS.charCodeAt(0));
if(Z.qS=="\n")Z.sx=-1;else if(t[J]==T&&Z.Xz.FontCaps!=0)Z.sx=Typr.U.codeToGlyph(s,Z.qS.toUpperCase().charCodeAt(0));
else Z.sx=t[J];if(Z.sx==-1)Z.path={Gv:[],l:[]};else{var g=Typr.U.glyphToPath(s,Z.sx);Z.path={Gv:g.cmds,l:g.crds}}Z.scale.x=Z.Xz.HorizontalScale==null?1:Z.Xz.HorizontalScale;
Z.scale.y=Z.Xz.VerticalScale==null?1:Z.Xz.VerticalScale;var R=s["OS/2"],P=s.hhea;if(Z.Xz.FontCaps==1&&t[J]==T&&Z.qS!=Z.qS.toUpperCase()){var O=R.sxHeight?R.sxHeight/R.sTypoAscender:.76;
Z.scale.x*=O;Z.scale.y*=O}var b=1/s.head.unitsPerEm*Z.Xz.FontSize;if(Z.Xz.FontBaseline==1){var O=N.ResourceDict.SuperscriptSize;
Z.scale.x*=O;Z.scale.y*=O;Z.qa.y-=N.ResourceDict.SuperscriptPosition*Z.Xz.FontSize}if(Z.Xz.FontBaseline==2){var O=N.ResourceDict.SubscriptSize;
Z.scale.x*=O;Z.scale.y*=O;Z.qa.y+=N.ResourceDict.SubscriptPosition*Z.Xz.FontSize}if(Z.Xz.BaselineShift)Z.qa.y-=Z.Xz.BaselineShift;
Z.rect.x=0;Z.rect.h=Z.scale.x*(Z.sx==-1?0:s.hmtx.aWidth[Z.sx])*b;Z.rect.y=-P.ascender*b;Z.rect.s=-Z.rect.y;
if(s.glyf==null){Z.bb=Z.rect.clone();Z.bb.s*=Z.scale.y;Z.bb.y-=Z.bb.s-Z.rect.s;Z.bb.s*=1.3}else if(s.glyf[Z.sx]!=null){var z=s.glyf[Z.sx];
Z.bb.x=z.xMin*b;Z.bb.h=(z.xMax-z.xMin)*b*Z.scale.x;Z.bb.y=-z.yMax*b*Z.scale.y;Z.bb.s=(z.yMax-z.yMin)*b*Z.scale.y}Z.bb.y=-b*(R?R.usWinAscent:s.head.yMax)*.9357;
Z.bb.s=-Z.bb.y-b*s.head.yMin;Z.rR=(R?R.sTypoAscender:s.head.unitsPerEm)*b;if(Z.rR==0)Z.rR=P.ascender*b;
Z.lineHeight=(P.ascender-P.descender)*b;Z.hC=P.ascender*b;Z.Tn=(-P.descender+P.lineGap)*b;if(Z.Xz.AutoLeading==!1)Z.lineHeight=Z.Xz.Leading;
this.nR.push(Z)}for(var J=0;J<N.EngineDict.ParagraphRun.RunLengthArray.length;J++){var m=new _R.JZ(N,c,this.nR,J,X);
this.nP.push(m)}var f=X==null?0:this.nP[0].qp[0].rR;for(var J=0;J<this.nP.length;J++){var B=this.nP[J].qp;
if(J>0)f+=B[0].lineHeight;this.nP[J].qa.y=f;this.qA+=B.length;if(X)for(var K=0;K<B.length;K++)B[K].ZS=B[K].qa.y+f<X.y+X.s;
var j=this.nP[J].rect.clone();j.Pm(this.nP[J].qa);this.rect=this.rect.vz(j);for(var K=1;K<B.length;K++)f+=B[K].lineHeight;
f+=_W.Jc(N,J).SpaceAfter;if(J<this.nP.length-1)f+=_W.Jc(N,J+1).SpaceBefore}}_R.prototype.JK=function(N){for(var c=0;
c<this.nR.length;c++)if(this.nR[c].MB==N)return this.nR[c];return null};_R.prototype.Jv=function(N,c){var X=-1;
for(var l=0;l<this.nP.length;l++){var C=this.nP[l];for(var q=0;q<C.qp.length;q++){X++;var J=C.qp[q],Z=C.qp[q+1];
if(Z==null&&l<this.nP.length-1)Z=this.nP[l+1].qp[0];if(c!=null){if(X!=c)continue}else{if(Z!=null&&C.qa.y+J.qa.y<N.y)continue}for(var W=J.start;
W<J.end;W++){var s=C.eH[W];if(W<J.end-1&&C.qa.x+J.qa.x+C.eH[W+1].qa.x<N.x)continue;for(var t=s.start;
t<s.end;t++){var T=this.nR[t],g=C.qa.x+J.qa.x+s.qa.x+T.qa.x,R=C.qa.y+J.qa.y+s.qa.y+T.qa.y;if(t<s.end-1&&g-T.qa.x+this.nR[t+1].qa.x<N.x)continue;
else break}return this.nR[t].MB}}}};_R.prototype.J$=function(N){var c=0,C=0;for(var X=0;X<this.nR.length;
X++)if(this.nR[X].MB==N)c=X;var l={rect:null,qQ:0};for(var q=0;q<this.nP.length;q++){var J=this.nP[q];
for(var Z=0;Z<J.qp.length;Z++){var W=J.qp[Z];l.qQ=C;C++;for(var s=W.start;s<W.end;s++){var t=J.eH[s],T,g,R,P;
for(g=t.start;g<t.end;g++){T=this.nR[g];R=J.qa.x+W.qa.x+t.qa.x+T.qa.x;P=J.qa.y+W.qa.y+t.qa.y+T.qa.y;
if(g==c){l.rect=new u(R,P-T.lineHeight,T.rect.h,T.lineHeight);return l}}}}}};_R.prototype.JU=function(){var N=Infinity,c=Infinity,X=-Infinity,l=-Infinity;
for(var C=0;C<this.nP.length;C++){var q=this.nP[C];for(var J=0;J<q.qp.length;J++){var Z=q.qp[J];if(!Z.ZS)break;
for(var W=Z.start;W<Z.end;W++){var s=q.eH[W];for(var t=s.start;t<s.end;t++){var T=this.nR[t],g=q.qa.x+Z.qa.x+s.qa.x+T.qa.x,R=q.qa.y+Z.qa.y+s.qa.y+T.qa.y;
N=Math.min(N,g+T.bb.x);c=Math.min(c,R+T.bb.y);X=Math.max(X,g+T.bb.x+T.bb.h);l=Math.max(l,R+T.bb.y+T.bb.s)}}}}return new u(N,c,X-N,l-c)};
_R.JL=function(N,c,X,l,C,q){var J=[l],Z=0;for(var W=l;W<C;W++){if(X[W]==null)console.log(W,l,C,X);var s=X[W].qS,t=s.charCodeAt(0);
if(t==32){J.push(Z,W,1,W+1);Z=0}else if(19968<=t&&t<=40959||12288<=t&&t<=12543){J.push(Z,W);Z=1}else if(q!=null&&(q.indexOf(W-l)!=-1||W!=l&&X[W].qu!=X[W-1].qu)){J.push(Z,W);
Z=1}else Z++}J.push(Z);var T=[];for(var W=0;W<J.length;W+=2){var g=J[W],R=J[W+1];if(R==0)continue;T.push(new _R._sM(N,c,X,g,R))}return T};
_R.JC=function(N,c,X,l){var C=[[],[]],q=0,J=0;while(q<N.length){var Z=0,W=q,s=c?c.h-X.StartIndent-X.EndIndent-(q==0?X.FirstLineIndent:0):Infinity;
while(!0){if(q==N.length)break;var t=N[q],T=Z==0;if(l)T=T||l.indexOf(J)==-1;else T=T||(t.CF||t.$O)||Z+t.rect.h<s;
if(T){t.qa.x=Z;Z+=t.rect.h;q++;J+=t.end-t.start}else break}C[0].push(q-W);C[1].push(s)}return C};_R.JZ=function(N,c,X,l,C){this.eH=[];
this.qp=[];this.rect=new u;this.bb=new u;this.qa=new k(0,0);var q=_W.Jc(N,l),J=N.EngineDict.ParagraphRun.RunLengthArray,Z=J[l],W=0,O=0,K=0,j=0,e=0;
for(var s=0;s<l;s++)W+=J[s];var t=q._Direction?q._Direction:0,T=UnicodeBidirectional.resolve,g=UnicodeBidirectional.reorderPermutation,R=_W.JA(N).slice(W,W+Z),P=[];
for(var s=0;s<R.length;s++){var b=R.charCodeAt(s);P.push(b);if(b>O)O=b}var z=[];for(var s=0;s<R.length;
s++)z.push(0);if(O>1424)z=T(P,t);for(var s=0;s<P.length;s++)X[W+s].qu=z[s]&1;var m=_R.JL(N,c,X,W,W+Z),f=_R.JC(m,C,q)[0],B=[];
for(var S=0;S<f.length;S++){var r=j;for(var s=0;s<f[S];s++){var n=m[K+s];j+=n.end-n.start}B.push(j);
var o=z.slice(r,j),y=g(o),D=X.slice(W+r,W+j);if(y.length==D.length)for(var s=0;s<D.length;s++)X[W+r+s]=D[y[s]];
K+=f[S]}this.eH=_R.JL(N,c,X,W,W+Z,B);var x=_R.JC(this.eH,C,q,B),f=x[0],A=x[1];for(var S=0;S<f.length;
S++){var U={start:e,end:0,rect:new u,bb:new u,qa:new k(0,0),rR:0,lineHeight:0,hC:0,Tn:0,ZS:!0};this.qp.push(U);
e+=f[S];U.end=e;var L=U.end==this.eH.length,Y=A[S],E=_W.Jf(q);if(C&&E>2&&(E==6||!L))this._BT(U,this.eH,X,Y,t);
for(var s=U.start;s<U.end;s++){var i=this.eH[s].rect.clone();i.Pm(this.eH[s].qa);U.rect=U.rect.vz(i);
var a=this.eH[s].bb.clone();a.Pm(this.eH[s].qa);U.bb=U.bb.vz(a);U.rR=Math.max(U.rR,this.eH[s].rR);U.lineHeight=Math.max(U.lineHeight,this.eH[s].lineHeight);
U.hC=Math.max(U.hC,this.eH[s].hC);U.Tn=Math.max(U.Tn,this.eH[s].Tn)}if(C){var V=this.lineWidth(U,this.eH,t);
U.qa.x=0;if(E==1||L&&E==4)U.qa.x=V[1]+(Y-V[0]);if(E==2||L&&E==5)U.qa.x=V[1]+(Y-V[0])/2;if(this.qp.length==1)U.qa.x+=q.FirstLineIndent;
U.qa.x+=q.StartIndent}else{if(E==0)U.qa.x=q.StartIndent+q.FirstLineIndent;if(E==1)U.qa.x=-U.rect.h-q.EndIndent;
if(E==2)U.qa.x=-U.rect.h/2}if(this.qp.length==1)U.qa.y=0;else U.qa.y=this.qp[this.qp.length-2].qa.y+Math.max(this.qp[this.qp.length-2].Tn+U.hC,U.lineHeight)}for(var s=0;
s<this.qp.length;s++){var G=this.qp[s].rect.clone();G.Pm(this.qp[s].qa);this.rect=this.rect.vz(G);var $=this.qp[s].bb.clone();
$.Pm(this.qp[s].qa);this.bb=this.bb.vz($)}};_R.JZ.prototype.lineWidth=function(N,c,X){var l=0,C=0;for(var q=N.start;
q<N.end;q++)l+=c[q].rect.h;if(X==0)for(var q=N.end-1;q>=N.start;q--)if(c[q].CF||c[q].$O)l-=c[q].rect.h;
else break;if(X==1)for(var q=N.start;q<N.end;q++)if(c[q].CF||c[q].$O){var J=c[q].rect.h;l-=J;C-=J}else break;
return[l,C]};_R.JZ.prototype._BT=function(N,c,X,l,C){var q=0,J=0,Z=0,W=0;for(var s=N.start;s<N.end;s++)if(c[s].CF)Z++;
else{q+=c[s].rect.h;J++}if(C==0)for(var s=N.end-1;s>=N.start;s--)if(c[s].CF||c[s].$O){if(c[s].CF){Z--}}else break;
if(C==1)for(var s=N.start;s<N.end;s++)if(c[s].CF||c[s].$O){if(c[s].CF){Z--;W++}}else break;if(J<=1||Z==0)return;
var t=(l-q)/Z,T=-W*t;for(var s=N.start;s<N.end;s++){if(c[s].CF)X[c[s].start].rect.h=c[s].rect.h=t;c[s].qa.x=T;
T+=c[s].rect.h}};_R._sM=function(N,c,X,l,C){this.CF=C==1&&X[l].qS==" ";this.$O=C==1&&X[l].qS=="\n";this.start=l;
this.end=l+C;this.rect=new u;this.bb=new u;this.qa=new k(0,0);this.rR=0;this.lineHeight=0;this.hC=0;
this.Tn=0;var q=0,J=0;if(C==0){this.lineHeight=X[l].lineHeight;this.rR=X[l].rR;this.rect=new u(0,-X[l].lineHeight,0,X[l].lineHeight)}for(var Z=0;
Z<C;Z++){var W=X[l+Z],s=[1611,1612,1614,1615,1618,1623,1624,1761,1613,1616,1622,1617,1552-1556,1625,1750-1756,1759,1760,1762,1764,1767,1768,1771,1772,1763,1770,1773,1648,1619,1620,1621].indexOf(W.qS.charCodeAt(0))!=-1&&W.Tv.kern==null&&W.Tv.GPOS==null,t=1/W.Tv.head.unitsPerEm*W.Xz.FontSize,P=0;
if(!W.Xz.AutoKerning)q+=W.Xz.Kerning*2*t;W.qa.x=q;if(W.Tv.hmtx.aWidth[W.sx])q+=(s?0:W.Tv.hmtx.aWidth[W.sx])*W.scale.x*t;
if(W.Xz.AutoKerning&&Z<C-1){var T=X[l+Z+1].sx,g=0;if(T!=-1){g=Typr.U.getPairAdjustment(W.Tv,W.sx,T);
if(s)W.qa.x+=W.scale.x*t*W.Tv.hmtx.aWidth[T]/2}if(g==null)g=0;q+=g*t}var R=W.rect.clone();R.Pm(W.qa);
if(W.Xz.Tracking)P=W.Xz.Tracking*.001*W.Xz.FontSize;q+=P;if(C==1&&W.qS==" ")R.h+=2*P;this.rect=this.rect.vz(R);
var O=W.bb.clone();O.Pm(W.qa);this.bb=this.bb.vz(O);this.rR=Math.max(this.rR,W.rR);this.lineHeight=Math.max(this.lineHeight,W.lineHeight);
this.hC=Math.max(this.hC,W.hC);this.Tn=Math.max(this.Tn,W.Tn)}};function _W(){}_W.lA=function(N){return JSON.parse(JSON.stringify(N))};
_W.Jh=function(N,c){for(var X in c)N[X]=c[X]};_W.Jr=function(N,c,X){var l=_W._vt();if(X)_W.Jj(l,0,0,X);
var C={Kp:new Bh(1,0,0,1,Math.round(N),Math.round(c)),Xk:l};C.Xx=_W.JH();C.XQ=I.Uj.a();C.XA=new u;return C};
_W.JS=function(N){var c=["CharacterDirection",0];for(var X=0;X<c.length;X+=2){if(N[c[X]]!=null&&N[c[X]]!=c[X+1]){throw"e";
console.log(c[X],N[c[X]])}}if(N instanceof Array)for(var X=0;X<N.length;X++)_W.JS(N[X]);else if(N instanceof Object)for(var l in N)_W.JS(N[l])};
_W.Jf=function(N,c){if(c==null)c=N.Justification;var X=N._Direction?N._Direction:0;if(X==1){if(c==0||c==3)c++;
else if(c==1||c==4)c--}return c};_W.si=function(N){var c={W:0,d:0,w:0};if(N.FillColor){var X=N.FillColor,l=X.Values;
if(X.Type==1)c={W:l[1]*255,d:l[2]*255,w:l[3]*255};else if(X.Type==2){var C={classID:"CMYC",Cyn:{t:"doub",v:l[1]*100},Mgnt:{t:"doub",v:l[2]*100},Ylw:{t:"doub",v:l[3]*100},Blck:{t:"doub",v:l[4]*100}};
c=I.c.si(C)}else console.log("Unknown color type")}return c};_W.xG=function(N,c){var X;if(_W.Ju(N.Xk)==1){var l=_W.Ja(N.Xk);
X=new u(0,0,l[2]-l[0],l[3]-l[1])}else X=c.JU();return X};_W.sr=function(N){var c=N[0];for(var X=0;X<N.length;
X++)c=_W._KA(c,N[X]);return c};_W._KA=function(N,c){var X={};for(var l in N)if(JSON.stringify(N[l])==JSON.stringify(c[l]))X[l]=N[l];
return X};_W.JQ=function(N,c){var X=N.nJ,l=-1;for(var C=0;C<X.length;C++)if(X[C].Name==c)l=C;if(l==-1){l=X.length;
X.push({FontType:1,Name:c,Script:0,Synthetic:0})}N.nR.Font=l};_W.JA=function(N){return N.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
_W.Jk=function(N,c){N.EngineDict.Editor.Text=c.replace(/\n/g,"\r")};_W.Ju=function(N){return N.EngineDict.Rendered.Shapes.Children[0].ShapeType};
_W.Jp=function(N,c){var X=N.EngineDict.Rendered.Shapes.Children[0];X.ShapeType=c;var l=X.Cookie.Photoshop;
l.ShapeType=c;l.Base.ShapeType=c;if(c==0){delete l.BoxBounds;l.PointBase=[0,0]}if(c==1){delete l.PointBase;
l.BoxBounds=[0,0,1,1]}};_W.Ja=function(N){return N.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
_W.Ji=function(N,c){N.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=c};_W._Ka=function(N,c){return _W.JV(N,_W.JN(N.EngineDict.StyleRun.RunLengthArray,c).oT)};
_W.JV=function(N,c){var X=N.ResourceDict.StyleSheetSet[0].StyleSheetData,l={};for(var C in X)l[C]=X[C];
var q=N.EngineDict.StyleRun.RunArray[c].StyleSheet.StyleSheetData;_W.Jh(l,q);return l};_W.Jc=function(N,c){var X=N.ResourceDict.ParagraphSheetSet[0].Properties,l=_W.lA(X),C=N.EngineDict.ParagraphRun.RunArray[c].ParagraphSheet.Properties;
_W.Jh(l,C);return l};_W.Jl=function(N,c,X){if(X=="")return;var l=_W.JA(N);_W.Jk(N,l.substring(0,c)+X+l.substring(c,l.length));
var C=_W.JN(N.EngineDict.StyleRun.RunLengthArray,c-1);N.EngineDict.StyleRun.RunLengthArray[C.oT]+=X.length;
var q=N.EngineDict.ParagraphRun,J=q.RunLengthArray,Z=_W.JN(J,c),W=X.split("\n");if(W.length==1){J[Z.oT]+=X.length;
return}J.splice(Z.oT+1,0,J[Z.oT]-(c-Z.aU));q.RunArray.splice(Z.oT+1,0,_W.lA(q.RunArray[Z.oT]));J[Z.oT]-=J[Z.oT+1];
J[Z.oT]+=W[0].length+1;for(var s=1;s<W.length-1;s++){q.RunArray.splice(Z.oT+s,0,_W.lA(q.RunArray[Z.oT+s-1]));
q.RunLengthArray.splice(Z.oT+s,0,W[s].length+1)}J[Z.oT+W.length-1]+=W[W.length-1].length};_W.JJ=function(N,c,X){var l=_W.JA(N);
_W.Jk(N,l.substring(0,c)+l.substring(X,l.length));_W.Jy(N.EngineDict.ParagraphRun,c,X,!0);_W.Jy(N.EngineDict.StyleRun,c,X,!1)};
_W.Jy=function(N,c,X,l){var C=N.RunLengthArray,q=_W.JN(C,c),J=_W.JN(C,X),Z=[];for(var W=0;W<C.length;
W++)for(var s=0;s<C[W];s++)Z.push(W);Z.splice(c,X-c);var t=[];for(var W=0;W<C.length;W++)t.push(0);for(var W=0;
W<Z.length;W++)t[Z[W]]++;for(var W=0;W<C.length;W++){if(t[W]==0){t.splice(W,1);C.splice(W,1);N.RunArray.splice(W,1);
W--}else if(t[W]<C[W])C[W]=t[W]}if(l&&q.oT!=J.oT&&q.aU!=c){C[q.oT]+=C[q.oT+1];C.splice(q.oT+1,1);N.RunArray.splice(q.oT+1,1)}};
_W.Jj=function(N,c,X,l){var C=N.EngineDict.Editor.Text.length;if(X==C-2)X++;N.ResourceDict.FontSet=l.nJ.slice(0);
if(c<=X)_W.Jo(N.EngineDict.StyleRun,l.nR,c,X,!0);_W.Jo(N.EngineDict.ParagraphRun,l.nP,c,X,!1)};_W.Jo=function(N,c,X,l,C){var q=N.RunLengthArray;
if(C){var J=_W.JN(q,X);if(J.aU!=X){var Z=q[J.oT];q.splice(J.oT,0,X-J.aU);q[J.oT+1]=Z-q[J.oT];N.RunArray.splice(J.oT+1,0,_W.lA(N.RunArray[J.oT]))}var W=_W.JN(q,l);
if(W.aU+q[W.oT]-1!=l){var Z=q[W.oT];q.splice(W.oT,0,l-W.aU+1);q[W.oT+1]=Z-q[W.oT];N.RunArray.splice(W.oT+1,0,_W.lA(N.RunArray[W.oT]))}}var J=_W.JN(q,X),W=_W.JN(q,l);
if(C)for(var s=J.oT;s<=W.oT;s++)_W.Jh(N.RunArray[s].StyleSheet.StyleSheetData,c);else for(var s=J.oT;
s<=W.oT;s++)_W.Jh(N.RunArray[s].ParagraphSheet.Properties,c)};_W.JO=function(N,c,X){var l={nJ:N.ResourceDict.FontSet.slice(0),nR:[],nP:[]},C=N.EngineDict.StyleRun.RunLengthArray,q=_W.JN(C,c).oT,J=_W.JN(C,X).oT;
for(var Z=q;Z<=J;Z++){var W=_W.lA(N.ResourceDict.StyleSheetSet[0].StyleSheetData),s=N.EngineDict.StyleRun.RunArray[Z].StyleSheet.StyleSheetData;
_W.Jh(W,s);l.nR.push(W)}var t=N.EngineDict.ParagraphRun.RunLengthArray,T=_W.JN(t,c).oT,g=_W.JN(t,X).oT;
for(var Z=T;Z<=g;Z++){l.nP.push(_W.lA(N.EngineDict.ParagraphRun.RunArray[Z].ParagraphSheet.Properties))}l.nR=_W.sr(l.nR);
l.nP=_W.sr(l.nP);return l};_W._va=function(){return _W.JO(_W.Jm,0,0)};_W.JH=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
_W.JN=function(N,c){var X=0,l=0;while(X+N[l]<=c){X+=N[l];l++}return{oT:l,aU:X}};_W._vt=function(){var N=_W.lA(this.Jm);
return N};_W.Jz={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
_W._$B={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
_W.Jm={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(_W.Jz))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(_W.Jz))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(_W._$B))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var _h={};_h._$Z=function(N,c,X){var l={};l._98={_0:"i7"};l._0=_h._$S(N,c,X?X._0:null);l._1=_h._Up(N,c,l._0,X?X._1:null);
return l};_h._$S=function(N,c,X){var l={};l._1=_h._CD(N,X?X._1:null);l._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
l._3=JSON.parse(JSON.stringify(_h._LX));l._4=JSON.parse(JSON.stringify(_h._LW));l._5=_h._Us(N,l._1._0,X?X._5:null);
l._6=_h._UK(N,X?X._6:null);l._8=_h._Uv(N,c,X?X._8:null);l._9=_h._C$;return l};_h._CD=function(N,c){var X=[],l=[];
for(var C=0;C<N.length;C++){var q=N[C].ResourceDict.FontSet;for(var J=0;J<q.length;J++){var Z=q[J];if(l.indexOf(Z.Name)!=-1)continue;
X.push(Z);l.push(Z.Name)}}var W={_0:[]};for(var C=0;C<X.length;C++){var s=X[C],t={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+s.Name,_1:"i"+s.Script,_2:"i"+s.FontType}}};
if(s.Script==0)delete t._0._0._1;W._0.push(t)}return W};_h._Us=function(N,c,X){var l={_0:[],_1:[]},C={_0:JSON.parse(JSON.stringify(_h.yT))};
_h.Jq(C._0,N[0].ResourceDict.StyleSheetSet[0],c,N[0].ResourceDict.FontSet);l._0.push(C);l._1.push({_0:"i0"});
l._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});l._1.push({_0:"i1"});return l};_h._UK=function(N,c){var X={_0:[],_1:[]},l={_0:JSON.parse(JSON.stringify(_h.yI))};
_h.Jd(l._0,N[0].ResourceDict.ParagraphSheetSet[0]);X._0.push(l);X._1.push({_0:"i0"});l={_0:JSON.parse(JSON.stringify(_h.yI))};
_h.Jd(l._0,N[0].ResourceDict.ParagraphSheetSet[0]);l._0._0="sBasic Paragraph";l._0._6="i0";X._0.push(l);
X._1.push({_0:"i1"});return X};_h._Uv=function(N,c,X){var l={_0:[]};for(var C=0;C<N.length;C++){var q={};
l._0.push({_0:q});var J=_W.Ju(N[C]);if(J==1){var Z=_W.Ja(N[C]),W=Z[2],s=Z[3];q._1={_0:_h.Jg("f",[0,0,0,0,W,0,W,0,W,0,W,0,W,s,W,s,W,s,W,s,0,s,0,s,0,s,0,s,0,0,0,0])}}q._2={};
q._2._0="i"+J;q._2._6=J==0?["f-1","f-1"]:["f-2","f-2"];q._2._11={_4:"i-"+(J==0?1:2),_7:!1}}return l};
_h._Up=function(N,c,X,l){var C={};C._0=JSON.parse(JSON.stringify(_h.ys));C._1=_h._Cy(N,c,X,l?l._1:null);
C._2=JSON.parse(JSON.stringify(_h.yT._6));C._3=JSON.parse(JSON.stringify(_h.yI._5));return C};_h._Cy=function(N,c,X,l){var C=[],q=X._1._0;
for(var J=0;J<N.length;J++){var Z=N[J],W={_0:{}};C.push(W);var s=l?l[J]:null;W._0._0="s"+Z.EngineDict.Editor.Text;
W._0._0=W._0._0;var t={_0:[]};W._0._5=t;var T=Z.EngineDict.ParagraphRun;for(var g=0;g<T.RunArray.length;
g++){var R={_0:{}};t._0.push(R);R._0._0={_0:"s",_5:{},_6:"i1"};_h.Jd(R._0._0,Z.EngineDict.ParagraphRun.RunArray[g].ParagraphSheet);
R._1="i"+T.RunLengthArray[g]}var P={_0:[]};W._0._6=P;var O=s?s._0._6:null;T=Z.EngineDict.StyleRun;for(var g=0;
g<T.RunArray.length;g++){var b={_0:{}};P._0.push(b);var z=O?O._0:null;b._0._0={_0:"s",_5:"i1",_6:{}};
_h.Jq(b._0._0,Z.EngineDict.StyleRun.RunArray[g].StyleSheet,q,Z.ResourceDict.FontSet,z?b._0._0:null);
b._1="i"+T.RunLengthArray[g]}W._0._10={_0:"i4",_2:!0};W._1=_h.view.yP(Z,null,J,null)}return C};_h.Jq=function(N,c,X,l,C){N._0="s"+(c.Name?c.Name:"");
var q=N._6,J=C?C._6:null,Z=c.StyleSheetData;if(Z.Font==null)return;var W=l[Z.Font].Name,s=-1;for(var t=0;
t<X.length;t++)if("s"+W==X[t]._0._0._0){s=t;break}q._0="i"+s;if(Z.FontSize!=null)q._1="f"+Z.FontSize;
if(Z.FauxBold!=null)q._2=Z.FauxBold;if(Z.FauxItalic!=null)q._3=Z.FauxItalic;if(Z.AutoLeading!=null)q._4=Z.AutoLeading;
if(Z.Leading!=null)q._5="f"+Z.Leading;if(Z.HorizontalScale!=null)q._6="f"+Z.HorizontalScale;if(Z.VerticalScale!=null)q._7="f"+Z.VerticalScale;
if(Z.Tracking!=null)q._8="i"+Z.Tracking;if(Z.BaselineShift!=null)q._9="f"+Z.BaselineShift;if(Z.AutoKerning!=null)q._11="i"+(Z.AutoKerning?1:0);
if(Z.FontCaps!=null)q._12="i"+Z.FontCaps;if(Z.FontBaseline!=null)q._13="i"+Z.FontBaseline;if(Z.Strikethrough!=null)q._15="i"+(Z.Strikethrough?1:0);
if(Z.Underline!=null)q._16="i"+(Z.Underline?2:0);if(Z.Ligatures!=null)q._18=Z.Ligatures;if(Z.DLigatures!=null)q._19=Z.DLigatures;
if(Z.Language!=null)q._38="i"+Z.Language;if(Z.FillColor!=null)q._53={_99:"/SimplePaint",_0:{_0:"i1",_1:_h.Jg("f",Z.FillColor.Values)}}};
_h.Jd=function(N,c){N._0="s"+(c.Name?c.Name:"");var X=N._5,l=c.Properties;if(l.Justification!=null)X._0="i"+l.Justification;
if(l.FirstLineIndent!=null)X._1="f"+l.FirstLineIndent;if(l.StartIndent!=null)X._2="f"+l.StartIndent;
if(l.EndtIndent!=null)X._3="f"+l.EndtIndent;if(l.SpaceBefore!=null)X._4="f"+l.SpaceBefore;if(l.SpaceAfter!=null)X._5="f"+l.SpaceAfter;
if(l.AutoHyphenate!=null)X._9=l.AutoHyphenate;if(l._Direction!=null)X._33="i"+l._Direction};_h.Jg=function(N,c){var X=[];
for(var l=0;l<c.length;l++)X.push(N+c[l]);return X};_h._LX={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
_h._LW={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
_h.yT={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
_h.yI={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
_h._C$={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
_h.ys={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var _r={};_r.yK=function(N){return _r.y$(N,_r.Cr)};_r._KO=function(N){return _r.yU(N,_r.Cr)};_r.y$=function(N,c){var X;
if(typeof N=="string")return N;if(N instanceof Array){X=[];for(var l=0;l<N.length;l++)X[l]=_r.y$(N[l],c)}else{X={};
var C={};for(var q in c){var J=c[q],Z="_"+J[0];if(N[Z]!=null){X[q]=J[1]?_r.y$(N[Z],J[1]):N[Z];C[Z]=!0}}for(var q in N){if(C[q]==null){console.log(C);
console.log(q,N);throw"e"}}}return X};_r.yU=function(N,c){var X;if(N instanceof Array){X=[];for(var l=0;
l<N.length;l++)X[l]=_r.yU(N[l],c)}else{X={};var C={};for(var q in c){var J=c[q],Z="_"+J[0];if(N[q]!=null){X[Z]=J[1]?_r.yU(N[q],J[1]):N[q];
C[q]=!0}}for(var q in N){if(C[q]==null){console.log(C);console.log(q,N);throw"e"}}}return X};_r.yL={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
_r.ad={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,_r.yL],_StrokeColor:[54,_r.yL],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,_r.yL],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
_r.yC={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,_r.ad],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
_r.yZ={_Name:[0],_Features:[5,_r.yC],_Parent:[6]};_r.yR={_Name:[0],_Parent:[5],_Features:[6,_r.ad]};
_r.Cr={_98:[98,{_0:[0]}],_DocumentResources:[0,{_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,_r.yR]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,_r.yZ]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,_r.yZ]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,_r.yR]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,_r.ad],_OriginalNormalParagraphFeatures:[3,_r.yC]}]};
_h.view={};_h.view.yP=function(N,c,X,l){var C={},q=_W.Ju(N);C._0=[{_0:"i"+X}];return C};function CSS(){}CSS.yh=function(N){var c=N.add,X=c.vmsk,l=c.vstk,C=c.lmfx,q=c.TySh,J=[];
if(N.i$()&&X){var Z=I.D.$W(X.p);if(!Z.BH()){J.push("width: "+Math.round(Z.h)+"px");J.push("height: "+Math.round(Z.s)+"px")}var W=I.D._Ut(X.p);
if(W>0)J.push("border-radius: "+Math.round(W)+"px")}else if(q){var s=q.Xk;if(_W.Ju(s)==1){var Z=_W.Ja(s);
J.push("width: "+Math.round(Z[2])+"px");J.push("height: "+Math.round(Z[3])+"px")}CSS.yf(J,_W.JO(s,0,0),q.Kp,!1)}if(C&&C.dropShadowMulti.v.length!=0){var t=C.dropShadowMulti.v[0].v;
if(t.enab.v){var T=t.Dstn.v.val,g=t.lagl.v.val*Math.PI/180,R=T*Math.cos(g),P=T*Math.sin(g);J.push("box-shadow: "+(R==0?"0 ":CSS.rD(-R)+"px ")+(P==0?"0 ":CSS.rD(P)+"px ")+t.blur.v.val+"px "+CSS.yS(t.Clr.v,t.Opct.v.val/100)+"")}}var O=_$.cm(C),b=O[0],z=O[1];
if(c.SoCo&&z==null||b){var m=CSS.yS((b?b:c.SoCo).Clr.v,N.add.iOpa!=null?N.add.iOpa/255:1);J.push("background-color: "+m)}else if(c.GdFl||z){var f=CSS.rb(z?z:c.GdFl);
J.push("background-image: "+f)}if(l==null||!l.strokeEnabled.v)l=_$.lL(C);if(l&&l.strokeEnabled.v){var B=l.strokeStyleContent.v,K=B.classID,j=F.cF.cH.indexOf(l.strokeStyleLineCapType.v.strokeStyleLineCapType),S=F.cF.join.indexOf(l.strokeStyleLineJoinType.v.strokeStyleLineJoinType),r=l.strokeStyleOpacity.v.val/100,n=l.strokeStyleLineWidth.v.val,o="";
if(K=="solidColorLayer")o=CSS.yS(B.Clr.v,r);J.push("border: "+n+"px solid "+o)}return J};CSS.yr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.rD=function(N){return""+parseFloat(N.toFixed(3))};CSS.rA=function(N){if(N==null)return{W:0,d:0,w:0};
if(N.slice(0,4)=="rgb("){var c=N.slice(4,N.length-1).split(",").map(parseFloat);return{W:c[0],d:c[1],w:c[2]}}if(N.charAt(0)!="#"){var X=CSS.yr;
if(X[N])N=X[N];else console.log("unknown color "+N)}N=N.slice(1);if(N.length==3)N=N[0]+N[0]+N[1]+N[1]+N[2]+N[2];
N=parseInt(N,16);return{W:N>>16&255,d:N>>8&255,w:N&255}};CSS.yS=function(N,c){if(c==null)c=1;N=I.c.si(N);
var X=N.W<<16|N.d<<8|N.w;return c==1?"#"+I._z(X):"rgba("+Math.round(N.W)+","+Math.round(N.d)+","+Math.round(N.w)+","+c+")"};
CSS.rb=function(N){var c=N.Grad.v,X=c.Clrs.v.slice(0),l=c.Trns.v.slice(0),C=N.Ofst.v,q=N.Type.v.GrdT=="Rdl"?1:0,J=(q==1?"radial":"linear")+"-gradient",Z=q==0?Math.round(-N.Angl.v.val+90)+"deg":"circle at center",W=N.Rvrs.v;
if(W){X.reverse();l.reverse()}for(var s=0;s<X.length;s++){var t=X[s].v,T=s<l.length?l[s].v.Opct.v.val/100:1,g=t.Lctn.v/4096;
if(W)g=1-g;Z+=", "+CSS.yS(t.Clr.v,T)+" "+Math.round(g*100)+"%"}return J+"("+Z+")"};CSS.yf=function(N,c,X,l,C){var q=c.nR,J=l?1:H.r.Cm(X),Z=Math.round(q.FontSize*J);
N.push("font-size: "+Z+"px");var W=q.Tracking;if(W!=null&&W!=0)N.push("letter-spacing: "+Math.round(W*Z/1e3)+"px");
if(!q.AutoLeading)N.push("line-height: "+Math.round(q.Leading*J)+"px");if(q.Strikethrough)N.push("text-decoration: line-through");
var s=_W.si(q);s=[s.W,s.d,s.w].map(Math.round);N.push((l?"fill":"color")+": rgb("+s.join(",")+")");var t=c.nJ[q.Font].Name;
if(t){var T=C;if(T){var g=Bs.MT.MK(t);if(g==null||t!=Bs.jL(g))T=!1}if(T)N.push("font-family: \""+t+"\"");
else{N.push("font-family: \""+CSS.yx(t)+"\"");var R=t.toLowerCase();if(R.indexOf("light")!=-1)N.push("font-weight: 300");
else if(R.indexOf("black")!=-1||R.indexOf("extrabold")!=-1)N.push("font-weight: 800");else if(R.indexOf("bold")!=-1)N.push("font-weight: bold");
if(R.indexOf("italic")!=-1||R.indexOf("oblique")!=-1)N.push("font-style: italic;")}}var P=c.nP.Justification;
if(P!=null&&P!=0)if(l)N.push("text-anchor: "+["start","end","middle"][P%3]);else N.push("text-align: "+["left","right","center"][P%3])};
CSS.yx=function(N){N=N.split("-")[0];while(N.endsWith("MT")||N.endsWith("PS"))N=N.slice(0,N.length-2);
var c=!0;for(var X=0;X<N.length;X++){var l=N.charAt(X);if(!c&&l.toLowerCase()!=l){N=N.slice(0,X)+" "+N.slice(X);
X++;c=!0}else c=!1}return N};function _S(){}_S.yQ=function(N,c){var X=acorn.parse(N),l=JSON.parse(JSON.stringify(_S.yp.yl));
l.__return=!1;l.__break=!1;l.__throw=!1;_S.eval(X,c,l)};_S.eval=function(N,c,X){var l=N.type;if(!1){}else if(l=="Program"||l=="BlockStatement"){var C=N.body;
for(var q=0;q<C.length;q++){var J=C[q].type;if(J=="FunctionDeclaration")X[C[q].id.name]=C[q]}for(var q=0;
q<C.length;q++){var J=C[q].type,Z=_S.eval(C[q],c,X);if(X.__return||X.__break||X.__throw)return Z}}else if(l=="ReturnStatement"){X.__return=!0;
return N.argument?_S.sc(N.argument,c,X):null}else if(l=="BreakStatement"){X.__break=!0}else if(l=="VariableDeclaration"){var W=N.declarations;
for(var q=0;q<W.length;q++)_S.eval(W[q],c,X)}else if(l=="VariableDeclarator"){X[N.id.name]=N.init?_S.sc(N.init,c,X):null}else if(l=="FunctionDeclaration"){X[N.id.name]=N}else if(l=="MemberExpression"){var s=_S.sc(N.object,c,X),t=N.computed?_S.sc(N.property,c,X):_S.eval(N.property,c,X),Z;
if(s.nU!=null)Z=_S.yp.yi(s,t,c,X);else Z=s[t];return Z}else if(l=="ArrayExpression"){var T=[],g=N.elements;
for(var q=0;q<g.length;q++)T.push(_S.sc(g[q],c,X));return T}else if(l=="ObjectExpression"){var T={},g=N.properties;
for(var q=0;q<g.length;q++){var R=g[q],P=g[q].key.name?g[q].key.name:g[q].key.value;T[P]=_S.sc(g[q].value,c,X)}return T}else if(l=="ExpressionStatement"){return _S.eval(N.expression,c,X)}else if(l=="NewExpression"){var O=N.arguments,b=N.callee,z=b.type,T=null;
if(z=="Identifier")T=_S.yp.ya(b.name,O,c,X);else throw"e";if(T==null)throw"e";return T}else if(l=="CallExpression"){var O=N.arguments,b=N.callee,z=b.type,m={};
for(var f in X)m[f]=X[f];var B=[];for(var q=0;q<O.length;q++)B.push(_S.sc(O[q],c,X));if(z=="Identifier"){var K=X[b.name];
if(K){if(K.params){var j=K.params;for(var q=0;q<j.length;q++)m[j[q].name]=B[q];return _S.eval(K.body,c,m)}else{return K.apply(null,B)}}else if(window[b.name]==null)console.log("Unknown function "+b.name);
else{var S=window[b.name].apply(window,B);return S}}else if(z=="MemberExpression"){var s=_S.sc(b.object,c,X),t=b.computed?_S.sc(b.property,c,X):_S.eval(b.property,c,X);
if(s.nU!=null)return _S.yp.xN(s,t,B,c,X);else return s[t].apply(s,B)}else console.log(N)}else if(l=="AssignmentExpression"){var r=N.operator,n=N.left,o=n.type,y=_S.sc(n,c,X),D=_S.sc(N.right,c,X),Z=null;
if(!1){}else if(r=="=")Z=D;else if(r=="+=")Z=y+D;else if(r=="-=")Z=y-D;else if(r=="*=")Z=y*D;else if(r=="/=")Z=y/D;
else if(r=="%=")Z=y%D;else if(r=="&=")Z=y&D;else if(r=="|=")Z=y|D;else if(r=="&&=")Z=y&&D;else if(r=="||=")Z=y||D;
else console.log(N);if(o=="Identifier"){var x=n.name;if(!X.hasOwnProperty(x))throw"e";X[x]=Z}else if(o=="MemberExpression"){var A=_S.eval(n.property,c,X),e=_S.sc(n.object,c,X);
if(e.nU!=null)_S.yp.yc(e,A,Z,c,X);else e[A]=Z}else console.log(N)}else if(l=="Identifier")return N.name;
else if(l=="Literal")return N.value;else if(l=="UpdateExpression"){var r=N.operator,U=N.argument.name,T=_S.sc(N.argument,c,X);
if(!1){}else if(r=="++"){X[U]++;return N.prefix?X[U]:X[U]-1}else if(r=="--"){X[U]--;return N.prefix?X[U]:X[U]+1}else console.log(N)}else if(l=="UnaryExpression"){var r=N.operator,L=_S.sc(N.argument,c,X);
if(L.nU=="UnitValue"){if(r=="-")return-L.q;else return _S.yk(L.q,r)}else return _S.yk(L,r)}else if(l=="BinaryExpression"||l=="LogicalExpression"){var r=N.operator,n=_S.sc(N.left,c,X),L=_S.sc(N.right,c,X);
if(n==null||L==null)return _S.yA(n,L,r);else if(n.nU=="UnitValue"&&L.nU=="UnitValue")return _S.yA(n.q,L.q,r);
else if(n.nU=="UnitValue")return _S.yA(n.q,L,r);else if(L.nU=="UnitValue"){if(r=="-")return-(n-L.q);
else return _S.yA(n,L.q,r)}else return _S.yA(n,L,r)}else if(l=="IfStatement"||l=="ConditionalExpression"){var Y=_S.sc(N.test,c,X);
if(Y)return _S.eval(N.consequent,c,X);else if(N.alternate)return _S.eval(N.alternate,c,X)}else if(l=="ForInStatement"){_S.eval(N.left,c,X);
var E=N.left.declarations[0].id.name,i=_S.sc(N.right,c,X);for(var f in i){X[E]=f;var a=_S.eval(N.body,c,X);
if(X.__break)break;if(X.__return)return a}X.__break=!1}else if(l=="ForStatement"){_S.eval(N.init,c,X);
while(_S.eval(N.test,c,X)){var a=_S.eval(N.body,c,X);if(X.__break)break;if(X.__return)return a;_S.eval(N.update,c,X)}X.__break=!1}else if(l=="DoWhileStatement"){do{var a=_S.eval(N.body,c,X);
if(X.__break)break;if(X.__return)return a}while(_S.eval(N.test,c,X));X.__break=!1}else if(l=="TryStatement"){_S.eval(N.block,c,X);
if(X.__throw){var V=N.handler;X[V.param.name]=X.__throw;X.__throw=!1;_S.eval(V.body,c,X);delete X[V.param.name]}}else console.log(N)};
_S.yA=function(N,c,X){if(X=="+")return N+c;else if(X=="-")return N-c;else if(X=="*")return N*c;else if(X=="/")return N/c;
else if(X=="%")return N%c;else if(X=="^")return N^c;else if(X=="&")return N&c;else if(X=="&&")return N&&c;
else if(X=="|")return N|c;else if(X=="||")return N||c;else if(X=="<")return N<c;else if(X==">")return N>c;
else if(X=="==")return N==c;else if(X=="<=")return N<=c;else if(X==">=")return N>=c;else if(X=="!=")return N!=c;
else if(X=="<<")return N<<c;else if(X==">>")return N>>c;else console.log(obj)};_S.yk=function(N,c){if(c=="-")return-N;
else if(c=="!")return!N;else if(c=="~")return~N;else console.log(obj)};_S.sc=function(N,c,X){var l=N.type;
if(l=="Identifier")return _S.yu(N.name,c,X);else return _S.eval(N,c,X)};_S.yu=function(N,c,X){if(N=="undefined")return undefined;
else if(X.hasOwnProperty(N))return X[N];else if(N=="app")return{nU:"Application"};else if(window[N])return window[N];
else{X[N]=null;return null}};_S.yp={};_S.yp.ya=function(N,c,X,l){if(N=="SolidColor")return{nU:"SolidColor",q:[1,0,0,0]}};
_S.yp.yi=function(N,c,X,l){if(!1){}else if(c=="typename"){if(N.nU=="Layer")return N.q.iv()?"LayerSet":"ArtLayer";
else return N.nU}else if(["Document","Layer"].indexOf(N.nU)!=-1&&["layers","artLayers","layerSets"].indexOf(c)!=-1){var C=X.DG(),q=C.root,J={nU:"Layers",q:[]};
if(N.nU=="Layer")q=C.root.VC(C.R.indexOf(N.q));for(var Z=0;Z<q.children.length;Z++){var W=q.children[Z].e,s=W.iv();
if(s&&c=="artLayers"||!s&&c=="layerSets")continue;J.q.push({nU:"Layer",q:W})}J.q.reverse();return J}else if(N.nU=="Documents"||N.nU=="Layers"||N.nU=="HistoryStates"){if(!1){}else if(c=="length")return N.q.length;
else if(Number.isInteger(c))return N.q[c];else console.log(N.nU+": unknown property ",c)}else if(N.nU=="Application"){if(!1){}else if(c=="activeDocument")return{nU:"Document",q:X.DG()};
else if(c=="documents"){var J={nU:"Documents",q:[]};for(var Z=0;Z<X.Xg.length;Z++)J.q.push({nU:"Document",q:X.Xg[Z]});
return J}else if(c=="fonts")return{nU:"TextFonts"};else if(c=="preferences")return{nU:"Preferences"};
else if(c=="displayDialogs")return{nU:"DialogModes"};else console.log(N,c)}else if(N.nU=="Document"){var C=N.q;
if(!1){}else if(c=="activeLayer"){var W=C.R[C.Q[0]];return{nU:"Layer",q:W}}else if(c=="width")return C.h;
else if(c=="height")return C.s;else if(c=="name")return C.name;else if(c=="selection")return{nU:"Selection"};
else if(c=="activeHistoryState")return{nU:"HistoryState",MB:C.dI};else if(c=="historyStates"){var t=[];
for(var Z=0;Z<C.history.length;Z++)t.push({nU:"HistoryState",MB:Z});return{nU:"HistoryStates",q:t}}else console.log(N,c)}else if(N.nU=="Layer"){var W=N.q;
if(!1){}else if(c=="visible")return W.iw();else if(c=="transparentPixelsLocked")return W._Rh();else if(c=="pixelsLocked")return W._Lv();
else if(c=="positionLocked")return W._$Y();else if(c=="allLocked")return W._TE();else if(c=="opacity")return W.opacity*100/255;
else if(c=="name")return W.getName();else if(c=="textItem")return{nU:"TextItem",q:W};else if(c=="bounds"){var C=X.DG(),T=H.r.xG(C,[C.R.indexOf(W)]),g=[T.x,T.y,T.x+T.h,T.y+T.s];
return _S.yp.yw(g)}else if(c=="parent"){var R=X.Xg;for(var Z=0;Z<R.length;Z++)if(R[Z].R.indexOf(W)!=-1)return{nU:"Document",q:R[Z]}}else if(c=="kind"){var P=_S.yp.yJ;
for(var Z=0;Z<P.length;Z++)if(W.add[P[Z]]!=null)return Z;return 0}else console.log(N,c)}else if(N.nU=="TextItem"){var O=N.q.add.TySh,b=O.Xk,z=_W.JA(b),m=_W.JO(b,0,Math.max(0,z.length-2));
if(c=="contents")return z.slice(0,z.length-1);else if(c=="font")return m.nR.Font!=null?m.nJ[m.nR.Font].Name:null;
else if(c=="size")return{nU:"UnitValue",q:m.nR.FontSize};else if(c=="tracking")return{nU:"UnitValue",q:m.nR.Tracking};
else if(c=="kind")return 1-_W.Ju(b);else if(c=="color")return{nU:"SolidColor",q:m.nR.FillColor.Values.slice(0)};
else if(c=="width"||c=="height"){var f=_W.Ja(b),B=f[2]-f[0],K=f[3]-f[1];return c=="width"?B:K}else if(c=="horizontalScale"||c=="verticalScale"){var j=O.Kp.clone(),S=Math.atan2(-j.w,j.u),r=new Bh;
r.rotate(-S);j.concat(r);var n=c=="horizontalScale"?j.u:j.Mm;return n*100}else console.log(N,c)}else if(N.nU=="Preferences"){if(c=="rulerUnits")return 5;
else console.log(N,c)}else if(N.nU=="SolidColor"){if(c=="rgb")return{nU:"RGBColor",q:N.q};else console.log(N,c)}else if(N.nU=="RGBColor"){if(!1){}else if(c=="red")return Math.round(255*N.q[1]);
else if(c=="green")return Math.round(255*N.q[2]);else if(c=="blue")return Math.round(255*N.q[3]);else console.log(N,c)}else if(N.nU=="UnitValue"){if(c=="value")return N.q;
else throw"e"}else console.log(N,c)};_S.yp.yw=function(N){var c=[];for(var X=0;X<N.length;X++)c.push({nU:"UnitValue",q:N[X]});
return c};_S.yp.yV=function(N){var c=[];for(var X=0;X<N.length;X++)c.push(N[X].nU?N[X].q:N[X]);return c};
_S.yp.yc=function(N,c,X,l,C){var q=new Q(d.E.A,!0),J=new Q(d.E.m,!0),Z=l.DG();if(!1){}else if(N.nU=="Application"){if(!1){}else if(c=="activeDocument"){J.data={I:d.L.jy,tG:X.q};
l.C(J)}else if(c=="displayDialogs"){}else console.log(N,c,X)}else if(N.nU=="Document"){if(!1){}else if(c=="activeLayer"){Z.Q=[Z.R.indexOf(X.q)]}else if(c=="activeHistoryState"){q.K=H.xQ;
q.data={I:"h_itemchange",index:X.MB}}else console.log(N,c)}else if(N.nU=="Layer"){q.K=H.xA;var W={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},s=N.q,t=Z.R.indexOf(s);
if(!1){}else if(c=="visible"){if(s.iw()!=X)q.data={I:v.wj,e:t}}else if(c=="opacity"){q.data={I:v.wc,e:t,gY:Math.round(255*X/100)}}else if(c=="name"){q.data={I:v.we,e:t,name:X}}else if(W[c]!=null){q.data={I:v.wl,e:t,gz:W[c],gD:X}}else if(c=="kind"){q.data={I:v.wy,e:t,gM:_S.yp.yJ[X]}}else console.log(N,c,X)}else if(N.nU=="TextItem"){q.K=H.xK;
var s=N.q,T=s.add.TySh,g=JSON.parse(JSON.stringify(T.Xk)),R=T.Kp.clone(),P=_W.JA(g),O=_W.JO(g,0,P.length-2),b=!1;
if(!1){}else if(c=="contents"){_W.JJ(g,0,P.length-1);_W.Jl(g,0,X)}else if(c=="size"){O.nR.FontSize=X.q!=null?X.q:X;
b=!0}else if(c=="tracking"){O.nR.Tracking=X.q!=null?X.q:X;b=!0}else if(c=="kind"){if(_W.Ju(g)==1&&X==1){var z=new _R(g,l.MS.MQ).nP[0],m=z.qp[0].end,f=z.eH[m-1].end;
_W.JJ(g,0,P.length-1);_W.Jl(g,0,P.slice(0,f-1))}_W.Jp(g,1-X)}else if(c=="font"){_W.JQ(O,X);b=!0}else if(c=="color"){O.nR.FillColor.Values=X.q.slice(0);
b=!0}else if(c=="width"||c=="height"){var B=_W.Ja(g).slice(0);if(c=="width")B[2]=Math.round(B[0]+X);
else B[3]=Math.round(B[1]+X);_W.Ji(g,B)}else if(c=="horizontalScale"||c=="verticalScale"){var K=1,j=1;
if(c=="horizontalScale")K=X/100;else j=X/100;var S=new Bh;S.scale(K,j);S.concat(R);R=S}else console.log(N,c,X);
if(b)_W.Jj(g,0,P.length-1,O);q.data={I:"newED",qU:Z.R.indexOf(s),qL:g,Kp:R}}else if(N.nU=="Preferences"){if(!1){}else if(c=="rulerUnits"){if(X!=5)console.log("only pixel units supported")}else console.log(N,c,X)}else if(N.nU=="RGBColor"){if(!1){}else if(c=="red")N.q[1]=X/255;
else if(c=="green")N.q[2]=X/255;else if(c=="blue")N.q[3]=X/255;else console.log(N,c)}else console.log(N,c,X);
if(q.data!=null)l.C(q)};_S.yp.xN=function(N,c,X,l,C){var q=N.nU,J=null,Z=new Q(d.E.A,!0),W=new Q(d.E.m,!0),s=l.DG(),t=l.Xg;
if(!1){}else if(q=="Application"){if(!1){}else if(c=="open"){W.data={I:d.L.jx,mz:{url:X[0]}};if(X[2]&&t.length!=0)W.data.mz.ax=t.indexOf(s)}}else if(q=="Document"){var s=N.q;
if(!1){}else if(c=="save"){W.data={I:d.L.ju}}else if(c=="saveToOE"){W.data={I:d.L.ju,JE:X}}else if(c=="resizeImage"||c=="resizeCanvas"){var T=X[0],g=X[1];
if(typeof T!="number"){T=s.h*parseFloat(T.slice(0,T.length-1))/100;g=s.s*parseFloat(g.slice(0,g.length-1))/100}Z.data={I:c=="resizeImage"?"imgsize":"canvsize",th:Math.round(T),tr:Math.round(g),tQ:X[2]};
Z.K=H.fz}else if(c=="paste"){W.data={I:d.L.jV}}else if(c=="close"){W.data={I:d.L.jW,Bb:s}}else console.log(N,c,X)}else if(q=="Layer"){var R=N.q,P=s.R.indexOf(R);
if(!1){}else if(c=="duplicate"){if(X.length==0){Z.data={I:v.w$,e:P};Z.K=H.xA;J={nU:"Layer",q:s.R[s.Q[0]]}}else if(X[0].nU=="Document"){Z.data={I:v.wz,R:s.cv(P),gg:s,Fw:X[0].q};
Z.K=H.xA}}else if(c=="convertToSO"){Z.data={I:v.wC,e:P};Z.K=H.xA;J={nU:"Layer",q:s.R[s.Q[0]]}}else if(c=="merge"||c=="remove"){Z.data={I:c=="merge"?v.wr:v.wU,e:P};
Z.K=H.xA;if(c!="remove")J={nU:"Layer",q:s.R[s.Q[0]]}}else if(c=="move"){Z.data={I:v.wX,source:P,target:s.R.indexOf(X[0].q),m_:X[1]!=3};
Z.K=H.xA}else if(c=="rotate"){Z.data={I:"rot",mN:[2,5],q:-X[0]*Math.PI/180,tQ:X[1],e:P};Z.K=H.xr}else if(c=="resize"){Z.data={I:"scl",mN:[2,4],q:new k(X[0]/100,X[1]/100),tQ:X[2],e:P};
Z.K=H.xr}else if(c=="translate"){var O=_S.yp.yV(X);Z.data={I:"trsl",e:P,qn:O[0],qe:O[1]};Z.K=H.fy}else console.log(N,c,X)}else if(q=="Documents"){if(c=="getByName"){for(var b=0;
b<t.length;b++)if(t[b].name==X[0])return{nU:"Document",q:t[b]};return null}else throw"e"}else if(q=="Layers"){if(c=="getByName"){for(var b=0;
b<N.q.length;b++)if(N.q[b].q.getName()==X[0]){J=N.q[b];break}if(J==null)C.__throw={message:"No layer with a name "+X[0]}}else if(c=="add"){Z.data={I:v.wm};
Z.K=H.xA;l.C(Z);Z.data=null;J={nU:"Layer",q:s.R[s.Q[0]]}}else console.log(N,c,X)}else if(N.nU=="Selection"){Z.K=H.fj;
if(c=="select"){var z=X[0],m={Gv:["M"],l:[z[0][0],z[0][1]]};for(var b=1;b<z.length;b++){m.Gv.push("L");
m.l.push(z[b][0],z[b][1])}Z.data={I:"polygon",mN:"Select area",dr:m}}else if(c=="copy"){W.data={I:d.L.ji}}else if(c=="deselect"){Z.data={I:"deselect"}}else console.log(N,c,X)}else console.log(N,c,X);
if(Z.data)l.C(Z);if(W.data)l.C(W);return J};_S.yp.yl={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{CM:0,INCHES:1,MM:2,PERCENT:3,PICAS:4,PIXELS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,TEXT:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2}};
_S.yp.yJ=["----","TySh"];var d={};d.yy=0;d.yj=function(){d.yy++;return d.yy};d.yo="uint8";d.S=function(N,c){var X=document.createElement(N);
if(c!=null)X.setAttribute("class",c);return X};d.yF=function(N){while(N.firstChild)N.removeChild(N.firstChild)};
d.yH=function(N,c){var X=N.getAttribute("class").split(" ");if(X.indexOf(c)==-1)X.push(c);N.setAttribute("class",X.join(" "))};
d.yN=function(N,c){var X=N.getAttribute("class").split(" ");if(X.indexOf(c)!=-1)X.splice(X.indexOf(c),1);
N.setAttribute("class",X.join(" "))};d.yY=document;d.yz=function(N){var c=0;for(var X=0;X<N;X++)c+=Math.random();
return c/N<Math.PI/4};d.yD=function(N,c){var X="";if(!d.yz(29))c-=4;for(var l=0;l<N.length;l++)X+=String.fromCharCode(N.charCodeAt(l)-c-l);
return X};d.ym=function(N,c){var X="";if(!d.yz(29))c+=4;for(var l=0;l<N.length;l++)X+=String.fromCharCode(N.charCodeAt(l)+c+l);
return X};d.yM=function(N,c){var X="";if(!d.yz(29))c+=3;for(var l=0;l<N.length;l++)X+=String.fromCharCode((256<<16)+N.charCodeAt(l)+c*l&255);
return X};d.yG=function(N){var c=Math.random();d.yo="uint"+(3+c);return new N};d.yb=0;d.yX=function(N,c){var X=0;
if(Date.now()-d.yb>1e3){X=c==0?100:c*10}else{if(N%10!=0)N*=10;X=(N+c)%100}d.yb=Date.now();return X};
d.yn=function(N,c){if(window.PointerEvent){N.addEventListener("pointerdown",c,!1);return}N.addEventListener("mousedown",c,!1);
N.addEventListener("touchstart",c,!1)};d.ye=function(N,c){if(window.PointerEvent){N.addEventListener("pointermove",c,!1);
return}N.addEventListener("mousemove",c,!1);N.addEventListener("touchmove",c,!1)};d.yW=function(N,c){if(window.PointerEvent){N.addEventListener("pointerup",c,!1);
return}N.addEventListener("mouseup",c,!1);N.addEventListener("touchend",c,!1)};d._Ik=function(N,c){if(window.PointerEvent){N.removeEventListener("pointerdown",c,!1);
return}N.removeEventListener("mousedown",c,!1);N.removeEventListener("touchstart",c,!1)};d.yq=function(N,c){if(window.PointerEvent){N.removeEventListener("pointermove",c,!1);
return}N.removeEventListener("mousemove",c,!1);N.removeEventListener("touchmove",c,!1)};d.yd=function(N,c){if(window.PointerEvent){N.removeEventListener("pointerup",c,!1);
return}N.removeEventListener("mouseup",c,!1);N.removeEventListener("touchend",c,!1)};d.yg=function(N){N.addEventListener("touchstart",d.jB,!1);
N.addEventListener("touchmove",d.jB,!1);N.addEventListener("touchend",d.jB,!1)};d.jE=function(N,c,X,l){var C=d.V();
N.width=Math.floor(c*C);N.height=Math.floor(X*C);N.style.width=N.width/C+"px";N.style.height=N.height/C+"px";
if(l)l.setTransform(C,0,0,C,0,0)};d.j_=function(N,c,X){N.setAttribute("style","width:"+c/d.V()+"px; height:"+X/d.V()+"px")};
d.jT=function(N,c){if(c==null)c=N.currentTarget;var X=c.getBoundingClientRect();if(N.touches)N=N.touches.item(0);
return{x:N.clientX-X.left,y:N.clientY-X.top}};d.V=function(N){return window.devicePixelRatio||1};d.jB=function(N){N.preventDefault()};
d.js=function(N){var c=64/d.V(),X=64*d.V();return"url("+N+") "+64+" "+64+", auto; cursor: -webkit-image-set( url("+N+") "+d.V()+"x  ) "+c+" "+c+", auto;"};
d.jK=function(N,c,X){X=X?X:"";if(PIMG["__"+N]==null)X+=" gsicon";return"<img src=\""+PIMG[N]+"\" alt=\""+(c?c:"")+"\" class=\""+X+"\" />"};
d.jv=function(N,c,X,l){var C=N.dataTransfer.getData("text/uri-list");if(C!=null&&C.startsWith("http")){var q=new Q(d.E.m,!0);
q.data={I:d.L.jx,mz:{url:C,Ye:!0,ax:X,zT:l}};c.C(q)}if(N.dataTransfer.files.length==0)return;var q=new Q(d.E.m,!0);
q.data={I:d.L.jF,data:N.dataTransfer.files,ax:X,zT:l};c.C(q)};var Q=function(N,c){if(!c)c=!1;this.type=N;
this.target=null;this.currentTarget=null;this.bubbles=c;this.K=null;this.pb=!1};d.E={A:"0",m:"1",U:"2",jC:"3",jZ:"4",jR:"5"};
d.L={jP:"10",jh:"11",jr:"12",jS:"13",jf:"14",jx:"15",jQ:"16",jA:"17",jk:"18",ju:"19",jp:"20",ja:"21",ji:"22",jw:"22.5",jV:"23",jc:"24",jl:"25",jJ:"26",jy:"27",jj:"28",jo:"28.5",jO:"29",jF:"30",jH:"31",jN:"32",jY:"33",jz:"34",jD:"35",jm:"37",jM:"38",jG:"39",jb:"40",jX:"41",jn:"42",je:"43",jW:"44",jt:"45"};
var _Q={};_Q.jq=function(N){var c=_Q.jd[N],X=document.documentElement.style,C=20;X.setProperty("--bg-color","#"+I._z(c["--bg-color"]));
X.setProperty("--bg-panel","#"+I._z(c["--bg-panel"]));X.setProperty("--bg-canvas","#"+I._z(c["--bg-canvas"]));
X.setProperty("--bg-input","#"+I._z(c["--bg-input"]));X.setProperty("--bg-bbtn","#"+I._z(c["--bg-bbtn"]));
X.setProperty("--bg-bbtnOver","#"+I._z(c["--bg-bbtnOver"]));X.setProperty("--brdr","#"+I._z(c["--brdr"]));
X.setProperty("--text-color","#"+I._z(c["--text-color"]));X.setProperty("--brdrLgt","rgba(255,255,255,"+c["--brdrLgt"]+")");
X.setProperty("--brdrDrk","rgba(  0,  0,  0,"+c["--brdrDrk"]+")");X.setProperty("--alphaDark",""+c["--alphaDark"]);
X.setProperty("--gs-invert",""+c["--gs-invert"]);var l=c["--sh-clr"];X.setProperty("--sh-clr","rgba("+(l>>16)+","+(l>>8&255)+","+(l&255)+", 0.45)");
X.setProperty("--sh-dy",""+c["--sh-dy"]+"px");if(1<d.V()&&d.V()<1.5)C/=d.V();X.setProperty("--img20",C+"px");
var q="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape".split(" ");
for(var N=0;N<q.length;N++){var J=q[N],Z=J.split("/").pop(),W=PIMG["__"+J]==null?c["--gs-invert"]:"0";
X.setProperty("--icon_"+Z,"url("+PIMG[J]+")");X.setProperty("--icon_"+Z+"_invrt",W)}};_Q.jd=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function _A(){BH.call(this);this.parent=null;this.$=null;this.ML=0;this.MC=0}_A.prototype=new BH;_A.prototype.jg=function(N){var c=this;
while(c!=null){if(c==N)return!0;c=c.parent}return!1};_A.prototype.oE=function(){var N=this.$;return N.offsetWidth+N.clientLeft};
_A.prototype.o_=function(){var N=this.$;return N.offsetHeight+N.clientTop};_A.prototype.update=function(N){};
_A.prototype.C=function(N){BH.prototype.C.call(this,N);if(N.bubbles&&this.parent!=null)this.parent.C(N)};
_A.prototype._Tb=function(N){N.stopPropagation();N.preventDefault()};_A.prototype.oI=function(N){d.yN(this.$,"disabled")};
_A.prototype.oB=function(N){d.yH(this.$,"disabled")};function _k(N){_A.call(this);this.eZ=null;this._II=this.xe.bind(this);
this._IB=this.o$.bind(this);this._Is=this.oU.bind(this);this._IK=this.oL.bind(this);this.dr=[];this.nd=[];
this.Vd=[];this.JB=[];this.$=d.S("div","contextpanel");this.$.addEventListener("contextmenu",d.jB,!1);
this.hU=null;this.Tq=0;this._IZ=N;this.ee=[];for(var c=0;c<N.length;c++){var X=d.S("div","enab");this.nd.push(X);
this.$.appendChild(X);if(N[c].$a){var l=d.S("img","thumb");l.setAttribute("src",PIMG[N[c].$a]);X.appendChild(l)}else{var C=d.S("span","check");
this.JB.push(C);X.appendChild(C)}var q=d.S("span","label");q.innerHTML=typeof N[c].name=="string"?N[c].name:BT.get(N[c].name);
X.appendChild(q);this.Vd.push(q);if(N[c].title)X.title=N[c].title;if(N[c].mc)this.$.appendChild(d.S("hr"));
if(N[c].mV||N[c].sub){var J=d.S("span","right");X.appendChild(J);if(N[c].mV)J.innerHTML=N[c].mV;if(N[c].sub)J.innerHTML="\u25B6"}X.addEventListener("click",this._II,!1);
X.addEventListener("mouseover",this._IB,!0);X.addEventListener("mouseout",this._Is,!0);if(N[c].sub){var Z=new _k(N[c].sub);
Z.parent=this;this.ee.push(Z);Z.i("select",this.oZ,this)}else this.ee.push(null)}}_k.prototype=new _A;
_k.prototype.os=function(N){d.yF(this.$);for(var c=0;c<N.length;c++)if(N[c]!=0&&N[c]!=null){this.$.appendChild(this.nd[c]);
if(N[c]!=1)this.ee[c].os(N[c])}};_k.prototype.O=function(){var N=this._IZ;for(var c=0;c<N.length;c++)this.Vd[c].innerHTML=(typeof N[c].name=="string"?N[c].name:BT.get(N[c].name))+(N[c].mF?"...":"");
for(var c=0;c<this.ee.length;c++)if(this.ee[c])this.ee[c].O()};_k.prototype.update=function(N,c,X){for(var l=0;
l<c.length;l++){if(c[l].f){var C=c[l].f(N,X);if(C.f!=null)this.nd[l].setAttribute("class",C.f?"enab":"disab");
if(C.ke!=null)this.Vd[l].textContent=C.ke;if(C.aS!=null)this.JB[l].textContent=C.aS?"\u2713":""}}for(var l=0;
l<this.ee.length;l++)if(this.ee[l])this.ee[l].update(N,c[l].sub,X)};_k.prototype.ov=function(){return this.dr};
_k.prototype.xe=function(N){if(N.button!=0)return;var c=this.nd.indexOf(N.currentTarget);if(this.ee[c]){this.Tq=c;
this.oL()}else{this.eZ=null;this.dr=[c];this.C(new Q("select",!1));var X=new Q(d.E.m,!0);X.data={I:d.L.jS};
this.C(X)}};_k.prototype.o$=function(N){var c=this.nd.indexOf(N.currentTarget);if(this.hU){clearTimeout(this.hU);
this.hU=null}if(this.ee[c]==null)return;this.Tq=c;this.hU=setTimeout(this._IK,300)};_k.prototype.oU=function(N){var c=this.nd.indexOf(N.currentTarget);
if(this.hU){clearTimeout(this.hU);this.hU=null}};_k.prototype.oL=function(){if(this.hU){clearTimeout(this.hU);
this.hU=null}var N=this.Tq;if(this.eZ)this.eZ.oC();this.eZ=this.ee[N];var c=this.nd[N].getBoundingClientRect(),X=new Q(d.E.m,!0);
X.data={I:d.L.jh,mC:this.ee[N],x:c.left+c.width+2,y:c.top};this.C(X)};_k.prototype.oC=function(){for(var N=0;
N<this.ee.length;N++)if(this.ee[N])this.ee[N].oC();var c=new Q(d.E.m,!0);c.data={I:d.L.jr,mC:this};this.C(c)};
_k.prototype.oZ=function(N){var c=this.ee.indexOf(N.target);this.dr=[c].concat(N.target.ov());this.C(new Q("select",!1))};
function _u(N,c,X,l,C,q,J){_A.call(this);this.$=d.S("span","fitem");var Z=d.yj();this.YI=N;this.Mb=c;
this.MG=X;this.SE=l;this.ZC=C;this._Ix=q;this.$M=J;this.MW=d.S("label","flabel");this.MW.innerHTML=N;
this.MW.setAttribute("for",Z);this.MW.setAttribute("style","cursor:col-resize;");this.r_=d.S("input","");
this.r_.setAttribute("type","range");if(J){this.r_.min=0;this.r_.max=400}else{this.r_.min=c;this.r_.max=X;
if(C!=0)this.r_.step=(X-c)/200}this.yt=d.S("input","");this.yt.setAttribute("type","text");this.yt.setAttribute("id",Z);
this.sQ=d.S("span","");this.sQ.innerHTML=l;this.yt.addEventListener("change",this.or.bind(this),!1);
this.yt.addEventListener("keydown",this.ox.bind(this),!1);this.yt.addEventListener("wheel",this.oQ.bind(this),!1);
this.r_.addEventListener("input",this.or.bind(this),!1);this.r_.addEventListener("mouseup",this.ok.bind(this),!1);
this._Ip=this.ou.bind(this);this.S_=this.op.bind(this);this.ST=this.oa.bind(this);this.eh=0;this.ZU=0;
d.yn(this.MW,this._Ip)}_u.prototype=new _A;_u.prototype.oR=function(N){this.MW.textContent=N};_u.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);
this.MW.textContent=N+":"};_u.prototype.H=function(N){var c=this.Mb==this.MG;if(!c)N=Math.max(this.Mb,N);
if(this.ZC==0)N=Math.round(N);this.yt.value=(this.ZC!=0?N.toFixed(this.ZC):N)+(this._Ix&&this.SE?" "+this.SE:"");
var X=100*Math.log(1+(5*N-this.Mb)/(this.MG-this.Mb));this.r_.value=this.$M?X:N};_u.prototype.F=function(){return parseFloat(this.yt.value)};
_u.prototype.or=function(N){var c=0;if(N.currentTarget==this.yt)c=parseFloat(N.target.value);else{c=N.target.value;
if(this.$M)c=.2*(this.Mb+(this.MG-this.Mb)*(Math.exp(c/100)-1))}this.H(c);this.oS()};_u.prototype.oS=function(){this.C(new Q(d.E.U))};
_u.prototype.ox=function(N){var c=0;if(M.pT(N.code,M.px))c=1;if(M.pT(N.code,M.pA))c=-1;if(c!=0)this.oA(c,N.shiftKey)};
_u.prototype.oQ=function(N){this.oA(N.deltaY>0?-1:1,N.shiftKey)};_u.prototype.oA=function(N,c){var X=this.ZC,l=N*(X==null||X==0?1:.1);
if(c)l*=10;var C=this.F()+l;if(!this.$M)C=Math.min(this.MG,C);this.H(C);this.oS()};_u.prototype.ok=function(N){if(N.detail<=1||this.$M)return;
var c=(this.MG+this.Mb)/2;this.H(c);this.oS()};_u.prototype.ou=function(N){d.ye(document,this.S_);d.yW(document,this.ST);
this.eh=d.jT(N,document.body).x;this.ZU=this.F()};_u.prototype.op=function(N){var c=this.Mb==this.MG,X=d.jT(N,document.body).x,l=(X-this.eh)*(c?1:1/120*(this.MG-this.Mb)),C=this.ZU+l;
if(!c){if(!0){C=Math.max(this.Mb,C);if(C==this.Mb){this.eh=X;this.ZU=this.Mb}}if(!this.$M){C=Math.min(this.MG,C);
if(C==this.MG){this.eh=X;this.ZU=this.MG}}}this.H(C);this.oS()};_u.prototype.oa=function(N){d.yq(document,this.S_);
d.yd(document,this.ST)};function _p(N){_A.call(this);this.Nl=0;this.alt=0;var c="ai"+d.yj();this.$=d.S("span","fitem angleinput");
if(N){this.MW=d.S("label","flabel");this.YI=N;this.$.appendChild(this.MW);this.MW.setAttribute("for",c)}this.dx=20;
this.zf=d.S("canvas","gsicon");this.OI=this.zf.getContext("2d");d.jE(this.zf,this.dx*2+1,this.dx*2+1,this.OI);
this.$.appendChild(this.zf);d.yn(this.zf,this.oi.bind(this));this.sA=this.ow.bind(this);this.su=this.oV.bind(this);
this.yt=d.S("input","");this.yt.setAttribute("type","text");this.yt.size=2;this.$.appendChild(this.yt);
this.yt.setAttribute("id",c);this.yt.addEventListener("change",this.or.bind(this),!1);this.sQ=d.S("span","");
this.sQ.innerHTML="\xB0";this.$.appendChild(this.sQ);this.H(this.Nl,this.alt)}_p.prototype=new _A;_p.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);
this.MW.textContent=N+":"};_p.prototype.oR=function(N){this.MW.textContent=N};_p.prototype.F=function(){return{Nl:this.Nl,alt:this.alt}};
_p.prototype.H=function(N,c){if(N!=null)this.Nl=N;if(c!=null)this.alt=c;this.yt.value=this.Nl;N=Math.PI*this.Nl/180;
c=.9*this.dx*(90-this.alt)/90;var X=this.dx+.5,l=this.OI;l.clearRect(0,0,100,100);l.strokeStyle="#000000";
l.beginPath();l.arc(X,X,.9*this.dx,0,2*Math.PI);l.moveTo(X,X);l.lineTo(X+Math.cos(N)*this.dx*.9,X-Math.sin(N)*this.dx*.9);
l.stroke();l.strokeStyle="#ff0000";l.beginPath();l.moveTo(X+Math.cos(N)*c-3,X-Math.sin(N)*c);l.lineTo(X+Math.cos(N)*c+3,X-Math.sin(N)*c);
l.moveTo(X+Math.cos(N)*c,X-Math.sin(N)*c-3);l.lineTo(X+Math.cos(N)*c,X-Math.sin(N)*c+3);l.stroke()};
_p.prototype.or=function(N){var c=parseInt(this.yt.value);c=c%360;this.H(c);this.C(new Q(d.E.U,!1))};
_p.prototype.oi=function(N){d.ye(window,this.sA);d.yW(window,this.su);this.ow(N)};_p.prototype.ow=function(N){var c=d.jT(N,this.zf),X=c.x-this.dx,l=c.y-this.dx,C=180*Math.atan2(-l,X)/Math.PI,q=90-90*Math.min(1,Math.sqrt(X*X+l*l)/(.9*this.dx));
this.H(Math.round(C),Math.round(q));this.C(new Q(d.E.U,!1))};_p.prototype.oV=function(N){this.C(new Q(d.E.U,!1));
d.yq(window,this.sA);d.yd(window,this.su)};function _a(N){_A.call(this);this.hb=0;this.$=d.S("span","fitem angleinput");
if(N){this.MW=d.S("label","flabel");this.YI=N;this.$.appendChild(this.MW)}this.zf=d.S("canvas","gsicon");
this.OI=this.zf.getContext("2d");d.jE(this.zf,41,41);this.$.appendChild(this.zf);d.yn(this.zf,this.oi.bind(this));
this.sA=this.ow.bind(this);this.su=this.oV.bind(this);this.H(0)}_a.prototype=new _A;_a.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);
this.MW.textContent=N+":"};_a.prototype.oR=function(N){this.MW.textContent=N};_a.prototype.F=function(){return this.hb};
_a.prototype.H=function(N){this.hb=N;var c=this.zf.width,X=Math.floor(N/3),l=N-3*X,C=(l+.5)*c/3,q=(X+.5)*c/3,J=this.OI,Z=[.5,Math.round(c/3)+.5,Math.round(2*c/3)+.5,c-.5];
J.clearRect(0,0,c,c);J.setLineDash([]);J.strokeStyle=J.fillStyle="#000000";J.beginPath();for(var W=0;
W<4;W++){var s=Z[W];J.moveTo(s,0);J.lineTo(s,c);J.moveTo(0,s);J.lineTo(c,s)}J.stroke();J.setLineDash([1,2]);
var t=c*.53,T=Math.max(0,Math.min(c-t,C-t/2)),g=Math.max(0,Math.min(c-t,q-t/2));J.strokeRect(Math.round(T)+.5,Math.round(g)+.5,Math.round(t),Math.round(t));
J.beginPath();J.arc(C,q,c/8,0,Math.PI*2);J.fill()};_a.prototype.oi=function(N){d.ye(window,this.sA);
d.yW(window,this.su);this.ow(N)};_a.prototype.ow=function(N){var c=d.jT(N,this.zf),X=Math.max(0,Math.min(2,Math.floor(c.x/(41/3)))),l=Math.max(0,Math.min(2,Math.floor(c.y/(41/3))));
this.H(l*3+X)};_a.prototype.oV=function(N){this.C(new Q(d.E.U,!1));d.yq(window,this.sA);d.yd(window,this.su)};
function _i(){_A.call(this);this.bq=null;this.ar=!0;this.Pd=null;this.$=d.S("button","fitem brushbutton nopadding");
this.$.addEventListener("click",this.oc.bind(this),!1);this.GQ=d.S("img","gsicon");this.$.appendChild(this.GQ);
var N=d.S("span");N.textContent="\u25BC";this.$.appendChild(N);this.DU=new _A;this.DU.$=d.S("div","floatcont");
this.DU.$.setAttribute("style","width: 17em;");this.ws=new _g("...",1,100," px",0,!0);this.ws.i(d.E.U,this.oJ,this);
this.DU.$.appendChild(this.ws.$);this.pF=new _g("...",0,100,"%");this.pF.i(d.E.U,this.oJ,this);this.DU.$.appendChild(this.pF.$);
this.hO=new _D(!0);this.DU.$.appendChild(this.hO.$);this.hO.i(d.E.U,this.ol,this);this.hO.$.style.height="10em"}_i.prototype=new _A;
_i.prototype.O=function(){this.ws.oR(BT.get([12,14])+":");this.pF.oR(BT.get([12,17])+":")};_i.prototype.oc=function(N){this.oj();
var c=this.$.getBoundingClientRect(),X=new Q(d.E.m,!0);X.data={I:d.L.jh,mC:this.DU,x:c.left,y:c.top+c.height};
this.C(X)};_i.prototype.ol=function(N){var c=this.bq;this.oo(c.Xd.Brsh.v[this.hO.F()].v,c.Xt,c.Xq);this.C(new Q(d.E.U))};
_i.prototype.oJ=function(N){var c=this.bq,X=this.Pd;X.Brsh.v.Dmtr.v.val=this.ws.F();if(X.Brsh.v.Hrdn!=null)X.Brsh.v.Hrdn.v.val=this.pF.F();
this.oo(X,c.Xt,c.Xq);this.C(new Q(d.E.U))};_i.prototype.oy=function(N){this.bq=N;this.ar=!0};_i.prototype.oj=function(){if(!this.ar)return;
var N=[],c=[],X=this.bq,l=Math.floor(33*d.V()),C=Math.floor(40*d.V());for(var q=0;q<X.Xd.Brsh.v.length;
q++){var J=X.Xd.Brsh.v[q].v,Z=_C.$$(J,X.Xt,X.Xq,l,C);N.push(Z);c.push(J.Nm.v)}this.hO.Oy(N,c,l,C);this.ar=!1};
_i.prototype.oo=function(N,c,X){this.Pd=JSON.parse(JSON.stringify(N));var l=Math.floor(20*d.V()),C=Math.floor(24*d.V()),q=_C.$$(N,c,X,l,C);
this.GQ.setAttribute("src",q);d.j_(this.GQ,l,C);this.ws.H(N.Brsh.v.Dmtr.v.val);if(N.Brsh.v.Hrdn!=null){this.pF.oI();
this.pF.H(N.Brsh.v.Hrdn.v.val)}else this.pF.oB()};_i.prototype.oO=function(){return this.Pd};function _w(N,c,X,l){_A.call(this);
this.$=d.S("button","fitem"+(c?" spread":"")+(l?" bbtn":""));this.YI=N;this.Uf=X;this.O();this.$.addEventListener("click",this.oc.bind(this),!1);
if(X!=null)this.$.setAttribute("title",X)}_w.prototype=new _A;_w.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);
this.$.innerHTML=N;if(this.Uf){var c=typeof this.Uf=="string"?this.Uf:BT.get(this.Uf);this.$.setAttribute("title",c)}};
_w.prototype._BZ=function(N){this.$.setAttribute("title",N)};_w.prototype.oc=function(N){this.C(new Q("click",!1))};
_w.prototype.oH=function(){d.yH(this.$,"active")};_w.prototype.oN=function(){d.yN(this.$,"active")};
_w.prototype.oR=function(N,c){if(N)this.YI=N;if(c)this.Uf=c;this.O()};_w.prototype.H=function(N){if(N)this.oH();
else this.oN()};_w.prototype.oY=function(){return this.$.getAttribute("class").indexOf("active")!=-1};
function _V(N){_A.call(this);this.mf=!1;this.yL={W:0,d:0,w:0};this.ZK=N;this.$=d.S("span","fitem colorsample");
this.$.addEventListener("click",this.oc.bind(this),!1)}_V.prototype=new _A;_V.prototype.O=function(){};
_V.prototype.oz=function(N){if(this.mf==N)return;this.mf=N;this.ob()};_V.prototype.oc=function(N){var c=this.yL,X=new Q(d.E.m,!0);
X.data={I:d.L.jl,mO:"colorpicker",eq:c.W<<16|c.d<<8|c.w,_Ib:this.oD.bind(this),_IX:this.ZK};this.C(X)};
_V.prototype.oD=function(N){this.oG(N);this.C(new Q(d.E.U))};_V.prototype.om=function(){this.oc(null)};
_V.prototype.oM=function(){var N=this.yL;return N.W<<16|N.d<<8|N.w};_V.prototype.F=function(){return I.c.sw(this.yL)};
_V.prototype.oG=function(N){this.yL={W:N>>16&255,d:N>>8&255,w:N&255};this.ob()};_V.prototype.H=function(N){this.yL=I.c.si(N);
this.ob()};_V.prototype.ob=function(){var N=this.yL,c=N.W,X=N.d,l=N.w;if(this.mf)c=X=l=Math.round(I._G(c,X,l));
var C=c<<16|X<<8|l;this.$.setAttribute("style","background-color:#"+I._z(C))};_V._Li=function(N){return N.W<<16|N.d<<8|N.w};
function _c(N){_A.call(this);this.$=d.S("span","fitem cswatch");this.SI=0;this.Kf=[];this.em=[];var c=this.on.bind(this);
for(var X=0;X<N;X++){this.Kf.push(0);var l=d.S("span","colorsample");l.addEventListener("click",c,!1);
this.em.push(l);this.$.appendChild(l)}var C=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],q=Math.min(N,C.length);
for(var X=0;X<q;X++)this.Kf[X]=C[X];this.oe()}_c.prototype=new _A;_c.prototype.on=function(N){this.SI=this.em.indexOf(N.currentTarget);
this.C(new Q(d.E.U))};_c.prototype.F=function(){return this.Kf[this.SI]};_c.prototype.H=function(N){var c=this.Kf,X=c.indexOf(N);
if(X!=-1)c.splice(X,1);else c.pop();c.unshift(N);this.oe()};_c.prototype.oe=function(){for(var N=0;N<this.Kf.length;
N++){this.em[N].setAttribute("style","background-color:#"+I._z(this.Kf[N]))}};function _l(N){_A.call(this);
this.bq=null;this.nz=null;this.$=d.S("span","fitem contourbutton");this.DU=new _A;this.DU.$=d.S("div","floatcont");
this.DU.$.setAttribute("style","width: 17em;");this.DU.parent=this;if(N){this.YI=N;this.MW=d.S("label","flabel");
this.$.appendChild(this.MW)}this.I=d.S("button");this.$.appendChild(this.I);this.I.addEventListener("click",this.oq.bind(this),!1);
this.SY=d.S("button");this.SY.innerHTML="\u25BC";this.$.appendChild(this.SY);this.SY.addEventListener("click",this.oW.bind(this),!1);
this.Sf=new _D;this.DU.$.appendChild(this.Sf.$);this.Sf.i(d.E.U,this.ot,this);this.Sf.$.style.height="10.5em"}_l.prototype=new _A;
_l.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);this.MW.textContent=N+":"};
_l.prototype.oR=function(N){this.MW.textContent=N};_l.prototype.oW=function(N){var c=this.I.getBoundingClientRect(),X=new Q(d.E.m,!0);
X.data={I:d.L.jh,mC:this.DU,x:c.left,y:c.top+c.height+4};this.C(X)};_l.prototype.ot=function(N){this.H(this.bq[N.target.F()]);
this.C(new Q(d.E.U))};_l.prototype.oq=function(N){var c=new Q(d.E.m,!0);c.data={I:d.L.jl,mO:"contoureditor",N:this.nz,response:this.od.bind(this)};
this.C(c)};_l.prototype.od=function(N){this.H(N);this.C(new Q(d.E.U))};_l.prototype.oy=function(N){var c=Math.floor(38*d.V()),X=Math.floor(38*d.V());
this.bq=N;var l=[];for(var C=0;C<N.length;C++)l.push(I.vn.$$(N[C].Crv.v,c,X));this.Sf.Oy(l,null,c,X)};
_l.prototype.H=function(N){this.nz=JSON.parse(JSON.stringify(N));var c=this.nz.Crv.v;for(var X=0;X<c.length;
X++)if(c[X].v.Cnty==null)c[X].v.Cnty={t:"bool",v:!0};this.og()};_l.prototype.og=function(){var N=Math.floor(30*d.V()),c=Math.floor(30*d.V()),X=I.vn.$$(this.nz.Crv.v,N,c);
this.I.innerHTML="<img src=\""+X+"\" />";d.j_(this.I.firstChild,N,c)};_l.prototype.F=function(){return JSON.parse(JSON.stringify(this.nz))};
function _J(N){_A.call(this);this.NV=null;this.qy=null;this.qJ=null;this.ef=null;this.DO=[];this.JR=[];
this.$=d.S("span","fitem fillbutton");this.DU=new _A;this.DU.$=d.S("div","floatcont form");this.DU.$.setAttribute("style","width: 21em;");
this.DU.parent=this;this.hl=N;this.MW=this.MW=d.S("label","flabel");this.$.appendChild(this.MW);this.zf=d.S("canvas");
this.OI=this.zf.getContext("2d");this.SK=null;this.$.appendChild(this.zf);this.zf.addEventListener("click",this.oW.bind(this),!1);
this.hz=new _o([12,66],["","Color","Grad","Patt"]);this.DU.$.appendChild(this.hz.$);this.hz.i(d.E.U,this.OE,this);
this.DU.$.appendChild(d.S("hr"));this._BK=d.S("span");this.aR=new _V(!0);this.aR.parent=this.DU;this.aR.i(d.E.U,this.OE,this);
this.eQ=new _c(10);this.eQ.i(d.E.U,this.OE,this);this.mH=d.S("div","marged hiline");this.mH.appendChild(this.aR.$);
this.mH.appendChild(d.S("br"));this.mH.appendChild(this.eQ.$);this.aA=new TA("GrFl",!0);this.aA.parent=this.DU;
this.aA.i(d.E.U,this.OE,this);this.vM=d.S("div","marged hiline");var c="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
for(var X=0;X<c.length;X++){var l=this.aA.oF[c[X]].$;this.vM.appendChild(l)}this.ak=new TA("patternFill",!0);
this.ak.parent=this.DU;this.ak.i(d.E.U,this.OE,this);this.pj=d.S("div","marged hiline");var c=["Ptrn","Scl","Algn","phase"];
for(var X=0;X<c.length;X++){var l=this.ak.oF[c[X]].$;this.pj.appendChild(l)}}_J.prototype=new _A;_J.prototype.fu=function(N,c){if(c==BZ.uJ){this.DO=[];
this.JR=[];if(this.NV)this.H(this.qJ,this.F(),this.NV)}this.qy=N;this.aA.fu(N,c);this.ak.fu(N,c)};_J.prototype.O=function(){this.MW.textContent=BT.get(this.hl)+": ";
this.hz.O();this.aR.O();this.aA.O();this.ak.O()};_J.prototype.OE=function(N){var c=N.currentTarget;if(c==this.hz){var X=this.hz.F(),l={Xw:X,aY:this.NV[X]};
if(X>0&&l.aY==null)l.aY=JSON.parse(JSON.stringify(F.cz[X-1]));if(this.NV)this.H(this.qJ,l,this.NV)}if(c==this.eQ)this.aR.oG(c.F());
this.C(new Q(d.E.U,!1))};_J.prototype.oW=function(N){var c=this.zf.getBoundingClientRect(),X=new Q(d.E.m,!0);
X.data={I:d.L.jh,mC:this.DU,x:c.left,y:c.top+c.height+4};this.C(X);this.eQ.H(this.aR.oM())};_J.prototype.H=function(N,c,X){this.NV=X;
this.qJ=N;var l=[[13,1,0],[13,0],[12,37],[12,62]],C=this.DO,q=this.JR,J=!1,T;for(var Z=0;Z<4;Z++){var W={Xw:Z,aY:X[Z]},s=_J.O_(W);
if(q[Z]==s)continue;J=!0;var t=_J.OT(null,W,this.qy,this.qJ,22,22,!1);C[Z]="<img width=\"22\" height=\"22\" src=\""+t+"\" />";
q[Z]=s}if(J)this.hz.OK(C,l);this.hz.H(c.Xw);var s=_J.O_(c);if(s!=this.SK)_J.OT(this.OI,c,this.qy,this.qJ,30,23,!0);
this.SK=s;var g=c.Xw;if(g==0){T=this._BK}if(g==1){this.aR.H(c.aY.Clr.v);T=this.mH}if(g==2){this.aA.update(N,c.aY);
T=this.vM}if(g==3){this.ak.update(N,c.aY);T=this.pj}if(T!=this.ef){if(this.ef!=null){this.DU.$.removeChild(this.ef)}this.DU.$.appendChild(T);
this.ef=T}};_J.prototype.F=function(){var N={Xw:this.hz.F()};if(N.Xw==1){N.aY=JSON.parse(JSON.stringify(F.cz[0]));
N.aY.Clr.v=this.aR.F()}if(N.Xw==2){N.aY=this.aA.F()}if(N.Xw==3){N.aY=this.ak.F()}return N};_J.O_=function(N){var c=N.Xw,X=N.aY,l="empty";
if(c==1){l=I.c.si(X.Clr.v);l=l.W+","+l.d+","+l.w}if(c==2)l=JSON.stringify(X.Grad.v);if(c==3)l=X.Ptrn.v.Idnt.v;
return l};_J.OT=function(N,c,X,l,C,q,J){if(N==null)N=_J.OI;var Z=Math.floor(C*d.V()),W=Math.floor(q*d.V()),s=N.canvas,t;
s.width=Z;s.height=W;d.j_(s,Z,W);var T=c.Xw;if(T==0){N.fillStyle="#ffffff";N.fillRect(0,0,Z,W);N.strokeStyle="#ff0000";
N.lineWidth=2;N.moveTo(0,0);N.lineTo(Z,W);N.moveTo(0,W);N.lineTo(Z,0);N.stroke()}if(T==1){var g=c.aY.Clr.v;
g=I.c.si(g);N.fillStyle="#"+I._z(g.W<<16|g.d<<8|g.w);N.fillRect(0,0,Z,W)}if(T==2){H.QS.$$(c.aY.Grad.v,Z,W,0,X.Wp,X.Wa,s)}if(T==3){var R=c.aY.Ptrn.v,P;
if(l!=null)P=_$.cg(R,l.add.Patt);if(P==null)P=_$.cg(R,X.LP);_y.$$(P,Z,W,s)}if(J){N.beginPath();N.strokeStyle="#000000";
N.fillStyle="#ffffff";N.lineWidth=2;var O=Z*.7,b=Math.floor(W*.7),z=7*d.V();N.moveTo(O,b);N.lineTo(O+z,b);
N.lineTo(O+z/2,b+z/2);N.closePath();N.stroke();N.fill()}if(N==_J.OI)return s.toDataURL()};_J.OI=d.S("canvas").getContext("2d");
function _y(N){_A.call(this);this.bq=null;this.ar=!0;this.Ba=null;this.$=d.S("span","fitem patternbutton");
this.DU=new _A;this.DU.$=d.S("div","floatcont");this.DU.$.setAttribute("style","width: 18em;");this.DU.parent=this;
if(N){this.YI=N;this.MW=d.S("label","flabel");this.$.appendChild(this.MW)}this.I=d.S("button");this.$.appendChild(this.I);
this.SY=d.S("button");this.SY.innerHTML="\u25BC";this.$.appendChild(this.SY);this.$.addEventListener("click",this.oW.bind(this),!1);
this.$o=new _D;this.DU.$.appendChild(this.$o.$);this.$o.i(d.E.U,this.OB,this);this.$o.$.style.height="10em"}_y.prototype=new _A;
_y.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);this.MW.textContent=N+":"};
_y.prototype.oR=function(N){this.MW.textContent=N};_y.prototype.oW=function(N){this.oj();var c=this.I.getBoundingClientRect(),X=new Q(d.E.m,!0);
X.data={I:d.L.jh,mC:this.DU,x:c.left,y:c.top+c.height};this.C(X)};_y.prototype.OB=function(N){var c=this.bq[this.$o.F()];
this.Ba={classID:"Ptrn",Nm:{t:"TEXT",v:c.name},Idnt:{t:"TEXT",v:c.id}};this.C(new Q(d.E.U));this.og()};
_y.prototype.oy=function(N){this.bq=N;this.ar=!0};_y.prototype.oj=function(){if(!this.ar)return;var N=this.bq,c=Math.floor(34*d.V()),X=Math.floor(34*d.V()),l=[],C=[];
for(var q=0;q<N.length;q++){l.push(_y.$$(N[q],c,X));C.push(N[q].name)}this.$o.Oy(l,C,c,X);this.ar=!1};
_y.prototype.H=function(N,c){if(this.Ba&&N.Idnt.v==this.Ba.Idnt.v)return;this.Ba=JSON.parse(JSON.stringify(N));
this.og(c)};_y.prototype.F=function(){return JSON.parse(JSON.stringify(this.Ba))};_y.prototype.og=function(N){var c=Math.floor(50*d.V()),X=Math.floor(50*d.V()),l;
if(N!=null)l=_$.cg(this.Ba,N.add.Patt);if(l==null)l=_$.cg(this.Ba,this.bq);var C=_y.$$(l,c,X);this.I.innerHTML="<img src=\""+C+"\" />";
d.j_(this.I.firstChild,c,X)};_y.vQ=d.S("canvas","");_y.vA=_y.vQ.getContext("2d");_y.$$=function(N,c,X,l){if(l==null)l=_y.vQ;
var C=l.getContext("2d");l.width=c;l.height=X;if(N){var q=N.Gj.h,J=N.Gj.s,Z=N.Ml,W=Math.min(c/q,X/J),s=W;
if(s*q<2)s=2/q;var t=W;if(t*J<2)t=2/J;var T=H.r.kP([Z,N.Gj],new Bh(s,0,0,t,0,0),!1),g=T.rect.h,R=T.rect.s,P=C.createImageData(g,R);
I.Tx(T.buffer,P.data);C.putImageData(P,Math.floor((c-g)/2),Math.floor((X-R)/2))}return l.toDataURL()};
function _j(){_A.call(this);this.$=d.S("span","fitem curveeditor");this.mode=0;this.bC=null;this.hX=null;
this.Ws=new k;this.sd=this.ow.bind(this);this.sg=this.oV.bind(this);this.zf=d.S("canvas","");this.OI=this.zf.getContext("2d");
d.yg(this.zf);d.jE(this.zf,256,256,this.OI);this.$.appendChild(this.zf);d.yn(this.zf,this.oi.bind(this))}_j.prototype=new _A;
_j.prototype.H=function(N,c){var X=JSON.stringify(N),l=JSON.stringify(this.bC);if(X==JSON.stringify(this.bC))return;
this.mode=N.length==256?1:0;this.bC=JSON.parse(X);if(c!=null)this.hX=this.bC[c];this.Aa()};_j.prototype.F=function(){return JSON.parse(JSON.stringify(this.bC))};
_j.prototype.Os=function(){return this.bC.indexOf(this.hX)};_j.prototype.oi=function(N){var c=d.jT(N,this.zf),X=c.x,l=256-c.y;
this.Ws.Cj(X,l);if(this.mode==0){var C=null;for(var q=0;q<this.bC.length;q++){var J=this.bC[q].v,Z=Math.sqrt((J.Hrzn.v-X)*(J.Hrzn.v-X)+(J.Vrtc.v-l)*(J.Vrtc.v-l));
if(Z<5)C=this.bC[q]}if(C==null){C=I.vn.ve(X,l,!0);this.bC.push(C)}this.hX=C}d.ye(document.body,this.sd);
d.yW(document.body,this.sg);this.ow(N)};_j.prototype.ow=function(N){var c=d.jT(N,this.zf),X=Math.max(0,Math.min(255,c.x)),l=Math.max(0,Math.min(255,256-c.y));
if(this.mode==0){this.hX.v.Hrzn.v=Math.max(0,Math.min(255,Math.round(X)));this.hX.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(l)));
var C=this.bC,q=!0;for(var J=0;J<C.length;J++){if(C[J]==this.hX)continue;if(C[J].v.Hrzn.v==this.hX.v.Hrzn.v)q=!1}if(X<0||X>255||l<0||l>255)q=!1;
if(q&&C.indexOf(this.hX)==-1)C.push(this.hX);if(!q&&C.indexOf(this.hX)!=-1&&C.length>2)C.splice(C.indexOf(this.hX),1);
if(C[0].v.Hrzn.v==C[1].v.Hrzn.v)if(C[0].v.Hrzn.v==0)C[1].v.Hrzn.v=1;else C[0].v.Hrzn.v--;this.bC.sort(function(g,R){return g.v.Hrzn.v-R.v.Hrzn.v})}else{var Z=this.Ws.x,W=X,s=this.Ws.y,t=l;
if(X<this.Ws.x){W=Z;Z=X;t=s;s=l}this.bC[X]=l;if(Z!=W)for(var T=Z;T<=W;T++)this.bC[T]=Math.round(s+(T-Z)*(t-s)/(W-Z))}this.Ws.Cj(X,l);
this.Aa();this.C(new Q(d.E.U))};_j.prototype.oV=function(N){d.yq(document.body,this.sd);d.yd(document.body,this.sg);
this.C(new Q(d.E.U))};_j.prototype.Aa=function(){var N=this.OI;N.fillStyle="#ffffff";N.fillRect(0,0,256,256);
N.strokeStyle="#aaaaaa";N.lineWidth=1;N.beginPath();for(var c=1;c<4;c++){N.moveTo(0,64*c-.5);N.lineTo(255,64*c-.5);
N.moveTo(64*c-.5,0);N.lineTo(64*c-.5,255)}N.stroke();if(this.mode==0){var X=this.bC,l=I.vn.$K(X,256);
N.strokeStyle="#000000";N.beginPath();N.moveTo(0,255.5-l[0]);for(var c=0;c<256;c++)N.lineTo(c,255.5-l[c]);
N.stroke();N.lineWidth=2;for(var c=0;c<X.length;c++){var C=X[c].v;N.fillStyle=this.hX==X[c]?"#333":"#fff";
N.beginPath();N.moveTo(C.Hrzn.v,255.5-C.Vrtc.v);N.arc(C.Hrzn.v,255.5-C.Vrtc.v,3,0,2*Math.PI);N.stroke();
N.fill()}}else{var l=this.bC;N.strokeStyle="#000000";N.beginPath();N.moveTo(0,255.5-l[0]);for(var c=0;
c<256;c++)N.lineTo(c,255.5-l[c]);N.stroke()}};function _o(N,c){_A.call(this);if(!c)return;this.ct=0;
this.$=d.S("span","fitem bbmenu");if(N){this.YI=N;this.MW=d.S("label","flabel");this.MW.textContent=N+":";
this.$.appendChild(this.MW)}this.gp=[];this.Uv=null;this.OK(c);this.H(0)}_o.prototype=new _A;_o.prototype.oR=function(N){this.YI=N;
this.O()};_o.prototype.O=function(){if(this.YI!=null){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);
this.MW.textContent=N+": "}for(var c=0;c<this.gp.length;c++)this.gp[c].O()};_o.prototype.F=function(){return this.ct};
_o.prototype.OK=function(N,c){while(this.gp.length>0)this.$.removeChild(this.gp.pop().$);this.Uv=N;for(var X=0;
X<N.length;X++){var l=new _w(N[X],!1,c?c[X]:null);l.i("click",this.or,this);this.$.appendChild(l.$);
this.gp.push(l)}this.O()};_o.prototype.H=function(N){this.ct=N;for(var c=0;c<this.gp.length;c++)this.gp[c].oN();
this.gp[N].oH()};_o.prototype.or=function(N){var c=this.gp.indexOf(N.target);this.H(c);this.C(new Q(d.E.U,!1))};
function _O(N,c,X){_A.call(this);if(!c)return;if(X==null)X=!1;this.ct=0;this._BA=X;this.YI=N;var l="dd"+d.yj();
this.$=d.S("span","fitem ddmenu");if(N&&!X){this.MW=d.S("label","flabel");this.$.appendChild(this.MW);
this.MW.setAttribute("for",l)}this.K$=d.S("select","bbtn");this.K$.setAttribute("id",l);this.$.appendChild(this.K$);
this.K$.addEventListener("change",this.or.bind(this),!1);this.gp=[];this.Uv=null;this.OK(c);this.O()}_O.prototype=new _A;
_O.prototype.oR=function(N){this.YI=N;this.O()};_O.prototype.O=function(){if(this.YI!=null){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);
if(this._BA)this.K$.setAttribute("title",N);else this.MW.textContent=N+":"}if(this.Uv)this.OK(this.Uv);
this.H(this.ct)};_O.prototype.F=function(){return this.ct};_O.prototype.OK=function(N){while(this.gp.length>0)this.K$.removeChild(this.gp.pop());
this.Uv=N;for(var c=0;c<N.length;c++){var X=d.S("option");if(typeof N[c]=="string")X.textContent=N[c];
else X.textContent=BT.get(N[c]);X.setAttribute("value",c);this.K$.appendChild(X);this.gp.push(X)}};_O.prototype.H=function(N){this.ct=N;
this.K$.selectedIndex=N};_O.prototype.or=function(N){this.ct=this.K$.selectedIndex;this.C(new Q(d.E.U,!1))};
function _F(){_A.call(this);this.tb=null;this.qf=1;this.Bi=new _H;this.Bi.i(d.E.U,this.OC,this);this.Bi.parent=this;
this.Bw=new _n([12,14],1,60,"px",0,!0);this.Bw.i(d.E.U,this.OZ,this);this.Bw.parent=this;this.OQ=new _d([16,0]," px",3);
this.OQ.i(d.E.U,this.OL,this);this.OA=new _n([16,1],-200,200,"%");this.OA.i(d.E.U,this.OL,this);this.OA.parent=this;
this.aG=new _n("V-scal",0,300,"%");this.aG.i(d.E.U,this.OL,this);this.aG.parent=this;this.Y_=new _n("H-scal",0,300,"%");
this.Y_.i(d.E.U,this.OL,this);this.Y_.parent=this;this._S=new _n([16,2],-10,10,"px");this._S.i(d.E.U,this.OL,this);
this._S.parent=this;this.Ok=new _V(!0);this.Ok.i(d.E.U,this.OR,this);this.Ok.parent=this;this.ea=new _w("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");
this.ei=new _w("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");this.IA=new _w("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");
this.Ik=new _w("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");this.Ia=new _w("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");
this.ec=new _w("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");this.FJ=new _w("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");
var N=[this.ea,this.ei,this.IA,this.Ik,this.Ia,this.ec,this.FJ];for(var c=0;c<N.length;c++)N[c].i("click",this.OU,this);
this.ZH=new _w("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");this.ZF=new _w("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");
this.ZO=new _w("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");this.Sv=new _w("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");
this.S$=new _w("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");this.SU=new _w("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");
this.SZ=new _w("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");this.KZ=[this.ZH,this.ZF,this.ZO,this.Sv,this.S$,this.SU,this.SZ];
for(var c=0;c<this.KZ.length;c++)this.KZ[c].i("click",this.OL,this);this.Wj=new _n("L ind",-20,20,"px");
this.Wj.i(d.E.U,this.OL,this);this.Wj.parent=this;this.Id=new _n("R ind",-20,20,"px");this.Id.i(d.E.U,this.OL,this);
this.Id.parent=this;this.vX=new _n("First line indent",-20,20,"px");this.vX.i(d.E.U,this.OL,this);this.vX.parent=this;
this.vt=new _n("Before",-20,20,"px");this.vt.i(d.E.U,this.OL,this);this.vt.parent=this;this.Wy=new _n("After",-20,20,"px");
this.Wy.i(d.E.U,this.OL,this);this.Wy.parent=this;this.Mx=new _o("Direction",["L to R","R to L"]);this.Mx.i(d.E.U,this.OL,this);
this.Mx.parent=this}_F.prototype=new _A;_F.prototype.O=function(){this.Bi.O();this.Bw.O();this.OQ.O();
this.OA.O();this._S.O()};_F.prototype.Ov=function(N){this.qf=N.qf;this.qr=JSON.parse(JSON.stringify(N.qr));
var c=this.qr,X=c.nR,l=c.nP;this.ea.H(X.FauxItalic);this.ei.H(X.FontCaps==2);this.IA.H(X.FontCaps==1);
this.Ia.H(X.FontBaseline==1);this.Ik.H(X.FontBaseline==2);this.ec.H(X.Underline);this.FJ.H(X.Strikethrough);
this.Bi.H(X.Font==null?null:c.nJ[X.Font].Name,N.MQ,N.CL);var C=X.FontSize==null?20:X.FontSize*this.qf;
this.Bw.H(C);this.OA.H(X.Tracking);if(X.AutoLeading)this.OQ.H("Auto");else this.OQ.H(X.Leading*this.qf);
this.aG.H(X.VerticalScale*100);this.Y_.H(X.HorizontalScale*100);this._S.H(X.BaselineShift*this.qf);if(X.FillColor){var q=_W.si(X);
this.Ok.oG(Math.round(q.W)<<16|Math.round(q.d)<<8|Math.round(q.w))}else this.Ok.oG(0);var J=l._Direction?l._Direction:0,Z=_W.Jf(l);
for(var W=0;W<this.KZ.length;W++)this.KZ[W].H(Z==W);this.Mx.H(J);this.Wj.H(l.StartIndent*this.qf);this.Id.H(l.EndIndent*this.qf);
this.vX.H(l.FirstLineIndent*this.qf);this.vt.H(l.SpaceBefore*this.qf);this.Wy.H(l.SpaceAfter*this.qf)};
_F.prototype.O$=function(){var N=new Q(d.E.m,!0);N.data={I:d.L.jD,mz:BZ.uo,qr:this.qr,qf:this.qf};this.C(N)};
_F.prototype.OU=function(N){var c=this.qr.nR,X=N.target,l=!X.oY();if(X==this.ea)c.FauxItalic=l;if(X==this.ei)c.FontCaps=l?2:0;
if(X==this.IA)c.FontCaps=l?1:0;if(X==this.Ia)c.FontBaseline=l?1:0;if(X==this.Ik)c.FontBaseline=l?2:0;
if(X==this.ec)c.Underline=l;if(X==this.FJ)c.Strikethrough=l;this.O$()};_F.prototype.OL=function(N){var c=this.qr.nR,X=this.qr.nP,l=this.qf,C=N.target;
if(C==this.OA)c.Tracking=this.OA.F();if(C==this.OQ){var q=this.OQ.F().toLowerCase();c.AutoLeading=q=="auto";
c.Leading=q=="auto"?40:parseInt(q)/l}if(C==this.aG)c.VerticalScale=C.F()/100;if(C==this.Y_)c.HorizontalScale=C.F()/100;
if(C==this._S)c.BaselineShift=C.F()/l;if(this.KZ.indexOf(C)!=-1){X.Justification=_W.Jf(X,this.KZ.indexOf(C))}if(C==this.Wj)X.StartIndent=C.F()/l;
if(C==this.Id)X.EndIndent=C.F()/l;if(C==this.vX)X.FirstLineIndent=C.F()/l;if(C==this.vt)X.SpaceBefore=C.F()/l;
if(C==this.Wy)X.SpaceAfter=C.F()/l;if(C==this.Mx)X._Direction=C.F();this.O$()};_F.prototype.OC=function(N){var c=this.qr,X=this.Bi.F(),l=-1;
for(var C=0;C<c.nJ.length;C++)if(c.nJ[C].Name==X)l=C;if(l==-1){l=c.nJ.length;var q=JSON.parse(JSON.stringify(c.nJ[0]));
q.Name=X;c.nJ.splice(l,0,q)}c.nR.Font=l;this.O$()};_F.prototype.OZ=function(N){var c=parseFloat(this.Bw.F())/this.qf;
if(isNaN(c))return;this.qr.nR.FontSize=c;this.O$()};_F.prototype.OR=function(N){var c=this.Ok.oM(),X={Type:1,Values:[1,(c>>16&255)/255,(c>>8&255)/255,(c>>0&255)/255]};
for(var l=0;l<4;l++)X.Values[l]=Math.round(X.Values[l]*1e3)/1e3;this.qr.nR.FillColor=X;this.O$()};function _H(){_A.call(this);
this.$=d.S("span","fontinput");this.mg=null;this.Za=null;this.aa=null;this.OY=[];this.OD=[];this.No="";
this.Z={};this.SP={};this.Fm=!1;this.Nw=d.S("button","fitem");this.Nw.setAttribute("style","width:9em;");
this.Nw.textContent="Family Name \u25BC";this.$.appendChild(this.Nw);this.Nw.addEventListener("mousedown",this.Of.bind(this),!1);
this.Kz=new _A;this.Kz.$=d.S("div","floatcont");var N=d.S("div","flexrow");this.Kz.$.appendChild(N);
var c=d.S("div",""),X=d.S("div","");N.appendChild(c);N.appendChild(X);this.aN=[];for(var l=0;l<FNTS.cats.length;
l++)this.aN.push({name:FNTS.cats[l],index:l,bB:0});for(var l=0;l<FNTS.list.length;l++)this.aN[FNTS.list[l][4]].bB++;
this.aN.sort(function(Z,W){return W.bB-Z.bB});this.cO=new _Y([7,0]);this.cO.i(d.E.U,this.Or,this);c.appendChild(this.cO.$);
this.HB=d.S("div","vlist marged scrollable");this.HB.setAttribute("style","width:10em; height:6.8em; ");
c.appendChild(this.HB);this.HI=[];for(var l=0;l<this.aN.length;l++){var C=this.aN[l],q=new _Y(C.name);
this.HI.push(q);q.i(d.E.U,this._RR,this);q.H(!0);this.HB.appendChild(q.$);this.OY.push(1)}this.cc=new _Y([7,0]);
this.cc.i(d.E.U,this.OS,this);X.appendChild(this.cc.$);this.YM=d.S("div","vlist marged scrollable");
this.YM.setAttribute("style","width:10em; height:6.8em; ");X.appendChild(this.YM);this.TM=[];for(var l=0;
l<FNTS.subsetNames.length;l++){var q=new _Y(FNTS.subsetNames[l]);this.TM.push(q);q.i(d.E.U,this._Ba,this);
q.H(!1);this.YM.appendChild(q.$);this.OD.push(0)}var J=d.S("div","form");this.Kz.$.appendChild(J);this.KG=new _w(d.jK("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.KG.i("click",this.OP,this);J.appendChild(this.KG.$);this.KL=new _d([12,86],null,14);this.KL.i("input",this.Oh,this);
J.appendChild(this.KL.$);this.IV=d.S("span","fitem imageset scrollable marged");this.IV.style.height="30em";
this.Kz.$.appendChild(this.IV);this.BW=d.S("button","fitem");this.BW.setAttribute("style","width:6em;");
this.BW.textContent="SubFamily Name \u25BC";this.$.appendChild(this.BW);this.BW.addEventListener("mousedown",this.Of.bind(this),!1);
this.CU=new _A;this.CU.$=d.S("div","floatcont");this.mP=d.S("span","fitem imageset scrollable marged");
this.CU.$.appendChild(this.mP)}_H.prototype=new _A;_H.prototype.O=function(){this.cO.O();this.cc.O();
this.KG.oR(d.jK("tools/cshape",null,"autoscale"))};_H.prototype.OP=function(N){this.KG.H(!this.KG.oY());
this.Op()};_H.prototype.Oh=function(N){this.No=this.KL.F().toLowerCase();this.Op()};_H.prototype.Or=function(N){var c=N.target.F(),X=this.HI,l=this.OY;
for(var C=0;C<X.length;C++){X[C].H(c);l[C]=c?1:0}this.Op()};_H.prototype.OS=function(N){var c=N.target.F(),X=this.TM,l=this.OD;
for(var C=0;C<X.length;C++){X[C].H(c);l[C]=c?1:0}this.Op()};_H.prototype.Of=function(N){N.preventDefault();
N.stopPropagation();var c=N.currentTarget,X=c.getBoundingClientRect(),l=c==this.Nw;if(!l&&this.mg.Xn()[this.aa]==null)return;
var C=new Q(d.E.m,!0);C.data={I:d.L.jh,mC:l?this.Kz:this.CU,x:X.left,y:X.top+X.height};this.C(C);if(l){this.Op();
this.KL.OX()}};_H.prototype._RR=function(N){var c=this.HI.indexOf(N.target),X=this.aN[c].index;this.OY[X]=1-this.OY[X];
this.Op()};_H.prototype._Ba=function(N){var c=this.TM.indexOf(N.target);this.OD[c]=1-this.OD[c];this.Op()};
_H.prototype._Bi=function(N){var c=N.currentTarget.firstChild.nextSibling.textContent;if(N.target.tagName.toLowerCase()=="button"){var X=this.Za.slice(0),l=X.indexOf(c);
if(l==-1){X=X.slice(Math.max(0,X.length-9));X.push(c)}else X.splice(l,1);var C=new Q(d.E.m,!0);C.data={I:d.L.jD,mz:BZ.uN,gY:X};
this.C(C);this.Fm=!0;this.Op()}else this.Ou(c,null)};_H.prototype._Bl=function(N){this.Ou(null,N.currentTarget.firstChild.textContent)};
_H.prototype.Ou=function(N,c){var X=N==null?this.CU:this.Kz,l=this.mg;if(N==null)N=l.Xn()[this.aa][0];
else c=l.Mc(N)[0];var C=l.Bu(N,c)[2];this.H(C,l);this.C(new Q(d.E.U,!1));var q=new Q(d.E.m,!0);q.data={I:d.L.jr,mC:X};
this.C(q)};_H.prototype.F=function(){return this.aa};_H.prototype.H=function(N,c,X){var l=this.mg;if(N!=null)this.aa=N;
else N=this.aa;this.mg=c;this.Za=X;if(N!=null){var C=c.Xn()[N],q,J;if(C==null){q="- "+N;J="-------"}else{q=C[0];
J=C[1];var Z=c.Mc(q),W=Z.indexOf(J),s=this._Bl.bind(this);this.mP.textContent="";for(var t=0;t<Z.length;
t++){var C=c.Bu(q,Z[t]),T=FNTS.list.indexOf(C);if(this.OY[C[4]]==0)continue;var g=d.S("div","fontitem");
g.addEventListener("click",s,!1);this.mP.appendChild(g);var R=d.S("span","label");R.textContent=C[1];
g.appendChild(R);var P=d.S("span","thumb gsicon");if(C.MI)P.setAttribute("style","background: url("+C.MI+")");
else P.setAttribute("style","background-position:"+this.Oa(T));g.appendChild(P)}}this.Nw.textContent=q.substring(0,15)+" \u25BC";
this.Nw.setAttribute("title",q);this.BW.textContent=J.substring(0,10)+" \u25BC";this.BW.setAttribute("title",J)}};
_H.prototype.Op=function(){var N=this.mg.Xn()[this.aa],c=this.Za,X=null,l=this.mg._PW(),C=this._Bi.bind(this);
for(var q in l){var J=l[q][0],Z=this.mg.Bu(q,J),W=c.indexOf(q)!=-1,s=!0;if(this.No.length>0&&Z[0].toLowerCase().indexOf(this.No)==-1)s=!1;
else if(this.OY[Z[4]]==0)s=!1;else if(this.KG.oY()&&!W)s=!1;else for(var t=0;t<this.OD.length;t++)if(this.OD[t]==1&&(Z[3]>>>t&1)==0)s=!1;
var T=this.Z[q];if(T==null){var T=d.S("div","fontitem");T.addEventListener("click",C,!1);var g=d.S("button","star");
T.appendChild(g);var R=d.S("span","label");R.textContent=q;T.appendChild(R);var P=d.S("span","thumb gsicon");
if(Z.MI)P.setAttribute("style","background: url("+Z.MI+")");else P.setAttribute("style","background-position:"+this.Oa(Z.MB));
T.appendChild(P);this.Z[q]=T;this.IV.appendChild(T)}var O=s?"":"display:none; ",b="opacity: "+(W?"1":"0.2");
if(N&&N[0]==q){O+="background-color:rgba(0,0,0,0.13);";X=T}if(this.SP[q]!=O+b){T.setAttribute("style",O);
T.firstChild.setAttribute("style",b);this.SP[q]=O+b}}if(X&&!this.Fm)this.IV.scrollTop=X.offsetTop-210;
this.Fm=!1};_H.prototype.Oa=function(N){var c=Math.ceil(FNTS.list.length/Bs.cols),X=Math.floor(N/c),l=N%c;
return"-"+X*Bs.tK+"px -"+l*Bs.IC+"px;"};function _N(N,c){_A.call(this);this.bq=null;this.ar=!0;this.Wp=-1;
this.Wa=-1;this.Sh=null;this.nF=null;this._sk=N;this.$=d.S("span","fitem gradientbutton");this.DU=new _A;
this.DU.$=d.S("div","floatcont");this.DU.$.setAttribute("style","width: 17em;");this.DU.parent=this;
if(c){this.YI=c;this.MW=d.S("label","flabel");this.$.appendChild(this.MW)}this.I=d.S("button");this.$.appendChild(this.I);
this.I.addEventListener("click",this._$H.bind(this),!1);this.SY=d.S("button");this.SY.innerHTML="\u25BC";
this.$.appendChild(this.SY);this.SY.addEventListener("click",this.oW.bind(this),!1);this.zK=new _D;this.DU.$.appendChild(this.zK.$);
this.zK.i(d.E.U,this._$$,this);this.zK.$.style.height="10em"}_N.prototype=new _A;_N.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);
this.MW.textContent=N+":"};_N.prototype.oR=function(N){this.MW.textContent=N};_N.prototype.oW=function(N){this.oj();
var c=this.I.getBoundingClientRect(),X=new Q(d.E.m,!0);X.data={I:d.L.jh,mC:this.DU,x:c.left,y:c.top+c.height};
this.C(X)};_N.prototype._$$=function(N){var c=this.bq;this.H(c[this.zK.F()].v.Grad.v);this.C(new Q(d.E.U))};
_N.prototype._$H=function(N){var c=new Q(d.E.m,!0);c.data={I:d.L.jl,mO:"gradienteditor",c:this.nF,response:this._$d.bind(this)};
this.C(c)};_N.prototype._$d=function(N){this.H(N);this.C(new Q(d.E.U))};_N.prototype.oy=function(N){this.bq=N;
this.ar=!0};_N.prototype.oj=function(){if(!this.ar)return;var N=[],c=this.bq;for(var X=0;X<c.length;
X++){var l=c[X].v.Grad.v,C=H.QS.$$(l,36,36,Math.PI/4,this.Wp,this.Wa);N.push(C)}this.zK.Oy(N);this.ar=!1};
_N.prototype.Oc=function(N,c){this.Ol(this.nF,N,c)};_N.prototype.H=function(N){this.Ol(N,this.Wp,this.Wa)};
_N.prototype.Ol=function(N,c,X){this.Wp=c;this.Wa=X;if(N==null)return;var l=JSON.stringify(N),C=l+c+","+X;
if(C==this.Sh)return;this.Sh=C;this.nF=JSON.parse(l);var q=H.QS.$$(this.nF,80,16,0,this.Wp,this.Wa);
this.I.innerHTML="<img src=\""+q+"\" />"};_N.prototype.F=function(){if(this.nF==null)return null;var N;
if(this._sk)N=H.QS.Qx(this.nF,this.Wp,this.Wa);else N=JSON.parse(JSON.stringify(this.nF));return N};
function _Y(N,c,X){_A.call(this);this.$=d.S("span","fitem cbox");if(c==null)c=!0;if(X==null)X="flabel";
var l="cb"+d.yj();this.yt=d.S("input","");this.yt.setAttribute("type","checkbox");this.yt.setAttribute("id",l);
this.$.appendChild(this.yt);this.YI=N;this.MW=d.S("label",X);if(c)this.MW.setAttribute("for",l);this.$.appendChild(this.MW);
this.O();this.yt.addEventListener("change",this.or.bind(this),!1)}_Y.prototype=new _A;_Y.prototype.OJ=function(){return this.YI};
_Y.prototype.oR=function(N){this.MW.textContent=N};_Y.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);
this.MW.textContent=N};_Y.prototype.oH=function(){this.yt.checked=!0};_Y.prototype.oN=function(){this.yt.checked=!1};
_Y.prototype.oY=function(){return this.yt.checked};_Y.prototype.H=function(N){this.yt.checked=N};_Y.prototype.F=_Y.prototype.oY;
_Y.prototype.or=function(N){this.C(new Q(d.E.U,!1))};function _z(N,c){_A.call(this);this.$=d.S("span","fitem mbox");
if(N){this.YI=N;this.MW=d.S("label","flabel");this.$.appendChild(this.MW)}var X=this.or.bind(this);this.Ro=c;
this.MF=[];this.Sr=[];for(var l=0;l<c.length;l++){var C="mb"+d.yj(),q=d.S("input","");this.MF.push(q);
q.setAttribute("type","checkbox");q.setAttribute("id",C);q.addEventListener("change",X,!1);this.$.appendChild(q);
var J=d.S("label","flabel");this.Sr.push(J);J.setAttribute("for",C);this.$.appendChild(J)}this.O()}_z.prototype=new _A;
_z.prototype.H=function(N){for(var c=0;c<this.Ro.length;c++)this.MF[c].checked=N[c]};_z.prototype.F=function(){var N=[];
for(var c=0;c<this.Ro.length;c++)N[c]=this.MF[c].checked;return N};_z.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);
this.MW.textContent=N+":";for(var c=0;c<this.Ro.length;c++){var X=this.Ro[c],N=typeof X=="string"?X:BT.get(X);
this.Sr[c].textContent=N}};_z.prototype.or=function(N){this.C(new Q(d.E.U,!1))};function _D(N){_A.call(this);
this.Z=[];this.ct=-1;this._sw=N;this.$=d.S("div","imageset scrollable")}_D.prototype=new _A;_D.prototype.Oy=function(N,c,X,l){this.Z=[];
this.$.innerHTML="";for(var C=0;C<N.length;C++){var q=d.S("img","image");if(X)d.j_(q,X,l);if(this._sw)d.yH(q,"gsicon");
var J=N[C];q.setAttribute("src",J);if(c)q.setAttribute("title",c[C]);q.addEventListener("mousedown",this.oc.bind(this),!1);
this.$.appendChild(q);this.Z.push(q)}};_D.prototype.oc=function(N){this.ct=this.Z.indexOf(N.target);
this.C(new Q(d.E.U))};_D.prototype.F=function(){return this.ct};_D.prototype.__Q=function(N){for(var c=0;
c<this.Z.length;c++){var X=this.Z[c];if(c==N)d.yH(X,"active");else d.yN(X,"active")}};function _m(N,c,X,l,C,q){_u.call(this,N,c,X,l,C,!1,q);
this.$.appendChild(this.MW);var J=d.S("span","rangecont");this.$.appendChild(J);J.appendChild(this.r_);
this.$.appendChild(this.yt);this.yt.size=2;this.$.appendChild(this.sQ)}_m.prototype=new _u;function _M(N,c){if(N==null)N=!1;
if(c==null)c=!1;_A.call(this);this.Bt=new k;this.xx=new k;this._sc=72;this.$V=72;this.$=d.S("span","");
this.nt=new _d([12,41],null,5);this.$.appendChild(this.nt.$);this.nt.i(d.E.U,this.OE,this);var X=["px","%"];
if(N)X=X.concat(["mm","in"]);this.Bd=new _O(null,X);this.$.appendChild(this.Bd.$);this.Bd.i(d.E.U,this.OE,this);
this.nD=new _d([12,42],null,5);this.$.appendChild(this.nD.$);this.nD.i(d.E.U,this.OE,this);var l=new _w("\u21F5",!1,null,!0);
l.i("click",this._Ug,this);this.$.appendChild(l.$);this.Wk=new _d("DPI","Px / Inch",5);if(N)this.$.appendChild(this.Wk.$);
this.Wk.i(d.E.U,this.OE,this);this.Bg=new _Y([12,51]);this.Bg.i(d.E.U,this.OE,this);this.SS=new _b("Ratio: ");
this.$.appendChild(d.S("br"));if(c){this.$.appendChild(this.Bg.$);this.$.appendChild(this.SS.$);this.Bg.oH()}}_M.prototype=new _A;
_M.prototype._Ll=function(N){this.Bg.H(N)};_M.prototype.O=function(){this.nt.O();this.nD.O();this.Bg.O()};
_M.prototype._Ug=function(N){var c=this.xx.x;this.xx.x=this.xx.y;this.xx.y=c;this.OH()};_M.prototype.OE=function(N){if(N.target==this.Bd){this.OH();
return}var c=this.Bt,X=this.$V,l=parseFloat(this.nt.F());if(isNaN(l))l=1;var C=parseFloat(this.nD.F());
if(isNaN(C))C=1;var q=this.Bd.F();if(q==1){l=this.Bt.x*(l/100);C=this.Bt.y*(C/100)}var J=[1,1,25.4/X,1/X][q];
l/=J;C/=J;if(N.target==this.Wk){var Z=parseInt(this.Wk.F());if(q>1){var W=Z/X;l*=W;C*=W}X=Z}if(this.Bg.oY()){if(N&&N.target==this.nt)C=l*(c.y/c.x);
else l=C*(c.x/c.y)}l=Math.max(Math.abs(l),1);C=Math.max(Math.abs(C),1);this.xx=new k(Math.round(l),Math.round(C));
this.$V=X;this.OH();this.C(new Q(d.E.U,!1))};_M.prototype._$X=function(N){this.Bd.H(N);this.OH()};_M.prototype.H=function(N,c){this.Bt=N.clone();
this.xx=N.clone();this._sc=c;this.$V=c;this.OH()};_M.prototype.OH=function(){var N=this.xx.x,c=this.xx.y,X=this.$V,l=(N/c).toFixed(3);
while(l.charAt(l.length-1)=="0")l=l.substring(0,l.length-1);if(l.charAt(l.length-1)==".")l=l.substring(0,l.length-1);
this.SS.H("\u2003\u2003  "+l+" : 1");var C=this.Bd.F();if(C==1){N=100*N/this.Bt.x;c=100*c/this.Bt.y}N=Math.round(N);
c=Math.round(c);var q=[1,1,25.4/X,1/X][C];N*=q;c*=q;if(C>1){var J=C==2?0:2;N=N.toFixed(J);c=c.toFixed(J)}this.nt.H(N);
this.nD.H(c);this.Wk.H(X)};_M.prototype.F=function(){return this.xx.clone()};_M.prototype.ON=function(){return this.$V};
function _G(){_A.call(this);this.hI=0;this._sN=[0,0,1,1,100,100];this.$=d.S("span","fitem");this.nX=new _O(null,["Free","Fixed Ratio","Fixed Size"]);
this.$.appendChild(this.nX.$);this.nX.i(d.E.U,this.OE,this);this.nt=new _d("W",null,3);this.nt.H(0);
this.$.appendChild(this.nt.$);this.nt.i(d.E.U,this.OE,this);this.nD=new _d("H",null,3);this.nD.H(0);
this.$.appendChild(this.nD.$);this.nD.i(d.E.U,this.OE,this);this.H({LT:0,x:0,y:0})}_G.prototype=new _A;
_G.prototype.O=function(){this.nt.O();this.nD.O();this.nX.O()};_G.prototype.OE=function(N){if(N.target==this.nX){var c=this.F(),X=this._sN;
X[this.hI*2]=c.x;X[this.hI*2+1]=c.y;this.hI=c.LT;this.H({LT:c.LT,x:X[c.LT*2],y:X[c.LT*2+1]})}this.C(new Q(d.E.U,!1))};
_G.prototype.H=function(N){this.nX.H(N.LT);this.nt.H(N.x);this.nD.H(N.y);if(N.LT==0){this.nt.oB();this.nD.oB()}else{this.nt.oI();
this.nD.oI()}};_G.prototype.F=function(){return{LT:this.nX.F(),x:parseInt(this.nt.F()),y:parseInt(this.nD.F())}};
function _b(N,c){_A.call(this);this.YI=N;this.$=d.S("span","labelitem fitem"+(c?" spread":""));this.O()}_b.prototype=new _A;
_b.prototype.H=function(N){this.$.textContent=N};_b.prototype.F=function(){return this.$.textContent};
_b.prototype.oI=function(){this.$.removeAttribute("disabled")};_b.prototype.oB=function(){this.$.setAttribute("disabled","")};
_b.prototype.oR=function(N){this.$.textContent=N};_b.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);
this.$.textContent=N};_b.prototype.OJ=function(){return this.YI};function _X(N){_A.call(this);this.$=d.S("span","");
this.Yw=N;this.BO=new _m("Off X",-100,100,N?"%":"px",0,!1);this.pt=new _m("Off Y",-100,100,N?"%":"px",0,!1);
this.BO.i(d.E.U,this.OE,this);this.pt.i(d.E.U,this.OE,this);this.$.appendChild(this.BO.$);this.$.appendChild(this.pt.$)}_X.prototype=new _A;
_X.prototype.O=function(){this.BO.O();this.pt.O()};_X.prototype.OE=function(N){this.C(new Q(d.E.U,!1))};
_X.prototype._s_=function(N){this.BO.H(N.x);this.pt.H(N.y)};_X.prototype._UB=function(){return new k(this.BO.F(),this.pt.F())};
_X.prototype.H=function(N){var c=N.Hrzn.v,X=N.Vrtc.v;if(this.Yw){c=c.val;X=X.val}this.BO.H(c);this.pt.H(X)};
_X.prototype.F=function(){var N=this.BO.F(),c=this.pt.F();if(this.Yw)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:N}},Vrtc:{t:"UntF",v:{type:"#Prc",val:c}}};
else return{classID:"Pnt",Hrzn:{v:N,t:"doub"},Vrtc:{v:c,t:"doub"}}};function _n(N,c,X,l,C,q,J){_u.call(this,N,c,X,l,C,!0,q);
d.yH(this.$,"rangedropinput");this.$.appendChild(this.MW);this.yt.setAttribute("style","width:3.3em");
this.$.appendChild(this.yt);this.JP=d.S("span","rangecont");this.JP.appendChild(this.r_);this.Pg=d.S("button");
this.Pg.innerHTML="\u25BC";this.Pg.addEventListener("click",this._sT.bind(this),!1);if(J!=!0)this.$.appendChild(this.Pg);
this.Yv=new _A;this.Yv.$=this.JP}_n.prototype=new _u;_n.prototype._sT=function(N){var c=this.$.getBoundingClientRect();
this.r_.setAttribute("style","width:"+c.width+"px;");var X=new Q(d.E.m,!0);X.data={I:d.L.jh,mC:this.Yv,x:c.left,y:c.top+c.height};
this.C(X)};function _e(){_A.call(this);this.$=d.S("span","fitem strokebutton");this.Dy=[{strokeStyleLineDashSet:{t:"VlLs",v:[]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:4}},{t:"UntF",v:{type:"#Nne",val:2}}]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleRoundCap"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:0}},{t:"UntF",v:{type:"#Nne",val:2}}]}}];
this.nO=null;this.$F=d.S("button");this.$.appendChild(this.$F);this.$F.addEventListener("click",this.oW.bind(this),!1);
var N=d.S("canvas","gsicon");d.jE(N,40,16);this.OI=N.getContext("2d");this.$F.appendChild(N);var c=d.S("span");
c.textContent=" \u25BC";this.$F.appendChild(c);this.DU=new _A;this.DU.$=d.S("div","floatcont form");
this.DU.$.setAttribute("style","width: 12em;");this.DU.parent=this;this.Z=[new _O([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new _O("Caps",["Butt","Round","Square"]),new _O("Corners",["Miter","Round","Bevel"]),new _d("Gaps")];
for(var X=0;X<this.Dy.length;X++)this.Z.push(new _w(["Full","Dash","Dots"][X]));for(var X=0;X<this.Z.length;
X++){var l=this.Z[X];this.DU.$.appendChild(l.$);var C=X<4?d.E.U:"click";l.i(C,this.OE,this);if(X==3){this.DU.$.appendChild(d.S("br"))}}}_e.prototype=new _A;
_e.prototype.oW=function(N){var c=this.$F.getBoundingClientRect(),X=new Q(d.E.m,!0);X.data={I:d.L.jh,mC:this.DU,x:c.left,y:c.top+c.height+4};
this.C(X)};_e.prototype.OE=function(N){var c=this.nO,_T=this.Z,X=_T.indexOf(N.target),l=F.cF.cN[_T[0].F()],C=F.cF.cH[_T[1].F()],q=F.cF.join[_T[2].F()];
c.strokeStyleLineAlignment.v.strokeStyleLineAlignment=l;c.strokeStyleLineCapType.v.strokeStyleLineCapType=C;
c.strokeStyleLineJoinType.v.strokeStyleLineJoinType=q;var J=c.strokeStyleLineDashSet.v=[],Z=_T[3].F().split(" ");
for(var W=0;W<Z.length;W++)J.push({t:"UntF",v:{type:"#Nne",val:parseInt(Z[W])}});if(N.type=="click"){var s=JSON.parse(JSON.stringify(this.Dy[X-4]));
for(var t in s)c[t]=s[t]}this.C(new Q(d.E.U,!1))};_e.prototype.O=function(){for(var N=0;N<this.Z.length;
N++)this.Z[N].O()};_e.prototype.H=function(N){this.nO=JSON.parse(JSON.stringify(N));var c=N.strokeStyleLineAlignment.v.strokeStyleLineAlignment,X=N.strokeStyleLineCapType.v.strokeStyleLineCapType,l=N.strokeStyleLineJoinType.v.strokeStyleLineJoinType,C=[],q=N.strokeStyleLineDashSet.v;
for(var J=0;J<q.length;J++)C.push(q[J].v.val);var _T=this.Z;_T[0].H(F.cF.cN.indexOf(c));_T[1].H(F.cF.cH.indexOf(X));
_T[2].H(F.cF.join.indexOf(l));_T[3].H(C.join(" "));var Z=this.OI,W=Z.canvas.width,s=Z.canvas.height,t=Math.min(5,N.strokeStyleLineWidth.v.val);
for(var T=0;T<C.length;T++)C[T]*=t;Z.clearRect(0,0,W,s);Z.setLineDash(C);Z.lineCap=["butt","round","square"][F.cF.cH.indexOf(X)];
Z.lineJoin=["miter","round","bevel"][F.cF.join.indexOf(l)];Z.lineWidth=t;Z.beginPath();Z.moveTo(0,s/2);
Z.lineTo(W*2,s/2);Z.stroke()};_e.prototype.F=function(){return JSON.parse(JSON.stringify(this.nO))};
function BI(N){_A.call(this);this.mQ=null;this.No="";this.bq=null;this.ar=!0;this.KC=null;this.nz=null;
this.$=d.S("span","fitem contourbutton");this.DU=new _A;this.DU.$=d.S("div","floatcont");this.DU.parent=this;
if(N){this.YI=N;this.MW=d.S("label","flabel");this.$.appendChild(this.MW)}this.I=d.S("button");this.$.appendChild(this.I);
this.I.addEventListener("click",this.oW.bind(this),!1);this.SY=d.S("button");this.SY.innerHTML="\u25BC";
this.$.appendChild(this.SY);this.SY.addEventListener("click",this.oW.bind(this),!1);this.KL=new _d("Find",null,16);
this.KL.i("input",this.Oh,this);this.DU.$.appendChild(this.KL.$);this.Sf=new _D;this.DU.$.appendChild(this.Sf.$);
this.Sf.i(d.E.U,this.ot,this);this.Sf.$.setAttribute("style","width:34em; height:16em;  display:block;")}BI.prototype=new _A;
BI.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);this.MW.textContent=N+":"};
BI.prototype.oR=function(N){this.MW.textContent=N};BI.prototype.oW=function(N){this.oj();var c=this.I.getBoundingClientRect(),X=new Q(d.E.m,!0);
X.data={I:d.L.jh,mC:this.DU,x:c.left,y:c.top+c.height+4};this.C(X)};BI.prototype.ot=function(N){this.H(this.mQ[N.target.F()]);
this.C(new Q(d.E.U))};BI.prototype.Oh=function(N){this.No=this.KL.F().toLowerCase();this.Om()};BI.prototype.oy=function(N){if(this.nz==null)this.H(N[0]);
this.bq=N;this.ar=!0};BI.prototype.oj=function(){if(!this.ar)return;var N=this.bq,c=Math.floor(38*d.V()),X=Math.floor(38*d.V());
this.KC=[];for(var l=0;l<N.length;l++)this.KC.push(BI.OG(N[l],c,X));this.Om();this.ar=!1};BI.prototype.Om=function(){var N=Math.floor(38*d.V()),c=Math.floor(38*d.V());
this.mQ=[];var X=[],l=[],C=this.bq;for(var q=0;q<C.length;q++){if(C[q].nK.toLowerCase().indexOf(this.No)==-1)continue;
this.mQ.push(C[q]);X.push(this.KC[q]);l.push(C[q].nK)}this.Sf.Oy(X,l,N,c)};BI.prototype.H=function(N){this.nz=BI.clone(N);
this.og()};BI.prototype.og=function(){var N=Math.floor(23*d.V()),c=Math.floor(23*d.V()),X=BI.OG(this.nz,N,c);
this.I.innerHTML="<img src=\""+X+"\" />";d.j_(this.I.firstChild,N,c)};BI.prototype.F=function(){return BI.clone(this.nz)};
BI.clone=function(N){return{nK:N.nK,nv:N.nv,p:v.wI.wB(N.p),n$:N.n$.clone()}};BI.vQ=null;BI.OM=null;BI.OG=function(N,c,X){var l=v.wI.wB(N.p),C=N.n$,q=Math.min(c/C.h,X/C.s)*.9,J=new Bh;
J.translate(-.5,-.5);J.scale(.95,.95);J.translate(.5,.5);J.scale(q*C.h,q*C.s);I.D.$m(l,J);var Z=new v.wI;
Z.p=l;var W=Z.im();W.rect.x=Math.floor((c-W.rect.h)/2);W.rect.y=Math.floor((X-W.rect.s)/2);var s=I.a(W.rect.n()*4);
I.Tr(s,4278190080);I.Tk(W.channel);I.TP(W.channel,s,0);I.TP(W.channel,s,1);I.TP(W.channel,s,2);var t=BI;
if(t.vQ==null)t.vQ=d.S("canvas");var T=t.vQ,g=T.getContext("2d");if(T.width!=c||T.height!=X||t.OM==null){T.width=c;
T.height=X;t.OM=g.createImageData(c,X)}var R=t.OM;I.Tr(R.data,4294967295);I.TF(s,W.rect,R.data,new u(0,0,c,X));
g.putImageData(R,0,0);return T.toDataURL()};function _t(){_A.call(this);this.Ic=null;this.$=d.S("span","fitem");
this.eO=new _J([14,9]);this.mu=new _n([12,14],0,10,"pt",1,!0);this.hM=new _e;this.Lm=[this.eO,this.mu,this.hM];
for(var N=0;N<this.Lm.length;N++){var c=this.Lm[N];this.$.appendChild(c.$);c.parent=this;c.i(d.E.U,this.OE,this)}}_t.prototype=new _A;
_t.prototype.O=function(){for(var N=0;N<this.Lm.length;N++)this.Lm[N].O()};_t.prototype.fu=function(N,c){this.eO.fu(N,c)};
_t.prototype.OE=function(N){var c=this.Ic,X=this.eO.F(),l=X.Xw;c.strokeEnabled.v=l!=0;if(l!=0){c.strokeStyleContent.v=X.aY;
X.aY.classID=F.cF.cY[l-1]}c.strokeStyleLineWidth.v.val=this.mu.F();if(N.target==this.hM)c=this.hM.F();
this.Ic=c;this.C(new Q(d.E.U,!1))};_t.prototype.H=function(N,c,X){this.Ic=JSON.parse(JSON.stringify(c));
var l=c.strokeEnabled.v,C=c.strokeStyleContent.v,q=l?{Xw:1+F.cF.cY.indexOf(C.classID),aY:C}:{Xw:0};this.eO.H(N,q,X);
this.mu.H(c.strokeStyleLineWidth.v.val);this.hM.H(c)};_t.prototype.F=function(){return JSON.parse(JSON.stringify(this.Ic))};
function _q(N,c){_A.call(this);this.$=d.S("span","fitem");this.UI=["front","union","difference","intersection","xor"];
this._KT=[[18,0],[18,1],[18,2],[18,3],[18,4]];this.nd=[];this.Is=0;for(var X=0;X<this.UI.length;X++){var l=new _w("<img src=\""+PIMG["set/"+this.UI[X]]+"\" class=\"autoscale gsicon\" />",!1);
l.i("click",this._Uf,this);this.$.appendChild(l.$);this.nd.push(l)}this.nd[0].oH()}_q.prototype=new _A;
_q.prototype.F=function(){return this.UI[this.Is]};_q.prototype.H=function(N){this.Is=this.UI.indexOf(N);
for(var c=0;c<this.nd.length;c++)this.nd[c].oN();this.nd[this.Is].oH()};_q.prototype._Uf=function(N){this.H(this.UI[this.nd.indexOf(N.currentTarget)]);
this.C(new Q(d.E.U,!1))};_q.prototype.O=function(){};function _d(N,c,X){_A.call(this);var l=d.yj();this.$=d.S("span","fitem tinput");
if(N){this.YI=N;this.MW=d.S("label","flabel");this.$.appendChild(this.MW);this.MW.setAttribute("for",l);
this.O()}this.yt=d.S("input","");this.yt.setAttribute("type","text");this.yt.setAttribute("id",l);if(X)this.yt.setAttribute("style","width:"+X+"em");
this.$.appendChild(this.yt);if(c){this.sQ=d.S("span","");this.sQ.textContent=c;this.$.appendChild(this.sQ)}this.yt.addEventListener("change",this.or.bind(this),!1);
this.yt.addEventListener("input",this._CG.bind(this),!1)}_d.prototype=new _A;_d.prototype.O=function(){if(this.YI==null)return;
var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);this.MW.textContent=N+":"};_d.prototype.oR=function(N){this.MW.textContent=N};
_d.prototype.H=function(N){this.yt.value=N==null?"":N};_d.prototype.F=function(){return this.yt.value};
_d.prototype.OX=function(){this.yt.select();this.yt.focus()};_d.prototype.or=function(N){this.C(new Q(d.E.U,!1))};
_d.prototype._CG=function(N){this.C(new Q("input",!1))};function _g(N,c,X,l,C,q){_u.call(this,N,c,X,l,C,!0,q);
d.yH(this.$,"trangeinput");this.$.appendChild(this.MW);this.$.appendChild(this.yt);var J=d.S("span","rangecont");
this.$.appendChild(J);J.appendChild(this.r_);this.r_.setAttribute("style","width:97%;")}_g.prototype=new _u;
function TE(){_A.call(this);this.Ht={WT:20,WI:!0};this.$=d.S("span","");this.zP=new _n([12,24],0,255);
this.zP.H(10);this.$.appendChild(this.zP.$);this.zP.i(d.E.U,this.OE,this);this.Fh=new _Y([12,25]);this.Fh.oH();
this.$.appendChild(this.Fh.$);this.Fh.i(d.E.U,this.OE,this)}TE.prototype=new _A;TE.prototype.OE=function(){var N=parseInt(this.zP.F());
N=Math.max(0,Math.min(255,N));this.zP.H(N);this.Ht.WT=N;this.Ht.WI=this.Fh.oY();this.C(new Q(d.E.U,!1))};
TE.prototype.F=function(){return JSON.parse(JSON.stringify(this.Ht))};TE.prototype.O=function(){this.zP.O();
this.Fh.O()};function T_(N,c){_A.call(this);if(c==null)c=!1;this.KC=[];this.wK=0;this.FS=[];this.ag=[];
for(var X in I.Uj.type){if(X=="warpCustom"&&!c)continue;this.FS.push(X);this.ag.push(I.Uj.type[X])}this.$=d.S("span","fitem warpbutton");
this.DU=new _A;this.DU.$=d.S("div","floatcont");this.DU.$.setAttribute("style","width: 10em;");if(N){this.MW=d.S("label","flabel");
this.MW.innerHTML=N;this.$.appendChild(this.MW)}this.I=d.S("button");this.$.appendChild(this.I);this.I.addEventListener("click",this.oW.bind(this),!1);
this.Sf=new _D(!0);this.DU.$.appendChild(this.Sf.$);this.Sf.i(d.E.U,this.ot,this);this.O()}T_.prototype=new _A;
T_.prototype.oR=function(N){this.MW.textContent=N};T_.prototype.O=function(){this.KC=[];var N=Math.floor(114*d.V()),c=Math.floor(23*d.V()),X=d.S("canvas","");
X.width=N;X.height=c;var l=X.getContext("2d");l.lineWidth=1;l.strokeStyle="#000000";l.font=Math.floor(13*d.V())+"px sans-serif";
var C=Math.floor(16*d.V()),q=new u(0,0,C,C);for(var J=0;J<this.FS.length;J++){var Z=this.FS[J];l.clearRect(0,0,X.width,X.height);
var W=I.Uj.Uj(q,Z,!0,.3,0,0),s=I.z.Kq(q);s.Gv.push("M","L","M","L");s.l.push(0,C/2,C,C/2);s.l.push(C/2,0,C/2,C);
s=I.z.Kd(s);s=I.z.Kg(s,C/5);I.P.apply(W,s.l,q);I.z.Kp(s.l,new Bh(1,0,0,1,Math.floor(8*d.V())+.5,Math.floor(3*d.V())+.5),s.l);
l.beginPath();Typr.U.pathToContext({cmds:s.Gv,crds:s.l},l);l.stroke();l.fillText(BT.get(I.Uj.type[Z]),Math.floor(40*d.V()),Math.floor(16*d.V()));
this.KC.push(X.toDataURL())}this.Sf.Oy(this.KC,null,N,c);this.og()};T_.prototype.oW=function(N){var c=this.I.getBoundingClientRect(),X=new Q(d.E.m,!0);
X.data={I:d.L.jh,mC:this.DU,x:c.left,y:c.top+c.height+4};this.C(X)};T_.prototype.ot=function(N){var c=new Q(d.E.m,!0);
c.data={I:d.L.jr,mC:this.DU};this.C(c);this.wK=N.target.F();this.og();this.C(new Q(d.E.U))};T_.prototype.og=function(){this.Sf.__Q(this.wK);
this.I.innerHTML="<img src=\""+this.KC[this.wK]+"\" class=\"gsicon\" />";var N=Math.floor(114*d.V()),c=Math.floor(23*d.V());
d.j_(this.I.firstChild,N,c)};T_.prototype.F=function(){return this.FS[this.wK]};T_.prototype.H=function(N){this.wK=this.FS.indexOf(N);
this.og()};function TT(N,c,X){_A.call(this);if(N==null)N=!1;if(c==null)c=!1;if(X==null)X=!1;this._K$=c;
this.Uj=null;this.CD=new T_("Style:",X);this.CD.parent=this;this.CD.i(d.E.U,this.O$,this);this.Kl=new _O("Orientation:",["Horizontal","Vertical"]);
this.Kl.i(d.E.U,this.O$,this);var l=N?_n:_g;this.Ko=new l("Bend:",-100,100,"%");this.Kb=new l("Horizontal Distortion:",-100,100,"%");
this.vu=new l("Vertical Distortion:",-100,100,"%");this.Ko.parent=this.Kb.parent=this.vu.parent=this;
this.Ko.i(d.E.U,this.O$,this);this.Kb.i(d.E.U,this.O$,this);this.vu.i(d.E.U,this.O$,this)}TT.prototype=new _A;
TT.prototype.O=function(){var N=this._K$?1:100;this.CD.oR(BT.get([12,22])+":");this.CD.O();this.Kl.oR(BT.get([22,0])+":");
this.Kl.OK([BT.get([22,4,0]),BT.get([22,4,1])]);this.Ko.oR(BT.get([22,1])+":");this.Kb.oR(BT.get([22,2]).substring(0,N)+":");
this.vu.oR(BT.get([22,3]).substring(0,N)+":")};TT.prototype.O$=function(){var N=this.Uj,c=this.CD.F(),X=N.warpStyle.v.warpStyle;
if(c=="warpCustom")I.Uj.UF(I.Uj.UH(N),N);else delete N.customEnvelopeWarp;N.warpStyle.v.warpStyle=this.CD.F();
N.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Kl.F()];N.warpValue.v=this.Ko.F();N.warpPerspective.v=this.Kb.F();
N.warpPerspectiveOther.v=this.vu.F();if(c=="warpNone"||c=="warpCustom"){N.warpValue.v=0;N.warpPerspective.v=0;
N.warpPerspectiveOther.v=0}else if(X=="warpNone"||X=="warpCustom")N.warpValue.v=50;this.C(new Q(d.E.U,!1));
this.H(N)};TT.prototype.F=function(N){return JSON.parse(JSON.stringify(this.Uj))};TT.prototype.H=function(N){this.Uj=JSON.parse(JSON.stringify(N));
this.CD.H(N.warpStyle.v.warpStyle);this.Kl.H(N.warpRotate.v.Ornt=="Hrzn"?0:1);this.Ko.H(N.warpValue.v);
this.Kb.H(N.warpPerspective.v);this.vu.H(N.warpPerspectiveOther.v);var c=N.warpStyle.v.warpStyle,X=c=="warpNone"||c=="warpCustom",l=[this.Kl,this.Ko,this.Kb,this.vu];
for(var C=0;C<l.length;C++)if(X)l[C].oB();else l[C].oI()};function TI(N){_A.call(this);this.$=d.S("div");
this.$.setAttribute("style","cursor:grab; cursor:-moz-grab; cursor:-webkit-grab;");this.RL=N;this.ZP=new k(0,0);
this._H=d.S("canvas","canv");this.$.appendChild(this._H);this.OI=this._H.getContext("2d");this.Lj=null;
this.hy=null;this.Fq=null;this.va=0;this._KQ=this.Og.bind(this);this.Jx=null;this.Cr=null;this.g=new _K({h:1,s:1});
this.BP=null;this.dO=null;this._Ku=this.xX.bind(this);this.Yi=this.xn.bind(this);this.Jw=this.xe.bind(this);
this.$Y=null;this.OW(this._H)}TI.prototype=new _A;TI.prototype.Oe=function(N){this.$.setAttribute("style","cursor:"+N)};
TI.prototype.OW=function(N,c){if(c!=!0)d.yn(N,this._Ku);N.addEventListener("wheel",this.oQ.bind(this),!1)};
TI.prototype.Ot=function(){return{o:this.g.o,M:this.g.M}};TI.prototype.H=function(N,c){var X=N[0].M$;
if(this.hy!=null&&this.hy[0].M$.TA(X)){}else{this.g.tG={h:X.h,s:X.s};this.g.M=new k(0,0);this.g.o=1}this.hy=N;
this.Oq();this.Od();this.va=0;this.Og();this.Cr=c};TI.prototype.oQ=function(N){var c=d.jT(N);c.x=d.V()*c.x;
c.y=d.V()*c.y;H.AN.AM(this.g,c,N.deltaY<0);this.Oq();this.Aa();this.C(new Q("zoom"))};TI.prototype.Oq=function(){this.Fq=[];
var N=this.g.o;for(var c=0;c<this.hy.length;c++){var X=this.hy[c],l=new Uint8Array(X.data),C;if(N>=1)C={Ml:l,rect:X.M$};
else C=I.TJ(l,X.M$,N);this.Fq.push(C)}};TI.prototype.Od=function(){clearTimeout(this.Jx)};TI.prototype.Aa=function(){if(this.hy==null)return;
var N=this.hy[this.va],c=this.Fq[this.va],X=this.g,l,C;if(X.o<=1){var q=c.rect.clone();q.x=X.M.x+Math.floor((X.N.h-c.rect.h)/2);
q.y=X.M.y+Math.floor((X.N.s-c.rect.s)/2);l=c.Ml;C=q}else{var J=X.cS(),Z=X.cr(),W=new u(0,0,J.h*X.o,J.s*X.o);
W.x=J.x*X.o+Z.x;W.y=J.y*X.o+Z.y;if(X.hR==null||X.hR.length!=J.n()*4){X.hR=I.a(J.n()*4)}if(X.hW==null||X.hW.length!=W.n()*4){X.hW=I.a(W.n()*4)}I.Tr(X.hR,0);
I.TF(c.Ml,c.rect,X.hR,J);I.scale.vc(X.hR,J.h,J.s,X.hW,W.h,W.s,X.o);l=X.hW;C=W}var Z=X.cr();I.TK(this.Lj.data,X.N.h,X.N.s,8,-Z.x,-Z.y);
I.B.Ih("norm",l,C,this.Lj.data,X.N,X.N,1);this.OI.setTransform(1,0,0,1,0,0);this.OI.putImageData(this.Lj,0,0);
var s=this.Cr;if(s){this.OI.fillStyle="#00ff00";this.OI.lineWidth=1;var t=this.hy[0].M$,T=X.o*t.h/s.ML;
this.OI.beginPath();this.OI.strokeStyle="#ff6600";for(var g=0;g<s.MC;g++)for(var R=0;R<s.ML;R++){var P=g*s.ML+R<<1,O=(R+s.map[P])*T+Z.x,b=(g+s.map[P+1])*T+Z.y;
if(R!=s.ML-1){this.OI.moveTo(O,b);var z=(R+1+s.map[P+2])*T+Z.x,m=(g+s.map[P+3])*T+Z.y;this.OI.lineTo(z,m)}if(g!=s.MC-1){this.OI.moveTo(O,b);
var z=(R+s.map[P+s.ML*2])*T+Z.x,m=(g+1+s.map[P+s.ML*2+1])*T+Z.y;this.OI.lineTo(z,m)}}this.OI.stroke()}if(X.o<1)Z=C;
var R=Z.x,g=Z.y,f=Z.h,B=Z.s;this.OI.clearRect(R,g,-1e3,B);this.OI.clearRect(R+f,g,1e3,B);this.OI.clearRect(R-1e3,g,f+2e3,-1e3);
this.OI.clearRect(R-1e3,g+B,f+2e3,1e3);this.OI.setTransform(1,0,0,1,0,X.N.s);this.OI.scale(d.V(),d.V());
this.OI.fillStyle="rgba(0,0,0,1)";this.OI.fillRect(0,0,50,-18);this.OI.font=11+"px monospace";this.OI.fillStyle="rgba(255,255,255,1)";
var K=X.o*100;if(K<100)K=K.toFixed(2);K=K+"%";var j=this.OI.measureText(K).width;this.OI.fillText(K,(50-j)/2,-6);
this.C(new UIEvent("redraw"))};TI.prototype.Og=function(){var N=this.hy,c=N.length,X=this.hy[this.va];
this.Aa();if(c!=1&&N[(this.va+1)%c].M$.TA(X.M$)){var l=X.MU?parseInt(X.MU.split(",").pop()):30;if(l==0)l=16;
this.Jx=setTimeout(this._KQ,l)}this.va=(this.va+1)%c};TI.prototype.FE=function(N,c){var X=Math.floor(N*d.V()),l=Math.floor(c*d.V());
this.g.N=new u(0,0,X,l);this._H.width=X;this._H.height=l;this._H.setAttribute("style","width:"+X/d.V()+"px; height:"+l/d.V()+"px; display:block;");
this.Lj=this.OI.createImageData(X,l);this.Aa()};TI.prototype.xX=function(N){this.$Y=N.target;d.ye(document.body,this.Yi);
d.yW(document.body,this.Jw);this.BP=d.jT(N,this._H);this.BP.x*=d.V();this.BP.y*=d.V();this.ZP=this.BP;
this.dO=this.g.M.clone();if(this.RL&&this.$Y==this._H)this.C(new Q("mousedown"))};TI.prototype.xn=function(N){var c=this.g,X=this.hy[this.va].M$.clone();
X.h*=c.o;X.s*=c.o;var l=d.jT(N,this._H);l.x*=d.V();l.y*=d.V();this.ZP=l;if(this.RL&&this.$Y==this._H)this.C(new Q("mousemove"));
else if(!c.N.PN(X)){var C=l.x-this.BP.x,q=l.y-this.BP.y;c.M.x=this.dO.x+Math.round(C);c.M.y=this.dO.y+Math.round(q);
this.Aa()}};TI.prototype.xe=function(N){d.yq(document.body,this.Yi);d.yd(document.body,this.Jw);if(N.detail>1){this.g.o=1;
this.g.M.Cj(0,0);this.Aa()}if(this.RL&&this.$Y==this._H)this.C(new Q("mouseup"))};TI.prototype.F_=function(){return this.g.cR(this.ZP.x,this.ZP.y)};
function TB(){_A.call(this);this.$=d.S("span","fitem");this.hb=!1;this.RE=new _w("No",!1,"Cancel");this.cq=new _w("Yes",!1,"Confirm");
this.$.appendChild(this.RE.$);this.$.appendChild(this.cq.$);this.RE.i("click",this.FT,this);this.cq.i("click",this.FT,this);
this.O()}TB.prototype=new _A;TB.prototype.O=function(){this.RE.oR(d.jK("cross",null,"autoscale"));this.cq.oR(d.jK("checkmark",null,"autoscale"))};
TB.prototype.FT=function(N){this.hb=N.target==this.cq;this.C(new UIEvent("click"))};TB.prototype.F=function(){return this.hb};
function Ts(){_A.call(this);this.$=d.S("div")}Ts.prototype=new _A;Ts.prototype.FI=function(){return!1};
Ts.prototype.H=function(N){};Ts.prototype.FB=function(N){};Ts.prototype.O$=function(N){this.C(new Q(d.E.U))};
Ts.prototype.O=function(){};Ts.prototype.fu=function(N,c){};Ts.blnc=function(){Ts.call(this);var N=this.$;
this.hb=null;this.cD=new _O([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.cD.i(d.E.U,this.Fs,this);N.appendChild(this.cD.$);
this.Hq=[];for(var c=0;c<3;c++){var X=new _g(["Red","Green","Blue"][c],-100,100);X.i(d.E.U,this.O$,this);
this.Hq.push(X);N.appendChild(X.$)}this.LO=new _Y("Preserve Luminosity");this.LO.i(d.E.U,this.O$,this);
N.appendChild(this.LO.$)};Ts.blnc.prototype=new Ts;Ts.blnc.prototype.O=function(){this.cD.O()};Ts.blnc.prototype.H=function(N){this.hb=JSON.parse(JSON.stringify(N));
this.Fs()};Ts.blnc.prototype.F=function(N){var c=this.hb.Hq[this.cD.F()];for(var X=0;X<3;X++)c[X]=this.Hq[X].F();
this.hb._m=this.LO.F();return JSON.parse(JSON.stringify(this.hb))};Ts.blnc.prototype.Fs=function(N){var c=this.hb.Hq[this.cD.F()];
for(var X=0;X<3;X++)this.Hq[X].H(c[X]);this.LO.H(this.hb._m)};Ts.brit=function(){Ts.call(this);var N=this.$;
this.aX=new _g([12,2],-150,150,"");this.aX.i(d.E.U,this.O$,this);N.appendChild(this.aX.$);this.vv=new _g([12,3],-100,100,"");
this.vv.i(d.E.U,this.O$,this);N.appendChild(this.vv.$);this.LJ=new _Y("Old Way");this.LJ.i(d.E.U,this.O$,this);
N.appendChild(this.LJ.$)};Ts.brit.prototype=new Ts;Ts.brit.prototype.O=function(){this.aX.O();this.vv.O()};
Ts.brit.prototype.H=function(N){this.aX.H(N[0]);this.vv.H(N[1]);this.LJ.H(N[2])};Ts.brit.prototype.F=function(N){return[this.aX.F(),this.vv.F(),this.LJ.F()]};
Ts.curv=function(){Ts.call(this);this.value=null;var N=this.$;this.hg=new _O("...",["RGB","Red","Green","Blue"]);
this.hg.i(d.E.U,this.Aa,this);N.appendChild(this.hg.$);this.nX=new _O(null,["Spline","Sketch"]);this.nX.i(d.E.U,this._$g,this);
N.appendChild(this.nX.$);var c=new _w("Reset");c.i("click",this.FK,this);N.appendChild(c.$);this.yv=new _j;
this.yv.i(d.E.U,this.F$,this);N.appendChild(this.yv.$)};Ts.curv.prototype=new Ts;Ts.curv.prototype.O=function(){this.hg.oR(BT.get([12,4])+": ")};
Ts.curv.prototype.FK=function(N){var c=this.nX.F();this.value=[];if(c==0)for(var X=0;X<4;X++){this.value.push([I.vn.ve(0,0,!0),I.vn.ve(255,255,!0)])}else for(var X=0;
X<4;X++){var l=[];this.value.push(l);for(var C=0;C<256;C++)l.push(C)}this.Aa();this.O$()};Ts.curv.prototype._$g=function(N){var c=this.value[0].length==256?1:0,X=this.nX.F();
if(c==X)return;this.FK()};Ts.curv.prototype.F$=function(){this.value[this.hg.F()]=this.yv.F();this.O$()};
Ts.curv.prototype.Aa=function(){var N=this.value[0].length==256?1:0;this.nX.H(N);this.yv.H(this.value[this.hg.F()])};
Ts.curv.prototype.H=function(N){this.value=N;this.Aa()};Ts.curv.prototype.F=function(N){return this.value};
Ts.expA=function(){Ts.call(this);var N=this.$;this.vL=new _g([12,5],-20,20,null,3);this.vL.i(d.E.U,this.O$,this);
N.appendChild(this.vL.$);this.an=new _g([12,6],-.5,.5,null,3);this.an.i(d.E.U,this.O$,this);N.appendChild(this.an.$);
this.ae=new _g([12,7],.1,9.99,null,3);this.ae.i(d.E.U,this.O$,this);N.appendChild(this.ae.$)};Ts.expA.prototype=new Ts;
Ts.expA.prototype.O=function(){this.vL.O();this.an.O();this.ae.O()};Ts.expA.prototype.H=function(N){this.vL.H(N[0]);
this.an.H(N[1]);this.ae.H(N[2])};Ts.expA.prototype.F=function(N){return[this.vL.F(),this.an.F(),this.ae.F()]};
Ts.grdm=function(){Ts.call(this);var N=this.$;this.BY=new _N(!0);N.appendChild(this.BY.$);this.BY.i(d.E.U,this.O$,this);
this.BY.parent=this;this.vh=new _Y([12,23]);N.appendChild(this.vh.$);this.vh.i(d.E.U,this.O$,this)};
Ts.grdm.prototype=new Ts;Ts.grdm.prototype.fu=function(N,c){this.BY.Oc(N.Wp,N.Wa);if(c==BZ.uY||c==BZ.ui)this.BY.oy(N.BL)};
Ts.grdm.prototype.O=function(){this.vh.O()};Ts.grdm.prototype.H=function(N){this.BY.H(N[0]);this.vh.H(N[1])};
Ts.grdm.prototype.F=function(N){return[this.BY.F(),this.vh.F()]};Ts.selc=function(){Ts.call(this);var N=this.$;
this.Cz=[];this.Zw=null;this.cD=new _O("Colors","Reds,Yellows,Greens,Cyans,Blues,Magentas,Whites,Neutrals,Blacks".split(","));
this.cD.i(d.E.U,this.oS,this);N.appendChild(this.cD.$);for(var c=0;c<4;c++){var X=new _g(["Cyan","Magenta","Yellow","Black"][c],-100,100,"%");
X.i(d.E.U,this.oS,this);this.Cz.push(X);N.appendChild(X.$)}this.vr=new _Y("Absolute");N.appendChild(this.vr.$);
this.vr.i(d.E.U,this.oS,this)};Ts.selc.prototype=new Ts;Ts.selc.prototype.O=function(){this.cD.O();this.vr.O();
for(var N=0;N<4;N++)this.Cz[N].O()};Ts.selc.prototype.H=function(N){this.Zw=JSON.parse(JSON.stringify(N));
this.Fs()};Ts.selc.prototype.F=function(N){return JSON.parse(JSON.stringify(this.Zw))};Ts.selc.prototype.oS=function(N){if(N.target!=this.cD){var c=this.Zw,X=c.ns[this.cD.F()+1];
for(var l=0;l<4;l++)X[l]=this.Cz[l].F();c.nB=this.vr.F()}this.Fs();this.O$()};Ts.selc.prototype.Fs=function(){var N=this.Zw,c=N.ns[this.cD.F()+1];
for(var X=0;X<4;X++)this.Cz[X].H(c[X]);this.vr.H(N.nB)};Ts.blwh=function(){Ts.call(this);var N=this.$;
this.Ll=new _Y([12,11]);this.Ll.i(d.E.U,this.O$,this);N.appendChild(this.Ll.$);this.eq=new _V;this.eq.parent=this;
this.eq.i(d.E.U,this.O$,this);N.appendChild(this.eq.$);this.FX=[];var c="Red Yellow Green Cyan Blue Magenta".split(" ");
for(var X=0;X<6;X++){var l=new _g(c[X]+"s",-200,300);l.i(d.E.U,this.O$,this);this.FX.push(l);N.appendChild(l.$)}};
Ts.blwh.prototype=new Ts;Ts.blwh.prototype.H=function(N){for(var c=0;c<6;c++)this.FX[c].H(N[c]);this.Ll.H(N[6]);
this.eq.H(N[7])};Ts.blwh.prototype.F=function(){var N=[];for(var c=0;c<6;c++)N.push(this.FX[c].F());
N.push(this.Ll.F());N.push(this.eq.F());return N};Ts.hue2=function(){Ts.call(this);this.value=null;var N=this.$;
this.cD=new _O([12,12],"Master Red Yellow Green Cyan Blue Magenta".split(" "));this.cD.i(d.E.U,this.Aa,this);
N.appendChild(this.cD.$);this.PL=new _g([12,8],-180,180);this.PL.i(d.E.U,this.FL,this);N.appendChild(this.PL.$);
this.hA=new _g([12,9],-100,100);this.hA.i(d.E.U,this.FL,this);N.appendChild(this.hA.$);this.B_=new _g([12,10],-100,100);
this.B_.i(d.E.U,this.FL,this);N.appendChild(this.B_.$);this.vS=new _Y([12,11]);this.vS.i(d.E.U,this._UE,this);
N.appendChild(this.vS.$);this.NP=new _b("...",!0);N.appendChild(this.NP.$)};Ts.hue2.prototype=new Ts;
Ts.hue2.prototype.O=function(){this.PL.O();this.hA.O();this.B_.O();this.vS.O();this.cD.O()};Ts.hue2.prototype._UE=function(N){this.value.nE=this.vS.F();
this.Aa();this.O$()};Ts.hue2.prototype.FL=function(N){var c=this.FC();c[0]=this.PL.F();var X=this.hA.F();
c[1]=this.value.nE?Math.max(0,X):X;c[2]=this.B_.F();this.Aa();this.O$()};Ts.hue2.prototype.FC=function(){var N=this.value;
if(N.nE)return N.mZ;var c=this.cD.F();return c==0?N.n_:N.nT[c-1].Hq};Ts.hue2.prototype.Aa=function(){var N=this.value,X="";
this.vS.H(N.nE);if(N.nE)this.cD.oB();else this.cD.oI();var c=this.FC();this.PL.H(c[0]);this.hA.H(c[1]);
this.B_.H(c[2]);if(!N.nE){X+="Apply to hue interval: ";var l=this.cD.F();if(l==0)X+="full";else{var C=N.nT[l-1].nI;
X+=C}}this.NP.H(X)};Ts.hue2.prototype.H=function(N){this.value=JSON.parse(JSON.stringify(N));this.Aa()};
Ts.hue2.prototype.F=function(N){return JSON.parse(JSON.stringify(this.value))};Ts.levl=function(){Ts.call(this);
this.value=null;this.vk=null;this.qi=[new k(0,0),new k(0,0),new k(0,0),new k(0,0),new k(0,0)];this.TD=-1;
this.sd=this.ow.bind(this);this.sg=this.oV.bind(this);var N=this.$;this.hg=new _O("Channel: ",["RGB","Red","Green","Blue"]);
this.hg.i(d.E.U,this.Aa,this);N.appendChild(this.hg.$);var c=new _w("Reset");c.i("click",this._U_,this);
N.appendChild(c.$);var X=d.S("div","");N.appendChild(X);this.zf=d.S("canvas");X.appendChild(this.zf);
this.OI=this.zf.getContext("2d");this.av=new k(256,120);this.zf.setAttribute("style","display:block");
d.jE(this.zf,this.av.x,this.av.y,this.OI);d.yg(this.zf);d.yn(this.zf,this.oi.bind(this));this.jU=new _d(null,null,3);
this.jU.i(d.E.U,this.FR,this);X.appendChild(this.jU.$);this.vi=new _d(null,null,3);this.vi.i(d.E.U,this.FR,this);
X.appendChild(this.vi.$);this.IJ=new _d(null,null,3);this.IJ.i(d.E.U,this.FR,this);X.appendChild(this.IJ.$);
this.vi.$.setAttribute("style","margin: 0 4.9em");var l=d.S("div","");N.appendChild(l);this.wo=d.S("canvas","");
l.appendChild(this.wo);this.hQ=this.wo.getContext("2d");this.vo=new k(this.av.x,40);this.wo.setAttribute("style","display:block");
d.jE(this.wo,this.vo.x,this.vo.y,this.hQ);d.yg(this.wo);d.yn(this.wo,this._Ks.bind(this));this.La=new _d(null,null,3);
this.La.i(d.E.U,this.FR,this);l.appendChild(this.La.$);this.vJ=new _d(null,null,3);this.vJ.i(d.E.U,this.FR,this);
l.appendChild(this.vJ.$);this.vJ.$.setAttribute("style","margin:0 0 0 13em")};Ts.levl.prototype=new Ts;
Ts.levl.prototype.O=function(){this.hg.oR(BT.get([12,4])+": ")};Ts.levl.prototype._U_=function(N){var c=this.vk;
this.H([[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]]);this.FB(c);this.O$()};
Ts.levl.prototype.FR=function(N){var c=this.value[this.hg.F()];c[0]=Math.max(0,Math.min(255,parseInt(this.jU.F())));
c[1]=Math.max(0,Math.min(255,parseInt(this.IJ.F())));c[2]=Math.max(0,Math.min(255,parseInt(this.La.F())));
c[3]=Math.max(0,Math.min(255,parseInt(this.vJ.F())));c[4]=Math.max(10,Math.min(999,parseInt(this.vi.F()*100)));
this.Aa();this.O$()};Ts.levl.prototype.Aa=function(N){var c=this.value[this.hg.F()];this.jU.H(c[0]);
this.vi.H(c[4]/100);this.IJ.H(c[1]);this.La.H(c[2]);this.vJ.H(c[3]);var X=this.av.x,l=this.av.y,C=this.OI;
C.clearRect(0,0,X,l);C.fillStyle="#cccccc";C.fillRect(8,8,X-16,l-16-8);if(this.vk){var q=this.vk[this.hg.F()],J=0;
for(var Z=0;Z<q.length;Z++)J+=q[Z];C.fillStyle="#333333";C.beginPath();C.moveTo(8,l-16);for(var Z=0;
Z<256;Z++){var W=55*q[Z]/J;C.lineTo(8+Z/256*(X-16),Math.max(8,l-16-l*W))}C.lineTo(X-8,l-16);C.closePath();
C.fill()}this.qi[0].Cj(8+c[0]/255*(X-16),l-14);this.qi[1].Cj(8+c[1]/255*(X-16),l-14);var s=Math.log(c[4]/100)/Math.log(9.99);
s=.5-s/2;this.qi[4].Cj(this.qi[0].x+s*(this.qi[1].x-this.qi[0].x),l-14);this.FP(C,this.qi[0],"#000000");
this.FP(C,this.qi[4],"#777777");this.FP(C,this.qi[1],"#ffffff");var X=this.vo.x,l=this.vo.y;C=this.hQ;
C.clearRect(0,0,X,l);var t=C.createLinearGradient(0,0,X-16,0);t.addColorStop(0,"black");t.addColorStop(1,"white");
C.fillStyle=t;C.fillRect(8,8,X-16,16);this.qi[2].Cj(8+c[2]/255*(X-16),l-14);this.qi[3].Cj(8+c[3]/255*(X-16),l-14);
this.FP(C,this.qi[2],"#000000");this.FP(C,this.qi[3],"#ffffff")};Ts.levl.prototype.FP=function(N,c,X){N.fillStyle=X;
N.fillRect(c.x-5,c.y,10,10)};Ts.levl.prototype.oi=function(N){var c=d.jT(N,this.zf);if(k.CO(this.qi[4],c)<10)this.TD=4;
for(var X=0;X<3;X++)if(k.CO(this.qi[X],c)<10)this.TD=X;this.Fr()};Ts.levl.prototype._Ks=function(N){var c=d.jT(N,this.wo);
for(var X=2;X<4;X++)if(k.CO(this.qi[X],c)<10)this.TD=X;this.Fr()};Ts.levl.prototype.Fr=function(N){if(this.TD==-1)return;
d.ye(document.body,this.sd);d.yW(document.body,this.sg)};Ts.levl.prototype.ow=function(N){var c=this.value[this.hg.F()],X=d.jT(N,this.TD==2&&this.TD==3?this.wo:this.zf),l=255*(X.x-8)/(this.av.x-16);
l=Math.max(0,Math.min(255,l));if(this.TD==0)l=Math.min(l,c[1]-2);if(this.TD==1)l=Math.max(l,c[0]+2);
if(this.TD!=4)c[this.TD]=Math.round(l);else{var C=(l-c[0])/(c[1]-c[0]);C=1-2*C;C=Math.pow(9.99,C);c[4]=Math.min(999,Math.max(10,Math.round(C*100)))}this.Aa();
this.O$()};Ts.levl.prototype.oV=function(N){d.yq(document.body,this.sd);d.yd(document.body,this.sg);
this.TD=-1};Ts.levl.prototype.H=function(N){this.value=N;this.vk=null;this.Aa()};Ts.levl.prototype.FB=function(N){this.vk=N;
this.Aa()};Ts.levl.prototype.F=function(N){return JSON.parse(JSON.stringify(this.value))};Ts.phfl=function(){Ts.call(this);
var N=this.$;this.eq=new _V;this.eq.parent=this;this.eq.i(d.E.U,this.O$,this);N.appendChild(this.eq.$);
this.Gy=new _g([12,74],0,100,"%");this.Gy.i(d.E.U,this.O$,this);N.appendChild(this.Gy.$);this.LO=new _Y("Preserve Luminosity");
this.LO.i(d.E.U,this.O$,this);N.appendChild(this.LO.$)};Ts.phfl.prototype=new Ts;Ts.phfl.prototype.O=function(){this.Gy.O()};
Ts.phfl.prototype.H=function(N){this.eq.H(N.mZ);this.Gy.H(N.XK);this.LO.H(N.Xv)};Ts.phfl.prototype.F=function(){return{XK:this.Gy.F(),Xv:this.LO.F(),mZ:this.eq.F()}};
Ts.vibA=function(){Ts.call(this);var N=this.$;this.ho=new _g([12,13],-100,100,null);this.ho.i(d.E.U,this.O$,this);
N.appendChild(this.ho.$);this.hA=new _g([12,9],-100,100,null);this.hA.i(d.E.U,this.O$,this);N.appendChild(this.hA.$)};
Ts.vibA.prototype=new Ts;Ts.vibA.prototype.O=function(){this.ho.O();this.hA.O()};Ts.vibA.prototype.H=function(N){this.ho.H(N[0]);
this.hA.H(N[1])};Ts.vibA.prototype.F=function(N){return[this.ho.F(),this.hA.F()]};Ts.thrs=function(){Ts.call(this);
var N=this.$;this.ho=new _g([4,13],1,255,null);this.ho.i(d.E.U,this.O$,this);N.appendChild(this.ho.$)};
Ts.thrs.prototype=new Ts;Ts.thrs.prototype.O=function(){this.ho.O()};Ts.thrs.prototype.H=function(N){this.ho.H(N)};
Ts.thrs.prototype.F=function(N){return this.ho.F()};Ts.mixr=function(){Ts.call(this);var N=this.$;this.Cz=[];
this.Zw=null;this.cD=new _O([12,4],["Red","Green","Blue"]);this.cD.i(d.E.U,this.oS,this);N.appendChild(this.cD.$);
N.appendChild(d.S("br"));this.X$=new _Y([12,60]);N.appendChild(this.X$.$);this.X$.i(d.E.U,this.oS,this);
for(var c=0;c<4;c++){var X=new _g(["Red","Green","Blue","Total"][c],-200,200,"%");X.i(d.E.U,this.oS,this);
this.Cz.push(X);N.appendChild(X.$)}};Ts.mixr.prototype=new Ts;Ts.mixr.prototype.O=function(){this.cD.O();
this.X$.O();for(var N=0;N<4;N++)this.Cz[N].O()};Ts.mixr.prototype.H=function(N){this.Zw=JSON.parse(JSON.stringify(N));
this.Fs()};Ts.mixr.prototype.F=function(N){return JSON.parse(JSON.stringify(this.Zw))};Ts.mixr.prototype.oS=function(N){if(N.target!=this.cD){var c=this.Zw;
if(N.target==this.X$){c.X$=this.X$.F();if(c.X$)c.q=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else c.q=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var X=(c.X$?0:this.cD.F())*5,l=this.Cz.indexOf(N.target);
c.q[X+(l<3?l:4)]=N.target.F()}}this.Fs();this.O$()};Ts.mixr.prototype.Fs=function(){var N=this.Zw;this.X$.H(N.X$);
var c=(N.X$?0:this.cD.F())*5;for(var X=0;X<4;X++)this.Cz[X].H(N.q[c+(X<3?X:4)])};function TK(){_A.call(this);
this.$=d.S("div");this.zS=[]}TK.prototype=new _A;TK.prototype.FI=function(){return!1};TK.prototype.FE=function(N,c){};
TK.prototype.H=function(N,c,X,l){};TK.prototype.F=function(){};TK.prototype.O$=function(N){this.C(new Q(d.E.U))};
TK.prototype.O=function(){for(var N=0;N<this.zS.length;N++)this.zS[N].O()};TK.prototype.oP=function(){for(var N=0;
N<this.zS.length;N++){this.zS[N].i(d.E.U,this.O$,this);this.$.appendChild(this.zS[N].$)}};TK["\0\0\x02\xB1"]=function(){TK.call(this);
this.zS.push(new _g([12,56],1,200," px"));this.oP()};TK["\0\0\x02\xB1"].prototype=new TK;TK["\0\0\x02\xB1"].prototype.H=function(N){this.zS[0].H(N.Rds.v.val)};
TK["\0\0\x02\xB1"].prototype.F=function(){var N=_E.am("\0\0\x02\xB1");N.Rds.v.val=this.zS[0].F();return N};
TK.GsnB=function(){TK.call(this);this.zS.push(new _g([12,56],1,200," px"));this.oP()};TK.GsnB.prototype=new TK;
TK.GsnB.prototype.H=function(N){this.zS[0].H(N.Rds.v.val)};TK.GsnB.prototype.F=function(){var N=_E.am("GsnB");
N.Rds.v.val=this.zS[0].F();return N};TK["\0\0\x02\xB5"]=function(){TK.call(this);this.zS.push(new _g([12,56],1,200," px"));
this.zS.push(new _g([4,13],1,255," px"));this.oP()};TK["\0\0\x02\xB5"].prototype=new TK;TK["\0\0\x02\xB5"].prototype.H=function(N){this.zS[0].H(N.Rds.v.val);
this.zS[1].H(N.Thsh.v)};TK["\0\0\x02\xB5"].prototype.F=function(){var N=_E.am("\0\0\x02\xB5");N.Rds.v.val=this.zS[0].F();
N.Thsh.v=this.zS[1].F();return N};TK.AdNs=function(){TK.call(this);this.zS.push(new _g([12,57],0,200," %"));
this.zS.push(new _O([12,58],[[12,59,0],[12,59,1]]));this.zS.push(new _Y([12,60]));this.oP()};TK.AdNs.prototype=new TK;
TK.AdNs.prototype.H=function(N){this.zS[0].H(N.Nose.v.val);this.zS[1].H(["Unfr","Gsn"].indexOf(N.Dstr.v.Dstr));
this.zS[2].H(N.Mnch.v)};TK.AdNs.prototype.F=function(){var N=_E.am("AdNs");N.Nose.v.val=this.zS[0].F();
N.Dstr.v.Dstr=["Unfr","Gsn"][this.zS[1].F()];N.Mnch.v=this.zS[2].F();return N};TK.DstS=function(){TK.call(this);
this.zS.push(new _g([12,56],1,200," px"));this.zS.push(new _g([4,13],1,255," px"));this.oP()};TK.DstS.prototype=new TK;
TK.DstS.prototype.H=function(N){this.zS[0].H(N.Rds.v);this.zS[1].H(N.Thsh.v)};TK.DstS.prototype.F=function(){var N=_E.am("DstS");
N.Rds.v=this.zS[0].F();N.Thsh.v=this.zS[1].F();return N};TK["Mdn "]=function(){TK.call(this);this.zS.push(new _g([12,56],1,200," px"));
this.oP()};TK["Mdn "].prototype=new TK;TK["Mdn "].prototype.H=function(N){this.zS[0].H(N.Rds.v.val)};
TK["Mdn "].prototype.F=function(){var N=_E.am("Mdn ");N.Rds.v.val=this.zS[0].F();return N};TK.ClrH=function(){TK.call(this);
this.zS.push(new _g([12,56],4,100," px"));for(var N=1;N<4;N++)this.zS.push(new _g("Angle "+N,0,90," \xB0"));
this.oP()};TK.ClrH.prototype=new TK;TK.ClrH.prototype.H=function(N){this.zS[0].H(N.Rds.v);for(var c=1;
c<4;c++)this.zS[c].H(N["Ang"+c].v)};TK.ClrH.prototype.F=function(){var N=_E.am("ClrH");N.Rds.v=this.zS[0].F();
for(var c=1;c<4;c++)N["Ang"+c].v=this.zS[c].F();return N};TK.ClrH.prototype.O=function(){var N=this.zS;
N[0].O();for(var c=1;c<4;c++)N[c].oR(BT.get([12,15])+" "+c)};TK["Msc "]=function(){TK.call(this);this.zS.push(new _g([12,61],2,200," px"));
this.oP()};TK["Msc "].prototype=new TK;TK["Msc "].prototype.H=function(N){this.zS[0].H(N.ClSz.v.val)};
TK["Msc "].prototype.F=function(){var N=_E.am("Msc ");N.ClSz.v.val=this.zS[0].F();return N};TK.UnsM=function(){TK.call(this);
this.zS.push(new _g([12,57],1,200," %"));this.zS.push(new _g([12,56],0,200," px"));this.zS.push(new _g([4,13],0,255," "));
this.oP()};TK.UnsM.prototype=new TK;TK.UnsM.prototype.H=function(N){this.zS[0].H(N.Amnt.v.val);this.zS[1].H(N.Rds.v.val);
this.zS[2].H(N.Thsh.v)};TK.UnsM.prototype.F=function(){var N=_E.am("UnsM");N.Amnt.v.val=this.zS[0].F();
N.Rds.v.val=this.zS[1].F();N.Thsh.v=this.zS[2].F();return N};TK.HghP=function(){TK.call(this);this.zS.push(new _g([12,56],1,200," px"));
this.oP()};TK.HghP.prototype=new TK;TK.HghP.prototype.H=function(N){this.zS[0].H(N.Rds.v.val)};TK.HghP.prototype.F=function(){var N=_E.am("HghP");
N.Rds.v.val=this.zS[0].F();return N};TK["Mxm "]=function(){TK.call(this);this.zS.push(new _g([12,56],1,200," px"));
this.oP()};TK["Mxm "].prototype=new TK;TK["Mxm "].prototype.H=function(N){this.zS[0].H(N.Rds.v.val)};
TK["Mxm "].prototype.F=function(){var N=_E.am("Mxm ");N.Rds.v.val=this.zS[0].F();return N};TK["Mnm "]=function(){TK.call(this);
this.zS.push(new _g([12,56],1,200," px"));this.oP()};TK["Mnm "].prototype=new TK;TK["Mnm "].prototype.H=function(N){this.zS[0].H(N.Rds.v.val)};
TK["Mnm "].prototype.F=function(){var N=_E.am("Mnm ");N.Rds.v.val=this.zS[0].F();return N};TK.Ofst=function(){TK.call(this);
this.zS.push(new _g([22,4,0],-1024,1024," px"));this.zS.push(new _g([22,4,1],-1024,1024," px"));this.zS.push(new _O([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));
this.oP()};TK.Ofst.prototype=new TK;TK.Ofst.prototype.H=function(N){var c=this.zS;c[0].H(N.Hrzn.v);c[1].H(N.Vrtc.v);
c[2].H(["Bckg","Rpt","Wrp"].indexOf(N.Fl.v.FlMd))};TK.Ofst.prototype.F=function(){var N=_E.am("Ofst");
N.Hrzn.v=this.zS[0].F();N.Vrtc.v=this.zS[1].F();N.Fl.v.FlMd=["Bckg","Rpt","Wrp"][this.zS[2].F()];return N};
TK.LqFy=function(){TK.call(this);this._vC=0;this.a$=null;this.eG=null;this._vP=null;this.K=0;this.NE={He:[[{K:{id:0,name:[24,1,0,1,0],eg:"liq/smudge"}}],[{K:{id:1,name:[24,1,0,1,1],eg:"liq/reconstruct"}}],[{K:{id:2,name:[24,1,0,1,2],eg:"liq/smooth"}}],[{K:{id:3,name:[24,1,0,1,3],eg:"liq/twirl"}}],[{K:{id:4,name:[24,1,0,1,4],eg:"liq/shrink"}}],[{K:{id:5,name:[24,1,0,1,5],eg:"liq/blow"}}]],keys:[]};
this.et=new Id(this.NE,!1);this.et.DD(0);this.et.i(d.E.m,this._Kv,this);this.Lf=_U.lk();this.Cr=null;
this.MX=null;this.Dc=null;this.DV=null;var N=d.S("div","flexrow");this.$.appendChild(N);N.appendChild(this.et.$);
this.view=new TI(!0);this.view.FE(100,100);this.view.i("mousedown",this.xX,this);this.view.i("mousemove",this.xn,this);
this.view.i("mouseup",this.xe,this);this.view.i("zoom",this.xw,this);N.appendChild(this.view.$);var c=d.S("div");
N.appendChild(c);c.setAttribute("style","width:230px; margin-left:1em;");this.MF=[new _g([12,14],0,100,null,!1,!0),new _g([12,74],0,100,null,!1,!1),new _g([12,84],0,100,null,!1,!1)];
var X=this.Lf.Brsh.v;X.Dmtr.v.val=100;for(var l=0;l<this.MF.length;l++){var C=this.MF[l];if(l==0)C.H(X.Dmtr.v.val);
if(l==1)C.H(50);if(l==2)C.H(100);C.i(d.E.U,this._Uj,this);c.appendChild(C.$)}var q=new _w("Reset",!0,null,!0);
q.i("click",this._UN,this);c.appendChild(q.$);this.xw()};TK.LqFy.prototype=new TK;TK.LqFy.prototype.FI=function(){return!0};
TK.LqFy.prototype._Kv=function(N){if(N.data.I==d.L.jH){this.K=N.data.K;this.et.DD(this.K)}};TK.LqFy.prototype._Uj=function(N){var c=N.currentTarget,X=this.MF.indexOf(c),l=this.Lf.Brsh.v;
if(X==0){l.Dmtr.v.val=c.F();this.xw()}};TK.LqFy.prototype.xX=function(N){this.eG=this.view.F_();this._vP=new k(0,0);
this.i(d.E.jR,this.Fx,this)};TK.LqFy.prototype.xn=function(N){var c=this.view.F_(),X=new k(c.x-this.eG.x,c.y-this.eG.y);
if(this.K==0)this.FQ(X);this.eG=c};TK.LqFy.prototype.xe=function(N){this._vC++;this.removeEventListener(d.E.jR,this.Fx,this)};
TK.LqFy.prototype.Fx=function(N){if(this.K!=0)this.FQ(new k(0,0))};TK.LqFy.prototype.FQ=function(N){var c=this.Cr,X=c.ML/this.MX.h,l=this.eG,C=this.Lf.Brsh.v,q=C.Dmtr.v.val,J=Date.now(),Z=c.ML,W=c.MC,s=Math.sqrt(N.x*N.x+N.y*N.y),t=Math.max(1,Math.ceil(s/2)),T=N.x/t,g=N.y/t,R=l.clone(),P=this.K,O=this.MF[1].F()/100,b=this.MF[2].F()/100,z=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1],m=z[P*2],f=z[P*2+1],B=(1-O)*m+O*f,K=q*X/2;
for(var j=0;j<t;j++){var S=[];R.x+=T;R.y+=g;I.KE._RU(c.map,Z,W,P,R.x*X,R.y*X,K,O,b,new k(T*X,g*X),S);
I.KE._RY(Z,W,c.map,S,B*b)}var r=new u(0,0,Z,W),n=new u(l.x*X,l.y*X,0,0);n.PY(q*X*.5,q*X*.5);var o=n.clone();
o.offset(N.x*X,N.y*X);n=n.vz(o);this.a$=new u(n.x/X,n.y/X,n.h/X,n.s/X);this.a$=I.z.KW(this.a$).vm(this.MX);
this.Fs()};TK.LqFy.prototype.xw=function(){var N=_C.lt(this.Lf,null,this.view.Ot().o),c=d.js(N);this.view.Oe(c)};
TK.LqFy.prototype.H=function(N,c,X,l){if(c==null)return;if(!l.TA(X)){var C=X.vz(l),q=I.a(C.n()*4);I.TF(c,X,q,C);
c=q;X=C}this.Dc=c;this.DV=c.slice(0);this.MX=X;this.Cr=BN.ZB(new Uint8Array(N.LqMe.v).buffer);var J=X.h,Z=X.s;
if(this.Cr.ML/J<.22){this.Cr={ML:Math.floor(J/4),MC:Math.floor(Z/4)};this.Cr.map=new Float32Array(this.Cr.ML*this.Cr.MC*2)}this.a$=null;
this.Fs()};TK.LqFy.prototype.F=function(){var N=_E.am("LqFy"),c=new Uint8Array(BN.Zs(this.Cr)),X=[];
for(var l=0;l<c.length;l++)X.push(c[l]);N.LqMe.v=X;return N};TK.LqFy.prototype.FE=function(N,c){this.et.FE(N,c);
this.view.FE(N-230-40,c)};TK.LqFy.prototype.O=function(){this.et.O();for(var N=0;N<this.MF.length;N++)this.MF[N].O()};
TK.LqFy.prototype._UN=function(){this.Cr.map.fill(0);this.a$=null;this.Fs()};TK.LqFy.prototype.Fs=function(){var N=this.MX,c=this.Dc,X=this.DV,l=this.Cr;
I.KE.K_(c,X,N.h,N.s,this.a$,l.map,l.ML,l.MC);this.view.H([{M$:N,data:X.buffer}])};function Tv(N,c){_A.call(this);
this.id=c;this.vD=N;this.hB=null;this.$=d.S("div","window "+c);this.bG=d.S("div","head");this.$.appendChild(this.bG);
this._vu=this._$W.bind(this);this.Sw=this._$T.bind(this);this.JF=this._EE.bind(this);d.yg(this.bG);d.yn(this.bG,this._vu);
this.H_=d.S("span","cross");Tv.prototype.O.call(this);d.yW(this.H_,this.FV.bind(this));this.body=d.S("div","body");
this.$.appendChild(this.body)}Tv.prototype=new _A;Tv.prototype.fi=function(){return!1};Tv.prototype.Fk=function(){return!1};
Tv.prototype.O=function(){if(this.vD==null)return;var N=typeof this.vD=="string"?this.vD:BT.get(this.vD);
this.bG.innerHTML="<span class=\"wname\">"+N+"</span>";this.bG.appendChild(this.H_);var c=PIMG.__cross==null?"filter:invert(1);":"";
this.H_.setAttribute("style","background-image:url("+PIMG.cross+");"+c)};Tv.prototype.fP=function(N,c,X,l,C){};
Tv.prototype.fh=function(N,c,X,l,C){};Tv.prototype.fr=function(N,c,X,l,C){};Tv.prototype.fS=function(N,c,X,l,C){};
Tv.prototype.ff=function(N,c,X,l){};Tv.prototype.fp=function(N){return!1};Tv.prototype.Fu=function(N,c){return!0};
Tv.prototype.Fp=function(N,c,X){};Tv.prototype.fu=function(N,c){};Tv.prototype.FI=function(){return!1};
Tv.prototype.FE=function(){};Tv.prototype.close=function(){this.C(new Q(d.E.jC))};Tv.prototype._$W=function(N){this.hB=d.jT(N,this.$);
d.ye(window,this.Sw);d.yW(window,this.JF)};Tv.prototype._$T=function(N){var c=d.jT(N,document.body);
this.$.style.left=Math.round(c.x-this.hB.x)+"px";this.$.style.top=Math.max(0,Math.round(c.y-this.hB.y))+"px"};
Tv.prototype._EE=function(N){d.yq(window,this.Sw);d.yd(window,this.JF)};Tv.prototype.FV=function(N){this.C(new Q("closebtn"));
this.close()};function T$(){Tv.call(this,[0,13,0],"account");this.mo=d.S("div","form padded scrollable");
this.mo.setAttribute("style","max-width:42em;  max-height:33em;");this.body.appendChild(this.mo);this.sW=[new T$.Fl,new T$.FD];
for(var N=0;N<this.sW.length;N++)this.sW[N].parent=this;this.i("showpage",this._ZP,this)}T$.prototype=new Tv;
T$.prototype._ZP=function(N){d.yF(this.mo);this.mo.scrollTop=0;this.mo.appendChild(this.sW[N.data.MB].$)};
T$.prototype.O=function(){Tv.prototype.O.call(this);for(var N=0;N<this.sW.length;N++)this.sW[N].O()};
T$.prototype.Fp=function(N,c,X){d.yF(this.mo);var l=this.sW[0];this.mo.appendChild(l.$);l.Fp();this.O()};
T$.prototype.fu=function(N,c){this.Fp(null,null,null)};T$.Fl=function(){_A.call(this);this.$=d.S("div");
var N=this.$,c,X,l="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.Pq=d.S("div");N.appendChild(this.Pq);this.Lv=new _w([0,11],!1,null,!0);this.Lv.$.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.Lv.i("click",this.Rb,this);N.appendChild(this.Lv.$);c=d.S("h2","");c.innerHTML="Account types";
N.appendChild(c);X=d.S("table","");X.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">PSD import and export</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Advanced editing tools</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Helping us improve PP</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
N.appendChild(X);var C=[9,20,30,80,100,240,40,80,100,200,200,400];this.eX=[];for(var q=0;q<C.length;
q++)this.eX.push(new _w("Buy: $"+C[q],!1,null,!0));for(var q=0;q<this.eX.length;q++){this.eX[q].$.setAttribute("style",l);
this.eX[q].i("click",this._PY,this)}c=d.S("h2","");c.innerHTML="Go Premium";N.appendChild(c);this.mt=new _w("...",!0);
this.mt.$.setAttribute("style",l);N.appendChild(this.mt.$);X=this.FF(["Single user",this.eX[0],this.eX[1],"Team of 5",this.eX[2],this.eX[3],"Team of 20",this.eX[4],this.eX[5]]);
N.appendChild(X);this.Nz=new _Y("I accept",!0,"");N.appendChild(this.Nz.$);this.mA=new _w([0,13,1],!1,null,!0);
this.mA.i("click",this._BH,this);N.appendChild(this.mA.$);c=d.S("h2","");c.textContent="Team Settings";
N.appendChild(c);this.vb=new _Y("Join a team");N.appendChild(this.vb.$);this.vb.i(d.E.U,this.Fj,this);
this.vb.oH();this.Ls=new _d("Email of a leader",null,14);N.appendChild(this.Ls.$);N.appendChild(d.S("br"));
this.Iq=new _Y("Start a team");N.appendChild(this.Iq.$);this.Iq.i(d.E.U,this.Fj,this);var J=new _b("Emails of other members:");
N.appendChild(J.$);N.appendChild(d.S("br"));this.ne=d.S("textarea");this.ne.setAttribute("rows",3);this.ne.setAttribute("cols",70);
this.ne.setAttribute("style","display:block;tab-size:4;");N.appendChild(this.ne);var Z=new _w("Save Team Settings",!1,null,!0);
N.appendChild(Z.$);Z.i("click",this._TQ,this);var W=new _w("More about Teams",!1,null,!0);N.appendChild(W.$);
W.i("click",this.Fy,this);c=d.S("h2","");c.innerHTML="Distributor Account";N.appendChild(c);this.Uq=new _w("...",!0);
this.Uq.$.setAttribute("style",l);N.appendChild(this.Uq.$);X=this.FF(["1000 views/month",this.eX[6],this.eX[7],"5000 views/month",this.eX[8],this.eX[9],"20000 views/month",this.eX[10],this.eX[11]]);
N.appendChild(X);this.Ut=new _d("Domain name (e.g. domain.com)",null,14);N.appendChild(this.Ut.$);N.appendChild(d.S("br"));
var Z=new _w("Save Domain Settings",!1,null,!0);Z.oH();N.appendChild(Z.$);Z.i("click",this._RN,this);
var W=new _w("More about Distributors",!1,null,!0);N.appendChild(W.$);W.i("click",this.Fy,this)};T$.Fl.prototype=new _A;
T$.Fl.prototype._BH=function(N){var c=new Q("showpage",!0);c.data={MB:1};this.C(c)};T$.Fl.prototype.O=function(){this.Lv.oR(BR.oK()?BT.get([0,11]):BT.get([0,10]));
this.mA.O()};T$.Fl.prototype.Fy=function(){var N=new Q(d.E.m,!0);N.data={I:d.L.jm,link:"https://www.photopea.com/api/accounts#teams"};
this.C(N)};T$.Fl.prototype.Fj=function(N){var c=N.currentTarget==this.vb;this.vb.H(c);this.Iq.H(!c)};
T$.Fl.prototype._TQ=function(N){var c=this.vb.F(),X=this.Ls.F().trim(),l=this.ne.value.trim();if(X.length>60){alert("Too long email address");
return}if(l.length>600){alert("Too many team members");return}l=l.split(",").join(" ").trim();l=l.replace(/\s+/g," ");
if(l=="")l=[];else l=l.split(" ");var C=BR.mY();if(C==null)C={};if(C.acc==null)C.acc={};C.acc.team={jin:c,ldr:X,mmb:l};
BR.Ma(C,this.FN.bind(this));alert("Saved!");this.Fp()};T$.Fl.prototype._RN=function(N){var c=this.Ut.F().trim();
if(c.length==0){alert("Domain is empty.");return}if(!BR.oK()){alert("You have to log in first.");return}if(BR.oh().distrib=="0"){alert("Order a distributor account first.");
return}var X=BR.mY();if(X==null)X={};if(X.acc==null)X.acc={};X.acc.dname=c;BR.Ma(X,this.FN.bind(this));
alert("Saved!");this.Fp()};T$.Fl.prototype.Fp=function(){if(BR.oK()){var N=BR.oh();if(N==null)return;
this.Pq.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+N.name+"</span> "+N.email+" <br/>"}else this.Pq.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var c=BR.oK()&&N.premium*1e3>Date.now();this.mt.$.style.display=c?"block":"none";if(c){var X=parseInt(N.premium)-Date.now()/1e3,l=parseInt(N.ptype),C;
if(l==-1)C="member of a team";else if(l==1)C="Single user";else C="Team of "+l;this.mt.oR("Premium active for "+Math.round(X/(60*60*24))+" more days! ("+C+")")}var q=BR.oK()&&N.distrib*1e3>Date.now();
this.Uq.$.style.display=q?"block":"none";if(q){var X=parseInt(N.distrib)-Date.now()/1e3,l=parseInt(N.ptype);
this.Uq.oR("Distributor active for "+Math.round(X/(60*60*24))+" more days! ("+l+" visitos)")}var J=BR.mY();
if(J&&J.acc&&J.acc.team){var Z=J.acc.team;this.vb.H(Z.jin);this.Iq.H(!Z.jin);this.Ls.H(Z.ldr);this.ne.value=Z.mmb.join(", ")}else{this.vb.H(!0);
this.Iq.H(!1);this.Ls.H("");this.ne.value=""}if(J&&J.acc&&J.acc.dname)this.Ut.H(J.acc.dname);else this.Ut.H("")};
T$.Fl.prototype.FF=function(N){var c=d.S("table","");c.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> </tr>\t\t\t\t</table>\t\t\t";
for(var X=0;X<N.length;X+=3){var l=d.S("tr"),C;c.appendChild(l);C=d.S("td","left");l.appendChild(C);
C.innerHTML="<b>"+N[X]+"</b>";C=d.S("td");l.appendChild(C);C.appendChild(N[X+1].$);C=d.S("td");l.appendChild(C);
C.appendChild(N[X+2].$)}return c};T$.Fl.prototype._PY=function(N){var c=this.eX.indexOf(N.currentTarget);
if(!BR.oK()){alert("You must log in before buying Premium");return}if(this.Nz.F()==!1&&c<6){alert("You must accept Terms of Service");
return}var X=(c&1)==0?30:90,l=[1,5,20,1e3,5e3,2e4][Math.floor(c/2)],C=BR.oK()&&BR.oh().premium*1e3>Date.now();
if(C&&l<1e3){alert("You already have premium.");return}BR.order(X,l,this.FN.bind(this));this.Fz()};T$.Fl.prototype.FN=function(N){if(BR.oK()&&BR.oh().msg)alert(BR.oh().msg);
this.Fp();this.Fz()};T$.Fl.prototype.Rb=function(N){if(BR.oK()){BR._EO();this.Fz();this.Fp(null,null,null)}else BR.Rb(this._Pb.bind(this))};
T$.Fl.prototype._Pb=function(){var N=new Q(d.E.m,!0);N.data={I:d.L._vD};this.C(N)};T$.Fl.prototype.Fz=function(){var N=new Q(d.E.m,!0);
N.data={I:d.L.jM};this.C(N)};T$.FD=function(){_A.call(this);this.$=d.S("div");var N=this.$,c=this._vm=new _w([0,13,2],!1,null,!0);
c.i("click",this._ss,this);N.appendChild(c.$);var X=d.S("div","");X.innerHTML=T$.FD._$n;N.appendChild(X)};
T$.FD.prototype=new _A;T$.FD.prototype._ss=function(N){var c=new Q("showpage",!0);c.data={MB:0};this.C(c)};
T$.FD.prototype.O=function(){this._vm.O()};T$.FD._$n="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function TU(N){Tv.call(this,BP.names[N],"adjust_"+N);this.bx=N;this.Pk=null;this.mo=d.S("div","form");
this.mo.setAttribute("style","width:24em");this.body.appendChild(this.mo);this.yv=new Ts[N];this.yv.i(d.E.U,this.O$,this);
this.mo.appendChild(this.yv.$);this.yv.parent=this;this.cq=new _w("OK",!0,null,!0);this.cq.i("click",this.QK,this);
this.mo.appendChild(this.cq.$);this.i("closebtn",this.FG,this)}TU.prototype=new Tv;TU.prototype.fi=function(){return!0};
TU.prototype.Fu=function(N,c){return N!=null};TU.prototype.O=function(){Tv.prototype.O.call(this);if(this.yv)this.yv.O()};
TU.prototype.O$=function(N){this.Fb({I:"edit",L_:this.yv.F()})};TU.prototype.FG=function(N){this.Fb({I:"cancel"})};
TU.prototype.QK=function(N){this.Pk=this.yv.F();this.Fb({I:"confirm"});this.close()};TU.prototype.Fp=function(N,c,X,l){if(l.T(M.pZ)&&this.Pk)this.yv.H(this.Pk);
else{var C={};BP.ac(this.bx,C);var q=BP.ao(C);this.yv.H(q)}var J=BL.uZ.getData(N),Z=I.TW(J[0].W$);this.yv.FB(Z);
this.O$(null)};TU.prototype.fu=function(N,c){this.yv.fu(N,c)};TU.prototype.Fb=function(N){var c=new Q(d.E.A,!0);
N.bx=this.bx;c.data=N;c.K=H.xf;c.pb=!0;this.C(c)};function TC(){Tv.call(this,[11,0],"camera");this.data=null;
this.mo=d.S("div","form hbar");this.body.appendChild(this.mo);this._vG=new _O(null,[]);this.Bz=new _o([21,0],[[21,2],[21,1]]);
this.mo.appendChild(this.Bz.$);this.ma=new _w([11,0],!1,null,!0);this.ma.i("click",this._KX,this);this.mo.appendChild(this.ma.$);
this.stream=null;this._b=d.S("video","");this._b.setAttribute("autoplay","true");this.body.appendChild(this._b);
this.Nh=new _b("");this.body.appendChild(this.Nh.$);this.Yk=this._CE.bind(this);this.JY=this._Kf.bind(this);
this._vq=this.Ft.bind(this);this.i("closebtn",this._PU,this)}TC.prototype=new Tv;TC.prototype.O=function(){Tv.prototype.O.call(this);
this.Bz.O();this.ma.O();this.Ft()};TC.prototype.VN=function(){var N=this._b.videoWidth,c=this._b.videoHeight,X=d.S("canvas","");
X.width=N;X.height=c;var l=X.getContext("2d");l.drawImage(this._b,0,0,N,c);var C=l.getImageData(0,0,N,c);
return{M$:new u(0,0,N,c),data:C.data.buffer}};TC.prototype._KX=function(N){if(this.Bz.F()==0)this.__z();
else this._Um()};TC.prototype._Um=function(){var N=this.VN(),c={buffer:new Uint8Array(N.data),rect:N.M$},X=new Q(d.E.A,!0);
X.pb=!0;X.K=H.xA;X.data={I:v.wb,tc:c};this.C(X);alert(BT.get([21,4]))};TC.prototype.__z=function(){var N=this.VN(),c=IG.zM("camera",[N]),X=new Q(d.E.m,!0);
X.data={I:d.L.jy,tG:c};this.C(X);alert(BT.get([21,5]))};TC.prototype.Fp=function(N,c,X){var l={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(l).then(this.Yk).catch(this.JY);
else navigator.webkitGetUserMedia(l,this.Yk,this.JY)};TC.prototype._CE=function(N){this.stream=N;if(this._b.srcObject)this._b.srcObject=N;
else this._b.src=window.URL.createObjectURL(N);this._b.addEventListener("loadedmetadata",this._vq,!1)};
TC.prototype.Ft=function(N){var c=this._b.videoWidth,X=this._b.videoHeight;this.Nh.H(BT.get([21,3])+":"+c+" x "+X+" px");
this._b.setAttribute("style","display: block; width: "+Math.round(c/2)+"px; height:"+Math.round(X/2)+"px;")};
TC.prototype._Kf=function(N){console.log("error",N);alert(BT.get([21,6]));this.close()};TC.prototype._PU=function(N){if(this.stream!=null){this.stream.getTracks()[0].stop();
this._b.src="";this.stream=null}};function TZ(){Tv.call(this,[7,8],"crange");this.vq=null;this.Nn=0;
this.PQ=0;this.YA=null;this.mo=d.S("div","form");this.mo.setAttribute("style","width:18em");this.body.appendChild(this.mo);
this.Fi=new _g("Fuzziness",0,200);this.Fi.H(40);this.Fi.i(d.E.U,this.Fs,this);this.mo.appendChild(this.Fi.$);
this.vQ=d.S("canvas");this.mo.appendChild(this.vQ);this.bQ=new _w("OK",!0,null,!0);this.bQ.i("click",this.create,this);
this.body.appendChild(this.bQ.$)}TZ.prototype=new Tv;TZ.prototype.Fu=function(N,c){return N!=null};TZ.prototype.Fk=function(){return!0};
TZ.prototype.fP=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y);this.Nn=Math.max(0,Math.min(N.h-1,Math.floor(q.x)));
this.PQ=Math.max(0,Math.min(N.s-1,Math.floor(q.y)));this.Fs()};TZ.prototype.O=function(){Tv.prototype.O.call(this)};
TZ.prototype.create=function(N){var c=new Q(d.E.A,!0);c.K=H.fj;c.data={I:"setsel",mN:[7,8],G:{rect:new u(0,0,this.vq.h,this.vq.s),channel:this.YA}};
c.pb=!0;this.C(c);this.close()};TZ.prototype.Fp=function(N,c){this.vq=N;this.Nn=0;this.PQ=0;this.Fs()};
TZ.prototype.Fs=function(){var N=this.vq,c=this.Nn,X=this.PQ,l=this.vQ,C=l.getContext("2d"),q=Math.floor(230*d.V()),J=Math.floor(q*(N.s/N.h));
l.width=q;l.height=J;d.j_(l,q,J);var Z=new u(0,0,N.h,N.s),W=N.h*N.s,s=N.VN(),t=this.YA=I.a(W),T=(X*N.h+c)*4,g=1/255,R=s[T]*g,P=s[T+1]*g,O=s[T+2]*g,b=I._d(R,P,O),z=this.Fi.F()/200,m=1/z,f=1/Math.sqrt(3);
for(var B=0;B<W;B++){var K=B<<2,j=s[K]*g,S=s[K+1]*g,r=s[K+2]*g,n=I._d(j,S,r),o=I._X(n.MC,b.MC);if(n.MV==1||b.MV==1)o=0;
var y=Math.abs(n.Mw-b.Mw),D=Math.abs(n.MV-b.MV),x=Math.sqrt((R-j)*(R-j)+(P-S)*(P-S)+(O-r)*(O-r))*f,A=x<=z?1-x*m:0;
t[B]=255*A*(1-o)}var e=I.a(t.length*4);I.Tr(e,4294967295);for(var B=0;B<3;B++)I.TP(t,e,B);var U=H.r.kP([e,Z],new Bh(q/N.h,0,0,J/N.s,0,0)),L=C.createImageData(U.rect.h,U.rect.s);
I.Tx(U.buffer,L.data);C.putImageData(L,0,0)};function TR(){Tv.call(this,[11,1],"colorpicker");this.JD=null;
this.yL=null;this.Ue=null;this.HE=!1;this.ZK=!1;var N=d.S("div","flexrow"),q,J;this.body.appendChild(N);
this.PR=new k;this.Oi=new k;this.sA=this.Hs.bind(this);this.su=this._sU.bind(this);this.zf=d.S("canvas","");
this.OI=this.zf.getContext("2d");this.zf.width=this.zf.height=256;d.yg(this.zf);d.yn(this.zf,this._sL.bind(this));
N.appendChild(this.zf);this.Hi=this.HU.bind(this);this.Df=this._El.bind(this);this.wo=d.S("canvas","");
this.hQ=this.wo.getContext("2d");this.wo.width=20;this.wo.height=256;d.yg(this.wo);d.yn(this.wo,this._Ep.bind(this));
N.appendChild(this.wo);var c=d.S("div","form");c.setAttribute("style","width:16em; margin-left:1em;");
N.appendChild(c);this.So=d.S("div","full");c.appendChild(this.So);this.JM=d.S("div","full");c.appendChild(this.JM);
var X=d.S("div","flexrow");c.appendChild(X);var l=d.S("div"),C=d.S("div");X.appendChild(l);X.appendChild(C);
q=["R","G","B"];J=l;this.Ru=[];for(var Z=0;Z<3;Z++){var W=new _n(q[Z],0,255,null,0,!1,!0);this.Ru.push(W);
W.i(d.E.U,this._$K,this);J.appendChild(W.$)}q=["H","S","B"];J=C;this.RA=[];for(var Z=0;Z<3;Z++){var s=0,t=360,T="\xB0";
if(Z!=0){t=100;T="%"}var W=new _n(q[Z],s,t,T,0,!1,!0);this.RA.push(W);W.i(d.E.U,this._vi,this);J.appendChild(W.$)}this.nD=new _d("Hex");
this.nD.i(d.E.U,this.HT,this);c.appendChild(this.nD.$);this.$u=new _c(10);this.$u.i(d.E.U,this.HT,this);
c.appendChild(this.$u.$);this.cq=new _w("OK",!0,null,!0);this.cq.i("click",this.HC,this);c.appendChild(this.cq.$);
this.i("closebtn",this.FG,this);this.UN=!1}TR.prototype=new Tv;TR.prototype.Fk=function(){return!0};
TR.prototype.fP=function(N,c,X,l,C){this.UN=!0;this.Fg(N,C)};TR.prototype.fh=function(N,c,X,l,C){if(!this.UN)return;
this.Fg(N,C)};TR.prototype.fr=function(N,c,X,l,C){this.UN=!1};TR.prototype.Fg=function(N,c){var X=H.QP.Qr(N,c,1),l=X&255,C=X>>8&255,q=X>>16&255;
this.yL={W:q/255,d:C/255,w:l/255};this.update()};TR.prototype._$K=function(N){var c=this.Ru,X=this.cW(parseInt(c[0].F())),l=this.cW(parseInt(c[1].F())),C=this.cW(parseInt(c[2].F()));
this.yL={W:X/255,d:l/255,w:C/255};this.update()};TR.prototype._vi=function(N){var c=this.RA,X=this.HP(parseInt(c[0].F())/360),l=this.HP(parseInt(c[1].F())/100),C=this.HP(parseInt(c[2].F())/100);
this.yL=I.TT(X,l,C);this.Oi.y=(1-X)*255;this.update()};TR.prototype.HT=function(N){var c=N.currentTarget==this.$u?this.$u.F():I._Ee(this.nD.F());
this.yL={W:(c>>16&255)/255,d:(c>>8&255)/255,w:(c&255)/255};this.update()};TR.prototype._sL=function(N){d.ye(window,this.sA);
d.yW(window,this.su);this.Hs(N)};TR.prototype._sU=function(N){d.yq(window,this.sA);d.yd(window,this.su)};
TR.prototype.Hs=function(N){var c=d.jT(N,this.zf);this.PR.Cj(this.cW(c.x),this.cW(c.y));this.yL=this.HK();
this.update()};TR.prototype.HK=function(){var N=I.TT((255-this.cW(this.Oi.y))/255,this.HP(this.PR.x/255),this.HP(1-this.PR.y/255));
return{W:N.W,d:N.d,w:N.w}};TR.prototype._Ep=function(N){d.ye(window,this.Hi);d.yW(window,this.Df);this.HU(N)};
TR.prototype._El=function(N){d.yq(window,this.Hi);d.yd(window,this.Df)};TR.prototype.HU=function(N){var c=d.jT(N,this.wo);
this.Oi.Cj(this.cW(c.x),this.cW(c.y));this.yL=this.HK();this.update()};TR.prototype.HL=function(N){var c=N.W,X=N.d,l=N.w;
return Math.round(c*255)<<16|Math.round(X*255)<<8|Math.round(l*255)};TR.prototype.HC=function(N){var c=this.HL(this.yL);
this.$u.H(c);this.Ue(c);this.close()};TR.prototype.FG=function(N){if(this.HE)this.Ue(this.HL(this.JD))};
TR.prototype.Fp=function(N,c){this.UN=!1;this.Ue=c._Ib;this.HE=!1;this.ZK=c._IX;var X=c.eq;this.yL={W:(X>>16&255)/255,d:(X>>8&255)/255,w:(X>>0&255)/255};
this.JD=JSON.parse(JSON.stringify(this.yL));this.JM.setAttribute("style","height:3em;background-color:#"+I._z(X)+";");
this.update()};TR.prototype.update=function(){var N=this.yL,c=this.HL(N),X=this.Ru;X[0].H(Math.round(N.W*255));
X[1].H(Math.round(N.d*255));X[2].H(Math.round(N.w*255));this.nD.H(I._z(c));this.So.setAttribute("style","height:3em;background-color:#"+I._z(c)+";");
var l=I.T_(N.W,N.d,N.w);if(l.L_==0)l.Mw=this.PR.x/255;if(l.Mw==0||l.L_==0)l.MC=(255-this.cW(this.Oi.y))/255;
X=this.RA;X[0].H(Math.round(l.MC*360));X[1].H(Math.round(l.Mw*100));X[2].H(Math.round(l.L_*100));if(l.L_!=0)this.PR.x=l.Mw*255;
this.PR.y=(1-l.L_)*255;this.Oi.y=(1-l.MC)*255;var C=this.OI.getImageData(0,0,256,256);this.__Y(C.data,256,256,l.MC);
this.OI.putImageData(C,0,0);this.OI.strokeStyle="#000000";this.OI.beginPath();this.OI.arc(this.PR.x+1,this.PR.y+1,5,0,2*Math.PI);
this.OI.stroke();this.OI.strokeStyle="#ffffff";this.OI.beginPath();this.OI.arc(this.PR.x,this.PR.y,5,0,2*Math.PI);
this.OI.stroke();var C=this.hQ.getImageData(0,0,20,256);this._TR(C.data,20,256);this.hQ.putImageData(C,0,0);
this.hQ.strokeStyle="#ffffff";this.hQ.beginPath();this.hQ.moveTo(0,this.Oi.y);this.hQ.lineTo(20,this.Oi.y);
this.hQ.lineWidth=2;this.hQ.stroke();if(this.ZK){this.Ue(this.HL(this.yL));this.HE=!0}};TR.prototype.__Y=function(N,c,X,l){for(var C=0;
C<X;C++)for(var q=0;q<c;q++){var J=I.TT(l,q/c,(X-C-1)/X),Z=C*c+q<<2;N[Z+0]=~~(J.W*255);N[Z+1]=~~(J.d*255);
N[Z+2]=~~(J.w*255);N[Z+3]=255}};TR.prototype._TR=function(N,c,X){for(var l=0;l<X;l++){var C=I.TT(1-l/X,1,1);
for(var q=0;q<c;q++){var J=4*(l*c+q);N[J+0]=C.W*255;N[J+1]=C.d*255;N[J+2]=C.w*255;N[J+3]=255}}};TR.prototype.cW=function(N){return Math.max(0,Math.min(255,N))};
TR.prototype.HP=function(N){return Math.max(0,Math.min(1,N))};function TP(){Tv.call(this,[11,2],"contoureditor");
this.JG=null;this.Bj=null;this.response=null;this.Tu=d.S("div","cell");this.body.appendChild(this.Tu);
this.Kv=d.S("div","cell padded");this.body.appendChild(this.Kv);var N=d.S("div","bordered padded vmargin");
this.Tu.appendChild(N);this.yv=new _j;this.yv.i(d.E.U,this.F$,this);N.appendChild(this.yv.$);this.cq=new _w("OK",!0,null,!0);
this.cq.i("click",this.close,this);this.Kv.appendChild(this.cq.$);this.coords=d.S("div","");this.coords.setAttribute("style","width:250px");
this.Tu.appendChild(this.coords);this.hV=new _d("X (in)","%",4);this.hw=new _d("Y (out)","%",4);this.$c=new _Y([19,3,0]);
this.hV.i(d.E.U,this.Hr,this);this.hw.i(d.E.U,this.Hr,this);this.$c.i(d.E.U,this.Hr,this);this.coords.appendChild(this.hV.$);
this.coords.appendChild(this.$c.$);this.coords.appendChild(this.hw.$);this.i("closebtn",this.QY,this)}TP.prototype=new Tv;
TP.prototype.O=function(){Tv.prototype.O.call(this);this.$c.O()};TP.prototype.F$=function(N){this.Bj.Crv.v=this.yv.F();
this.response(this.Bj);this.Hh()};TP.prototype.QY=function(N){this.response(this.JG)};TP.prototype.Fp=function(N,c){this.JG=JSON.parse(JSON.stringify(c.N));
this.Bj=c.N;this.response=c.response;this.yv.H(this.Bj.Crv.v);this.Hh()};TP.prototype.Hh=function(){var N=this.yv.Os();
this.coords.setAttribute("class",N==-1?"disabled":"");if(N==-1)return;var c=this.Bj.Crv.v[N].v;this.hV.H(Math.round(c.Hrzn.v*(100/255)));
this.hw.H(Math.round(c.Vrtc.v*(100/255)));this.$c.H(c.Cnty.v)};TP.prototype.Hr=function(N){var c=this.yv.Os(),X=this.Bj.Crv.v[c];
X.v.Hrzn.v=parseFloat(this.hV.F())*(255/100);X.v.Vrtc.v=parseFloat(this.hw.F())*(255/100);X.v.Cnty.v=this.$c.F();
this.Bj.Crv.v.sort(function(l,C){return l.v.Hrzn.v-C.v.Hrzn.v});this.yv.H(this.Bj.Crv.v,this.Bj.Crv.v.indexOf(X));
this.Hh();this.response(this.Bj)};function Th(){Tv.call(this,[11,3],"csize");this.Uc=0;this.mo=d.S("div","form");
this.mo.setAttribute("style","width:22em");this.body.appendChild(this.mo);this.nY=new _M(!0,!0);this.nY._Ll(!1);
this.mo.appendChild(this.nY.$);this.UV=new _o("Align with",["Document","Offset"]);this.UV.i(d.E.U,this._Tk,this);
this.mo.appendChild(this.UV.$);this.$y=new _a("Anchor");this.mo.appendChild(this.$y.$);this.$y.H(4);
this.Uw=new _X(!1);this.Uw._s_(new k(0,0));this.bQ=new _w("OK",!0,null,!0);this.bQ.i("click",this.create,this);
this.body.appendChild(this.bQ.$)}Th.prototype=new Tv;Th.prototype.Fu=function(N,c){return N!=null};Th.prototype._Tk=function(){var N=[this.$y.$,this.Uw.$];
this.mo.removeChild(N[this.Uc]);this.Uc=this.UV.F();this.mo.appendChild(N[this.Uc])};Th.prototype.O=function(){Tv.prototype.O.call(this);
this.nY.O();this.UV.O();this.$y.O();this.Uw.O()};Th.prototype.create=function(N){var c=this.nY.F(),X=c.x,l=c.y,C=new Q(d.E.A,!0);
C.K=H.fz;C.data={I:"canvsize",th:X,tr:l,tS:this.nY.ON()};if(this.Uc==0)C.data.tQ=this.$y.F();else C.data.M=this.Uw._UB();
C.pb=!0;this.C(C);this.close()};Th.prototype.Fp=function(N,c){this.nY.H(new k(N.h,N.s),N.Xm)};function Tr(){Tv.call(this,[11,4],"duplinto");
this.R=null;this.Bb=null;this.BD=null;this.mo=d.S("div","form");this.mo.setAttribute("style","width:18em");
this.body.appendChild(this.mo);this.ti=new _O([12,43],["abc","def"]);this.ti.i(d.E.U,this.Hf,this);this.mo.appendChild(this.ti.$);
this.eN=new _d([12,48]);this.mo.appendChild(this.eN.$);this.cq=new _w("OK",!0,null,!0);this.cq.i("click",this.HC,this);
this.mo.appendChild(this.cq.$)}Tr.prototype=new Tv;Tr.prototype.O=function(){Tv.prototype.O.call(this);
this.ti.O();this.eN.O()};Tr.prototype.Hf=function(N){var c=this.ti.F();if(c==this.BD.length)this.eN.oI();
else this.eN.oB()};Tr.prototype.Fp=function(N,c,X){this.R=N.cv();this.Bb=N;this.BD=X;this.eN.H(this.R[this.R.length-1].getName());
var l=[];for(var C=0;C<X.length;C++)l.push(X[C].name);l.push([11,7]);this.ti.OK(l);this.ti.H(X.indexOf(N));
this.Hf(null)};Tr.prototype.HC=function(N){var c=this.ti.F();if(c==this.BD.length){var X=new _s(this.eN.F()+".psd");
X.h=this.Bb.h;X.s=this.Bb.s;X.buffer=I.a(X.h*X.s*4);var l=X.c_();l.ii("Background");X.cL([l]);var C=new Q(d.E.m,!0);
C.data={I:d.L.jy,tG:X};this.C(C)}var C=new Q(d.E.A,!0);C.data={I:v.wz,R:this.R,gg:this.Bb,Fw:this.BD[c]};
C.K=H.xA;C.pb=!0;this.C(C);this.close()};function TS(){Tv.call(this,"Export Assets","eassets");this.qy=null;
this.dF=null;var N=d.S("div","form");N.setAttribute("style","width:37em");this.body.appendChild(N);var c=d.S("span");
c.innerHTML="A layer is <b>exportable</b>, when its name starts with <b>\"-e-\"</b>.<br/>";N.appendChild(c);
this.ah=d.S("span");N.appendChild(this.ah);N.appendChild(d.S("br"));this.Up=new _z("Foramts",["PNG","JPG","SVG"]);
this.Up.H([!0,!1,!1]);N.appendChild(this.Up.$);this.Uk=new _z("Sizes",["1x","2x","3x","4x"]);this.Uk.H([!0,!1,!1,!1]);
N.appendChild(this.Uk.$);this.bQ=new _w("Export Assets (ZIP)",!0,null,!0);this.bQ.i("click",this.HQ,this);
N.appendChild(this.bQ.$);this.i("closebtn",this.Hx,this)}TS.prototype=new Tv;TS.prototype.Hx=function(N){this.dF=null};
TS.prototype.O=function(){Tv.prototype.O.call(this);this.Up.O();this.Uk.O()};TS.prototype.Fp=function(N,c,X){var l=[];
for(var C=0;C<N.R.length;C++){var q=N.R[C].getName();if(q.startsWith("-e"))l.push(q)}var J="- - - "+l.length+" exportable layers";
this.ah.textContent=J;this.dF=N};TS.prototype.fu=function(N,c){this.qy=N};TS.prototype.HQ=function(N){var c=this.dF,X=this.Up.F(),l=[];
for(var C=0;C<X.length;C++)if(X[C])l.push(["PNG","JPG","SVG"][C]);var q=this.Uk.F(),J={};for(var C=0;
C<c.R.length;C++){var Z=c.R[C],W=Z.getName();if(!W.startsWith("-e"))continue;var s=Z.iw();Z.io(!0);for(var t=0;
t<q.length;t++){if(!q[t])continue;var T=t+1,g=H.QG.Qb(c,l,T,this.qy,C);for(var R=0;R<l.length;R++){var P=l[R],O=W.slice(3)+(T==1?"":"-"+T+"x")+"."+P.toLowerCase();
J[O]=new Uint8Array(g[R])}}Z.io(s)}var b=UZIP.encode(J),z=new Q(d.E.m,!0);z.data={I:d.L.jJ,data:b,name:"assets.zip"};
this.C(z)};function Tf(N){Tv.call(this,TK[N]?_E.names[N]:BP.names[N],"filter_"+N);this.bx=N;this.nq=null;
this.yv=TK[N]?new TK[N]:new Ts[N];this.yv.i(d.E.U,this.O$,this);this.yv.parent=this;if(!this.FI())this.body.setAttribute("style","width:20.7em");
this.body.appendChild(this.yv.$);this.cq=new _w("OK",!0,null,!0);this.cq.i("click",this.QK,this);this.body.appendChild(this.cq.$);
this.i("closebtn",this.FG,this)}Tf.prototype=new Tv;Tf.prototype.fi=function(){return!0};Tf.prototype.FI=function(){return this.yv!=null&&this.yv.FI()};
Tf.prototype.O=function(){Tv.prototype.O.call(this);if(this.yv)this.yv.O()};Tf.prototype.fu=function(N,c){if(TK[this.bx]==null)this.yv.fu(N,c)};
Tf.prototype.O$=function(N){var c=this.yv.F();if(TK[this.bx]==null){var X=_E.am(this.bx);c=BP.al(this.bx,c,X)}this.Fb({I:"edit",L_:c})};
Tf.prototype.Fp=function(N,c){this.nq=c.nq;var X,l,C=new u(0,0,N.h,N.s),q=N.R[N.Q[0]];X=q.buffer;l=q.rect;
if(Ts[this.bx]){var J={};BP.ac(this.bx,J);this.yv.H(BP.ao(J))}else if(TK[this.bx])this.yv.H(_E.am(this.bx),X,l,C);
if(c.nq){var q=N.R[this.nq.e];if(q.iF()){var Z=q.iM(N);X=Z.buffer;l=Z.rect;var W=q.add.SoLd.filterFX.v.filterFXList.v;
if(W[this.nq.index]){var s=W[this.nq.index].v.Fltr.v;if(TK[this.bx])this.yv.H(s,X,l,C);else this.yv.H(BP.aj(this.bx,s))}}}if(!this.FI())this.O$()};
Tf.prototype.FG=function(N){this.Fb({I:"cancel"})};Tf.prototype.QK=function(N){if(this.FI())this.O$();
this.Fb({I:"confirm"});this.close()};Tf.prototype.Fb=function(N){var c=new Q(d.E.A,!0);N.filter=this.bx;
N.nq=this.nq;c.data=N;c.K=H.xu;c.pb=!0;this.C(c)};Tf.prototype.FE=function(N,c){c=c-100;N=N-70;this.yv.FE(N,c)};
function Tx(){Tv.call(this,[11,5],"gradienteditor");this.nF=null;this.df=null;this.response=null;d.yH(this.body,"form");
this.eY=null;this.en=null;this.Bm=-1;this.Ow=-1;this.sd=this.ow.bind(this);this.sg=this.oV.bind(this);
this.zf=d.S("canvas","");this.OI=this.zf.getContext("2d");this.zf.setAttribute("style","display:block");
this.aC=null;d.yg(this.zf);d.yn(this.zf,this.oi.bind(this));this.iy=new _n("Smoothness:",0,100,"%");
this.iy.i(d.E.U,this.Hp,this);this.iy.parent=this;this.body.appendChild(this.iy.$);this.body.appendChild(d.S("br"));
this.Rp=new _b([12,0]);this.body.appendChild(this.Rp.$);this.BM=d.S("div","bordered padded noalign");
this.body.appendChild(this.BM);this.WQ=new _n([12,0],0,100,"%");this.WQ.parent=this;this.WQ.i(d.E.U,this.Hp,this);
this.BM.appendChild(this.WQ.$);this._P=new _n([12,40],0,100,"%");this._P.parent=this;this._P.i(d.E.U,this.Hp,this);
this.BM.appendChild(this._P.$);this.Zl=new _w([5,4],!1,null,!0);this.Zl.i("click",this.HA,this);this.BM.appendChild(this.Zl.$);
this.body.appendChild(this.zf);this.body.appendChild(d.S("br"));this.Sz=new _b([13,0]);this.body.appendChild(this.Sz.$);
this.nz=d.S("div","bordered padded noalign");this.body.appendChild(this.nz);this.ga=new _O([12,44],[[12,45],[12,46],[12,47]]);
this.ga.i(d.E.U,this.Hp,this);this.nz.appendChild(this.ga.$);this.$L=new _V(!0);this.$L.parent=this;
this.$L.i(d.E.U,this.Hp,this);this.nz.appendChild(this.$L.$);this.OF=new _n([12,40],0,100,"%");this.OF.parent=this;
this.OF.i(d.E.U,this.Hp,this);this.nz.appendChild(this.OF.$);this.FM=new _w([5,4],!1,null,!0);this.FM.i("click",this.Hk,this);
this.nz.appendChild(this.FM.$);this.cq=new _w("OK",!0,null,!0);this.cq.i("click",this.HC,this);this.body.appendChild(this.cq.$)}Tx.prototype=new Tv;
Tx.prototype.O=function(){Tv.prototype.O.call(this);this.Rp.O();this.Sz.O();this.Zl.O();this.FM.O();
this.WQ.O();this._P.O();this.ga.O();this.OF.O()};Tx.prototype.fu=function(N,c){this.df=N};Tx.prototype.Fp=function(N,c){this.nF=JSON.parse(JSON.stringify(c.c));
this.eY=this.en=null;this.Aa();this.Hu();this.response=c.response};Tx.prototype.HC=function(N){var c=this.nF;
this.response(c);this.close()};Tx.prototype.fp=function(N){return N==M.pV};Tx.prototype.ff=function(N,c,X,l){if(l.T(M.pV)){if(this.en)this.HA();
if(this.eY)this.Hk()}};Tx.prototype.HA=function(N){var c=this.nF.Trns.v;if(this.en==null||c.length==2)return;
c.splice(c.indexOf(this.en),1);this.en=null;this.Aa();this.Hu()};Tx.prototype.Hk=function(N){var c=this.nF.Clrs.v;
if(this.eY==null||c.length==2)return;c.splice(c.indexOf(this.eY),1);this.eY=null;this.Aa();this.Hu()};
Tx.prototype.Aa=function(){var N=this.zf,c=this.OI,X=d.V();N.width=Math.floor(410*X);N.height=Math.floor(90*X);
d.j_(N,N.width,N.height);this.aC=new u(0,0,Math.floor(380*X),Math.floor(32*X));this.aC.x=Math.floor((this.zf.width-this.aC.h)/2);
this.aC.y=Math.floor((this.zf.height-this.aC.s)/2);var l=this.aC,C=l.h,q=l.s,J=l.x,Z=l.y,W=new u(0,0,C,q),s=c.getImageData(0,0,C,q),t=new Uint8Array(s.data.buffer);
I.TK(t,C,q,8,0,0);var T=I.a(C*q*4);I.c.sp(this.nF,T,W,[1/C,0,0,1/q],C/2,q/2,!1,0,this.df.Wp,this.df.Wa);
I.B.Ih("norm",T,l,t,l,l,1);c.clearRect(0,0,N.width,N.height);c.putImageData(s,J,Z);var g=this.nF.Trns.v,R=this.nF.Clrs.v,P=I.c.sa(R,this.df.Wp,this.df.Wa),O=Math.round(6*d.V()),b=Math.round(14*d.V()),z=this.en?this.en.v:null,m=this.eY?this.eY.v:null;
for(var f=0;f<g.length;f++){var B=g[f].v,K=Math.round(255-255*B.Opct.v.val/100);if((B==z||g[f-1]&&g[f-1].v==z||f==this.Ow)&&f!=0){c.fillStyle="#000000";
c.fillRect(J-3+C*(g[f-1].v.Lctn.v+(B.Lctn.v-g[f-1].v.Lctn.v)*B.Mdpn.v/100)/4096,Z-6-2,6,6)}if(B==z){c.fillStyle="#ffffff";
c.fillRect(J-O+C*(B.Lctn.v/4096)-2,Z-2-b-2,2*O+4,b+4)}c.fillStyle="rgb("+K+","+K+","+K+")";c.fillRect(J-O+C*(B.Lctn.v/4096),Z-2-b,2*O,b)}for(var f=0;
f<R.length;f++){var j=R[f].v,S=P[f];if((j==m||R[f-1]&&R[f-1].v==m||f==this.Bm)&&f!=0){c.fillStyle="#000000";
c.fillRect(J-3+C*(R[f-1].v.Lctn.v+(j.Lctn.v-R[f-1].v.Lctn.v)*j.Mdpn.v/100)/4096,Z+q+2,6,6)}if(j==m){c.fillStyle="#ffffff";
c.fillRect(J-O+C*(j.Lctn.v/4096)-2,Z+q+2-2,2*O+4,b+4)}c.fillStyle="rgb("+Math.round(S.W)+", "+Math.round(S.d)+","+Math.round(S.w)+")";
c.fillRect(J-O+C*(j.Lctn.v/4096),Z+q+2,2*O,b)}};Tx.prototype.Hu=function(){this.iy.H(Math.round(100*this.nF.Intr.v/4096));
var N=this.nF.Trns.v,c=this.nF.Clrs.v;if(this.en==null)this.BM.setAttribute("style","opacity:0.4; pointer-events:none");
else{this.BM.setAttribute("style","");var X=this.en.v;this._P.H(Math.round(100*X.Lctn.v/4096));this.WQ.H(X.Opct.v.val)}if(this.eY==null)this.nz.setAttribute("style","opacity:0.4; pointer-events:none");
else{this.nz.setAttribute("style","");var l=this.eY.v;this.OF.H(Math.round(100*l.Lctn.v/4096));var C=l.Type.v.Clry;
this.ga.H(["FrgC","BckC","UsrS"].indexOf(C));if(C=="FrgC")this.$L.oG(this.df.Wp);if(C=="BckC")this.$L.oG(this.df.Wa);
if(C=="UsrS")this.$L.H(l.Clr.v)}};Tx.prototype.Hp=function(){var N=Math.round(4096*this.iy.F()/100);
this.nF.Intr.v=N;var c=this.nF.Trns.v,X=this.nF.Clrs.v;if(this.en!=null){this.BM.setAttribute("style","");
var l=this.en.v;l.Lctn.v=Math.round(4096*(this._P.F()/100));l.Opct.v.val=this.WQ.F()}if(this.eY!=null){this.nz.setAttribute("style","");
var C=this.eY.v;C.Lctn.v=Math.round(4096*(this.OF.F()/100));var q=this.ga.F();C.Type.v.Clry=["FrgC","BckC","UsrS"][q];
if(q==2)C.Clr={t:"Objc",v:this.$L.F()};else if(C.Clr)delete C.Clr}this.Aa()};Tx.prototype.oi=function(N){var c=d.jT(N,this.zf),X=(c.x*d.V()-this.aC.x)/this.aC.h,l=(c.y*d.V()-this.aC.y)/this.aC.s,C=this.nF.Trns.v,q=this.nF.Clrs.v,J=null,Z=null,W=-1,s=-1;
if(l<1)for(var t=0;t<C.length;t++){var T=C[t].v;if(Math.abs(T.Lctn.v/4096-X)<.02)J=C[t];if(t>0)if(Math.abs((C[t-1].v.Lctn.v+(T.Lctn.v-C[t-1].v.Lctn.v)*T.Mdpn.v/100)/4096-X)<.01)W=t}if(l>0)for(var t=0;
t<q.length;t++){var g=q[t].v;if(Math.abs(g.Lctn.v/4096-X)<.02)Z=q[t];if(t>0)if(Math.abs((q[t-1].v.Lctn.v+(g.Lctn.v-q[t-1].v.Lctn.v)*g.Mdpn.v/100)/4096-X)<.01)s=t}if(Z==null&&J==null&&W==-1&&s==-1){if(l<0){var T={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
T.v.Lctn.v=Math.round(X*4096);C.push(T);C.sort(this.Ha);J=T}if(l>1){var q=this.nF.Clrs.v,R=I.c.sa(q,this.df.Wp,this.df.Wa),P=I.c.sc(this.nF,R,X),g={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:I.c.sw({W:P&255,d:P>>8&255,w:P>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
g.v.Lctn.v=Math.round(X*4096);q.push(g);q.sort(this.Ha);Z=g}}if(Z!=null||J!=null||W>-1||s>-1){this.en=J;
this.eY=Z;this.Ow=W;this.Bm=s;this.Hu();this.Aa();d.ye(document.body,this.sd);d.yW(document.body,this.sg)}};
Tx.prototype.ow=function(N){var c=d.jT(N,this.zf),X=d.V()*(c.x-this.aC.x)/this.aC.h,l=d.V()*(c.y-this.aC.y)/this.aC.s;
X=Math.max(0,Math.min(1,X));var C=this.nF.Trns.v,q=this.nF.Clrs.v;if(this.en!=null){var J=this.en.v;
J.Lctn.v=Math.round(4096*X);var Z=C.indexOf(this.en);if(Z!=-1&&l<-1&&C.length>2)C.splice(Z,1);if(Z==-1&&l>-1)C.push(this.en);
C.sort(this.Ha)}if(this.eY!=null){var W=this.eY.v;W.Lctn.v=Math.round(4096*X);var s=q.indexOf(this.eY);
if(s!=-1&&l>1.5&&q.length>2)q.splice(s,1);if(s==-1&&l<1.5)q.push(this.eY);q.sort(this.Ha)}if(this.Ow>-1){var J=C[this.Ow].v;
J.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(X*4096-C[this.Ow-1].v.Lctn.v)/(J.Lctn.v-C[this.Ow-1].v.Lctn.v))))}if(this.Bm>-1){var W=q[this.Bm].v;
W.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(X*4096-q[this.Bm-1].v.Lctn.v)/(W.Lctn.v-q[this.Bm-1].v.Lctn.v))))}if(this.en!=null||this.eY!=null||this.Ow>-1||this.Bm>-1){this.Hu();
this.Aa()}};Tx.prototype.oV=function(N){d.yq(document.body,this.sd);d.yd(document.body,this.sg);if(N.detail==2&&this.eY!=-1)this.$L.om()};
Tx.prototype.Ha=function(N,c){return N.v.Lctn.v-c.v.Lctn.v};function TQ(){Tv.call(this,[11,10],"isize");
this.mo=d.S("div","form");this.mo.setAttribute("style","width:20em");this.body.appendChild(this.mo);
this.nY=new _M(!0,!0);this.mo.appendChild(this.nY.$);this.nX=new _O("Interpolate",["Nearest","Bilinear"]);
this.nX.H(1);this.nX.i(d.E.U,this.zR,this);this.mo.appendChild(this.nX.$);this.bQ=new _w("OK",!0,null,!0);
this.bQ.i("click",this.create,this);this.body.appendChild(this.bQ.$)}TQ.prototype=new Tv;TQ.prototype.Fu=function(N,c){return N!=null};
TQ.prototype.O=function(){Tv.prototype.O.call(this);this.nX.O();this.nY.O()};TQ.prototype.create=function(N){var c=this.nY.F(),X=c.x,l=c.y,C=new Q(d.E.A,!0);
C.K=H.fz;C.data={I:"imgsize",th:X,tr:l,tS:this.nY.ON(),tf:this.nX.F()};C.pb=!0;this.C(C);this.close()};
TQ.prototype.Fp=function(N,c){this.nY.H(new k(N.h,N.s),N.Xm)};function TA(N,c,X){_A.call(this);this.$=d.S("div","");
this.ad=N;this.oF=null;this.WP=c==null?!1:c;this.Fa=null;this.Kc=X;this.Zh=[];this.OV=[];this.Fv=[];
this.Z=[];this.FU=0;this.oF=this.HJ(TA.Z[N]);this.oP()}TA.prototype=new _A;TA.prototype._$U=function(){for(var N=0;
N<this.Z.length;N++){d.yN(this.Z[N],"selected");if(this.Fv[N]instanceof _Y)this.Fv[N].H(!1)}};TA.prototype._Cj=function(N){var c=this._Uq.bind(this);
for(var X=0;X<this.Fv.length;X++){var l=d.S("div","listitem");this.Z.push(l);if(X>0)l.textContent="\u2003";
l.appendChild(this.Fv[X].$);if(F._RH.indexOf(this.ad)!=-1){var C=new _w("+");C.oH();C.$.style.float="right";
l.appendChild(C.$)}l.addEventListener("click",c,!1);N.appendChild(l)}};TA.prototype._Uq=function(N){var c=N.target.tagName.toLowerCase();
if(c=="input"){return}if(c=="button"){var X=new Q(d.E.A,!0);X.data={I:"st_dupsingle",e:this.parent.data.e,KO:this.Kc};
X.K=H.xk;X.pb=!0;this.C(X);this.C(new Q("redrawall",!0));return}N.preventDefault();N.stopPropagation();
this.Hc();this.FU=this.Z.indexOf(N.currentTarget);this.C(new Q("showme"))};TA.prototype.Hc=function(){if(this.oF.enab&&this.oF.enab.F()==!1)this.Fb({yi:"enab",q:!0})};
TA.prototype.Hl=function(){var N=this.Z[this.FU];if(N)d.yH(N,"selected");return this.OV[this.FU]};TA.prototype.HJ=function(N){var c={};
for(var X=0;X<N.length;X++){var l=N[X],C=null;if(l=="----")C={$:d.S("hr","")};if(l=="blOptions")C=new _b([14,10]);
if(l=="brst")C=new MultiCheck([12,72],["R","G","B"]);if(l=="knko")C=new _O("Knockout",[[13,1,0],"Shallow","Deep"]);
if(l=="enab")C=new _Y(F.names[F.order.indexOf(this.ad)]);if(l=="lrMd"||l=="Md")C=new _O([12,19],__.ag);
if(l=="Opct")C=new _m([12,0],0,100,"%");if(l=="iOpa")C=new _m([12,26],0,100,"%");if(l=="ShdN")C=new _m([12,68],0,100,"%");
if(l=="lagl"||l=="Angl")C=new _p([12,15]);if(l=="uglg")C=new _Y([12,27]);if(l=="Dstn")C=new _m([12,28],0,200,"px");
if(l=="Ckmt")C=new _m([12,29],0,100,"%");if(l=="blur")C=new _m([12,14],0,200,"px");if(l=="TrnS"||l=="MpgS")C=new _l([12,21]);
if(l=="Nose")C=new _m([12,30],0,100,"%");if(l=="layerConceals")C=new _Y([12,31]);if(l=="AntA"||l=="antialiasGloss")C=new _Y("Anti-alias");
if(l=="GlwT")C=new _O([12,32],F.cl.names);if(l=="glwS")C=new _O([12,70],F.cl._TH);if(l=="Inpr")C=new _m([12,12],1,100,"%");
if(l=="bvlS")C=new _O([12,22],F.cj.style);if(l=="bvlT")C=new _O([12,32],F.cj._s$);if(l=="bvlD")C=new _O(null,F.cj.dir);
if(l=="srgR")C=new _m([12,34],0,1e3,"%");if(l=="Sftn")C=new _m([12,35],0,20,"px");if(l=="Lald")C=c.lagl;
if(l=="hglM"||l=="sdwM")C=new _O([12,36],__.ag);if(l=="hglC"||l=="sdwC")C=new _V;if(l=="hglO"||l=="sdwO")C=new _m([12,0],0,100,"%");
if(l=="Invr"||l=="InvT")C=new _Y([4,11]);if(l=="Sz")C=new _m([12,14],1,200,"px");if(l=="Styl")C=new _O([12,40],F.stroke.names);
if(l=="PntT")C=new _O([12,66],F.stroke._sC);if(l=="Clr")C=new _V(!0);if(l=="Grad")C=new _N(!0,[12,37]);
if(l=="Rvrs")C=new _Y([12,23]);if(l=="Type")C=new _O([12,22],F.c.names.slice(0,this.ad=="FrFX"?6:5));
if(l=="Ptrn")C=new _y([12,62]);if(l=="Scl")C=new _m([12,38],10,100,"%",0,!0);if(l=="Algn")C=new _Y([12,39]);
if(l=="Ofst")C=new _X(!0);if(l=="phase")C=new _X(!1);if(l=="useShape")C=new _Y([12,21]);if(l=="useTexture")C=new _Y([12,67]);
if(l=="textureDepth")C=new _m("Depth",-300,300,"%");if(C!=null)c[l]=C}return c};TA.prototype.Hy=function(N){var c=this.OV[this.FU];
for(var X=0;X<N.length;X++){var l=this.oF[N[X]];if(l&&c.contains(l.$))c.removeChild(l.$)}};TA.prototype.Hj=function(N){var c=this.OV[this.FU];
for(var X=0;X<N.length;X++){var l=this.oF[N[X]];if(l&&!c.contains(l.$))c.appendChild(l.$)}};TA.prototype.fu=function(N,c){if(this.oF==null)return;
var X=c==BZ.up;if(this.oF.Grad){this.oF.Grad.Oc(N.Wp,N.Wa);if(X||c==BZ.uY||c==BZ.ui)this.oF.Grad.oy(N.BL)}if(this.oF.Ptrn){if(X||c==BZ.uJ)this.oF.Ptrn.oy(N.LP)}if(this.oF.TrnS){if(X||c==BZ.uc)this.oF.TrnS.oy(N.FZ)}if(this.oF.MpgS){if(X||c==BZ.uc)this.oF.MpgS.oy(N.FZ)}};
TA.prototype.O=function(){for(var N=0;N<this.Zh.length;N++)this.Zh[N].O();for(var c in this.oF)if(this.oF[c]instanceof _A)this.oF[c].O()};
TA.prototype.oP=function(){for(var N in this.oF){var c=this.oF[N];c.parent=this;if(c instanceof _A)c.i(d.E.U,this.Ho,this);
if(this.OV.length==0||N=="useShape"||N=="useTexture"){var X=new _b(c.OJ()),l=d.S("div","bordered padded");
if(this.WP==!1){l.appendChild(X.$);l.appendChild(d.S("hr",""))}this.Zh.push(X);this.OV.push(l);this.Fv.push(c)}else this.OV[this.OV.length-1].appendChild(c.$)}};
TA.prototype.update=function(N,c){if(this.oF==null)return;if(this.WP)this.Fa=JSON.parse(JSON.stringify(c));
for(var X in c){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(X)!=-1)this.oF[X].H(c[X].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(X)!=-1){this.oF[X].H(c[X].v,N)}if(["Md","hglM","sdwM"].indexOf(X)!=-1)this.oF[X].H(__.ad.indexOf(c[X].v.BlnM));
if(X=="lrMd"){var l=(c.iv?["Pass Through"]:[]).concat(__.ag);this.oF[X].OK(l);this.oF[X].H(c[X].v)}if(X=="lagl"){var C=c.uglg&&c.uglg.v?N.Vn():c.lagl.v.val;
this.oF[X].H(C)}if(X=="Lald"){var C=c.uglg&&c.uglg.v?N.VW():c.Lald.v.val;this.oF[X].H(null,C)}if(X=="Type")this.oF[X].H(F.c.types.indexOf(c.Type.v.GrdT));
if(X=="Styl")this.oF[X].H(F.stroke.types.indexOf(c.Styl.v.FStl));if(X=="PntT"){var q=F.stroke.cV.indexOf(c.PntT.v.FrFl);
this.oF[X].H(q);if(!this.WP){this.Hy(F.cQ.concat(F.cA.concat(F.ck)));this.Hj([F.cQ,F.cA,F.ck][q])}}if(X=="GlwT")this.oF[X].H(F.cl.types.indexOf(c.GlwT.v.BETE));
if(X=="glwS")this.oF[X].H(F.cl.cJ.indexOf(c.GlwT.v.IGSr));if(X=="bvlS")this.oF[X].H(F.cj.types.indexOf(c.bvlS.v.BESl));
if(X=="bvlT")this.oF[X].H(F.cj.co.indexOf(c.bvlT.v.bvlT));if(X=="bvlD")this.oF[X].H(["In","Out"].indexOf(c.bvlD.v.BESs))}};
TA.prototype.Ho=function(N){for(var c in this.oF){if(this.oF[c]!=N.target)continue;var X=null,l=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(c)!=-1)X={type:"#Prc",val:N.target.F()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(c)!=-1)X={type:"#Pxl",val:N.target.F()};if(["Angl","lagl"].indexOf(c)!=-1)X={type:"#Ang",val:N.target.F().Nl};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(c)!=-1)X=N.target.F();
if(["Md","hglM","sdwM"].indexOf(c)!=-1)X={BlnM:__.ad[N.target.F()]};if(c=="uglg"){X=N.target.F();l=!0}if(c=="PntT"){X={FrFl:F.stroke.cV[N.target.F()]};
l=!0}if(c=="Lald")X={type:"#Ang",val:N.target.F().alt};if(c=="Type")X={GrdT:F.c.types[N.target.F()]};
if(c=="Styl")X={FStl:F.stroke.types[N.target.F()]};if(c=="GlwT")X={BETE:F.cl.types[N.target.F()]};if(c=="glwS")X={IGSr:F.cl.cJ[N.target.F()]};
if(c=="bvlS")X={BESl:F.cj.types[N.target.F()]};if(c=="bvlT")X={bvlT:F.cj.co[N.target.F()]};if(c=="bvlD")X={BESs:["In","Out"][N.target.F()]};
this.Fb({yi:c,q:X});if(l){if(this.WP)this.update(null,this.Fa);else{var C=this.parent.tG.R[this.parent.data.e].add.lmfx[F.cf[this.Kc[0]]].v[this.Kc[1]].v;
this.update(this.parent.tG,C)}}}};TA.prototype.Fb=function(N){if(this.WP){this.Fa[N.yi].v=N.q;this.C(new Q(d.E.U))}else{N.I="changeprop";
N.e=this.parent.data.e;N.MB=this.Kc;var c=new Q(d.E.A,!0);c.data=N;c.K=H.xk;c.pb=!0;this.C(c)}};TA.prototype.F=function(){return JSON.parse(JSON.stringify(this.Fa))};
TA.Z={bops:["blOptions","lrMd","Opct","iOpa"],DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose".split(" "),OrGl:"enab Md Clr Grad Opct Nose GlwT Ckmt blur TrnS AntA Inpr ShdN".split(" "),IrGl:"enab Md Clr Grad Opct Nose GlwT glwS Ckmt blur TrnS AntA Inpr ShdN".split(" "),ebbl:"enab bvlS bvlT bvlD srgR blur Sftn ---- lagl Lald uglg TrnS antialiasGloss hglM hglC hglO sdwM sdwC sdwO useShape MpgS AntA Inpr useTexture Ptrn Scl textureDepth InvT Algn phase".split(" "),SoFi:["enab","Md","Opct"].concat(F.cQ),GrFl:["enab","Md","Opct"].concat(F.cA),patternFill:["enab","Md","Opct"].concat(F.ck),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS AntA Invr".split(" "),FrFX:"enab Sz Styl Md Opct PntT".split(" ").concat(F.cQ.concat(F.cA.concat(F.ck)))};
function Tk(){Tv.call(this,[11,6],"layerstyle");this._UT=-1;this.data={};this.tG=null;this.qy=null;this.Mv=[];
this.Oz=[];d.yH(this.body,"flexrow");this.Tu=d.S("div","bordered");this.Tu.setAttribute("style","min-width:12em;");
this.body.appendChild(this.Tu);this.qM=d.S("div","");this.qM.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.qM);this.Kv=d.S("div","");this.Kv.setAttribute("style","width: 2em; padding-left: 1em;");
this.body.appendChild(this.Kv);this.cq=new _w("OK",!1,null,!0);this.cq.i("click",this.QK,this);this.Kv.appendChild(this.cq.$);
this.i("closebtn",this.FG,this);this.i("redrawall",this.HH,this)}Tk.prototype=new Tv;Tk.prototype.fi=function(){return!0};
Tk.prototype.HF=function(N){this.data.index=N.currentTarget.Kc;this.HN(N.currentTarget.Kc)};Tk.prototype.HH=function(N){this.Fp(this.tG,this.data)};
Tk.prototype.HN=function(N,c){d.yF(this.qM);for(var X=0;X<this.Mv.length;X++)this.Mv[X]._$U();var l=N==0?this.Mv[0]:this.Oz[N[0]][N[1]];
this.qM.appendChild(l.Hl());if(c)l.Hc();var C=this.tG;if(C){var q=C.R[this.data.e];this.Mv[0].update(C,BL.kW.kt(C,q));
var J=q.add.lmfx;if(J==null)return;for(var X=0;X<F.order.length;X++){var Z=J[F.cf[X]].v;for(var W=0;
W<Z.length;W++)this.Oz[X][W].update(C,Z[W].v)}}if(c)l.Hc()};Tk.prototype.O=function(){Tv.prototype.O.call(this);
for(var N=0;N<this.Mv.length;N++)this.Mv[N].O()};Tk.prototype.Fp=function(N,c){var X=c.e==null;this.data.e=c.e;
this.data.index=c.index;c=this.data;this.tG=N;if(X)c.e=N.Q[0];d.yF(this.Tu);var l=N.R[c.e].add.lmfx;
this.Mv=[new TA("bops",!1,0)];this.Oz=[];for(var C=0;C<F.order.length;C++){this.Oz.push([]);var q=l==null?[]:l[F.cf[C]].v;
for(var J=0;J<q.length;J++){var Z=new TA(F.order[C],!1,[C,J]);this.Mv.push(Z);this.Oz[C].push(Z)}if(q.length==0){var Z=new TA(F.order[C],!1,[C,0]);
this.Mv.push(Z);this.Oz[C].push(Z)}}this.O();this.fu(this.qy,BZ.up);for(var C=0;C<this.Mv.length;C++){this.Mv[C].parent=this;
this.Mv[C]._Cj(this.Tu);this.Mv[C].i("showme",this.HF,this)}if(c.index==null)this.HN(0);else this.HN(c.index,X)};
Tk.prototype.fu=function(N,c){this.qy=N;for(var X=0;X<this.Mv.length;X++)this.Mv[X].fu(N,c)};Tk.prototype.FG=function(N){this.Fb({I:"cancel"})};
Tk.prototype.QK=function(N){this.Fb({I:"confirm"});this.close()};Tk.prototype.Fb=function(N){N.e=this.data.e;
var c=new Q(d.E.A,!0);c.data=N;c.K=H.xk;c.pb=!0;this.C(c)};Tk.HY=function(){var N=[{name:[14,10],mc:!0}];
for(var c=0;c<F.names.length;c++)N.push({name:F.names[c]});return N};Tk.Hz=function(){var N=[{J:d.E.m,j:{I:d.L.jl,mO:"layerstyle"}}];
for(var c=0;c<F.names.length;c++)N.push({J:d.E.m,j:{I:d.L.jl,mO:"layerstyle",index:[c,0]}});return N};
Tk.HD=function(N){var c=[];if(N)c.push({name:[6,48,0,0],mF:!0},{name:[6,48,0,1],mF:!0},{name:[6,48,0,2],mF:!0,mc:!0});
for(var X in BP.ready)c.push({name:BP.names[X],mc:BP.aw.indexOf(X)!=-1,mF:Ts[X]!=null});return c};Tk.Hm=function(N){var c=[];
if(N)for(var X=0;X<3;X++)c.push({J:d.E.A,K:H.xA,j:{I:v.Vv,yi:X,mm:0}});for(var l in BP.ready)c.push({J:d.E.A,K:H.xA,j:{I:v.wG,bx:l}});
return c};function Tu(){Tv.call(this,"Script","script");var N=d.S("div","form");this.body.appendChild(N);
var c=new _w("JS Reference",!1,null,!0);c.i("click",this.HM,this);N.appendChild(c.$);N.appendChild(new _b("Demos:").$);
this.JX=[];var X=Tu.HX;for(var l=0;l<X.length;l++){var C=new _w(X[l].pv,!1,null,!0);this.JX.push(C);
N.appendChild(C.$);C.i("click",this._ZC,this)}this.ne=d.S("textarea");this.ne.setAttribute("rows",16);
this.ne.setAttribute("cols",70);this.ne.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
N.appendChild(this.ne);this.Jn=new _w("Run",!0,null,!0);this.Jn.i("click",this.HG,this);N.appendChild(this.Jn.$)}Tu.prototype=new Tv;
Tu.prototype.Fp=function(N,c,X){this.ne.value=Tu.HX[0].Hn};Tu.prototype.HM=function(N){var c=new Q(d.E.m,!0);
c.data={I:d.L.jm,link:"http://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2015.pdf"};
this.C(c)};Tu.prototype.HG=function(N){var c=new Q(d.E.m,!0);c.data={I:d.L.jX,Je:this.ne.value};this.C(c)};
Tu.prototype._ZC=function(N){var c=this.JX.indexOf(N.currentTarget);this.ne.value=Tu.HX[c].Hn};Tu.HX=[{pv:"Hello",Hn:"\nalert(\"Hello Photopea!\");\n"},{pv:"Process Layers",Hn:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{pv:"Clone Layers",Hn:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function Tp(){Tv.call(this,[11,7],"newproject");this.data=null;var N=d.S("div","flexrow");this.body.appendChild(N);
var c=d.S("div","form");c.setAttribute("style","width:18em");N.appendChild(c);this.eN=new _d([12,48]);
c.appendChild(this.eN.$);this.nY=new _M(!0);this.nY.H(new k(1280,720),72);c.appendChild(this.nY.$);this.hv=new _O([12,46],[[13,1,8],[13,1,9]]);
c.appendChild(this.hv.$);c.appendChild(d.S("hr"));this.bQ=new _w([12,49],!0,null,!0);this.bQ.i("click",this.create,this);
c.appendChild(this.bQ.$);var X=d.S("div","form");X.setAttribute("style","margin-left:1em; width:33.3em");
N.appendChild(X);var l=Tp.Ht,C=[];for(var q=0;q<l.length;q++)C.push(l[q].name);this.Nd=new _o(null,C);
this.Nd.i(d.E.U,this.HW,this);X.appendChild(this.Nd.$);this.UA=new _D(!0);this.UA.i(d.E.U,this._vh,this);
X.appendChild(this.UA.$);this.HW()}Tp.prototype=new Tv;Tp.prototype._vh=function(N){var c=Tp.Ht[this.Nd.F()].Hq[this.UA.F()],X=c[4];
if(X==0)X=72;var l=c[1],C=c[2],q=["px","%","mm","in"].indexOf(c[3]),J=[1,1,25.4/X,1/X][q];l/=J;C/=J;
this.nY.H(new k(Math.round(l),Math.round(C)),X);this.nY._$X(q)};Tp.prototype.HW=function(N){var c=Tp.Ht[this.Nd.F()].Hq,X=[],l=[],C=Math.round(82*d.V()),q=Math.round(100*d.V()),J=0;
for(var Z=0;Z<c.length;Z++)J=Math.max(J,c[Z][1],c[Z][2]);for(var Z=0;Z<c.length;Z++){var W=c[Z],s=W[1]+" x "+W[2]+" "+W[3];
if(W[3]=="in")s=(W[1]*25.4).toFixed(0)+" x "+(W[2]*25.4).toFixed(0)+" mm";if(W[3]=="mm")s=(W[1]/25.4).toFixed(1)+" x "+(W[2]/25.4).toFixed(1)+" in";
if(W[4])s=s+" @ "+W[4]+" ppi";l.push(s);X.push(Tp.$$(W,C,q,J))}this.UA.Oy(X,l,C,q)};Tp.$$=function(N,c,X,l){var C=d.S("canvas",""),q=C.getContext("2d");
C.width=c;C.height=X;var J=Math.round(c/8),Z=Math.floor(11*d.V()),W=N[1],s=N[2];q.fillStyle="#000000";
q.font=Math.round(Z*.9)+"px \"Open Sans\", Sans-Serif";var t=W+" x "+s+" "+N[3],T=q.measureText(t);q.fillText(t,Math.round((c-T.width)/2),X-Math.round(J/2));
if(N[0]!=null){q.font="bold "+Z+"px \"Open Sans\", Sans-Serif";var t=N[0],T=q.measureText(t);q.fillText(t,Math.round((c-T.width)/2),X-Math.round(J/2)-Math.round(Z*1.3))}X-=Math.round(2.5*Z);
var g=Math.min((c-J)/W,(X-J)/s);g*=.5+.5*(Math.max(W,s)/l);var R=(c-W*g)/2,P=(X-s*g)/2;q.strokeRect(Math.round(R)+.5,Math.round(P)+.5,Math.round(W*g),Math.round(s*g));
return C.toDataURL()};Tp.prototype.O=function(){Tv.prototype.O.call(this);this.nY.O();this.eN.O();this.hv.O();
this.bQ.O()};Tp.prototype.create=function(N){var c=this.nY.F(),X=c.x,l=c.y,C=new _s(this.eN.F()+".psd");
C.h=X;C.s=l;C.Xm=this.nY.ON();var q=C.c_();q.ii("Background");C.cL([q]);if(this.hv.F()==0){q.rect=new u(0,0,X,l);
q.buffer=I.a(X*l*4);I.Tr(q.buffer,4294967295)}C.buffer=I.a(X*l*4);this.close();var J=new Q(d.E.m,!0);
J.data={I:d.L.jy,tG:C};this.C(J);var Z=this.data.DS;if(this.data.DS)Bk._R(function(){var W=new XMLHttpRequest,s="https://www.googleapis.com/drive/v3/files?"+Bk._h();
W.open("POST",s,!0);W.setRequestHeader("Content-Type","application/json");W.addEventListener("load",function(N){var t=JSON.parse(N.target.response);
C.TS={file:t,mr:"psd"};alert(C.name+" created in Google Drive")});W.send(JSON.stringify({name:C.name,_UZ:[Z]}))})};
Tp.prototype.Fp=function(N,c){this.eN.H("New Project");if(N!=null&&N.G!=null){var X=new u(0,0,N.h,N.s).vm(N.G.rect);
this.nY.H(new k(X.h,X.s))}this.data=c;this.eN.OX()};Tp.Ht=[{name:"Print",Hq:[["A2",420,594,"mm",300],["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["A6",105,148,"mm",300],["B2",500,707,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["B6",125,176,"mm",300]]},{name:"Photo",Hq:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300],[null,30,45,"in",300]]},{name:"Screen",Hq:[["QVGA",320,240,"px",0],["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1440,900,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["4K",4096,2160,"px",0]]},{name:"Mobile",Hq:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:"Ads",Hq:[[null,200,200,"px",0],[null,250,250,"px",0],[null,300,250,"px",0],[null,336,280,"px",0],[null,320,50,"px",0],[null,320,100,"px",0],[null,468,60,"px",0],[null,728,90,"px",0],[null,970,90,"px",0],[null,970,250,"px",0],[null,240,400,"px",0],[null,120,600,"px",0],[null,160,600,"px",0],[null,300,600,"px",0],[null,300,1050,"px",0]]}];
function Ta(N,c,X){Tv.call(this,c,"sel_"+N);this.I=N;this.mo=d.S("div","form");this.body.appendChild(this.mo);
this.eN=new _d(c,X);this.mo.appendChild(this.eN.$);this.eN.H(1);this.cq=new _w("OK",!0,null,!0);this.cq.i("click",this.HC,this);
this.mo.appendChild(this.cq.$)}Ta.prototype=new Tv;Ta.prototype.Fu=function(N,c){if(N==null)return;if(N.G==null)alert("No selection!");
return N.G!=null};Ta.prototype.HC=function(N){var c=new Q(d.E.A,!0);c.data={I:this.I,q:parseInt(this.eN.F())};
c.K=H.fj;c.pb=!0;this.C(c);this.close()};Ta.prototype.O=function(){Tv.prototype.O.call(this);if(this.eN)this.eN.O()};
Ta.prototype.Fp=function(N,c){};function Ti(){Tv.call(this,[1,5],"open_from_url");this.ax=null;var N=d.S("div","form");
this.body.appendChild(N);this.NX=new _d("URL",null,22);N.appendChild(this.NX.$);N.appendChild(d.S("br"));
this.Bz=new _o([21,0],[[21,2],[21,1]]);N.appendChild(this.Bz.$);this.bQ=new _w("OK",!0,null,!0);this.bQ.i("click",this._Zr,this);
N.appendChild(this.bQ.$)}Ti.prototype=new Tv;Ti.prototype.O=function(){Tv.prototype.O.call(this);this.Bz.O()};
Ti.prototype.Fp=function(N,c,X){this.NX.OX();this.ax=null;if(N&&X.indexOf(N)!=-1)this.ax=X.indexOf(N)};
Ti.prototype._Zr=function(N){var c=new Q(d.E.m,!0),X=this.NX.F();c.data={I:d.L.jx,mz:{url:X,Ye:!0,ax:this.Bz.F()==1?this.ax:null}};
this.C(c);this.close()};function Tw(){Tv.call(this,[12,79],"preferences");var N=d.S("div","form");this.body.appendChild(N);
this.Z=[new _Y([8,2]),new _Y([8,4]),new _m("Grid gap",1,100,"px")];for(var c=0;c<this.Z.length;c++){var X=this.Z[c];
N.appendChild(X.$);N.appendChild(d.S("br"));X.i(d.E.U,this.HQ,this)}this.bQ=new _w("Apply",!0,null,!0);
this.bQ.i("click",this.HQ,this)}Tw.prototype=new Tv;Tw.prototype.O=function(){Tv.prototype.O.call(this);
for(var N=0;N<this.Z.length;N++)this.Z[N].O()};Tw.prototype.Fp=function(N,c,X){};Tw.prototype.fu=function(N,c){this.Z[0].H(N.dE.Xb);
this.Z[1].H(N.dE.dZ);this.Z[2].H(N.dE.dC)};Tw.prototype.HQ=function(N){var _T=this.Z,c=new Q(d.E.m,!0);
c.data={I:d.L.jD,mz:BZ.um,gY:{Xb:_T[0].F(),dZ:_T[1].F(),dC:_T[2].F()}};this.C(c)};function TV(){Tv.call(this,[11,8],"saveforweb");
this.i("closebtn",function(){this.aT.Od()},this);this.RS={JPG:[{eb:new _g([12,52],0,100,"%"),rE:50}],WEBP:[{eb:new _g([12,52],0,100,"%"),rE:50}],GIF:[{eb:new _g([12,52],0,100,"%"),rE:100},{eb:new _Y("reverse frames"),rE:!1}],PNG:[{eb:new _g([12,52],0,100,"%"),rE:100},{eb:new _Y("don't use palettes"),rE:!1}],PDF:[{eb:new _Y("rasterize all"),rE:!1},{eb:new _Y("rasterize text"),rE:!1}],SVG:[{eb:new _Y("add raster graphics"),rE:!1},{eb:new _Y("add hidden layers"),rE:!1},{eb:new _Y("include fonts"),rE:!1},{eb:new _Y("rasterize text"),rE:!1},{eb:new _Y("add layer names"),rE:!0},{eb:new _Y("pretty-print"),rE:!0}]};
for(var N in this.RS){var c=this.RS[N];for(var X=0;X<c.length;X++)c[X].eb.H(c[X].rE)}this.tG=null;this.Ob=null;
d.yH(this.body,"flexrow");var l=d.S("div"),C=d.S("div");this.body.appendChild(l);this.body.appendChild(C);
this.nz=d.S("div","imgcont");l.appendChild(this.nz);this.aT=new TI;this.aT.FE(512,512);this.nN=d.S("span");
l.appendChild(this.nN);this.mo=d.S("div","form cell padded");this.mo.setAttribute("style","width:18em");
C.appendChild(this.mo);this.$Q=new _O([12,50],BC._k());this.mo.appendChild(this.$Q.$);this.$Q.i(d.E.U,this.oe,this);
this.nY=new _M(!1,!0);this.nY.i(d.E.U,this.oe,this);this.mo.appendChild(this.nY.$);this.gv=d.S("div","");
this.mo.appendChild(this.gv);for(var q in this.RS)for(var X=0;X<this.RS[q].length;X++)this.RS[q][X].eb.i(d.E.U,this.oe,this);
this.mp=new _w([1,2],!0,null,!0);this.mp.i("click",this.save,this);this.mo.appendChild(this.mp.$);this.bW=-1}TV.prototype=new Tv;
TV.prototype.Fu=function(N,c){return N!=null};TV.prototype.O=function(){Tv.prototype.O.call(this);this.nY.O();
this.$Q.O();for(var N in this.RS)for(var c=0;c<this.RS[N].length;c++)this.RS[N][c].eb.O();this.mp.O()};
TV.prototype.save=function(N){var c=new Q(d.E.m,!0);c.data={I:d.L.jJ,data:this.Ob,name:this.tG.name.split(".")[0]+"."+BC._k()[this.$Q.F()].toLowerCase()};
this.C(c);this.aT.Od();this.close()};TV.prototype.Fp=function(N,c){if(c.PA!=null)this.$Q.H(c.PA);this.tG=N;
this.nY.H(new k(N.h,N.s));this.oe()};TV.prototype.oe=function(N){this.aT.Od();var c=this.tG,X=this.nY.F(),l=X.x,C=X.y,q=BC._k()[this.$Q.F()],J=this.RS[q],t="";
if(J==null)J=[];if(this.$Q.F()!=this.bW){this.bW=this.$Q.F();d.yF(this.gv);for(var Z=0;Z<J.length;Z++){this.gv.appendChild(J[Z].eb.$);
this.gv.appendChild(d.S("br"))}}var W=[];for(var Z=0;Z<J.length;Z++)W.push(J[Z].eb.F());d.yF(this.nz);
var s=BC[q];this.Ob=BC._V(c,q,l,C,W);if(s._F){var T=l,g=C,R=512,P;if(q=="PDF"){P=URL.createObjectURL(new Blob([this.Ob],{type:"application/pdf"}));
T=R;g=R}else{var P=URL.createObjectURL(new Blob([this.Ob],{type:"image/svg+xml"}));T=Math.min(l+20,R);
g=Math.min(C+20,R)}this.nz.innerHTML="<iframe src=\""+P+"\"></iframe>";this.nz.firstChild.setAttribute("style","display:block; width:"+T+"px; height:"+g+"px;")}else{var O=s._l(this.Ob),b=O[0].M$,T=b.h,g=b.s;
this.aT.FE(Math.max(150,Math.min(T/d.V(),512)),Math.max(150,Math.min(g/d.V(),512)));this.aT.H(O);this.nz.appendChild(this.aT.$);
t="background: rgba(0,0,0,0);"}this.nz.setAttribute("style","display:block; background-size:"+16/d.V()+"px;"+t);
this.nN.innerHTML=q+": "+this.Ob.byteLength.toLocaleString()+" B"};function Tc(){Tv.call(this,[11,13],"shortcuts");
var N=d.S("div","scrollable"),c="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",X="";
N.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");X+="<h2 style=\"margin-top:0;\">Main Menu</h2>";
X+=c;X+=this.Hg({File:"---",Open:"Ctrl + O",Save:"Ctrl + S","Save as PSD":"Shift+Ctrl + S","Save for web":"Alt+Shift+Ctrl + S",Edit:"---","Undo / Redo":"Ctrl + Z","Step Forward":"Shift + Ctrl + Z","Step Backward":"Alt + Ctrl + Z",Cut:"Ctrl + X",Copy:"Ctrl + C",Paste:"Ctrl + V",Clear:"Delete",Fill:"Alt + Backspace","Free Transform":"Alt + Ctrl + T",Preferences:"Ctrl + K",Adjustments:"---",Levels:"Ctrl + L",Curves:"Ctrl + M","Hue / Saturation":"Ctrl + U",Invert:"Ctrl + I",Layer:"---",Duplicate:"Ctrl + J","Clipping Mask":"Alt + Ctrl + G","Group Layers":"Ctrl + G","Merge Down":"Ctrl + E",Select:"---",All:"Ctrl + A",Deselect:"Ctrl + D",View:"---","Zoom In":"Ctrl + +","Zoom Out":"Ctrl + -",Rulers:"Ctrl + R",Guides:"Ctrl + ;",Grid:"Ctrl + '",Shortcuts:"?"});
X+="</div>";X+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";X+=c;X+=this.Hg({"Vertical scroll":"Wheel","Horizontal scroll":"Ctrl + Wheel",Zooming:"Alt + Wheel"});
X+="</div>";X+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
X+=c;X+=this.Hg({Move:"Ctrl",Hand:"Spacebar",Zoom:"Ctrl + Spacebar"});X+="</div>";X+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
X+=c;X+=this.Hg(Tc.NE);X+=this.Hg({abc:null,Other:"---","Default Colors":"D","Swap Frg. - Bckg.":"X","Decrease Brush Size":"[","Increase Brush Size":"]","Decrease Hardness":"{","Increase Hardness":"}"});
X+="</div>";N.innerHTML=X;this.body.appendChild(N)}Tc.prototype=new Tv;Tc.prototype.Hg=function(N){var c="",X=!0;
for(var l in N){if(N[l]==null){X=!1;continue}if(N[l]=="---"){if(!X)c+="<br/>";c+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+l+"</div>"}else c+="<div>"+l+" <span style=\"float:right; font-weight:bold;\">"+N[l]+"</span> </div>";
X=!1}return c};Tc.NE={"Move Tool":"V","Rectangle Select":"M","Ellipse Select":"M","Lasso Select":"L","Polygonal Lasso Select":"L","Magnetic Lasso Select":"L","Quick Select":"W","Magic Wand":"W","Crop Tool":"C",Eyedropper:"I","Spot Healing Brush Tool":"J","Healing Brush Tool":"J","Patch Tool":"J","Brush Tool":"B","Clone Tool":"S","Eraser Tool":"E","Gradient Tool":"G","Paint Bucket Tool":"G","Blur Tool":null,"Sharpen Tool":null,"Smudge Tool":null,"Dodge Tool":"O","Burn Tool":"O","Sponge Tool":"O","Type Tool":"T",Pen:"P","Free Pen":"P","Path Select":"A","Direct Select":"A",Rectangle:"U",Ellipse:"U",Line:"U","Parametric Shape":"U","Custom Shape":"U","Hand Tool":"H","Zoom Tool":"Z"};
function Tl(){Tv.call(this,[2,3],"fill");this.qy=null;this.vq=null;var N=d.S("div","form padded");this.body.appendChild(N);
this.hz=new _O([2,3],[[12,45],[12,46],"Content Aware"]);N.appendChild(this.hz.$);this.bQ=new _w("OK",!0,null,!0);
this.bQ.i("click",this.QK,this);this.body.appendChild(this.bQ.$)}Tl.prototype=new Tv;Tl.prototype.Fu=function(N,c){return N!=null};
Tl.prototype.O=function(){Tv.prototype.O.call(this);this.hz.O()};Tl.prototype.QK=function(N){if(!this.vq.Vm())return;
var c=new Q(d.E.A,!0),X=this.hz.F();if(X!=2){c.K=H.fW;c.data={I:"fill",Xw:X}}else{if(this.vq.G==null){alert("There is no selection.");
return}c.K=H.fM;c.data={I:"heal2"}}this.C(c);this.close()};Tl.prototype.Fp=function(N,c){this.vq=N};
Tl.prototype.fu=function(N,c){this.qy=N};function TJ(){Tv.call(this,[14,9],"stroke");this.qy=null;this.mo=d.S("div","form");
this.mo.setAttribute("style","width:24em");this.body.appendChild(this.mo);this.hM=new TA("FrFX",!0);
this.hM.parent=this;var N=["Sz","Styl","Md","Opct"].concat(F.cQ);for(var c=0;c<N.length;c++){var X=this.hM.oF[N[c]].$;
this.mo.appendChild(X)}this.JW=!1;this.bQ=new _w("OK",!0,null,!0);this.bQ.i("click",this.QK,this);this.body.appendChild(this.bQ.$)}TJ.prototype=new Tv;
TJ.prototype.Fu=function(N,c){return N!=null};TJ.prototype.O=function(){Tv.prototype.O.call(this);this.hM.O()};
TJ.prototype.QK=function(N){var c=new Q(d.E.A,!0);c.K=H.fW;c.data={I:"stroke",__P:this.hM.F()};this.C(c);
this.close()};TJ.prototype.Fp=function(N,c){if(!this.JW){var X=F.cw[F.order.indexOf("FrFX")];X=JSON.parse(X);
this.hM.update(N,X);this.JW=!0}var X=this.hM.F(),l=this.qy.Wp;X.Clr.v=I.c.sw({W:l>>16&255,d:l>>8&255,w:l&255});
this.hM.update(N,X)};TJ.prototype.fu=function(N,c){this.qy=N};function Ty(){Tv.call(this,[11,9],"textwarp");
this.Z=new TT;this.Z.i(d.E.U,this.O$,this);this.Z.parent=this;this.mo=d.S("div","form");this.mo.setAttribute("style","width:20em");
this.body.appendChild(this.mo);this.mo.appendChild(this.Z.CD.$);this.mo.appendChild(this.Z.Kl.$);this.mo.appendChild(this.Z.Ko.$);
this.mo.appendChild(this.Z.Kb.$);this.mo.appendChild(this.Z.vu.$);this.bQ=new _w("OK",!0,null,!0);this.bQ.i("click",this.QK,this);
this.mo.appendChild(this.bQ.$);this.i("closebtn",this.FG,this)}Ty.prototype=new Tv;Ty.prototype.O=function(){Tv.prototype.O.call(this);
this.Z.O()};Ty.prototype.O$=function(N){var c=this.Z.F();this.N_({I:"warp",Uj:c})};Ty.prototype.N_=function(N){var c=new Q(d.E.A,!0);
c.K=H.xK;c.data=N;c.pb=!0;this.C(c)};Ty.prototype.FG=function(N){this.N_({I:"warpCancel"})};Ty.prototype.QK=function(N){this.N_({I:"warpConfirm"});
this.close()};Ty.prototype.Fp=function(N,c){var X=N.R[N.Q[0]];this.Z.H(X.add.TySh.XQ)};function Tj(){Tv.call(this,"Raw Photopea","rawpea");
this.Km=null;this.It=null;this.RV=null;this._UV=0;this.Ie=null;this.Mp=null;this.SX=500;this.Dh=500;
this.i("closebtn",this.AQ.bind(this),this);d.yH(this.body,"flexrow");var N=d.S("div"),c=d.S("div");c.setAttribute("style","padding-left: 1em");
this.body.appendChild(N);this.body.appendChild(c);this.vQ=d.S("canvas");N.appendChild(this.vQ);this.Ff=d.S("canvas");
this.Ff.width=256;this.Ff.height=100;d.j_(this.Ff,256,100);c.appendChild(this.Ff);this.mo=d.S("div");
this.mo.setAttribute("style","width:18em;");c.appendChild(this.mo);this.kv=new _b("Hi",!0);this.mo.appendChild(this.kv.$);
this.PM=[new _g("Temperature",2e3,13e3),new _g("Tint",-150,150),new _g([4,3],-4,4,null,!0),new _g([12,2],-150,150),new _g([12,3],-100,100)];
for(var X=0;X<this.PM.length;X++){var l=this.PM[X];l.H(0);l.i(d.E.U,this.Fs,this);this.mo.appendChild(l.$)}this.bQ=new _w("OK",!0,null,!0);
this.bQ.i("click",this.create,this);this.mo.appendChild(this.bQ.$)}Tj.prototype=new Tv;Tj.prototype.FI=function(){return!0};
Tj.prototype.FE=function(N,c){this.SX=N-260;this.Dh=c-40;if(this.Km)this.NT()};Tj.prototype.O=function(){Tv.prototype.O.call(this);
for(var N=0;N<this.PM.length;N++)this.PM[N].O()};Tj.prototype.create=function(N){var c=this.Km,X=this.It,l=I.a(c.width*c.height*4);
I.Tr(l,4294967295);I.raw.UM(X,l,c,this.sU());var c={M$:new u(0,0,X.Gz,X.GD),data:l.buffer},C=IG.zM("Raw Photo",[c]),q=new Q(d.E.m,!0);
q.data={I:d.L.jy,tG:C};this.C(q);this.AQ();this.close()};Tj.prototype.AQ=function(){this.Km=null;this.It=null;
this.Ie=null;this.Mp=null};Tj.prototype.Fp=function(N,c,X,l){this.Km=c.GQ;this.It=I.raw._Lf(this.Km);
var C=this.It;this.kv.H(C.Gz+" x "+C.GD+", "+(C.Gz*C.GD/1e6).toFixed(1)+" MPx");var q=I.raw._$s(c.GQ);
this.RV=Bo.LI(q);this.PM[0].H(this.RV.Gb);this.PM[1].H(this.RV.GX);for(var J=2;J<this.PM.length;J++)this.PM[J].H(0);
this.NT()};Tj.prototype.NT=function(){var N=this.It,c=N.Gz,X=N.GD,l=1;while(c/l>this.SX*d.V()||X/l>this.Dh*d.V())l++;
var C=Math.floor(c/l),q=Math.floor(X/l);this.Ie={Ml:new Float32Array(C*q*3),Gz:C,GD:q};var J=this.vQ.getContext("2d");
this.Mp=J.createImageData(C,q);I.Tr(this.Mp.data,4294967295);var Z=1/(l*l);for(var W=0;W<q;W++)for(var s=0;
s<C;s++){var t=0,T=0,g=0,R=(s+1)*l,P=(W+1)*l;for(var O=W*l;O<P;O++)for(var b=s*l;b<R;b++){var z=(O*c+b)*3;
t+=this.It.Ml[z];T+=this.It.Ml[z+1];g+=this.It.Ml[z+2]}var m=(W*C+s)*3;this.Ie.Ml[m]=t*Z;this.Ie.Ml[m+1]=T*Z;
this.Ie.Ml[m+2]=g*Z}this.Fs()};Tj.prototype.Fs=function(){var N=this.Km,c=this.Ie.Gz,X=this.Ie.GD,l=c*X,C=this.vQ,q=C.getContext("2d");
C.width=c;C.height=X;d.j_(C,c,X);I.raw.UM(this.Ie,new Uint8Array(this.Mp.data.buffer),N,this.sU());q.putImageData(this.Mp,0,0);
var J=I.TW(this.Mp.data);C=this.Ff;q=C.getContext("2d");var Z=q.createImageData(C.width,C.height),W=4e3/l;
for(var s=0;s<256;s++){var t=J[1][s]*W,T=J[2][s]*W,g=J[3][s]*W;for(var R=0;R<100;R++){var P=(R*256+s)*4;
if(99-R<t){Z.data[P]=255;Z.data[P+3]=255}if(99-R<T){Z.data[P+1]=255;Z.data[P+3]=255}if(99-R<g){Z.data[P+2]=255;
Z.data[P+3]=255}}}q.putImageData(Z,0,0)};Tj.prototype.sU=function(){var N=[];for(var c=0;c<this.PM.length;
c++)N.push(this.PM[c].F());return N};function To(){Tv.call(this,[11,11],"vbitmap");this.Ht=null;this.z_=null;
this.Rv=null;this.FA=null;this.dF=null;this.mo=d.S("div","form hbar");this.body.appendChild(this.mo);
this.UZ=new _m([12,82],2,50,null);this.UZ.i(d.E.U,this.Aa,this);this.mo.appendChild(this.UZ.$);this.Us=new _Y([12,81]);
this.Us.i(d.E.U,this.Aa,this);this.mo.appendChild(this.Us.$);this.bQ=new _w("OK",!1,null,!0);this.bQ.i("click",this.create,this);
this.mo.appendChild(this.bQ.$);var N=d.S("div","flexrow"),c=16;this.body.appendChild(N);this.NO=new TI;
this.NO.i("redraw",this.NI,this);this._H=d.S("canvas");this._H.setAttribute("style","margin-left: 1px; cursor:grab; cursor:-moz-grab; cursor:-webkit-grab;");
this.OI=this._H.getContext("2d");var X=I.a(16*16*4);I.TK(X,c,c,8,0,0);this.Fn=I.scale.vp(X,c,c);this.NO.OW(this._H);
N.appendChild(this.NO.$);N.appendChild(this._H)}To.prototype=new Tv;To.prototype.FI=function(){return!0};
To.prototype.FE=function(N,c){c=c-100;N=Math.floor((N-50)/2);d.jE(this._H,N,c);this.NO.FE(N,c)};To.prototype.O=function(){Tv.prototype.O.call(this);
this.UZ.O();this.Us.O();this.bQ.O()};To.prototype.Fp=function(N,c){this.dF=N;var X=N.R[N.Q[0]],l=I.Lp.Li(X.buffer.buffer,X.rect.h,X.rect.s).bK,C=l/((X.rect.h-2)*(X.rect.s-2));
this.Us.H(C<.75);var q=X.rect.clone();q.x=q.y=0;this.Ht={M$:q,data:X.buffer.buffer.slice(0)};this.z_=null;
this.NO.H([this.Ht]);this.UZ.H(20);this.Aa()};To.prototype.Aa=function(){var N=this.Ht,c=this.Us.F();
if(c&&this.z_==null){var X=new Uint8Array(N.data.slice(0)),l=15,C=35,q=N.M$.h,J=N.M$.s,Z=new I.IL(q*J);
I.TZ(X,Z);var W=new I.IL(q*J);I.BG.Be(Z.W,Z.u,W.W,q,J,l,I.BG.s_,[C]);I.BG.Be(Z.d,Z.u,W.d,q,J,l,I.BG.s_,[C]);
I.BG.Be(Z.w,Z.u,W.w,q,J,l,I.BG.s_,[C]);I.Tx(Z.u,W.u);var s=C/255,t=1-s;for(var T=0;T<q*J;T++)W.u[T]=s*W.u[T]+t*Z.u[T];
I.TL(W,X);this.z_={M$:N.M$.clone(),data:X.buffer}}if(c)N=this.z_;var X=new Uint8Array(N.data),q=N.M$.h,J=N.M$.s;
for(var T=0;T<X.length;T+=4){if(X[T+3]<10)X[T]=X[T+1]=X[T+2]=X[T+3]=0}var g=I.Lp._vv(X,q,J,this.UZ.F(),c?.1:2e-4),R=g.bs.slice(0);
for(var T=0;T<R.length;T++)R[T]++;var P=new Uint8Array((q+2)*(J+2));I.Ty(R,new u(1,1,q,J),P,new u(0,0,q+2,J+2));
var O=Math.round((q+2)*(J+2)/1e4),b=BO._Kr(P,q+2,J+2,Math.min(12,O)),z=BO._ZL(b),m=new Bh(1,0,0,1,-1,-1);
for(var T=0;T<z.length;T++)I.z.Kp(z[T].path.l,m,z[T].path.l);this.FA=z;this.Rv=g;for(var T=0;T<z.length;
T++){var f=z[T];for(var B=T+1;B<z.length;B++){var K=z[B];if(g.bI[K.color-1].est.q[3]!=0||K.parent!=T)continue;
var j=K.path.Gv.slice(1);j.reverse();j=["M"].concat(j);var S=[],b=K.path.l.length;for(var r=0;r<b;r+=2){S[r]=K.path.l[b-2-r];
S[r+1]=K.path.l[b-2-r+1]}I.z.concat(f.path,{l:S,Gv:j})}}for(var T=0;T<z.length;T++){var f=z[T],n=g.bI[f.color-1].est.q;
if(n[3]==0){z.splice(T,1);T--;continue}}for(var T=1;T<z.length;T++){var o=z[T-1],f=z[T];if(o.color==f.color){I.z.concat(o.path,f.path);
z.splice(T,1);T--;continue}}this.NI()};To.prototype.NI=function(N){if(this.FA==null)return;var c=this.Ht.M$.h,X=this.Ht.M$.s,l=this.FA,C=this.Rv.bI,q=this.OI,J=this.NO.Ot();
q.setTransform(1,0,0,1,0,0);q.clearRect(0,0,q.canvas.width,q.canvas.height);q.translate(q.canvas.width/2,q.canvas.height/2);
q.scale(J.o,J.o);q.translate(J.M.x/J.o-c/2,J.M.y/J.o-X/2);q.scale(1/J.o,1/J.o);q.fillStyle=this.Fn;q.fillRect(0,0,c*J.o,X*J.o);
q.scale(J.o,J.o);var Z=[];for(var W=0;W<C.length;W++){var s=C[W].est.q;Z.push({W:Math.round(255*s[0]),d:Math.round(255*s[1]),w:Math.round(255*s[2]),u:Math.round(255*s[3])})}for(var W=0;
W<l.length;W++){var t=l[W],s=Z[t.color-1];if(s.u==0)continue;q.fillStyle="rgba("+s.W+","+s.d+","+s.w+","+s.u/255+")";
q.beginPath();Typr.U.pathToContext({crds:t.path.l,cmds:t.path.Gv},q);q.fill()}};To.prototype.create=function(N){var c=this.FA,X=c.length==1,l=this.dF,C=l.Q[0],q=l.R[C],J=l.R.slice(0,C);
if(!X)J.push(l.cT());for(var Z=0;Z<c.length;Z++){var W=c[Z],s=this.Rv.bI[W.color-1].est.q;I.z.Kp(W.path.l,new Bh(1,0,0,1,q.rect.x,q.rect.y),W.path.l);
var t=l.c_();t.ii("Path "+Z);J.push(t);t.Xj|=16;t.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.c.sw({W:255*s[0],d:255*s[1],w:255*s[2]})}};
t.add.vmsk=new v.wI;t.add.vstk=JSON.parse(JSON.stringify(F.cF.default));t.add.vstk.strokeEnabled.v=!1;
t.add.vmsk.p=[{type:6},{type:8,all:0}].concat(I.D.$g(Typr.U.pathToSVG({crds:W.path.l,cmds:W.path.Gv})));
t.ih(l)}var T=J[J.length-1];if(!X){var t=l.c_();t.ii(q.getName());t.add.lsct=_I.iW;t.bg="pass";t.Xj=24;
J.push(t);T=t}var g=q.add.lmfx;if(g)T.add.lmfx=JSON.parse(JSON.stringify(g));for(var Z=C+1;Z<l.R.length;
Z++)J.push(l.R[Z]);var R=new Q(d.E.A,!0);R.pb=!0;R.K=H.xA;R.data={I:v.wW,qh:J,tT:[C+c.length+(X?-1:1)],mN:"Vectorize Bitmap"};
this.C(R);this.close()};function TO(){Tv.call(this,[7,11],"redge");this.Ht={};this.WB=null;this.tb=null;
this.dF=null;this.Sg=null;this.q_=null;var N="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX////IyMhc4gNCAAAAEElEQVR4nGNg+M+AFeEQBgB+vw/xkaQUAAAAAABJRU5ErkJggg==\" />",c="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEV5eXkrfmUiAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />",X="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEX///+nxBvIAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />",l="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEUAAACnej3aAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />";
this.mo=d.S("div","form hbar");this.body.appendChild(this.mo);this.Td=new _i;this.Td.parent=this;this.Td.i(d.E.U,this.xw,this);
this.mo.appendChild(this.Td.$);this.ZW=new _o(null,[X,c,l]);this.mo.appendChild(this.ZW.$);this.IX=new _n([7,9],0,50,null);
this.IX.parent=this;this.IX.i(d.E.U,this.Ns,this);this.mo.appendChild(this.IX.$);var C=new _w("Help",!1,null,!0);
C.i("click",function(Z){alert("Mark Foreground with White, Background with Black, and the Unknown area with Gray.",5e3)},this);
this.mo.appendChild(C.$);var q=d.S("span","form");this.mo.appendChild(q);q.setAttribute("style","position:absolute;  right:0px");
this.Ze=new _o([12,46],[N,X,l]);this.Ze.i(d.E.U,this.Nv,this);q.appendChild(this.Ze.$);this.fE=new _O(null,[[6,13],[6,2],[17,2]]);
q.appendChild(this.fE.$);this.bQ=new _w("OK",!1,null,!0);this.bQ.i("click",this.create,this);q.appendChild(this.bQ.$);
var J=d.S("div","flexrow");this.body.appendChild(J);this.fL=new TI(!0);this.$e=new TI;this.fL.OW(this.$e._H);
this.$e.OW(this.fL._H,!0);this.fL.i("mousedown",this.xX,this);this.fL.i("mousemove",this.xn,this);this.fL.i("mouseup",this.xe,this);
this.fL.i("zoom",this.xw,this);J.appendChild(this.fL.$);J.appendChild(this.$e.$)}TO.prototype=new Tv;
TO.prototype.Fu=function(N,c){var X=N!=null&&!N.R[N.Q[0]].rect.BH();if(!X)alert("The layer is empty.");
return X};TO.prototype.FI=function(){return!0};TO.prototype.FE=function(N,c){c=c-100;N=Math.floor((N-50)/2);
this.fL.FE(N,c);this.$e.FE(N,c)};TO.prototype.O=function(){Tv.prototype.O.call(this);this.Td.O();this.IX.O();
this.bQ.O()};TO.prototype.fu=function(N,c){this.tb=N;if(c==BZ.ua){this.Td.oy(N.Wr.list[0]);this.Td.oo(_U.lk(),N.Wr.list[0].Xt,N.Wr.list[0].Xq)}};
TO.prototype.ff=function(N,c,X,l){this.Sg=l;var C=H.xa.xi(this.Td.oO(),l);if(C!=null){this.Td.oo(C);
this.xw()}};TO.prototype.xw=function(){var N=this.tb,c=_C.lt(this.Td.oO(),N.Wr.list[0].Xt,this.fL.Ot().o),X=d.js(c);
this.fL.Oe(X)};TO.prototype.xX=function(N){var c=this.tb,X=this.Ht,l=this.Sg,C=this.Td.oO(),q=this.fL.F_(),J=[16777215,8355711,0][this.ZW.F()];
this.WB=new _C(C,c.Wr.list[0].Xt,c.Wr.list[0].Xq,{WQ:1,Wu:!0},J,c.Wa,X.rect);if(l!=null&&l.T(M.pU)&&this.q_){this.WB.moveTo(this.q_.x,this.q_.y);
this.WB.lineTo(q.x,q.y)}else this.WB.moveTo(q.x,q.y);this.NB()};TO.prototype.xn=function(N){var c=this.Ht,X=this.fL.F_();
this.WB.lineTo(X.x,X.y);this.NB()};TO.prototype.xe=function(N){this.q_=this.fL.F_();this.Aa()};TO.prototype.NB=function(){var N=this.Ht,c=this.WB,X=c.le();
if(X.BH())return;N.HV=X;I.B.Ih("norm",c.lW(),c.xG(),N.Ib,N.rect,X,1);this.NK()};TO.prototype.Fp=function(N,c){this.dF=N;
var X=N.R[N.Q[0]],l=X.rect.clone();this.IX.H(3);this.ZW.H(N.G==null?0:1);this.xw();if(N.G==null)this.IX.oB();
else this.IX.oI();var C=I.a(l.n()),q=I.a(l.n());if(N.G)I.Ty(N.G.channel,N.G.rect,C,l);l.x=l.y=0;var J=l.h,Z=l.s;
for(var W=0;W<Z;W++)for(var s=0;s<J;s++){var t=W*J+s,T=C[t];if(s>0&&C[t-1]!=T||s<J-1&&C[t+1]!=T||W>0&&C[t-J]!=T||W<Z-1&&C[t+J]!=T)q[t]=255}var g=new Float32Array(l.n());
I.style.$C(q,g,J,Z);this.Ht={rect:l,Ml:X.buffer,WU:C,qD:g,hJ:I.a(l.n()*4),Pz:I.a(l.n()*4),Ib:I.a(l.n()*4),OO:null,HV:l};
this.Ns()};TO.prototype.Ns=function(){var N=this.Ht,c=N.rect.n(),X=this.IX.F(),l=N.WU.slice(0);for(var C=0;
C<c;C++)if(N.qD[C]<X)l[C]=128;I.Tr(N.Ib,4294967295);I.TP(l,N.Ib,0);I.TP(l,N.Ib,1);I.TP(l,N.Ib,2);this.Aa()};
TO.prototype.Aa=function(){var N=this.Ht,c,C,q,J=0,Z=0,W=0;this.NK();if(!0)c=N.rect;else{var X=Math.min(c.h,c.s);
X=Math.max(X,50);c.PY(X,X);c=c.vm(N.rect);while((c.h&3)!=0){c.h++;if(c.h+c.x>N.rect.h)c.x--}while((c.s&3)!=0){c.s++;
if(c.s+c.y>N.rect.s)c.y--}console.log(c)}var l=I.a(c.n());if(c.TA(N.rect)){I.TR(N.Ib,l,0);C=N.Ml}else{C=I.a(c.n()*4);
I.TF(N.Ib,N.rect,C,c);I.TR(C,l,0);I.TF(N.Ml,N.rect,C,c)}for(var s=0;s<l.length;s++){var t=l[s];if(t==0)J++;
else if(t==255)Z++;else W++}if(J*Z*W!=0){q=I.L$.L$(c,C,l)}else{q=C.slice(0);I.TP(l,q,3)}if(c.TA(N.rect))N.OO=q;
else I.TF(q,c,N.OO,N.rect);this.Nv()};TO.prototype.NK=function(N){var c=this.Ht,X=c.HV;I.TF(c.Ml,c.rect,c.hJ,c.rect,X,!0);
I.B.Ih("norm",c.Ib,c.rect,c.hJ,c.rect,X,.3);this.fL.H([{M$:c.rect,data:c.hJ.buffer}])};TO.prototype.Nv=function(N){var c=this.Ht;
I.Tr(c.Pz,[0,4294967295,4278190080][this.Ze.F()]);I.B.Ih("norm",c.OO,c.rect,c.Pz,c.rect,c.rect,1);this.$e.H([{M$:c.rect,data:c.Pz.buffer}])};
TO.prototype.create=function(N){var c=this.dF,X=this.Ht,l=this.fE.F(),C=c.R[c.Q[0]],q=new Q(d.E.A,!0),J=C.rect.clone();
if(l==0&&C.iw()||l!=0&&!C.iw()){q.K=H.xA;q.data={I:v.wj,e:c.Q[0]};this.C(q)}if(c.G!=null){q.K=H.fj;q.data={I:"deselect"};
this.C(q)}if(l==0){var Z=c.R.slice(0),W=c.c_();W.ii(C.getName());Z.splice(c.Q[0]+1,0,W);W.rect=J;W.buffer=X.OO;
W._();q.K=H.xA;q.data={I:v.wW,qh:Z,tT:[c.Q[0]+1],mN:[7,11]};this.C(q)}if(l==1){q.K=H.xA;q.data={I:v.wu};
this.C(q);var s=C.im();s.channel=I.a(J.n());s.rect=J;s.color=0;s.Xe=!0;I.TR(X.OO,s.channel,3);s.I_();
C.ih()}if(l==2){var t={rect:J,channel:I.a(J.n())};I.TR(X.OO,t.channel,3);q.K=H.fj;q.data={I:"setsel",G:t,mN:this.vD};
this.C(q)}this.close()};function TF(N,c){_A.call(this);this.name=N;this.hj=d.S("div","");this.Mf=d.S("div","pbody");
this.PX=new _w("",!1,"");this.PX.parent=this;this.fT=d.S("span","cross");this.hl=d.S("span","");this.hl.addEventListener("mousedown",this.__p.bind(this),!1);
this.fT.addEventListener("mousedown",this.Hx.bind(this),!1);this.hj.appendChild(this.hl);if(c)this.hj.appendChild(this.fT);
this.ct=!1;this.hl.textContent=N}TF.prototype=new _A;TF.prototype.N$=function(){return new k(0,0)};TF.prototype.O=function(){var N=this.name,c=typeof N=="string"?N:BT.get(N);
this.hl.textContent=c;var X=c.split(" "),l=X.length==2?X[0].substring(0,2)+X[1][0]:c.substring(0,3);
this.PX.oR(l,c)};TF.prototype.enable=function(){this.Mf.setAttribute("class","pbody")};TF.prototype.disable=function(){this.Mf.setAttribute("class","pbody disabled")};
TF.prototype.fu=function(N,c){};TF.prototype.Fp=function(N,c){};TF.prototype.FE=function(N,c){};TF.prototype._Eq=function(N){this.name=N;
this.hl.textContent=N};TF.prototype.NL=function(){};TF.prototype.__p=function(N){this.C(new Q("select",!1))};
TF.prototype.Hx=function(N){if(this.NZ())this.C(new Q(d.E.jC,!1))};TF.prototype.NZ=function(N){return!0};
TF.prototype.fP=function(N,c,X,l,C){};TF.prototype.fh=function(N,c,X,l,C){};TF.prototype.fr=function(N,c,X,l,C){};
function TH(){TF.call(this,[9,3]);this.Mf.setAttribute("style","width:380px;");this.bq=null;this.la=null;
this.Wp=0;this.Wa=0;var N=d.S("div","");this.Mf.appendChild(N);this.Tu=d.S("div","bordered cell");this.Tu.setAttribute("style","width:10em; height:28.5em;");
N.appendChild(this.Tu);this.Z=[];this.Zj=null;this.LL=[];var c=this._ve.bind(this);this.Mv=[new TH.NQ,new TH.Ni,new TH.Ny,new TH.NF];
for(var X=0;X<this.Mv.length;X++){var l=d.S("div","listitem"),C=this.Mv[X].B$,q=null;if(X==0){this.Zj=new _b(C);
l.appendChild(this.Zj.$)}else{q=new _Y(C,!1);q.i(d.E.U,this._Kq,this);l.appendChild(q.$)}this.LL.push(q);
this.Tu.appendChild(l);this.Z.push(l);l.addEventListener("click",c,!1)}this.qM=d.S("div","cell padded");
N.appendChild(this.qM);for(var X=0;X<this.Mv.length;X++)this.Mv[X].i("brushchange",this._Zk,this);this.setItem(0);
this.zf=d.S("canvas","");this.zf.width=Math.floor(380*d.V());this.zf.height=Math.floor(80*d.V());d.j_(this.zf,this.zf.width,this.zf.height);
N.appendChild(this.zf);this.OI=this.zf.getContext("2d");this.Aa()}TH.prototype=new TF("");TH.prototype.O=function(){TF.prototype.O.call(this);
this.Zj.O();for(var N=1;N<this.LL.length;N++)this.LL[N].O();for(var N=0;N<this.Mv.length;N++)this.Mv[N].O()};
TH.prototype._Zk=function(N){var c=this.Mv.indexOf(N.currentTarget),X=JSON.parse(JSON.stringify(this.Mv[c].la)),l=new Q(d.E.m,!0);
l.data={I:d.L.jD,mz:BZ.uH,la:X};this.C(l)};TH.prototype._Kq=function(N){this.Nr(this.LL.indexOf(N.currentTarget),N.currentTarget.oY())};
TH.prototype._ve=function(N){var c=this.Z.indexOf(N.currentTarget);if(N.target.tagName.toLowerCase()=="input")return;
if(this.LL[c]&&!this.LL[c].oY()){this.LL[c].oH();this.Nr(c,!0)}this.setItem(c)};TH.prototype.Nr=function(N,c){this.Mv[N].Nf(c)};
TH.prototype.setItem=function(N){for(var c=0;c<this.Mv.length;c++)this.Z[c].setAttribute("class","listitem");
if(this.qM.firstChild)this.qM.removeChild(this.qM.firstChild);this.Z[N].setAttribute("class","listitem selected");
this.qM.appendChild(this.Mv[N].$)};TH.prototype.fu=function(N,c){this.Wp=N.Wp;this.Wa=N.Wa;if(c==BZ.ua){this.bq=N.Wr.list[0];
for(var X=0;X<this.Mv.length;X++)this.Mv[X].oy(this.bq)}if(c==BZ.uH){this.la=N.Wr.Wf;this.Aa()}if(c==BZ.uY)this.Aa()};
TH.prototype.Aa=function(){if(this.la)this.enable();else{this.disable();return}for(var N=0;N<this.Mv.length;
N++){this.Mv[N].oo(this.la);if(this.LL[N])this.LL[N].H(this.Mv[N].oY())}var c=JSON.parse(JSON.stringify(this.la));
c.Brsh.v.Dmtr.v.val=Math.min(c.Brsh.v.Dmtr.v.val,50);var X=new u(0,0,this.zf.width,this.zf.height),l=new _C(c,this.bq?this.bq.Xt:null,this.bq?this.bq.Xq:null,{WQ:1},this.Wp,this.Wa,X),C=40*d.V(),q=300*d.V();
l.moveTo(C,C);for(var N=0;N<=q;N+=10)l.lineTo(C+N,C+20*Math.sin(2*Math.PI*N/q));l.finish();var J=this.OI.createImageData(X.h,X.s);
I.TF(l.lW(),l.xG(),J.data,X);this.OI.putImageData(J,0,0)};TH.NS=function(N){_A.call(this);this.B$=N;
this.$=d.S("div","");this.la=null};TH.NS.prototype=new _A;TH.NS.prototype.oy=function(N){};TH.NS.prototype.oo=function(N){this.la=JSON.parse(JSON.stringify(N));
this.$.setAttribute("class",this.oY()?"":"disabled");this.Aa()};TH.NS.prototype.Nf=function(N){};TH.NS.prototype.oY=function(){return!1};
TH.NS.prototype.O=function(){};TH.NS.prototype.Aa=function(){};TH.NS.prototype.Nx=function(){this.C(new Q("brushchange"))};
TH.NQ=function(){TH.NS.call(this,[15,0]);this.bq=null;this.fI=null;this.hO=new _D(!0);this.$.appendChild(this.hO.$);
this.hO.i(d.E.U,this.ol,this);this.hO.$.style.height="10.7em";this.iJ=new _g([12,14],1,100," px",0,!0);
this.iJ.i(d.E.U,this.NA,this);this.$j=new _g([12,15],0,359," \xB0");this.$j.i(d.E.U,this.Nk,this);this.$J=new _g([12,16],0,100," %");
this.$J.i(d.E.U,this.Nu,this);this.zB=new _g([12,17],0,100," %");this.zB.i(d.E.U,this.Np,this);this.Ng=new _g([12,18],1,300," %");
this.Ng.i(d.E.U,this.Na,this);this.Z=[this.iJ,this.$j,this.$J,this.zB,this.Ng]};TH.NQ.prototype=new TH.NS;
TH.NQ.prototype.O=function(){this.iJ.O();this.$j.O();this.$J.O();this.zB.O();this.Ng.O()};TH.NQ.prototype.oY=function(){return!0};
TH.NQ.prototype.oy=function(N){this.bq=N;var c=[],X=Math.floor(30*d.V()),l=Math.floor(40*d.V());for(var C=0;
C<N.Xd.Brsh.v.length;C++){var q=N.Xd.Brsh.v[C].v,J=_C.$$(q,N.Xt,N.Xq,X,l);c.push(J)}this.hO.Oy(c,null,X,l)};
TH.NQ.prototype.Aa=function(){var N=this.la.Brsh.v,c=N.classID!=this.fI;this.fI=N.classID;if(c)for(var X=0;
X<this.Z.length;X++)if(this.$.contains(this.Z[X].$))this.$.removeChild(this.Z[X].$);this.iJ.H(N.Dmtr.v.val);
if(c)this.$.appendChild(this.iJ.$);this.$j.H(N.Angl.v.val);if(c)this.$.appendChild(this.$j.$);if(N.classID=="computedBrush"||N.classID=="sampledBrush"){this.$J.H(N.Rndn.v.val);
if(c)this.$.appendChild(this.$J.$)}if(N.classID=="computedBrush"){this.zB.H(N.Hrdn.v.val);if(c)this.$.appendChild(this.zB.$)}this.Ng.H(N.Spcn.v.val);
if(c)this.$.appendChild(this.Ng.$)};TH.NQ.prototype.ol=function(N){this.la=this.bq.Xd.Brsh.v[this.hO.F()].v;
this.Nx()};TH.NQ.prototype.NA=function(N){this.la.Brsh.v.Dmtr.v.val=N.target.F();this.Nx()};TH.NQ.prototype.Nk=function(N){this.la.Brsh.v.Angl.v.val=N.target.F();
this.Nx()};TH.NQ.prototype.Nu=function(N){this.la.Brsh.v.Rndn.v.val=N.target.F();this.Nx()};TH.NQ.prototype.Np=function(N){this.la.Brsh.v.Hrdn.v.val=N.target.F();
this.Nx()};TH.NQ.prototype.Na=function(N){this.la.Brsh.v.Spcn.v.val=N.target.F();this.Nx()};TH.Ni=function(){TH.NS.call(this,[15,1]);
this.Ij=new _g([15,4,0],0,100," %");this.Ij.i(d.E.U,this._sK,this);this.$.appendChild(this.Ij.$);this.UO=new _g([15,4,1],0,100," %");
this.UO.i(d.E.U,this._Ig,this);this.$.appendChild(this.UO.$);this._K=new _g([15,4,2],0,100," %");this._K.i(d.E.U,this.Nc,this);
this.$.appendChild(this._K.$);this.UY=new _g([15,4,3],0,100," %");this.UY.i(d.E.U,this._Ic,this);this.$.appendChild(this.UY.$);
this.Uz=new _g([15,4,4],0,100," %");this.Uz.i(d.E.U,this._Zp,this);this.$.appendChild(this.Uz.$)};TH.Ni.prototype=new TH.NS;
TH.Ni.prototype.O=function(){this.Ij.O();this.UO.O();this._K.O();this.UY.O();this.Uz.O()};TH.Ni.prototype.oY=function(){return this.la.useTipDynamics.v};
TH.Ni.prototype.Nf=function(N){this.la.useTipDynamics.v=N;_U.cW.lp(this.la);this.Nx()};TH.Ni.prototype.Aa=function(){var N=this.la;
if(N.useTipDynamics.v==!1)return;this.Ij.H(N.szVr.v.jitter.v.val);this.UO.H(N.minimumDiameter.v.val);
this._K.H(N.angleDynamics.v.jitter.v.val);this.UY.H(N.roundnessDynamics.v.jitter.v.val);this.Uz.H(N.minimumRoundness.v.val)};
TH.Ni.prototype._sK=function(N){this.la.szVr.v.jitter.v.val=N.target.F();this.Nx()};TH.Ni.prototype._Ig=function(N){this.la.minimumDiameter.v.val=N.target.F();
this.Nx()};TH.Ni.prototype.Nc=function(N){this.la.angleDynamics.v.jitter.v.val=N.target.F();this.Nx()};
TH.Ni.prototype._Ic=function(N){this.la.roundnessDynamics.v.jitter.v.val=N.target.F();this.Nx()};TH.Ni.prototype._Zp=function(N){this.la.minimumRoundness.v.val=N.target.F();
this.Nx()};TH.Ny=function(){TH.NS.call(this,[15,2]);this.UD=new _g([15,5,0],0,1e3," %");this.UD.i(d.E.U,this._Ry,this);
this.$.appendChild(this.UD.$);this.Um=new _g([15,5,1],1,20);this.Um.i(d.E.U,this._sI,this);this.$.appendChild(this.Um.$);
this._s=new _g([15,5,2],0,100," %");this._s.i(d.E.U,this._UD,this);this.$.appendChild(this._s.$)};TH.Ny.prototype=new TH.NS;
TH.Ny.prototype.O=function(){this.UD.O();this.Um.O();this._s.O()};TH.Ny.prototype.oY=function(){return this.la.useScatter.v};
TH.Ny.prototype.Nf=function(N){this.la.useScatter.v=N;_U.cW.lp(this.la);this.Nx()};TH.Ny.prototype.Aa=function(){var N=this.la;
if(N.useScatter.v==!1)return;this.UD.H(N.scatterDynamics.v.jitter.v.val);this.Um.H(N.Cnt.v);this._s.H(N.countDynamics.v.jitter.v.val)};
TH.Ny.prototype._Ry=function(N){this.la.scatterDynamics.v.jitter.v.val=N.target.F();this.Nx()};TH.Ny.prototype._sI=function(N){this.la.Cnt.v=N.target.F();
this.Nx()};TH.Ny.prototype._UD=function(N){this.la.countDynamics.v.jitter.v.val=N.target.F();this.Nx()};
TH.NF=function(){TH.NS.call(this,[15,3]);this.UG=new _g([15,6,0],0,100," %");this.UG.i(d.E.U,this.NH,this);
this.$.appendChild(this.UG.$);this.PL=new _g([15,6,1],0,100," %");this.PL.i(d.E.U,this.NN,this);this.$.appendChild(this.PL.$);
this.Ub=new _g([15,6,2],0,100," %");this.Ub.i(d.E.U,this.NY,this);this.$.appendChild(this.Ub.$);this.Un=new _g([15,6,3],0,100," %");
this.Un.i(d.E.U,this._vj,this);this.$.appendChild(this.Un.$)};TH.NF.prototype=new TH.NS;TH.NF.prototype.O=function(){this.UG.O();
this.PL.O();this.Ub.O();this.Un.O()};TH.NF.prototype.oY=function(){return this.la.useColorDynamics.v};
TH.NF.prototype.Nf=function(N){this.la.useColorDynamics.v=N;_U.cW.lp(this.la);this.Nx()};TH.NF.prototype.Aa=function(){var N=this.la;
if(N.useColorDynamics.v==!1)return;this.UG.H(N.clVr.v.jitter.v.val);this.PL.H(N.H.v.val);this.Ub.H(N.Strt.v.val);
this.Un.H(N.Brgh.v.val)};TH.NF.prototype.NH=function(N){this.la.clVr.v.jitter.v.val=N.target.F();this.Nx()};
TH.NF.prototype.NN=function(N){this.la.H.v.val=N.target.F();this.Nx()};TH.NF.prototype.NY=function(N){this.la.Strt.v.val=N.target.F();
this.Nx()};TH.NF.prototype._vj=function(N){this.la.Brgh.v.val=N.target.F();this.Nx()};function TN(){TF.call(this,[9,0]);
this.Mf.setAttribute("style","min-width:200px;");this.yO=d.S("div","hpbody scrollable");this.yO.style.height="160px";
this.Mf.appendChild(this.yO);this._Lp=-1;this.Ph=[]}TN.prototype=new TF("");TN.prototype.Fp=function(N){d.yF(this.yO);
if(N==null)return;var c=0;for(var X=0;X<N.history.length;X++)if(X<=N.dI&&!N.history[X].Ir)c=X;for(var X=0;
X<N.history.length;X++){var l=N.history[X];if(l.Ir)continue;var C=new TY(l,X,c);C.parent=this;this.yO.appendChild(C.$);
this.Ph.push(C)}if(N.dI==N.history.length-1)this.yO.scrollTop=this.yO.scrollHeight};TN.prototype.O=function(){TF.prototype.O.call(this);
for(var N=0;N<this.Ph.length;N++)this.Ph[N].O()};function TY(N,c,X){_A.call(this);this.index=c;this.$=d.S("div",c==X?"listitem selected":"listitem");
this.YI=N.name;this.O();if(c>X)this.$.style.opacity=.4;this.$.addEventListener("mouseup",this.fP.bind(this),!1)}TY.prototype=new _A;
TY.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI);this.$.textContent=N};
TY.prototype.fP=function(N){if(this.index==this.parent._Lp)return;this.Fb({I:"h_itemchange",index:this.index})};
TY.prototype.Fb=function(N){var c=new Q(d.E.A,!0);c.data=N;c.K=H.xQ;this.C(c)};function Tz(){TF.call(this,[9,4]);
this.Mf.setAttribute("style","min-width:240px;");this.oX=new _F;this.oX.parent=this;var N=d.S("div","marged");
this.Mf.appendChild(N);N.appendChild(this.oX.Bi.$);this.Mf.appendChild(d.S("hr"));var c=d.S("div","marged");
this.Mf.appendChild(c);c.appendChild(this.oX.Bw.$);c.appendChild(this.oX.OQ.$);var X=d.S("div","marged");
this.Mf.appendChild(X);X.appendChild(this.oX.OA.$);this.Mf.appendChild(d.S("hr"));var l=d.S("div","marged");
this.Mf.appendChild(l);l.appendChild(this.oX.aG.$);l.appendChild(this.oX.Y_.$);var C=d.S("div","marged");
this.Mf.appendChild(C);C.appendChild(this.oX._S.$);C.appendChild(this.oX.Ok.$);this.Mf.appendChild(d.S("hr"));
var q=d.S("div","marged");this.Mf.appendChild(q);q.appendChild(this.oX.ea.$);q.appendChild(this.oX.ei.$);
q.appendChild(this.oX.IA.$);q.appendChild(this.oX.Ia.$);q.appendChild(this.oX.Ik.$);q.appendChild(this.oX.ec.$);
q.appendChild(this.oX.FJ.$)}Tz.prototype=new TF("");Tz.prototype.O=function(){TF.prototype.O.call(this);
this.oX.O()};Tz.prototype.fu=function(N,c){if(c!=BZ.up&&c!=BZ.uo&&c!=BZ.uV&&c!=BZ.uN)return;this.oX.Ov(N)};
function TD(){TF.call(this,"CSS");this.MT=d.S("div","padded");this.Mf.appendChild(this.MT);this.ne=d.S("textarea");
this.ne.setAttribute("rows",16);this.ne.setAttribute("cols",36);this.ne.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
this.MT.appendChild(this.ne)}TD.prototype=new TF("");TD.prototype.Fp=function(N){if(N==null)return;var c=N.R[N.Q[0]],X=CSS.yh(c);
if(X.length!=0)this.ne.value=X.join(";\n")+";";else this.ne.value=""};function Tm(){TF.call(this,"Info");
this.Mf.setAttribute("style","min-width:240px;");var N=d.S("div","marged row");this.Mf.appendChild(N);
var c=d.S("div","cell");c.setAttribute("style","width:10em");N.appendChild(c);var X=d.S("div","cell");
X.setAttribute("style","width:10em");N.appendChild(X);this._Lw=new _b("R:");this._LV=new _b("G:");this._Lc=new _b("B:");
this.Mf.appendChild(d.S("hr",""));var l=d.S("div","marged row");this.Mf.appendChild(l);var c=d.S("div","cell");
c.setAttribute("style","width:10em");var X=d.S("div","cell");X.setAttribute("style","width:10em");l.appendChild(c);
l.appendChild(X);this.hV=new _b("");c.appendChild(this.hV.$);c.appendChild(d.S("br"));this.hw=new _b("");
c.appendChild(this.hw.$);this.nt=new _b("");X.appendChild(this.nt.$);X.appendChild(d.S("br"));this.nD=new _b("");
X.appendChild(this.nD.$);this.hV.H("X: 100 px");this.hw.H("Y: 100 px");this.nt.H("W: 0");this.nD.H("H: 0")}Tm.prototype=new TF("");
Tm.prototype.fh=function(N,c,X,l,C){var q=N.g.cR(C.x,C.y),J=new k(Math.floor(q.x),Math.floor(q.y));if(!1){var Z=0,W=0,s=0;
if(!C.tE&&!N.__O()&&new u(0,0,N.h,N.s).PH(J)){var t=N.VN(),T=N.h*J.y+J.x<<2;Z=t[T+0];W=t[T+1];s=t[T+2]}this._Lw.H("R: "+Z);
this._LV.H("G: "+W);this._Lc.H("B: "+s)}this.hV.H("X: "+J.x);this.hw.H("Y: "+J.y);this.ND(N)};Tm.prototype.ND=function(N){var c=0,X=0;
if(N.g.t_){c=N.g.t_.h;X=N.g.t_.s}else if(N.G){c=N.G.rect.h;X=N.G.rect.s}this.nt.H("W: "+Math.abs(c));
this.nD.H("H: "+Math.abs(X))};Tm.prototype.Fp=function(N){if(N)this.ND(N)};function TM(){TF.call(this,[9,1]);
this.Oo=null;this.tG=null;this.BD=null;this.bG=d.S("div","lphead");this.yO=d.S("div","lpbody scrollable");
this.iP=d.S("div","lpfoot");this.Lc=new _O(null,__.ag);this.Lc.i(d.E.U,this.__E,this);this.bG.appendChild(this.Lc.$);
this.$A=new _n("Opacity:",0,100,"%",0);this.$A.i(d.E.U,this._ET,this);this.$A.parent=this;this.bG.appendChild(this.$A.$);
this._Lo=new _Y("Lock");this._Lo.$.setAttribute("style","margin-right:1.5em");this.$S=new _n("Fill:",0,100,"%",0);
this.$S.i(d.E.U,this._PM,this);this.$S.parent=this;this.Ww=[];this._TK();this.Mf.appendChild(this.bG);
this.Mf.appendChild(this.yO);this.Mf.appendChild(this.iP);this.Mf.addEventListener("contextmenu",TG.QY,!1);
this.qm=[{name:[14,10]},{name:[6,0]},{name:[11,4]},{name:[5,4],mc:!0},{name:[6,7],mc:!0},{name:[6,8],f:function(N){var c=N.R[N.Q[0]];
if(c.add.TySh||c.add.SoLd||c.add.SoCo||c.add.GdFl||c.add.PtFl)return{f:!0};return{f:!1}}},{name:[6,34],f:function(N){var c=N.R[N.Q[0]];
return{f:c.add.lmfx!=null}}},{name:[6,40],mc:!0,f:function(N){var c=N.R[N.Q[0]];return{f:c.add.TySh!=null}}},{name:[6,6],mc:!0,f:function(N){return{f:N.VJ(N.Q[0]),aS:N.R[N.Q[0]].Xy}}},{name:[11,6],mc:!0,sub:[{name:[5,1],f:function(N){var c=N.R[N.Q[0]];
return{f:c.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],f:function(N){var c=N.R[N.Q[0]];return{f:c.add.lmfx!=null}}}]},{name:[6,10],f:function(N){return{f:N.Q.length==1&&N.Q[0]!=0&&!N.R[N.Q[0]].iv()}}},{name:[6,12],f:function(N){return{f:N.Q.length>1||N.R[N.Q[0]].iv()}},mc:!0},{name:[13,0],sub:function(){var N=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],c=[];
for(var X=0;X<N.length;X++)c.push({name:N[X]});return c}()}];this.mJ=[null,v.w$,{J:d.E.m,j:{I:d.L.jl,mO:"duplinto"}},v.wU,v.wC,v.wP,v.wh,v.wq,v.wD,null,v.wr,v.wS,v.wt];
this.qM=new _k(this.qm);this.qM.i("select",this.Qt,this);this.fK=[{name:[6,45],f:function(N){var c=N.R[N.Q[0]];
return{f:c.iM(N).b==null}}},{name:[6,47]}];this._LN=[v.VE,v.VT];this.R$=new _k(this.fK);this.R$.i("select",this.Qt,this);
this.fv=[{name:"enab/disab",f:function(N){return{ke:BT.get(N.R[N.Q[0]].im().isEnabled?[6,15]:[6,14])}}},{name:[6,22]}];
this._LD=[v.wf,v.wA];this.Yg=new _k(this.fv);this.Yg.i("select",this.Qt,this);this.f$=[{name:"enab/disab",f:function(N){return{ke:BT.get(N.R[N.Q[0]].iM(N).b.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this._LG=[v.wQ,v.V_];this.Vy=new _k(this.f$);this.Vy.i("select",this.Qt,this);this.yE=[{name:"enab/disab",f:function(N){return{ke:BT.get(N.R[N.Q[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this._Ln=[v.wx,v.wk];this.Ug=new _k(this.yE);this.Ug.i("select",this.Qt,this);this.y_=Tk.HD(!0);this._Lt=Tk.Hm(!0);
this.$s=new _k(this.y_);this.$s.i("select",this.Qt,this);this.DR=Tk.HY();this._Lg=Tk.Hz();this.FW=new _k(this.DR);
this.FW.i("select",this.Qt,this);this.i("rclick",this._Zn,this)}TM.prototype=new TF("");TM.prototype.N$=function(){return new k(240,0)};
TM.prototype.Qt=function(N){var c=N.target.ov(),X=c[0],l;if(N.target==this.qM)l=this.mJ;if(N.target==this.R$)l=this._LN;
if(N.target==this.Yg)l=this._LD;if(N.target==this.Ug)l=this._Ln;if(N.target==this.Vy)l=this._LG;if(N.target==this.$s)l=this._Lt;
if(N.target==this.FW)l=this._Lg;if(l[X]==null){if(X==0){var C=new Q(d.E.m,!0);C.data={I:d.L.jl,mO:"layerstyle",e:this.tG.Q[0]};
this.C(C)}else{var q=new Q(d.E.A,!0);q.K=H.xk;q.data={I:["st_copy","st_paste","st_clear"][c[1]],e:this.tG.Q[0]};
this.C(q)}return}if(l[X].J!=null){var J=l[X],q=new Q(J.J,!0);q.K=J.K;q.data=J.j;N.target.C(q);return}var q=new Q(d.E.A,!0);
if(N.target==this.$s)q.data=l[X];else q.data={I:l[X]};if(l[X]==v.wt)q.data._EC=c[1];q.K=H.xA;N.target.C(q)};
TM.prototype._Zn=function(N){var c=this.tG,X=N.data,l,C;if(c.Q.indexOf(X.e)==-1){c.Q=[X.e];c.tm=!0}if(X.X==1){l=this.Yg;
C=this.fv}else if(X.X==2){l=this.Ug;C=this.yE}else if(X.X==3){l=this.Vy;C=this.f$}else if(X._C_){l=this.R$;
C=this.fK}else{l=this.qM;C=this.qm}l.update(c,C);l.parent=this;var q=new Q(d.E.m,!0);q.data={I:d.L.jh,mC:l,x:X.fC.x+1,y:X.fC.y+1};
this.C(q)};TM.prototype.O=function(){TF.prototype.O.call(this);this.$A.oR(BT.get([12,0])+":");this.qM.O();
this.Yg.O();this.Ug.O();this.$s.O();if(this.tG)this.Fp(this.tG);var N="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var c=0;c<this.Ww.length;c++){var X=this.Ww[c];X.oR(d.jK(N[c]))}};TM.prototype.Fp=function(N,c){if(N==null)d.yH(this.Mf,"disabled");
else d.yN(this.Mf,"disabled");this.tG=N;this.BD=c;if(this.Oo!=null){this.yO.removeChild(this.Oo.yO);
this.Oo=null}if(N==null)return;this.Oo=new TG(N.root,this,N,{eq:0});this.yO.appendChild(this.Oo.yO);
if(N.Q.length==0||N.R.length==0){this.Lc.oB();this.$A.oB();this.$S.oB()}else{if(N.Q.length==1&&N.qR)this.Oo.YT(N.Q);
var X=N.R[N.Q[N.Q.length-1]];this.Lc.oI();if(X.iv()){this.Lc.OK(["Pass Through"].concat(__.ag));var l=__.aq.indexOf(X.bg);
this.Lc.H(l+1)}else{this.Lc.OK(__.ag);var l=__.aq.indexOf(X.bg);this.Lc.H(l)}this.$A.oI();this.$A.H(Math.round(100*X.opacity/255));
this.$S.H(Math.round(100*(X.add.iOpa!=null?X.add.iOpa/255:1)))}};TM.prototype.FE=function(N,c){var X=this.bG.getBoundingClientRect().height,l=c-(X+34);
this.yO.style.height=l+"px"};TM.prototype.__E=function(N){this.Fb({I:v.wV,e:this.tG.Q[this.tG.Q.length-1],gY:this.Lc.F()})};
TM.prototype._ET=function(N){this.Fb({I:v.wc,e:this.tG.Q[this.tG.Q.length-1],gY:Math.round(255*this.$A.F()/100)})};
TM.prototype._PM=function(N){this.Fb({I:v.wJ,e:this.tG.Q[this.tG.Q.length-1],gY:Math.round(255*this.$S.F()/100)})};
TM.prototype._UP=function(N){this.Ne(N.currentTarget,this.$s,this.y_)};TM.prototype._vg=function(N){this.Ne(N.currentTarget,this.FW,this.DR)};
TM.prototype.Ne=function(N,c,X){var l=N.$.getBoundingClientRect();c.update(this.tG,X);c.parent=this;
var C=new Q(d.E.m,!0);C.data={I:d.L.jh,mC:c,x:l.left,y:l.top,_CI:!0};this.C(C)};TM.prototype._Zg=function(N){this.Fb({I:v.ww})};
TM.prototype.__U=function(N){this.Fb({I:v.wM})};TM.prototype._Cz=function(N){this.Fb({I:v.wm})};TM.prototype._UU=function(N){this.Fb({I:v.wU})};
TM.prototype._LC=function(N){this.Fb({I:v.wL})};TM.prototype.Fb=function(N){var c=new Q(d.E.A,!0);c.data=N;
c.K=H.xA;this.C(c)};TM.prototype._TK=function(){var N=["Link Layers",[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],c=[this._LC,this._vg,this._UP,this._Zg,this.__U,this._Cz,this._UU];
for(var X=0;X<N.length;X++){var l=new _w("W",!1,N[X]);this.Ww.push(l);l.i("click",c[X],this);this.iP.appendChild(l.$);
if(X==N.length-1){var C=l.$;C.addEventListener("drop",this._BV.bind(this),!1);C.addEventListener("dragover",function(q){l.oH()}.bind(this),!1);
C.addEventListener("dragenter",TG.QY,!1);C.addEventListener("dragleave",function(q){l.oN()}.bind(this),!1)}}};
TM.prototype._BV=function(N){this.Ww[this.Ww.length-1].oN();var c=N.dataTransfer.getData("Text");if(c=="")return;
var c=JSON.parse(c);if(c.Te=="l"){var X={I:v.wU};if(this.tG.Q.indexOf(c.KO)==-1)X.e=c.KO;this.Fb(X)}if(c.Te=="sm"||c.Te=="s"){var l=new Q(d.E.A,!0);
l.K=H.xk;l.data={I:c.Te=="sm"?"st_clear":"st_delsingle",e:c.KO,KO:c.Zn};this.C(l)}if(c.Te=="fm"||c.Te=="f"){this.Fb({I:c.Te=="fm"?v.VT:v.VB,e:c.KO,KO:c.Zn})}};
function TG(N,c,X,l){_A.call(this);this.parent=c;this.nG=N;this.Zz=[];this.$=d.S("div","layeritem");
this.Dd=this.Yx.bind(this);this.yB=this.Yf.bind(this);this.LB=this._vW.bind(this);var C=N.e,t=15,y=!1;
this.bG=d.S("div",X.Q.indexOf(N.index)!=-1?"head selected":"head");if(N.e.add.artb!=null)d.yH(this.bG,"artb");
this.bG.setAttribute("style","height: "+(C.rT+10)+"px");this.bH=d.S("div","headL");this.bF=d.S("div","headR");
this.BU=d.S("div","lpineck");this.yO=d.S("div","lpibody");this.$.appendChild(this.bG);this.bG.appendChild(this.bH);
this.bG.appendChild(this.bF);if(C.iO()||C.iF())if(C.ic())this.$.appendChild(this.BU);var q=this.bG;q.setAttribute("draggable","true");
q.addEventListener("dragstart",this.Ys.bind(this),!1);q.addEventListener("drop",this.Yv.bind(this),!1);
q.addEventListener("dragover",this.Y$.bind(this),!1);q.addEventListener("dragenter",TG.QY,!1);q.addEventListener("dragleave",this.YK.bind(this),!1);
this.hm=[];this.vd=[];this.TQ=d.S("div");this.Zc=d.S("div","eye");this.TQ.appendChild(this.Zc);this.bO=d.S("div","space");
this.hZ=d.S("div","arrow");this._Cx=d.S("div","folder");this._CQ=d.S("div","clipp");this.nl=d.S("div","thumb");
this.PF=d.S("div","chain");this.sD=d.S("div","thumb");this.Lr=d.S("div","chain");this.LS=d.S("div","thumb");
this.sz=d.S("div","thumb");this.aP=d.S("div","label");this.aP.textContent=C.getName();this._CV=d.S("div","link");
this.Sn=d.S("div","lock");this._Cl=d.S("div","lrfx");this.Lx=d.S("div","arfx");this.bG.addEventListener("click",this.Yp.bind(this),!1);
this.bG.addEventListener("contextmenu",this.LB,!1);this.sz.addEventListener("click",this.Yp.bind(this),!1);
this.sz.addEventListener("contextmenu",this.LB,!1);var J=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],Z=C.add.lclr==null?0:J[C.add.lclr];
if(Z==0)Z=l.eq;var W=[Z>>16,Z>>8&255,Z&255];for(var s=0;s<3;s++){W[s]=Math.round(.5*W[s]+.5*220)}if(1<d.V()&&d.V()<1.5)t=t/d.V();
this.TQ.setAttribute("style","background-color:rgba("+W.join(",")+","+(Z==0?0:1)+");");this.Zc.setAttribute("style","background-size: "+t+"px "+t+"px;");
var T=this.YR.bind(this);this.TQ.addEventListener("mousedown",T,!1);this.TQ.addEventListener("mouseover",T,!1);
this.hZ.addEventListener("click",this.YP.bind(this),!1);this.PF.addEventListener("click",this.Yh.bind(this),!1);
this.Lr.addEventListener("click",this.Yr.bind(this),!1);this.aP.addEventListener("click",this.YS.bind(this),!1);
this.Lx.addEventListener("click",this._$_.bind(this),!1);this.hm[0]=this.TQ;this.hm[1]=this.bO;this.hm[10]=this.aP;
if(C.iv()){this.hm[2]=this.hZ;this.hm[3]=this._Cx;if(C.add.lsct==_I.iW){for(var s=N.children.length-1;
s>=0;s--){var g=new TG(N.children[s],c,X,{eq:Z});this.Zz.push(g);this.yO.appendChild(g.$)}this.$.appendChild(this.yO)}this.hZ.setAttribute("class",C.add.lsct==_I.iW?"open":"closed")}else{this.hm[5]=this.nl;
this.nl.appendChild(C.Tf.canvas)}var R=C.im();if(R){this.sD.appendChild(N.e.NM.canvas);this.PF.style.opacity=R.XS?1:0}if(C.add.vmsk){this.LS.appendChild(N.e._o.canvas);
this.Lr.style.opacity=C.add.vmsk.XS?1:0}if(C.iF()&&C.iM(X).b){this.sz.appendChild(N.e.YO.canvas)}if(C.iO()){this.BU.addEventListener("contextmenu",this.LB,!1);
var P=new TM.Ya(BT.get([12,1]),"sm","layerstyle",N.depth,0,null);P.parent=this;this.BU.appendChild(P.$);
var O=C.add.lmfx,b=O.masterFXSwitch.v;P.io(b);for(var s=0;s<F.order.length;s++){var z=O[F.cf[s]].v;if(z.length==0)continue;
for(var m=0;m<z.length;m++){var P=new TM.Ya(BT.get(F.names[s]),"s","layerstyle",N.depth,1,[s,m]);P.io(b&&z[m].v.enab.v);
P.parent=this;this.BU.appendChild(P.$)}}}if(C.iF()){var P=new TM.Ya(BT.get([12,55]),"fm",null,N.depth,0,-1,C.iM(X).b?this.sz:null);
P.parent=this;this.BU.appendChild(P.$);this.Jt=P.$;this.Jt.addEventListener("contextmenu",this.LB,!1);
var O=C.add.SoLd.filterFX.v,f=O.filterFXList.v,b=O.enab.v;P.io(b);for(var s=f.length-1;s>=0;s--){var B=f[s].v,K=B.filterID.v,j=_.RU(K);
if(BP.aV[j])j=BP.aV[j];var S=B.Nm.v;if(_E.names[j])S=BT.get(_E.names[j]);if(BP.names[j])S=BT.get(BP.names[j]);
var r=TK[j]||Ts[j]?"filter_"+j:null,P=new TM.Ya(S,"f",r,N.depth,1,s);P.io(b&&B.enab.v);P.parent=this;
this.BU.appendChild(P.$)}}if(X.R.indexOf(C)==X.Q[0]){if(C.X<=0)this.nl.setAttribute("class","thumb active");
if(C.X==1)this.sD.setAttribute("class","thumb active");if(C.X==3)this.sz.setAttribute("class","thumb active");
if(C.gB)this.LS.setAttribute("class","thumb active")}this.TQ.style.opacity=C.iw()?1:.25;this.bO.setAttribute("style","width:"+Math.max(0,N.depth-1)*18+"px");
var n=C.add.lspf!=null&&C.add.lspf!=0;this.Sn.style.opacity=C.add.lspf?1:.5;var o=C.i$()&&C.add.vmsk;
this.hm[4]=C.Xy?this._CQ:null;this.hm[6]=R?this.PF:null;this.hm[7]=R?this.sD:null;this.hm[8]=C.add.vmsk&&!o?this.Lr:null;
this.hm[9]=C.add.vmsk&&!o?this.LS:null;var D=C.XG,x=X.Q;if(D!=0)for(var s=0;s<x.length;s++)if(X.R[x[s]].XG==D){y=!0;
break}this.vd[0]=y?this._CV:null;this.vd[1]=n?this.Sn:null;this.vd[2]=C.iO()?this._Cl:null;this.vd[3]=C.iO()||C.iF()?this.Lx:null;
this.Lx.setAttribute("class",C.ic()?"arfx open  gsicon":"arfx closed  gsicon");var A=this.hm;for(var s=0;
s<A.length;s++)if(A[s])this.bH.appendChild(A[s]);A=this.vd;for(var s=0;s<A.length;s++)if(A[s])this.bF.appendChild(A[s])}TG.prototype=new _A;
TG.prototype.YT=function(N){var c=this.nG.index;if(N.indexOf(c)!=-1){if(this.$.scrollIntoView)this.$.scrollIntoView({block:"nearest"})}for(var X=0;
X<this.Zz.length;X++)this.Zz[X].YT(N)};TG.QY=function(N){N.stopPropagation();N.preventDefault()};TG._Ir=function(N){N.stopPropagation()};
TG.YB=function(N,c){var X=c.getBoundingClientRect();return(N.clientY-X.top)/X.height};TG.prototype.Ys=function(N){N.stopPropagation();
N.dataTransfer.setData("Text",JSON.stringify({Te:"l",KO:this.nG.index}))};TG.prototype.YK=function(N){TG.QY(N);
this.YU()};TG.prototype.Yv=function(N){TG.QY(N);this.YU();var c=N.dataTransfer.getData("Text"),X=this.parent.tG,l=TG.YB(N,this.bG),C=this.nG.index;
if(l>.8){var q=!0,J=X.root.VC(C);while(J.parent!=null){var Z=J.parent,W=Z.children;if(W.indexOf(J)!=0)q=!1;
J=J.parent}if(q){C=0;l=1}}if(c==""){d.jv(N,this,this.parent.BD.indexOf(X),C+(l>.5?0:1))}else{var c=JSON.parse(c);
if(c.Te=="l")this.Fb({I:v.wX,source:c.KO,target:C,m_:l>.5})}};TG.prototype.Y$=function(N){TG.QY(N);var c=TG.YB(N,this.bG);
this.YU();var X="border-"+(c>.5?"bottom":"top");if(this.nG.e.iv()&&.5<c&&c<.8)X="border";this.bG.style[X]="0.2em solid rgba(0,0,0,0.5)"};
TG.prototype.YU=function(N){this.bG.style.border="none"};TG.YL=-1;TG.YC=!1;TG.YZ=function(N){TG.YC=!1;
document.body.removeEventListener("mouseup",TG.YZ)};TG.prototype.YR=function(N){if(N.button!=0)return;
if(N.type=="mousedown"){TG.YC=!0;document.body.addEventListener("mouseup",TG.YZ,!1)}if(N.type=="mouseover"&&(!TG.YC||TG.YL==this.nG.index))return;
N.stopPropagation();N.preventDefault();this.Fb({I:v.wj,e:this.nG.index});TG.YL=this.nG.index};TG.prototype.YP=function(N){this.Fb({I:v.wF,e:this.nG.index})};
TG.prototype.Yh=function(N){this.Fb({I:v.wa,e:this.nG.index})};TG.prototype.Yr=function(N){this.Fb({I:v.wi,e:this.nG.index})};
TG.prototype.YS=function(N){if(N.detail==1)return;var c=this.nG.e,X=d.S("input","");X.setAttribute("type","text");
X.setAttribute("size","10");X.setAttribute("value",c.getName());d.yF(this.aP);this.aP.appendChild(X);
X.select();X.focus();this.bG.setAttribute("draggable","false");this.aP.addEventListener("keyup",this.Dd,!1);
document.body.addEventListener("mousedown",this.yB,!1)};TG.prototype.Yf=function(N){var c=N.target;if(c.tagName&&c.tagName.toLowerCase()=="input")return;
this.YQ(!0)};TG.prototype.Yx=function(N){var c=M.pT;if(c(N.code,M.pR)||c(N.code,M.pK))this.YQ(c(N.code,M.pK))};
TG.prototype.YQ=function(confirm){this.aP.removeEventListener("keyup",this.Dd);document.body.removeEventListener("mousedown",this.yB);
if(confirm)this.Fb({I:v.we,e:this.nG.index,name:this.aP.firstChild.value});else this.aP.innerHTML=this.nG.e.getName()};
TG.prototype._$_=function(N){this.Fb({I:v.wH,e:this.nG.index})};TG.prototype._vW=function(N){if(N.button!=2)return;
var c=new Q("rclick",!0);c.data={e:this.nG.index,X:this.X(N),fC:d.jT(N,document.body),_C_:N.currentTarget==this.Jt};
this.C(c)};TG.prototype.X=function(N){var c=N.target;return c.parentNode==this.LS?2:c.parentNode==this.sD?1:c.parentNode==this.nl?0:c.parentNode==this.sz?3:-1};
TG.prototype.Yp=function(N){if(N.button!=0)return;var c=N.target;if(c==this.Zc||c==this.Lx||c==this.PF||c==this.Lr||c.tagName&&c.tagName.toLowerCase()=="input")return;
var X=this.X(N);if(N.detail==2){if(c==this.aP)return;var l=this.nG.index,C=this.parent.tG.R[l],q=new Q(d.E.m,!0);
if(X==0&&(BP.get(C.add)||C.add.SoCo||C.add.GdFl||C.add.PtFl))q.data={I:d.L.jc,mO:"properties"};else if(X!=0&&X!=-1)q.data={I:d.L.jc,mO:"properties"};
else if(X==0&&C.add.SoLd)q.data={I:d.L.jp};else if(X==0&&C.add.TySh)q.data={I:d.L.jH,K:H.xK};else q.data={I:d.L.jl,mO:"layerstyle",e:l};
this.C(q);if(X==0&&C.add.TySh){var J=new Q(d.E.A,!0);J.K=H.xK;J.data={I:"editCurr",q$:l};this.C(J)}return}if((N.ctrlKey||N.metaKey)&&(X==0||X==1)){if(c==this.aP)return;
var J=new Q(d.E.A,!0);J.K=H.fj;J.data={I:"fromlayer",e:this.nG.index,da:X,di:N.shiftKey};this.C(J);return}if(N.altKey){var J=new Q(d.E.A,!0);
J.K=H.xA;J.data={I:v.wD,e:this.nG.index};this.C(J);return}var Z={I:v.wO,e:this.nG.index,gb:X};this.Fb(Z)};
TG.prototype.Fb=function(N){var c=new Q(d.E.A,!0);c.data=N;c.K=H.xA;this.C(c)};TM.Ya=function(N,c,X,l,C,q,J){_A.call(this);
this.Hw=c;this.LQ=X;this.index=q;this.$=d.S("div","styleitem");this.bG=d.S("div","head");this.TQ=d.S("div","eye gsicon");
this.aP=d.S("div","label");this.$.appendChild(this.bG);this.bG.appendChild(this.TQ);if(J){this.sD=J;
this.bG.appendChild(this.sD);this.bG.setAttribute("style","height: "+(J.firstChild.height+10)+"px")}this.bG.appendChild(this.aP);
this.aP.innerHTML=N;this.$.setAttribute("style","margin-left: "+(24+l*16+C*22)+"px");this.TQ.addEventListener("click",this._Kp.bind(this),!1);
var Z=this.$;Z.setAttribute("draggable","true");Z.addEventListener("dragstart",this.Ys.bind(this),!1);
if(c=="f"){Z.addEventListener("drop",this.Yv.bind(this),!1);Z.addEventListener("dragover",this.Y$.bind(this),!1);
Z.addEventListener("dragenter",TG.QY,!1);Z.addEventListener("dragleave",this.YK.bind(this),!1)}this.$.addEventListener("click",this.fr.bind(this),!1)};
TM.Ya.prototype=new _A;TM.Ya.prototype.Ys=function(N){N.stopPropagation();N.dataTransfer.setData("Text",JSON.stringify({Te:this.Hw,KO:this.parent.nG.index,Zn:this.index}))};
TM.Ya.prototype.YK=function(N){TG.QY(N);this.YU()};TM.Ya.prototype.Yv=function(N){TG.QY(N);this.YU();
var c=N.dataTransfer.getData("Text");if(c=="")return;var c=JSON.parse(c);if(c.Te=="f"&&c.KO==this.parent.nG.index)this.parent.Fb({I:v.VI,e:c.KO,src:c.Zn,gX:this.index+(TG.YB(N,this.bG)>.5?0:1)})};
TM.Ya.prototype.Y$=function(N){TG.QY(N);var c=TG.YB(N,this.bG)>.5;this.YU();var X="border-"+(c?"bottom":"top");
this.bG.style[X]="0.2em solid rgba(0,0,0,0.5)"};TM.Ya.prototype.YU=function(N){this.bG.style.border="none"};
TM.Ya.prototype.io=function(N){var c=15;if(1<d.V()&&d.V()<1.5)c=c/d.V();this.TQ.setAttribute("style","background-size: "+c+"px "+c+"px;");
this.TQ.style.opacity=N?1:.2};TM.Ya.prototype.fr=function(N){if(N.target==this.TQ)return;if(N.detail!=1&&this.LQ!=null){var c=new Q(d.E.m,!0);
if(this.LQ.indexOf("filter")==0)c.data={I:d.L.jl,mO:this.LQ,nq:{e:this.parent.nG.index,index:this.index}};
else c.data={I:d.L.jl,mO:this.LQ,e:this.parent.nG.index,index:this.index};this.C(c)}};TM.Ya.prototype._Kp=function(N){var c={fm:v.wd,f:v.wg,sm:v.wN,s:v.wY}[this.Hw];
this.parent.Fb({I:c,e:this.parent.nG.index,index:this.index})};function Tb(){TF.call(this,[9,5]);this.Mf.setAttribute("style","min-width:240px;");
this.oX=new _F;this.oX.parent=this;var N=d.S("div","marged");this.Mf.appendChild(N);N.appendChild(this.oX.ZH.$);
N.appendChild(this.oX.ZO.$);N.appendChild(this.oX.ZF.$);N.appendChild(this.oX.Sv.$);N.appendChild(this.oX.SU.$);
N.appendChild(this.oX.S$.$);N.appendChild(this.oX.SZ.$);this.Mf.appendChild(d.S("hr"));var c=d.S("div","marged");
this.Mf.appendChild(c);c.appendChild(this.oX.Wj.$);c.appendChild(this.oX.Id.$);c.appendChild(this.oX.vX.$);
this.Mf.appendChild(d.S("hr"));var X=d.S("div","marged");this.Mf.appendChild(X);X.appendChild(this.oX.vt.$);
X.appendChild(this.oX.Wy.$);X.appendChild(this.oX.Mx.$)}Tb.prototype=new TF("");Tb.prototype.fu=function(N,c){if(c!=BZ.up&&c!=BZ.uo&&c!=BZ.uV)return;
this.oX.Ov(N)};function TX(){TF.call(this,[9,2]);this.dF=null;this.MT=d.S("div","padded");this.MT.style.width="20.4em";
this.Mf.appendChild(this.MT);var N=d.S("span","fitem");this.MT.appendChild(N);this.nW=[new _w([0,3]),new _w([12,73])];
for(var c=0;c<this.nW.length;c++){var X=this.nW[c];X.i("click",this._sz,this);N.appendChild(X.$)}this.MT.appendChild(d.S("hr"));
this.sN=new TX.Yl;this.sN.parent=this;this.sH=new TX.YH;this.sH.parent=this;this.MT.appendChild(this.sN.$)}TX.prototype=new TF("");
TX.prototype._sz=function(N){var c=this.nW.indexOf(N.currentTarget);this.YV(c);this.Yc(c==0?-1:this.sH.vy)};
TX.prototype.YV=function(N){var c=this.sN.$,X=this.sH.$;if(N==1){var l=c;c=X;X=l}if(X.parentNode==this.MT)this.MT.removeChild(X);
if(c.parentNode!=this.MT)this.MT.appendChild(c);this.nW[0].oN();this.nW[1].oN();this.nW[N].oH()};TX.prototype.Yc=function(N){var c=this.dF.Q[0],X=this.dF.R[c],l=N+1;
if(N==1&&X.gB)return;var C=new Q(d.E.A,!0);C.K=H.xA;if(N!=1&&X.gB){C.data={I:v.wO,e:c,gb:2};this.C(C)}C.data={I:v.wO,e:c,gb:l};
this.C(C)};TX.prototype.O=function(){TF.prototype.O.call(this);this.Fp(this.dF);this.nW[0].O();this.nW[1].O();
this.sN.O();this.sH.O()};TX.prototype.Fp=function(N){if(N==null)d.yH(this.Mf,"disabled");else d.yN(this.Mf,"disabled");
this.dF=N;if(N&&N.R.length>0){var c=N.R[N.Q[0]];if(c.X<1&&!c.gB)this.YV(0);else this.YV(1)}this.sN.Fp(N);
this.sH.Fp(N);if(this.sH.vy==-1)this.nW[1].oB();else this.nW[1].oI()};TX.prototype.fu=function(N,c){this.sN.fu(N,c)};
TX.Yl=function(){_A.call(this);this.$=d.S("div","form");this._J=new _b("Hello");this.$.appendChild(this._J.$);
this.Nq=null;this.Jb=null;this.aR=new _V(!0);this.aR.parent=this;this.aR.i(d.E.U,this._Rs,this);this.mH=d.S("div","marged hiline");
this.mH.appendChild(this.aR.$);this.aA=new TA("GrFl",!0);this.aA.parent=this;this.aA.i(d.E.U,this._RC,this);
this.vM=d.S("div","marged hiline");var N="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var c=0;
c<N.length;c++){var X=this.aA.oF[N[c]].$;this.vM.appendChild(X)}this.ak=new TA("patternFill",!0);this.ak.parent=this;
this.ak.i(d.E.U,this.__a,this);this.pj=d.S("div","marged hiline");var N=["Ptrn","Scl","Algn","phase"];
for(var c=0;c<N.length;c++){var X=this.ak.oF[N[c]].$;this.pj.appendChild(X)}this.hi={};for(var l in BP.names){if(Ts[l]==null)continue;
this.hi[l]=new Ts[l];this.hi[l].i(d.E.U,this.__T,this);this.hi[l].parent=this}};TX.Yl.prototype=new _A;
TX.Yl.prototype.O=function(){for(var N in this.hi)this.hi[N].O();this.aA.O();this.ak.O()};TX.Yl.prototype._Rs=function(N){var c=this.dF,X=c.Q[0],l=JSON.parse(JSON.stringify(c.R[X].add.SoCo));
l.Clr.v=this.aR.F();this.Yo({Xw:1,aY:l})};TX.Yl.prototype._RC=function(N){this.Yo({Xw:2,aY:this.aA.F()})};
TX.Yl.prototype.__a=function(N){this.Yo({Xw:3,aY:this.ak.F()})};TX.Yl.prototype.Yo=function(N){this.YF(H.xA,{I:v.VK,dz:[this.dF.Q[0]],dD:!0,q:N})};
TX.Yl.prototype.__T=function(N){this.YF(H.xf,{I:"edit_layer",q:this.Jb.F()})};TX.Yl.prototype.YF=function(N,c){var X=new Q(d.E.A,!0);
X.K=N;X.data=c;this.C(X)};TX.Yl.prototype.Fp=function(N){var c=BT.get([0,3]),X=null;this.dF=N;if(N&&N.R.length>0){var l=N.R[N.Q[0]],C=BP.get(l.add);
if(C!=null&&this.hi[C]!=null){X=this.hi[C].$;this.Jb=this.hi[C];this.hi[C].H(BP.ao(l.add));c=BT.get(BP.names[C])}if(l.add.SoCo){X=this.mH;
this.aR.H(l.add.SoCo.Clr.v);c=BT.get([6,48,0,0])}if(l.add.GdFl){X=this.vM;this.aA.update(N,l.add.GdFl);
c=BT.get([6,48,0,1])}if(l.add.PtFl){X=this.pj;this.ak.update(N,l.add.PtFl);c=BT.get([6,48,0,2])}}if(X!=this.Nq){if(this.Nq)this.$.removeChild(this.Nq);
if(X!=null)this.$.appendChild(X);this.Nq=X}this._J.H(c)};TX.Yl.prototype.fu=function(N,c){this.aA.fu(N,c);
this.ak.fu(N,c);for(var X in this.hi)this.hi[X].fu(N,c)};TX.YH=function(){_A.call(this);this.$=d.S("div","form");
this.dF=null;this.vy=0;var N=d.S("span","fitem");this.$.appendChild(N);this.nW=[new _w([6,2]),new _w([6,3]),new _w([6,50])];
for(var c=0;c<this.nW.length;c++){var X=this.nW[c];X.i("click",this._Ex,this);N.appendChild(X.$)}this.hd=new _g([12,74],0,255);
this.hd.i(d.E.U,this.oS,this);this.$.appendChild(this.hd.$);this.hq=new _g([7,6],0,40,"px",2,!0);this.hq.i(d.E.U,this.oS,this);
this.$.appendChild(this.hq.$)};TX.YH.prototype=new _A;TX.YH.prototype.oS=function(N){var c=this.hd.F(),X=this.hq.F(),l=new Q(d.E.A,!0);
l.K=H.xA;l.data={I:v.VU,Px:this.dF.Q[0],xx:{aI:this.vy,hd:c,hq:X}};this.C(l)};TX.YH.prototype.O=function(){for(var N=0;
N<this.nW.length;N++)this.nW[N].O();this.hd.O();this.hq.O()};TX.YH.prototype.Fp=function(N){this.dF=N;
this.oe()};TX.YH.prototype._Ex=function(N){this.oe(this.nW.indexOf(N.currentTarget));this.parent.Yc(this.vy)};
TX.YH.prototype.oe=function(N){var c=this.dF,X=this.nW;for(var l=0;l<3;l++){var C=X[l];C.oN();C.oB()}if(c==null||c.R.length==0)return;
var q=-1,J=c.R[c.Q[0]];if(J.iF()&&J.iM(c).b!=null){X[2].oI();q=2}if(J.add.vmsk){X[1].oI();q=1}if(J.im()){X[0].oI();
q=0}if(N!=null)q=N;else if(J.gB)q=1;else if(J.X==3)q=2;else if(J.X==1)q=0;this.vy=q;if(q==-1){this.hd.oB();
this.hq.oB();return}var Z=J.iX(q);this.hd.oI();this.hq.oI();this.hd.H(Z.hd);this.hq.H(Z.hq);X[q].oH()};
function Tn(N){TF.call(this,N.name,!0);this.tG=N;this.tb=null;this.tJ=!1;this.eG={x:0,y:0,tE:!1};this.LV=!0;
this.On=document.createElement("canvas");this.Ig=this.On.getContext("2d");this._H=document.createElement("canvas");
this.N=this._H.getContext("2d");var c=16,X=I.a(16*16*4);I.TK(X,c,c,8,0,0);this.Fn=I.scale.vp(X,c,c);
this._CX=this.xX.bind(this);this.vx=this.xn.bind(this);this.Du=this.xe.bind(this);var l=this.Mf;d.yn(l,this._CX);
d.ye(l,this.vx);l.addEventListener("wheel",this.oQ.bind(this),!1);l.addEventListener("contextmenu",this._EI.bind(this),!1);
this.WL=0;this.CV=4;d.yg(l)}Tn.prototype=new TF("");Tn.prototype.NZ=function(){if(this.tG.cI())return window.confirm("There is unsaved work in "+this.tG.name+". Do you really want to close it?");
return!0};Tn.prototype.jB=function(N){N.preventDefault()};Tn.prototype.xX=function(N){if(N.button!=null&&N.button!=0)return;
this.tJ=!0;var c=new Q("mouse",!0);c.action="down";this.Yz(N,c);this.C(c);d.yq(this.Mf,this.vx);d.ye(window,this.vx);
d.yW(window,this.Du)};Tn.prototype.xn=function(N){var c=new Q("mouse",!0);c.action="move";this.Yz(N,c);
this.C(c)};Tn.prototype.xe=function(N){this.tJ=!1;var c=new Q("mouse",!0);c.action="up";this.Yz(N,c);
this.C(c);d.yq(window,this.vx);d.yd(window,this.Du);d.ye(this.Mf,this.vx)};Tn.prototype.oQ=function(N){var c=new Q("mouse",!0);
c.action="scroll";this.Yz(N,c);this.C(c);this.jB(N)};Tn.prototype._EI=function(N){N.stopPropagation();
N.preventDefault();var c=new Q("mouse",!0);c.action="ctx";this.Yz(N,c);this.C(c)};Tn.prototype.Yz=function(N,c){if(c.action!="up"){var X=d.V(),l=d.jT(N,this.Mf);
this.eG=c.dT={x:X*l.x,y:X*l.y,tE:this.tJ};var C=d.jT(N,document.body);c.dT.qq=C.x;c.dT.qd=C.y}else this.eG=c.dT={x:this.eG.x,y:this.eG.y,tE:this.tJ};
c.dT.Wi=1;if(N.pressure!=null&&N.pressure!=0)c.dT.Wi=N.pressure*2;c.tD=new k(N.deltaX*.5,N.deltaY*.5)};
Tn.prototype.fu=function(N,c){this.tb=N};Tn.prototype.Fp=function(N){this.NL();this._Eq(N.name+(N.cI()?" *":""));
this.Fs()};Tn.prototype.FE=function(N,c){var X=this.tG,l=d.V();X.g.N.h=Math.floor(N*l);X.g.N.s=Math.floor(c*l);
d.jE(this._H,N,c);d.jE(this.On,N,c);d.jE(h.LG(),N,c);if(X.g.o==0)X.g.o=H.AN.Az(X.h,X.s,N*l,c*l);this.LV=!0;
this.Fs()};Tn.prototype.NL=function(){var N=this.Mf.firstChild;if(!h.LH&&N==h.LG()||h.LH&&N==this._H)this.Mf.removeChild(N);
this.Mf.appendChild(h.LH?h.LG():this._H)};Tn.prototype.Fs=function(){if(h.LH!=this.CV){this.WL=0;this.LV=!0}this.CV=h.LH;
if(this.tb==null)return;if(h.LH)this._Pc();else this._sZ();var N=this.tG;this.WL=N.g.o;this.LV=!1};Tn.prototype._Pc=function(){if(h.LH&&Tn.Di==null)Tn.Di=new Tn.CP(!1);
if(h.LH&&Tn.Dw==null)Tn.Dw=new Tn.CP(!0);var N=this.tG,Z;if(N.ht==null)return;var c=N.g,X=c.N.h,l=c.N.s,C=h.vA;
this.N.clearRect(0,0,c.N.h,c.N.s);var q=this.Yb(N,this.N,c);if(N.G)this.YG();if(c.$G==null)c.$G=new h.IL(c.N.h,c.N.s);
if(N.G!=null||q)c.$G.set(this._H);else{h.Lb(c.$G);h.Th(0)}var J=new u(0,0,N.h*c.o,N.s*c.o);J.x=Math.round((X-N.h*c.o)/2+c.M.x);
J.y=Math.round((l-N.s*c.o)/2+c.M.y);var W=[0,0,0,0],s=[];if(N.add.artd){W=Tn.Ym(N);var t=N.h,T=N.s;Z=Tn.Dw;
for(var g=0;g<N.R.length;g++){var R=N.R[g];if(R.add.artb==null||!R.iw())continue;var P=R.iY();s.push(P.x/t,P.y/T,P.h/t,P.s/T)}if(s.length>32*4)s=s.slice(0,32*4);
while(s.length<32*4)s.push(0,0,0,0)}else Z=Tn.Di;h.LX(X,l);h.Th(0);h.LX(X,l);Z.Lg();Z.Ld(c.$G.bX,N.ht.bX,new Float32Array([J.x/X,J.y/l,J.h/X,J.s/l]),new Float32Array([8/X,8/l]),N.h,N.s,1/N.g.o,X,l,new Float32Array(s),new Float32Array(W));
C.drawArrays(C.TRIANGLES,0,6)};Tn.Ym=function(N){var c=N.add.artd;if(c.canvasColor==null)return[0,0,0,0];
var X=c.canvasColor.v,l=[X.Rd.v/255,X.Grn.v/255,X.Bl.v/255,1];for(var C=0;C<4;C++)l[C]=Math.min(1,l[C]);
return l};Tn.prototype._sZ=function(){var N=this.tG;if(N.buffer==null)return;var c=N.g,X=c.N.h,l=c.N.s;
this.Ig.clearRect(0,0,c.N.h,c.N.s);if(N.add.artd==null){this.N.clearRect(0,0,c.N.h,c.N.s)}else{var C=Tn.Ym(N);
this.N.fillStyle="#"+I._z(C[0]*255<<16|C[1]*255<<8|C[2]*255);this.N.fillRect(0,0,c.N.h,c.N.s)}var q=c.cr(),J=c.N.vm(q);
this.N.save();this.N.translate(q.x,q.y);if(N.add.artd==null){this.N.fillStyle=this.Fn;this.N.fillRect(0,0,q.h,q.s)}else{this.N.fillStyle="#ffffff";
this.N.scale(c.o,c.o);for(var Z=0;Z<N.R.length;Z++){var W=N.R[Z];if(W.add.artb==null||!W.iw())continue;
var s=W.iY();this.N.fillRect(s.x,s.y,s.h,s.s)}}this.N.restore();var t=N.h!=c.Zq.h||N.s!=c.Zq.s;if(t)c.Zq.Cj(0,0,N.h,N.s);
if(c.o<=1){if(c.o!=this.WL||N.nM){if(c.o!=this.WL||c.hW==null||t)c.hW=this.N.createImageData(Math.max(1,q.h),Math.max(1,q.s));
if(c.o<1){var T=I.TJ(N.buffer,new u(0,0,N.h,N.s),c.o,new Uint8Array(c.hW.data.buffer))}else I.Tx(N.buffer,c.hW.data)}this.Ig.putImageData(c.hW,q.x,q.y);
this.N.drawImage(this.On,J.x,J.y,J.h,J.s,J.x,J.y,J.h,J.s)}else{var g=c.cS(),R=new u(0,0,g.h*c.o,g.s*c.o);
R.x=g.x*c.o+q.x;R.y=g.y*c.o+q.y;if(c.o!=this.WL||this.LV){c.hR=I.a(g.n()*4);c.hW=this.N.createImageData(R.h,R.s)}I.set(c.hR,0);
I.TF(this.tG.buffer,new u(0,0,N.h,N.s),c.hR,g);I.scale.vc(c.hR,g.h,g.s,c.hW.data,R.h,R.s,c.o);this.Ig.putImageData(c.hW,R.x,R.y);
this.N.drawImage(this.On,0,0)}this.Yb(N,this.N,c);if(N.G)this.YG()};Tn.prototype.YG=function(){var N=this.tG,c=N.g,X=c.cr(),l=c.cS(),C=0,q=0;
if(c.o<=1){var J=N.G.rect.clone();J.x=Math.round(J.x*c.o);J.y=Math.round(J.y*c.o);J.h=Math.floor(J.h*c.o);
J.s=Math.floor(J.s*c.o);var Z=N.G.channel;if(c.o<1){var W=I.a(N.G.rect.n()*4);I.TP(N.G.channel,W,3);
var s=I.TJ(W,N.G.rect,c.o);J.h=s.rect.h;J.s=s.rect.s;if(c.zh==null||c.zh.length<J.n())c.zh=I.a(J.n());
Z=c.zh;I.TR(s.Ml,Z,3)}if(c.hn==null||c.hn.width!=J.h||c.hn.height!=J.s)c.hn=this.N.createImageData(Math.max(1,J.h),Math.max(1,J.s));
else I.Tr(c.hn.data,0);C=Math.round(X.x+J.x);q=Math.round(X.y+J.y);I.G.vF(Z,c.hn.data,J,h.LH?65535:16777215,Math.max(-C,0),Math.max(-q,0),Math.min(c.N.h-C,J.h),Math.min(c.N.s-q,J.s));
this.Ig.clearRect(0,0,c.N.h,c.N.s)}else{var t=new u(0,0,l.h*c.o,l.s*c.o),T=t.n();C=l.x*c.o+X.x;q=l.y*c.o+X.y;
if(c.o!=this.WL||c.hn==null||c.hn.width!=t.h||c.hn.height!=t.s){c.zh=I.a(T);c.hn=this.N.createImageData(t.h,t.s)}var g=I.a(l.n());
I.Ty(N.G.channel,N.G.rect,g,l);I.scale.vV(g,l.h,l.s,c.zh,t.h,t.s,c.o);I.Tr(c.hn.data,0);I.G.vF(c.zh,c.hn.data,t,h.LH?65535:16777215)}this.Ig.putImageData(c.hn,C,q);
this.N.drawImage(this.On,0,0)};Tn.prototype.Yb=function(N,c,X){var l=N.v.qk||N.v.tl||N.v.ts,C=X.cr(),q=new Bh(X.o,0,0,X.o,C.x+.5,C.y+.5),J=_Q.jd[this.tb.hS];
c.fillStyle="#333300";c.font=12*d.V()+"px sans-serif";if(N.add.artd)for(var Z=0;Z<N.R.length;Z++){var W=N.R[Z];
if(W.add.artb==null||!W.iw())continue;var s=W.iY(),t=new k(s.x,s.y);t=q.CM(t);c.fillText(W.getName(),Math.round(t.x),Math.round(t.y-6));
l=!0}c.fillStyle=h.LH?"rgba(0,0,255,1)":"rgba(0,0,0,0.4)";c.strokeStyle=h.LH?"#0000ff":"#000000";for(var T=0;
T<N.Q.length;T++){var W=N.R[N.Q[T]];if(!(W.add.vmsk&&(W.gB||W.i$())))continue;var g=W.add.vmsk,R=g.p;
c.lineWidth=.5;if(this.tb.dE.BC){c.beginPath();var P=I.z.KM(R);I.z.Kp(P.l,q,P.l);Typr.U.pathToContext({cmds:P.Gv,crds:P.l},c);
c.stroke();l=!0}if(N.Q.length!=1)continue;var O=-1,b=Math.round(3*d.V());for(var Z=0;Z<R.length;Z++){if(R[Z].type>5)continue;
if(R[Z].type==0||R[Z].type==3){if(R[Z].GU!=-1)O++;continue}if(g.Q.indexOf(O)!=-1){var z=C.x+R[Z].t.x*X.o,m=C.y+R[Z].t.y*X.o;
c.fillRect(Math.round(z-b+.5),Math.round(m-b+.5),2*b-1,2*b-1)}if(g.dm.indexOf(Z)!=-1){var f=[R[Z].t];
c.beginPath();c.moveTo(C.x+R[Z].GC.x*X.o,C.y+R[Z].GC.y*X.o);c.lineTo(C.x+R[Z].t.x*X.o,C.y+R[Z].t.y*X.o);
c.lineTo(C.x+R[Z].GR.x*X.o,C.y+R[Z].GR.y*X.o);c.stroke();if(!R[Z].t.TA(R[Z].GC))f.push(R[Z].GC);if(!R[Z].t.TA(R[Z].GR))f.push(R[Z].GR);
for(var B=0;B<f.length;B++){var K=f[B],z=C.x+K.x*X.o,m=C.y+K.y*X.o;if(B==0&&(R[Z].type==2||R[Z].type==5))c.fillRect(Math.round(z-1.2*b),Math.round(m-1.2*b),Math.round(2.4*b),Math.round(2.4*b));
else{c.beginPath();c.arc(z,m,b*1.2,0,2*Math.PI);c.fill()}}}l=!0}}c.lineWidth=1;if(N.v.qk){c.beginPath();
var P=I.z.clone(N.v.qk);I.z.Kp(P.l,q,P.l);Typr.U.pathToContext({cmds:P.Gv,crds:P.l},c);c.fill()}if(N.v.tl){c.beginPath();
var P=I.z.clone(N.v.tl);I.z.Kp(P.l,q,P.l);Typr.U.pathToContext({cmds:P.Gv,crds:P.l},c);c.stroke()}c.beginPath();
var b=4*d.V(),j=N.v.tN;for(var Z=0;Z<j.length;Z+=2){l=!0;var z=C.x+j[Z]*X.o,m=C.y+j[Z+1]*X.o;c.rect(z-b+.5,m-b+.5,2*b-1,2*b-1)}c.stroke();
c.beginPath();var b=4*d.V(),j=N.v.__D;for(var Z=0;Z<j.length;Z+=2){l=!0;var z=C.x+j[Z]*X.o,m=C.y+j[Z+1]*X.o;
c.moveTo(z+b-.5,m);c.arc(z,m,b-.5,0,2*Math.PI)}c.fill();if(N.v.qD){l=!0;var S=N.v.qD,r=S.qt,P={Gv:[],l:[]};
for(var Z=0;Z<S.qW.length;Z++)I.z.concat(P,I.z.Kq(S.qW[Z]));P.l=P.l.concat(r);for(var Z=0;Z<r.length;
Z+=4)P.Gv.push("M","L");c.beginPath();c.strokeStyle=h.LH?"#dd3300":"#dd3333";I.z.Kp(P.l,q,P.l);Typr.U.pathToContext({cmds:P.Gv,crds:P.l},c);
c.stroke();var n=d.V();c.font=Math.round(12*n)+"px sans-serif";for(var Z=0;Z<r.length;Z+=4){var z=r[Z],m=r[Z+1],o=r[Z+2],y=r[Z+3],D=Math.sqrt((y-m)*(y-m)+(o-z)*(o-z))+"",x=new k((z+o)/2,(m+y)/2);
x=q.CM(x);c.fillStyle=h.LH?"#dd3300":"#dd3333";var A=c.measureText(D),e=A.width;c.fillRect(x.x-e/2-2.5*n,x.y-7.5*n,e+5*n,15*n);
c.fillStyle=h.LH?"#ffff00":"#ffffff";c.fillText(D,x.x-e/2,x.y+4*n)}}if(this.tb.qg){c.lineWidth=1;var U=this.tb.dE;
if(U.dZ){this._Y(N,C,c,U.dC,"#808000");l=!0}if(U.aK&&N.g.o>7){this._Y(N,C,c,1,"rgba(128,128,0,0.5)");
l=!0}if(U.Xb){c.beginPath();c.strokeStyle=h.LH?"#00ff00":"#00ffff";for(var Z=0;Z<N.Xb[0].length;Z++){var L=Math.round(N.g.cP(N.Xb[0][Z],0).x)+.5;
c.moveTo(L,0);c.lineTo(L,N.g.N.s)}for(var Z=0;Z<N.Xb[1].length;Z++){var Y=Math.round(N.g.cP(0,N.Xb[1][Z]).y)+.5;
c.moveTo(0,Y);c.lineTo(N.g.N.h,Y)}c.closePath();c.stroke()}}c.strokeStyle=h.LH?"#ff0000":"#ff00ff";if(N.v.ts){c.beginPath();
var P=I.z.clone(N.v.ts);I.z.Kp(P.l,q,P.l);Typr.U.pathToContext({cmds:P.Gv,crds:P.l},c);c.stroke()}if(this.tb.d_){var E=window.getComputedStyle(document.body);
if(N.g.GA==null||N.g.GA.width!=N.g.N.h||N.g.Gk.height!=N.g.N.s){N.g.GA=c.createImageData(N.g.N.h,I.vC.vZ);
N.g.Gk=c.createImageData(I.vC.vZ,N.g.N.s)}var J=_Q.jd[this.tb.hS];I.vC._Cn(N.g,J["--text-color"],J["--bg-input"]);
if(h.LH){I.Tr(N.g.Gk.data,0,4278255615);I.Tr(N.g.GA.data,0,4278255615)}c.putImageData(N.g.Gk,0,0);c.putImageData(N.g.GA,0,0);
c.fillStyle="#000000"}return l||this.tb.d_||N.Xb[0].length+N.Xb[1].length>0};Tn.prototype._Y=function(N,c,X,l,C){while(l*N.g.o<4)l*=2;
var q=c.x,J=q+c.h,Z=c.y,W=Z+c.s;X.beginPath();X.strokeStyle=C;for(var s=0;s<=N.h;s+=l){var t=Math.round(N.g.cP(s,0).x)+.5;
X.moveTo(t,Z);X.lineTo(t,W)}for(var T=0;T<=N.s;T+=l){var g=Math.round(N.g.cP(0,T).y)+.5;X.moveTo(q,g);
X.lineTo(J,g)}X.closePath();X.stroke()};Tn.CP=function(N){h.LW.call(this);this._ZE=N;var c="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform vec4 bgClr; \t\t\t"+(N?"uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+h.CB.CC+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); "+(N?"\t\t\t\t\tbool inr = false; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tinr = inr || ( ar.z!=0.0 && in01(nsc/ar.zw) );\t\t\t\t\t}\t\t\t\t\tvec4 BG = inr ? vec4(1.0,1.0,1.0,1.0) : bgClr; \t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b != 0.0) outc = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\tgl_FragColor = simpleBlend((1.0-src.b)*src.rgga,outc); \t\t\t\t\t\t\t}",X="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.oP(c,X)};Tn.CP.prototype=new h.LW;Tn.CP.prototype.Ld=function(N,c,X,l,C,q,J,Z,W,s,t){this.Lq("srct gsize source target imgSizeZoom cnvSize ars bgClr".split(" "));
var T=h.vA,g=this.pe;T.uniform4fv(g.srct,X);T.uniform2fv(g.gsize,l);T.uniform3f(g.imgSizeZoom,C,q,J);
T.uniform2f(g.cnvSize,Z,W);T.uniform4fv(g.bgClr,t);if(this._ZE)T.uniform4fv(g.ars,s);T.uniform1i(g.source,0);
T.uniform1i(g.target,1);T.activeTexture(T.TEXTURE0);T.bindTexture(T.TEXTURE_2D,N);T.activeTexture(T.TEXTURE1);
T.bindTexture(T.TEXTURE_2D,c);T.activeTexture(T.TEXTURE0)};function Te(){TF.call(this,"Layer Comps");
this.Mf.setAttribute("style","min-width:240px;");this.dF=null;this.BT=-1;this._ZT=[];this.yO=d.S("div","scrollable");
this.yO.style.height="160px";this.Mf.appendChild(this.yO);this.iP=d.S("div","lpfoot");this.Mf.appendChild(this.iP);
this.em=[];var N=["reload","lrs/newlayer","lrs/bin"],c=["Update Layer Comp","New Layer Comp","Delete Layer Comp"];
for(var X=0;X<N.length;X++){var l=new _w("<img src=\""+PIMG[N[X]]+"\" class=\"gsicon\" />",!1,c[X]);
l.i("click",this.__$,this);this.iP.appendChild(l.$);this.em.push(l)}}Te.prototype=new TF("");Te.prototype.Fb=function(N){var c=new Q(d.E.A,!0);
c.data=N;c.K=H.xp;this.C(c)};Te.prototype.__$=function(N){var c=this.em.indexOf(N.currentTarget);if(c!=1)if(this.BT==-1)return;
this.Fb({I:["updLC","addLC","delLC"][c],MB:this.BT});if(c==2)this.BT=-1};Te.prototype.Fp=function(N){if(N==null)d.yH(this.Mf,"disabled");
else d.yN(this.Mf,"disabled");this.dF=N;d.yF(this.yO);if(N==null)return;var c=N.XX.lastAppliedComp?N.XX.lastAppliedComp.v:0,X=N.XX.list.v.slice(0);
X.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var l=0;l<X.length;
l++){var C=X[l].v,q=new TW(C.Nm.v,C.compID.v,C.capturedInfo.v,c,this.BT);q.i("activate",this.Yn,this);
q.parent=this;this.yO.appendChild(q.$);this._ZT.push(q)}};Te.prototype.Yn=function(N){this.BT=N.currentTarget.MB;
this.Fp(this.dF)};function TW(N,c,X,l,C){_A.call(this);this.MB=c;this.$=d.S("div","listitem"+(c==C?" selected":""));
var q=c==l,J=new _w("<b>"+(q?"\u2713":"\u2014")+"</b>");if(q)J.oH();this.$.appendChild(J.$);J.i("click",this.us,this);
var Z=this.hl=d.S("span");Z.textContent=N;this.$.appendChild(Z);this.em=[];if(c!=0){this.$.addEventListener("mouseup",this.Yn.bind(this),!1);
this.RB=d.S("span","lpfoot");this.RB.setAttribute("style","position:absolute;  right:0;  border-top:0;");
this.$.appendChild(this.RB);var W=["lrs/eye","pos","lrs/fx"],s=["Visibility","Position","Appearance"];
for(var t=0;t<W.length;t++){var T=new _w("<img src=\""+PIMG[W[t]]+"\" class=\"gsicon\" />",!1,s[t]);
if((X>>t&1)==0)T.$.setAttribute("style","opacity:0.3");T.i("click",this._Td,this);this.RB.appendChild(T.$);
this.em.push(T)}}}TW.prototype=new _A;TW.prototype.Yn=function(N){if(N.target!=this.hl&&N.target!=this.$)return;
if(N.detail==1)this.C(new Q("activate",!1));else{var c=d.S("input","");c.setAttribute("type","text");
c.setAttribute("size","10");c.setAttribute("value",this.hl.textContent);this.$.removeChild(this.hl);
this.$.appendChild(c);c.select();c.focus();c.addEventListener("keyup",this.Yx.bind(this),!1)}};TW.prototype._Td=function(N){var c=this.em.indexOf(N.currentTarget);
this.Fb({I:"editLC",H$:c,MB:this.MB})};TW.prototype.Yx=function(N){if(M.pT(N.code,M.pR))this.C(new Q("activate",!1));
if(M.pT(N.code,M.pK))this.Fb({I:"editLC",YW:N.target.value,MB:this.MB})};TW.prototype.us=function(N){this.Fb({I:"setLC",MB:this.MB})};
TW.prototype.Fb=function(N){var c=new Q(d.E.A,!0);c.data=N;c.K=H.xp;this.C(c)};function Tt(N){TF.call(this,N.name);
var c=d.S("iframe","padded");c.setAttribute("src",N.url);c.setAttribute("style","width:"+N.width+"px; height:"+N.height+"px");
this.Mf.appendChild(c)}Tt.prototype=new TF("");function Tq(){_A.call(this);this.K=0;this.eg=null;this.$=d.S("div","toolconf");
this.Zg=d.S("div");this.$.appendChild(this.Zg);this.body=new d.S("div","body");this.$.appendChild(this.body)}Tq.prototype=new _A;
Tq.prototype._EL=function(N,c){this.K=N;this.eg=c;this.Zg.innerHTML="<img src=\""+PIMG[c]+"\" class=\"toolicon gsicon\" />"};
Tq.prototype.fu=function(N,c){};Tq.prototype.Yt=function(N){};Tq.prototype.O=function(){this.Zg.innerHTML=d.jK(this.eg,null,"toolicon");
this.Yq()};Tq.prototype.Yq=function(){};function Td(N){Tq.call(this);if(N==null)return;this.MF={};for(var c=0;
c<N.length;c++){var X=N[c],l=null;if(X=="brush"){l=new _i}if(X=="bmode"){l=new _O([12,19],__.ag)}if(X=="opacity"){l=new _n([12,0],0,100,"%");
l.H(100)}if(X=="flow"){l=new _n([12,63],0,100,"%");l.H(100)}if(X=="smth"){l=new _n([19,3,0],0,100,"%");
l.H(0)}if(X=="wconf"){l=new TE}if(X=="strn"){l=new _n([12,64],1,100,"%");l.H(50)}if(X=="smode"){l=new _O([12,36],[[19,7,0],[19,7,1]]);
l.H(1)}if(X=="pdetail"){l=new _Y([12,65]);l.oH()}if(X=="rng"){l=new _O([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
l.H(1)}if(X=="expo"){l=new _n([12,5],0,100,"%");l.H(50)}if(X=="algnd"){l=new _Y([12,75]);l.H(!1)}if(X=="qsmode"){l=new _o([12,36],[[5,3],[18,1],[18,2]])}if(X=="redge"){l=new _w([7,11],!1,null,!0)}if(X=="patch"){l=new _o("Drag to choose",[[12,70],[12,71]])}l.parent=this;
this.body.appendChild(l.$);this.MF[X]=l;if(X=="brush")l.i(d.E.U,this._Lm,this);else if(X=="redge")l.i("click",this.Yd,this);
else l.i(d.E.U,this.zE,this)}}Td.prototype=new Tq;Td.prototype.Yd=function(){var N=new Q(d.E.m,!0);N.data={I:d.L.jl,mO:"redge"};
this.C(N)};Td.prototype.Yq=function(){for(var N in this.MF)this.MF[N].O()};Td.prototype.Yt=function(N){for(var c in N.Wh){var X=N.Wh[c];
if(c!="qsmode")X*=100;if(this.MF[c])this.MF[c].H(X)}};Td.prototype.fu=function(N,c){var X=this.MF.brush;
if(X==null)return;if(c==BZ.ua)X.oy(N.Wr.list[0]);if(c==BZ.uH){if(N.Wr.list[0])X.oo(N.Wr.Wf,N.Wr.list[0].Xt,N.Wr.list[0].Xq);
else X.oo(N.Wr.Wf)}};Td.prototype._Lm=function(){var N=new Q(d.E.m,!0);N.data={I:d.L.jD,mz:BZ.uH,la:this.MF.brush.oO()};
this.C(N)};Td.prototype.zE=function(){var N=new Q(d.E.m,!0);N.data={I:d.L.jY,K:this.K};for(var c in this.MF){if(c=="brush"||c=="redge")continue;
N.data[c]=this.MF[c].F();if(["opacity","flow","smth","strn","expo"].indexOf(c)!=-1)N.data[c]/=100;if(c=="bmode")N.data[c]=__.aq[N.data[c]]}this.C(N)};
function Tg(){Tq.call(this);this.data={I:d.L.jY,Wm:"front",XO:0,dR:{WI:!0,WT:10},WM:{LT:0,x:1,y:1}};
this.vs=new _q;this.body.appendChild(this.vs.$);this.vs.i(d.E.U,this.or,this);this.sh=new _n([7,6],0,100," px");
this.sh.parent=this;this.sh.H(0);this.body.appendChild(this.sh.$);this.sh.i(d.E.U,this.or,this);this.ZX=new _w([7,11],!1,null,!0);
this.body.appendChild(this.ZX.$);this.ZX.i("click",this.Yd,this)}Tg.prototype=new Tq;Tg.prototype.Yt=function(N){this.vs.H(N.Wm)};
Tg.prototype.Yq=function(){this.sh.O();this.vs.O();this.ZX.O()};Tg.prototype.Yd=function(){var N=new Q(d.E.m,!0);
N.data={I:d.L.jl,mO:"redge"};this.C(N)};Tg.prototype.or=function(){var N=new Q(d.E.m,!0);this.data.K=this.K;
this.data.Wm=this.vs.F();this.data.XO=this.sh.F();N.data=this.data;this.C(N)};function IE(){Td.call(this,["brush","strn"])}IE.prototype=new Td;
function I_(){Td.call(this,["brush","bmode","opacity","flow","smth"])}I_.prototype=new Td;function IT(){Td.call(this,["brush","bmode","opacity","flow","smth"])}IT.prototype=new Td;
function II(){Td.call(this,["brush","rng","expo"])}II.prototype=new Td;function IB(){Td.call(this,["brush","bmode","opacity","flow","algnd"])}IB.prototype=new Td;
function Is(){Tq.call(this);var N=d.S("span","fitem");this.body.appendChild(N);var c=[[17,0],[17,1],[11,12],[17,2]];
this.nW=[];for(var X=0;X<c.length;X++){var l=new _w(c[X],!1,null,!0);this.nW.push(l);l.oH();l.i("click",this._UF,this);
N.appendChild(l.$)}this.ZD=new _O("Ratio",["Any","1 : 1","3 : 2","4 : 3","16 : 9"]);this.ZD.i(d.E.U,this._Tg,this);
this.body.appendChild(this.ZD.$);this.aQ=new TB;this.aQ.i("click",this.FT,this)}Is.prototype=new Tq;
Is.prototype.Yq=function(){this.aQ.O();for(var N=0;N<this.nW.length;N++)this.nW[N].O()};Is.prototype.Yt=function(N){var c=this.aQ.$;
if(N.tP)this.body.appendChild(c);else if(this.body.contains(c))this.body.removeChild(c)};Is.prototype.FT=function(N){var c={I:d.L.jY,K:this.K,ta:this.aQ.F()?"commit":"cancel"},X=new Q(d.E.m,!0);
X.data=c;this.C(X)};Is.prototype._UF=function(N){N.target.$.blur();var c={I:d.L.jY,K:this.K,ta:"cropby",_$c:this.nW.indexOf(N.target)},X=new Q(d.E.m,!0);
X.data=c;this.C(X)};Is.prototype._Tg=function(N){var c={I:d.L.jY,K:this.K,ta:"config",tL:{tC:this.ZD.F()}},X=new Q(d.E.m,!0);
X.data=c;this.C(X)};function IK(){Td.call(this,["brush","rng","expo"])}IK.prototype=new Td;function Iv(){Td.call(this,["brush","opacity","flow","smth"])}Iv.prototype=new Td;
function I$(){Tg.call(this,H.fo);this.WM=new _G;this.WM.i(d.E.U,this.zI,this);this.body.appendChild(this.WM.$)}I$.prototype=new Tg;
I$.prototype.zI=function(N){this.data.WM=this.WM.F();this.or()};I$.prototype.Yq=function(){Tg.prototype.Yq.call(this);
this.WM.O()};function IU(){Tq.call(this);this.Lo=new _O("...",["1x1","3x3","5x5","11x11","31x31"]);this.Lo.i(d.E.U,this.zE,this);
this.body.appendChild(this.Lo.$)}IU.prototype=new Tq;IU.prototype.zE=function(N){var c=new Q(d.E.m,!0);
c.data={I:d.L.jY,K:this.K,tj:[1,3,5,11,31][this.Lo.F()]};this.C(c)};IU.prototype.Yq=function(){this.Lo.oR(BT.get([12,20])+": ")};
function IL(){Tq.call(this);this.Hb=new _N(!1);this.Hb.parent=this;this.Hb.i(d.E.U,this.oS,this);this.body.appendChild(this.Hb.$);
this.Hb.H(JSON.parse(F.cu.ca).v);this.Il=new _O(null,F.c.names.slice(0,5));this.Il.i(d.E.U,this.oS,this);
this.body.appendChild(this.Il.$);this.LF=new _O([12,19],__.ag);this.LF.i(d.E.U,this.oS,this);this.body.appendChild(this.LF.$);
this.Rp=new _n([12,0],0,100,"%");this.Rp.parent=this;this.Rp.i(d.E.U,this.oS,this);this.body.appendChild(this.Rp.$);
this.Rp.H(100);this.Fc=new _Y([12,23]);this.Fc.i(d.E.U,this.oS,this);this.body.appendChild(this.Fc.$)}IL.prototype=new Tq;
IL.prototype.Yq=function(){this.Il.O();this.LF.O();this.Rp.O();this.Fc.O()};IL.prototype.fu=function(N,c){var X=c==BZ.uY;
this.Hb.Oc(N.Wp,N.Wa);if(X||c==BZ.ui)this.Hb.oy(N.BL)};IL.prototype.oS=function(){var N=new Q(d.E.m,!0);
N.data={I:d.L.jY,K:this.K};N.data.mz={c:this.Hb.F(),style:F.c.types[this.Il.F()],reverse:this.Fc.oY(),tO:__.aq[this.LF.F()],opacity:this.Rp.F()/100};
this.C(N)};function IC(){Tq.call(this)}IC.prototype=new Tq;function IZ(){Td.call(this,["brush","algnd"])}IZ.prototype=new Td;
function IR(){Tq.call(this);this.oX=new _F;this.oX.parent=this;this.body.appendChild(this.oX.Bi.$);this.body.appendChild(this.oX.Bw.$);
this.body.appendChild(this.oX.Ok.$);var N=d.S("span","fitem");this.body.appendChild(N);N.appendChild(this.oX.ZH.$);
N.appendChild(this.oX.ZO.$);N.appendChild(this.oX.ZF.$);this.IG=new _w([11,9],!1,null,!0);this.IG.i("click",this._LL,this);
this.body.appendChild(this.IG.$);this.aQ=new TB;this.aQ.i("click",this.FT,this)}IR.prototype=new Tq;
IR.prototype.Yq=function(){this.aQ.O();this.oX.O();this.IG.O()};IR.prototype._LL=function(N){var c={I:d.L.jY,K:this.K,ta:"showwarp"},X=new Q(d.E.m,!0);
X.data=c;this.C(X)};IR.prototype.Yt=function(N){if(N.ta=="showactive")this.body.appendChild(this.aQ.$);
if(N.ta=="hideactive")this.body.removeChild(this.aQ.$)};IR.prototype.fu=function(N,c){if(c!=BZ.up&&c!=BZ.uo&&c!=BZ.uV&&c!=BZ.uN)return;
this.oX.Ov(N)};IR.prototype.FT=function(N){var c={I:d.L.jY,K:this.K,ta:this.aQ.F()?"commit":"cancel"},X=new Q(d.E.m,!0);
X.data=c;this.C(X)};function IP(){Tg.call(this)}IP.prototype=new Tg;function Ih(){Tq.call(this);var N=[],X="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.Hd=new _Y([12,85]);this.Hd.i(d.E.U,this.zE,this);N.push(this.Hd.$);this.WR=new _Y([20,1]);this.WR.i(d.E.U,this.zE,this);
N.push(this.WR.$);this.$n=new _Y([12,83]);this.$n.i(d.E.U,this.zE,this);N.push(this.$n.$);var c=d.S("span","fitem");
N.push(c);this.Ss=new _O("Scale Output",["1x","2x","3x","4x"],!0);c.appendChild(this.Ss.$);this.ej=new _w(X+" PNG",!1,null,!0);
this.ej.oH();c.appendChild(this.ej.$);this.ej.i("click",this.zs,this);this.PG=new _w(X+" SVG",!1,null,!0);
this.PG.oH();c.appendChild(this.PG.$);this.PG.i("click",this.zs,this);var l=d.S("span","fitem");N.push(l);
var C=d.S("span","fitem");N.push(C);this.em=[];for(var q=0;q<8;q++){var J=q==3||q==7?"Equal Gaps":[20,4,q<3?q:q-1],Z=new _w("Hi",!1,J);
(q<4?l:C).appendChild(Z.$);Z.i("click",this.zs,this);this.em.push(Z)}for(var q=0;q<N.length;q++)this.body.appendChild(N[q]);
this.NR=N}Ih.prototype=new Tq;Ih.prototype.Yt=function(N){var c=N.qG,X=N.qb;this.Hd.H(c.qY);this.WR.H(c.qz);
this.$n.H(c.qD);if(X){d.yF(this.body);for(var l=0;l<X.length;l++)if(X[l]==1&&this.NR[l])this.body.appendChild(this.NR[l])}};
Ih.prototype.zs=function(N){var c=this.em.indexOf(N.target),X;if(c==-1)X={I:d.L.jY,K:this.K,to:N.target==this.ej?"getPNG":"getSVG",qX:this.Ss.F()+1};
else X={I:d.L.jY,K:this.K,to:"algn",q:c};var l=new Q(d.E.m,!0);l.data=X;this.C(l)};Ih.prototype.zE=function(N){var c=new Q(d.E.m,!0);
c.data={I:d.L.jY,K:this.K,to:"prms",qY:this.Hd.oY(),qz:this.WR.oY(),qD:this.$n.oY()};this.C(c)};Ih.prototype.Yq=function(){this.Hd.O();
this.WR.O();this.$n.O();var N="h0 h1 h2 hG v0 v1 v2 vG".split(" ");for(var c=0;c<8;c++){this.em[c].oR(d.jK("align/"+N[c],null,"autoscale"))}};
function Ir(){Tg.call(this);this.TO=new TE;this.TO.i(d.E.U,this._su,this);this.body.appendChild(this.TO.$)}Ir.prototype=new Tg;
Ir.prototype._su=function(N){this.data.dR=this.TO.F();this.or()};Ir.prototype.Yq=function(){Tg.prototype.Yq.call(this);
this.TO.O()};function IS(){Td.call(this,["patch"])}IS.prototype=new Td;function If(){Td.call(this,["bmode","opacity","wconf"])}If.prototype=new Td;
function Ix(){Tg.call(this)}Ix.prototype=new Tg;function IQ(){Tg.call(this)}IQ.prototype=new Tg;function IA(){Tg.call(this);
this.WM=new _G;this.WM.i(d.E.U,this.zI,this);this.body.appendChild(this.WM.$)}IA.prototype=new Tg;IA.prototype.zI=function(N){this.data.WM=this.WM.F();
this.or()};IA.prototype.Yq=function(){Tg.prototype.Yq.call(this);this.WM.O()};function Ik(){Tq.call(this);
this.Ro=[new _d("X",null,3),new _d("Y",null,3),new _d("W",null,3),new _d("H",null,3),new _d([12,15],null,4),new _d([12,80,0],null,4)];
for(var N=0;N<this.Ro.length;N++){var c=this.Ro[N];this.body.appendChild(c.$)}}Ik.prototype=new Tq;Ik.prototype.Yt=function(N){var c=N.dJ,X=N.dy,l=X.x-c.x,C=X.y-c.y,q=this.Ro;
q[0].H(c.x);q[1].H(c.y);q[2].H(l);q[3].H(C);q[4].H((-Math.atan2(C,l)*180/Math.PI).toFixed(2));q[5].H(Math.sqrt(l*l+C*C).toFixed(2))};
Ik.prototype.Yq=function(){for(var N=0;N<this.Ro.length;N++)this.Ro[N].O()};function Iu(){Td.call(this,["brush","strn","pdetail"])}Iu.prototype=new Td;
function Ip(){Td.call(this,["brush"]);this.NJ=[];var N=["Heal Selection"];for(var c=0;c<N.length;c++){var X=new _w(N[c],!1,null,!0);
this.NJ.push(X);X.parent=this;this.body.appendChild(X.$);X.i("click",this._Pi,this)}}Ip.prototype=new Td;
Ip.prototype._Pi=function(N){var c=this.NJ.indexOf(N.currentTarget),X=new Q(d.E.A,!0);X.K=H.fM;X.data={I:"heal2"};
this.C(X)};function Ia(){Td.call(this,["brush","strn"])}Ia.prototype=new Td;function Ii(){Td.call(this,["brush","flow","smode"])}Ii.prototype=new Td;
function Iw(){Tq.call(this);this.Tk=!1;var N=d.S("span","fitem");this.body.appendChild(N);this.Bo=new _w("<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />");
N.appendChild(this.Bo.$);this.Bo.i("click",this.z$,this);this.Cs=new _w("<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />");
N.appendChild(this.Cs.$);this.Cs.i("click",this.zU,this);this.CK=new _w([20,2]);this.body.appendChild(this.CK.$);
this.CK.i("click",this.zL,this);this.Rf=new _w([20,3]);this.body.appendChild(this.Rf.$);this.Rf.i("click",this.zL,this);
this.Bo.oH()}Iw.prototype=new Tq;Iw.prototype.Yq=function(){this.CK.O();this.Rf.O()};Iw.prototype.z$=function(N){this.Bo.oH();
this.Cs.oN();if(N)this.zE()};Iw.prototype.zU=function(N){this.Cs.oH();this.Bo.oN();if(N)this.zE()};Iw.prototype.zE=function(){var N={I:d.L.jY,K:this.K,mG:this.Bo.oY()},c=new Q(d.E.m,!0);
c.data=N;this.C(c)};Iw.prototype.Yt=function(N){if(this.Tk!=N.Tk){if(this.Bo.oY())this.zU();else this.z$()}this.Tk=N.Tk};
Iw.prototype.zL=function(N){var c={I:d.L.jY,K:this.K,action:N.target==this.CK?"pixel":"fitscr"},X=new Q(d.E.m,!0);
X.data=c;this.C(X)};function IV(N){Tq.call(this);if(N==null)return;this.MF={};for(var c=0;c<N.length;
c++){var X=N[c],l=null;if(X=="tmode"){l=new _O(null,[[12,76,0],[12,76,1],[12,76,2]]);l.H(1)}if(X=="binop")l=new _O(null,[[18,1],[18,2],[18,3],[18,4]]);
if(X=="pshape")l=new _O(null,["Polygon","Star","Spiral"]);if(X=="shape")l=new BI([12,76,1]);if(X=="crad"){l=new _n("Corner Radius",0,50,"px");
l.H(0)}if(X=="cstr"){l=new _G}if(X=="irad"){l=new _n("Inner Radius",0,100,"%");l.H(40)}if(X=="length"){l=new _n("Length",4,40);
l.H(4)}if(X=="sides"){l=new _n([12,78],3,30);l.H(5)}if(X=="width"){l=new _n([12,41],1,100,"px");l.H(5)}if(X=="tolr"){l=new _n([12,24],0,100);
l.H(5)}if(X=="fstyle"){l=new _J([12,26])}if(X=="sstyle"){l=new _t}l.parent=this;this.body.appendChild(l.$);
this.MF[X]=l;l.i(d.E.U,this.zE,this)}}IV.prototype=new Tq;IV.prototype.zC=function(N){return null};IV.prototype.zZ=function(){if(this.MF.pshape==null)return;
var N=this.zC(this.MF.pshape.F());if(N==null)return;d.yF(this.body);for(var c=0;c<N.length;c++){var X=N[c];
this.body.appendChild(this.MF[X].$)}};IV.prototype.Yq=function(){for(var N in this.MF)this.MF[N].O()};
IV.prototype.zE=function(N){var c=new Q(d.E.m,!0);if(N.target==this.MF.fstyle){c.data={I:d.L.jD,mz:BZ.uO,q:this.MF.fstyle.F()};
this.C(c);return}if(N.target==this.MF.sstyle){c.data={I:d.L.jD,mz:BZ.uF,q:this.MF.sstyle.F()};this.C(c);
return}if(this.MF.tmode&&this.MF.binop){if(this.MF.tmode.F()==0)this.MF.binop.oI();else this.MF.binop.oB()}c.data={I:d.L.jY,K:this.K};
for(var X in this.MF)if(X!="sstyle")c.data[X]=this.MF[X].F();this.C(c);if(N.target==this.MF.pshape)this.zZ()};
IV.prototype.fu=function(N,c){var X=this.MF.fstyle,l=this.MF.sstyle;if(X)X.fu(N,c);if(l)l.fu(N,c);if(c==BZ.up||c==BZ.uy)if(N.dq.length!=0&&this.MF.shape)this.MF.shape.oy(N.dq);
if(c==BZ.up||c==BZ.uO)if(X)X.H(null,N.dY,N.rg);if(c==BZ.up||c==BZ.uF)if(l)l.H(null,N.dN,N.Js)};function Ic(){IV.call(this,["tmode","fstyle","sstyle"])}Ic.prototype=new IV;
function Il(){IV.call(this,["tmode","fstyle","sstyle","binop","tolr"])}Il.prototype=new IV;function IJ(){IV.call(this,["fstyle","sstyle"]);
this._ZJ=null;this.rW=null;this.U$=new _O("Path",[[18,1],[18,2],[18,3],[18,4]]);this.KA=new _w("\u25BC");
this.KA.oH();this.vY=new _w("\u25B2");this.vY.oH();this.Zo=[this.U$,this.KA,this.vY];for(var N=0;N<this.Zo.length;
N++){var c=this.Zo[N];this.body.appendChild(c.$);c.parent=this;c.i(N==0?d.E.U:"click",this.OE,this)}}IJ.prototype=new IV;
IJ.prototype.Yt=function(N){if(N.ta=="main"){var c=this.Zo,X=N.gK;if(X&&X.Q.length==1){this.rW=X.clone();
var l=X.Q[0],C=I.D.UU(X.p);this.U$.oI();if(l>0)this.KA.oI();else this.KA.oB();if(l<C-1)this.vY.oI();
else this.vY.oB();var q=I.D.UL(X.p,l),J=X.p[q];this.U$.oR("Path "+(l+1));this.U$.H([3,0,1,2][J.GU])}else{for(var Z=0;
Z<c.length;Z++)c[Z].oB()}}};IJ.prototype.Yq=function(){IV.prototype.Yq.call(this);this.U$.O()};IJ.prototype.OE=function(N){if(N.target==this.U$||N.target==this.KA||N.target==this.vY){var c={},X=this.rW,l=X.p,C=X.Q[0],q=I.D.UL(l,C),J=l[q];
if(N.target==this.U$)J.GU=[1,2,3,0][this.U$.F()];else{var Z=N.target==this.KA?-1:1,W=Math.min(C,C+Z),s=Math.max(C,C+Z),t=I.D.UL(l,W),T=I.D.UL(l,s);
if(t==-1||T==-1)return;var g=T+I.D._UY(l,s),R=l.slice(0,t),P=l.slice(t,T),O=l.slice(T,g),b=l.slice(g);
X.p=R.concat(O.concat(P.concat(b)));X.Q[0]+=Z}c.gK=X;var z=new Q(d.E.m,!0);z.data={I:d.L.jY,K:this.K,gv:c};
this.C(z)}};function Iy(){IV.call(this,["fstyle","sstyle"])}Iy.prototype=new IV;function Ij(){IV.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}Ij.prototype=new IV;
function Io(){IV.call(this,["tmode","fstyle","sstyle","binop","cstr"])}Io.prototype=new IV;function IO(){IV.call(this,"tmode fstyle sstyle binop pshape sides irad crad length".split(" "));
this._ZH=[["sides","crad"],["sides","irad","crad"],["length"]];this.zZ()}IO.prototype=new IV;IO.prototype.zC=function(N){return["tmode","sstyle","binop","pshape"].concat(this._ZH[N])};
function IF(){IV.call(this,["tmode","fstyle","sstyle","binop","width"])}IF.prototype=new IV;function IH(){IV.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}IH.prototype=new IV;
function IN(){Td.call(this,["brush","qsmode","redge"])}IN.prototype=new Td;function IY(){Tq.call(this);
if(window.Typr==null)return;this.qC=null;this.JI=d.S("span","");this.JT=d.S("span","");var N=1;this.gQ={hV:new _n("X",0,0,"px",N,!1,!0),hw:new _n("Y",0,0,"px",N,!1,!0),nt:new _n("W",0,0,"%",N,!1,!0),nD:new _n("H",0,0,"%",N,!1,!0),_Zz:new _n("\u2221",0,0,"\xB0",N,!1,!0),_ZD:new _n("Skew X",-85,85,"\xB0",N,!1,!0),_Zm:new _n("Skew Y",-85,85,"\xB0",N,!1,!0)};
for(var c in this.gQ){this.JI.appendChild(this.gQ[c].$);this.gQ[c].i(d.E.U,this.zR,this)}this.TO=new TT(!0,!0,!0);
this.TO.i(d.E.U,this._KB,this);this.TO.parent=this;var X=this.JT,l=this.TO;X.appendChild(l.CD.$);X.appendChild(l.Kl.$);
X.appendChild(l.Ko.$);X.appendChild(l.Kb.$);X.appendChild(l.vu.$);this.IG=new _w([11,9]);this.IG.i("click",this.__n,this);
this.nX=new _O(null,["Nearest","Bilinear"]);this.nX.H(1);this.nX.i(d.E.U,this.zR,this);this.aQ=new TB;
this.aQ.i("click",this.FT,this)}IY.prototype=new Tq;IY.prototype.Yt=function(N){d.yF(this.body);this.qC=N;
if(N.gQ){var c=N.gQ.KR.clone(),X=Math.atan2(-c.w,c.u),l=new Bh;l.rotate(-X);c.concat(l);var C=this.gQ;
C.hV.H(N.gQ.gx.x);C.hw.H(N.gQ.gx.y);C.nt.H(c.u*100);C.nD.H(c.Mm*100);C._Zz.H(-X*180/Math.PI);C._ZD.H(0*180/Math.PI);
C._Zm.H(Math.atan(c.Mz)*180/Math.PI);this.body.appendChild(this.JI);this.IG.oN()}if(N.gf){this.TO.H(N.gf);
this.body.appendChild(this.JT);this.IG.oH()}this.body.appendChild(this.nX.$);this.body.appendChild(this.aQ.$);
if(N.gA)this.body.appendChild(this.IG.$)};IY.prototype.zR=function(N){var c=this.gQ,X=[];for(var l in c)X.push(c[l].F());
var C=new k(X[0],X[1]);if(N.target==c.hV||N.target==c.hw){this.zr({ta:"cen",gx:C})}else{var q=this.qC.gQ.KR.clone(),J=q.clone(),Z=Math.atan2(-q.w,q.u);
J.translate(-C.x,-C.y);J.rotate(-Z);var W=new Bh(J.u,J.w,J.Mz,J.Mm,0,0);W.Tk();J.concat(W);J.concat(new Bh(X[2]/100,Math.tan(X[5]*Math.PI/180),Math.tan(X[6]*Math.PI/180),X[3]/100,0,0));
J.rotate(-X[4]*Math.PI/180);J.translate(C.x,C.y);this.qC.gQ.KR=J;this.zr({ta:"trn",gQ:J,tf:this.nX.F()})}};
IY.prototype._KB=function(N){this.zr({ta:"wrp",gf:this.TO.F()})};IY.prototype.__n=function(N){this.zr({ta:"switchWarp"})};
IY.prototype.FT=function(N){this.zr({ta:this.aQ.F()?"commit":"cancel"})};IY.prototype.zr=function(N){N.I=d.L.jY;
N.K=this.K;var c=new Q(d.E.m,!0);c.data=N;this.C(c)};IY.prototype.Yq=function(){for(var N in this.gQ)this.gQ[N].O();
this.aQ.O();this.TO.O()};function Iz(){IY.call(this)}Iz.prototype=new IY;function ID(){IY.call(this)}ID.prototype=new IY;
function Im(){_A.call(this);this.$=d.S("div","cmanager");this.ML=0;this.MC=0;this.Kh=[];this.vO=d.S("div","droparea");
var N=d.S("div","dropbox");N.innerHTML="Insert into current project";var c=d.S("div","dropbox");c.innerHTML="Open as new projects";
this.vO.appendChild(N);this.vO.appendChild(c);this.IQ={};this.VQ=d.S("div","alertcont");this.$.appendChild(this.VQ);
this.Nm=d.S("div","alertcont");this.$.appendChild(this.Nm);this.ln=0;d.yn(document.body,this.zA.bind(this))}Im.prototype=new _A;
Im.prototype._vL=function(){this.$.appendChild(this.vO)};Im.prototype._Il=function(){this.$.removeChild(this.vO)};
Im.prototype.FE=function(N,c){this.ML=N;this.MC=c;var X=this.vO;X.setAttribute("style","left:"+(N-600)/2+"px; top:"+(c-300)/2+"px;")};
_A.prototype.o_=function(){var N=this.$;return N.offsetHeight+N.clientTop};Im.prototype.zx=function(N){var c=d.S("div","alertpanel");
c.textContent=typeof N=="string"?N:BT.get(N);this.VQ.appendChild(c);this.IQ[JSON.stringify(N)]=c};Im.prototype.zQ=function(N){var c=this.IQ[JSON.stringify(N)];
this.VQ.removeChild(c);delete this.IQ[JSON.stringify(N)]};Im.prototype.alert=function(N,c){var X=this.Nm,l=d.S("div","alertpanel tpanel");
l.textContent=N;X.appendChild(l);if(c==null)c=1500;var C=c,q=Math.max(Date.now()+C,this.ln+C);setTimeout(function(){l.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){X.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},q-Date.now()-30);
setTimeout(function(){X.removeChild(X.firstChild);X.setAttribute("style","transition: transform 0.7s;  margin-top: 0em;  transform: translateY(0em);")},q-Date.now());
this.ln=q};Im.prototype.zA=function(N){var c=this.Kh;for(var X=c.length-1;X>=0;X--){var l=c[X],C=N.target;
while(C!=null){if(C==l.$){this.zk(l);return}C=C.parentNode}}this.zk()};Im.prototype.zk=function(N){var c=this.Kh;
for(var X=0;X<c.length;X++){if(N&&N.jg(c[X]))continue;var l=c[X].$;l.style.height="auto";d.yN(l,"scrollable");
this.$.removeChild(l);c.splice(X,1);X--}};Im.prototype.zu=function(N){this.zk(N.mC);var c=N.mC,X=c.$;
if(this.Kh.indexOf(c)!=-1)return;this.Kh.push(c);this.$.appendChild(c.$);var l=this.ML,C=this.MC,q=N.x,J=N.y,Z=this.$.getBoundingClientRect();
if(c instanceof _k){var W=c.oE(),s=c.o_();W=Math.min(W,200);if(J+s<C){q=Math.min(q,l-W-5)}else{if(q+W<l){J=Math.min(J,C-s-5)}else if(s<J){J=J-s-2;
q=Math.min(q,l-W-5)}else{q=q-W;J=Math.min(J,C-s-5)}}if(N._CI)J=Math.max(2,N.y-s-2)}J=Math.max(2,J);var top=Math.round(J-Z.y+this.$.offsetTop);
X.style.position="absolute";X.style["z-index"]=10;X.style.left=Math.round(q)+"px";X.style.top=top+"px";
if(top+c.o_()>C-5){X.style.height=C-5-top+"px";d.yH(X,"scrollable")}};Im.prototype.zp=function(N){var c=N.mC,X=this.Kh.indexOf(c);
if(X==-1)return;this.Kh.splice(X,1);var l=c.$;this.$.removeChild(c.$)};function IM(){_A.call(this);this.$=d.S("div","confbar")}IM.prototype=new _A;
IM.prototype.za=function(N){N.parent=this;d.yF(this.$);this.$.appendChild(N.$)};function IG(){_A.call(this);
this.pX=d.S("input","");this.pX.setAttribute("type","file");this.pX.setAttribute("multiple","");this.pX.addEventListener("change",function(N){this.zJ(N.target.files)}.bind(this),!1);
document.body.appendChild(this.pX);this.pX.setAttribute("style","display:none");this.lX=[];this.TG=!1;
this.rO={}}IG.prototype=new _A;IG.prototype.zi=function(N){if(N==null)N=[23,5];var c=JSON.stringify(N),X=this.rO;
if(X[c]==null)X[c]=0;if(X[c]==0){var l=new Q(d.E.m,!0);l.data={I:d.L.jG,ah:N};this.C(l)}X[c]++};IG.prototype.zw=function(N){if(N==null)N=[23,5];
var c=JSON.stringify(N),X=this.rO;if(X[c]==null)X[c]=0;X[c]--;if(X[c]==0){var l=new Q(d.E.m,!0);l.data={I:d.L.jb,ah:N};
this.C(l)}};IG.prototype.zV=function(N){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.pX.dispatchEvent(c)};IG.prototype.zc=function(N){this.lX.push(N);this.zl()};IG.prototype.zl=function(){var N=this.lX;
if(N.length==0||this.TG)return;this.TG=!0;var c=N.shift();this.zi();if(c.ed==null)c.ed={};var X=new XMLHttpRequest;
X.NW=c;var l=c.url;if(c.Ye)l="mirror.php?url="+encodeURIComponent(l);X.open("GET",l);X.responseType="arraybuffer";
X.onload=this.zY.bind(this);X.send()};IG.prototype.zJ=function(N,c,X,l){for(var C=0;C<N.length;C++){this.zi();
var q=N[C],J=new FileReader;J.NW=q;J.NW.ax=X;J.NW.zT=l;J._RE=c;J.onload=this.zY.bind(this);J.readAsArrayBuffer(q)}this.pX.value=null};
IG.prototype.zy=function(N){var c=N.TS.mr,X=BC._V(N,c);Bk._R(function(){var l=new XMLHttpRequest,C="https://www.googleapis.com/upload/drive/v3/files/"+N.TS.file.id+"?uploadType=media"+"&"+Bk._h();
l.open("PATCH",C,!0);l.addEventListener("load",function(q){var J=JSON.parse(q.target.response);alert(J.name+" updated")});
l.send(X);alert("Saving \""+N.TS.file.name+"\" to Google Drive ...")})};IG.prototype.zj=function(N,c){var X=N.VN(),l=c[0],C=BC._V(N,l.toUpperCase());
if(window.parent!=window)window.parent.postMessage(C,"*")};IG.prototype.zo=function(N){this.zi("Saving ...");
setTimeout(IG.zO.bind({Bb:N,caller:this}),50)};IG.zO=function(){var N=this.Bb,c=this.caller,X=N.ed.vj,l=new Ib,C=0,q="",J=encodeURIComponent;
q="p="+J("{ \"source\": \""+N.Vl+"\", \"versions\": [");_.Rw(l,C,q);C+=q.length;var Z=Date.now(),W=N.VN(),s=X.formats;
for(var t=0;t<s.length;t++){var T=s[t].split(":"),g=T[0],R=null,P;if(T.length==2){if(g=="jpg"||g=="webp")R=[Math.round(100*parseFloat(T[1]))];
if(g=="psd")R=[!0,!0]}var P=BC._V(N,g.toUpperCase(),null,null,R);q=J(" {\"format\": \""+g+"\", \"data\": \"");
_.Rw(l,C,q);C+=q.length;var O=new Uint8Array(IG.zN(P)),b=O.length;l.zG(C,b);for(var z=0;z<b;z++){l.zG(C,3);
var m=O[z];if(m==43){l.data[C]=37;l.data[C+1]=50;l.data[C+2]=66;C+=3}else if(m==47){l.data[C]=37;l.data[C+1]=50;
l.data[C+2]=70;C+=3}else if(m==61){l.data[C]=37;l.data[C+1]=51;l.data[C+2]=68;C+=3}else{l.data[C]=m;
C++}}q=J("\" }"+(t+1<s.length?", ":""));_.Rw(l,C,q);C+=q.length}q=J("] }");_.Rw(l,C,q);C+=q.length;var f=new XMLHttpRequest;
f.open("POST",X.url,!0);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.addEventListener("load",IG.zF.bind(c));
f.send(l.data.buffer.slice(0,C))};IG.zF=function(N){this.zw("Saving ...");alert("Saved. Response: "+N.target.response,1500)};
IG.zH=function(N){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=new Uint8Array(N),l=X.length,C=l%3,q=l-C,J=[],Z=0,W=0,s=0;
for(var t=0;t<q;t+=3){Z=X[t];W=X[t+1];s=X[t+2];J.push(c[Z>>2]+c[(Z&3)<<4|W>>4]+c[(W&15)<<2|s>>6]+c[s&63])}if(C==1){Z=X[q];
J.push(c[Z>>2]+c[(Z&3)<<4]+"==")}if(C==2){Z=X[q];W=X[q+1];J.push(c[Z>>2]+c[(Z&3)<<4|W>>4]+c[(W&15)<<2]+"=")}var T=J.join("");
return T};IG.zN=function(N){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=new Uint8Array(64),s=0,t=0,T=0,g=0;
for(var l=0;l<64;l++)X[l]=c.charCodeAt(l);var C=new Uint8Array(N),q=C.length,J=q%3,Z=q-J,W=[],W=new Uint8Array(Math.floor(q/3)*4+(J==0?0:4));
for(var l=0;l<Z;l+=3){s=C[l];t=C[l+1];T=C[l+2];W[g]=X[s>>2];W[g+1]=X[(s&3)<<4|t>>4];W[g+2]=X[(t&15)<<2|T>>6];
W[g+3]=X[T&63];g+=4}if(J==1){s=C[Z];W[g]=X[s>>2];W[g+1]=X[(s&3)<<4];W[g+2]=61;W[g+3]=61}if(J==2){s=C[Z];
t=C[Z+1];W[g]=X[s>>2];W[g+1]=X[(s&3)<<4|t>>4];W[g+2]=X[(t&15)<<2];W[g+3]=61}return W.buffer};IG.prototype.zY=function(N){var c,X=N.target.NW;
if(N.target instanceof XMLHttpRequest)c=N.target.response;else c=N.target.result;IG.zz(X,c,this,N.target._RE);
this.zw();if(N.target instanceof XMLHttpRequest){this.TG=!1;this.zl()}};IG.zz=function(N,c,X,l){var C;
if(N.name)C=N.name.split(".")[0];else{if(N.url.substring(0,5)=="data:"||N.url.indexOf("googleapis")!=-1)C="image";
else C=N.url.substring(N.url.lastIndexOf("/")+1).split(".")[0];C=C.slice(0,50)}var q=new Uint8Array(c),J=BC._x(c);
if(J==null)J=_.Ra(q,0,4);if(J=="json"){var Z="";for(var W=0;W<q.length;W++)Z+=String.fromCharCode(q[W]);
Z=decodeURIComponent(escape(Z));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(Z));return}if(J=="html"){var Z=Bl.SC(q,0,q.length),s=new DOMParser,t=s.parseFromString(Z,"text/html"),T=t.getElementsByTagName("meta");
for(var W=0;W<T.length;W++){var g=T[W],R=g.getAttribute("property"),P=g.getAttribute("content"),O=null;
if(R=="og:image")O=P;if(R==null&&P&&P.startsWith("0;url=/imgres?")){var b=P.slice(14).split("&");for(var z=0;
z<b.length;z++)if(b[z].startsWith("imgurl"))O=decodeURIComponent(b[z].slice(7))}if(O==null)continue;
var m=new Q(d.E.m,!0);m.data={I:d.L.jx,mz:{url:O,Ye:!0,ax:N.ax}};X.C(m)}return}if(BC._A(J)){var f,B=BC._A(J);
if(N.ax!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(J)!=-1){var m=new Q(d.E.m,!0);m.data={I:d.L.jj,target:N.ax,q$:N.zT,tG:c,B$:C};
X.C(m);return}if(B._F){f=new _s(C+(J=="psd"?"":"-"+J)+".psd");B._l(c,f)}else{var K=B._l(c);if(K[0].t33421){var m=new Q(d.E.m,!0);
m.data={I:d.L.jo,GQ:K[0]};X.C(m);return}f=IG.zM(C,K)}f.ed=N.ed;f.Vl=N.url;f.hG=N.hG;f.TS=N.TS;if(f.TS)f.TS.mr=J;
if(l)l(f.R[0].buffer,f.R[0].rect);else{var m=new Q(d.E.m,!0);m.data={I:N.ax==null?d.L.jy:d.L.jj,target:N.ax,q$:N.zT,tG:f};
X.C(m)}return}var j={pat:[Bz.ZB,BZ.uJ],abr:[_x.ZB,BZ.ua],grd:[_P.ZB,BZ.ui],csh:[BY.ZB,BZ.uy],acv:[By.ZB,BZ.uw],shc:[Bb.ZB,BZ.uc],alv:[B$.ZB,BZ.ul],msh:[BN.ZB,BZ.uj],ttf:[Typr.parse,BZ.uV],otf:[Typr.parse,BZ.uV]};
if(j[J]){var S=j[J][0](c),m=new Q(d.E.m,!0);m.data={I:d.L.jD,mz:j[J][1],hL:S};X.C(m);return}alert("Unknown file format: "+JSON.stringify(J))};
IG.prototype.zD=function(N){var c=new XMLHttpRequest;c.open("POST","https://api.imgur.com/3/image",!0);
c.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");c.setRequestHeader("Content-type","application/x-www-form-urlencoded");
c.setRequestHeader("Accept","application/json");c.addEventListener("load",this.zm);c.send("type=base64&image="+encodeURIComponent(IG.zH(N)));
alert("Saving to Imgur ...",4e3)};IG.prototype.zm=function(N){var c=JSON.parse(N.target.response);if(c.success)window.open(c.data.link,"Imgur")};
IG.zM=function(N,c){var X=new _s(N+".psd"),l=new u(0,0,1,1);for(var C=0;C<c.length;C++){var q=c[C];l=l.vz(q.M$);
var J=X.c_();J.io(C==0);J.ii("Layer "+C);if(q.MU)J.ii(q.MU);J.rect=q.M$.clone();J.buffer=new Uint8Array(q.data);
I.IT(J);X.R.push(J)}X.Q=[0];X.h=l.h;X.s=l.s;X.buffer=I.a(l.n()*4);X._();return X};IG.save=function(N,c){var X=new Uint8Array(N),l=document.createElement("a");
if(typeof l.download=="string"){var C=new Blob([X]),q=window.URL.createObjectURL(C);l.href=q;l.download=c;
document.body.appendChild(l);l.click();document.body.removeChild(l)}else{var J="data:application/octet-stream;base64,"+IG.zH(N);
window.open(J)}};function Ib(){this.size=16;this.data=I.a(16)}Ib.prototype.zG=function(N,c){if(N+c<=this.size)return;
var X=this.size;while(N+c>this.size)this.size*=2;var l=I.a(this.size);for(var C=0;C<X;C++)l[C]=this.data[C];
this.data=l};function IX(N){_A.call(this);this.CH=N;this._RB=this.DE.bind(this);this.YJ=this.D_.bind(this);
this._RK=this.DT.bind(this);this.vl=0;this.ri=0;this.$=d.S("div","panelblock");this.KK=d.S("div","block");
this.ep=d.S("div","collapsed");this.$.appendChild(this.KK);this.Yy=-1;this.ct=-1;this.Zy=!0;this.Ox=d.S("div","panelhead");
this.KK.appendChild(this.Ox);this.yO=d.S("div","");this.KK.appendChild(this.yO);this.Z=[];this.VL=null;
this.il=null}IX.prototype=new _A;IX.prototype.zb=function(){return null};IX.prototype.zX=function(){if(this.zb()){this.il=this.zb();
this.yO.appendChild(this.il)}};IX.prototype.zn=function(){if(this.il){this.yO.removeChild(this.il);this.il=null}};
IX.prototype.ze=function(){for(var N=0;N<this.Z.length;N++)this.Z[N].PX.oN()};IX.prototype.N$=function(){var N=new k(0,0);
for(var c=0;c<this.Z.length;c++){var X=this.Z[c].N$();N.x=Math.max(N.x,X.x);N.y=Math.max(N.y,X.y)}return N};
IX.prototype.zW=function(){return this.ct};IX.prototype.zt=function(){return this.Yy};IX.prototype.zq=function(){this.Zy=!0;
this.$.removeChild(this.ep);this.$.appendChild(this.KK)};IX.prototype.collapse=function(){this.Zy=!1;
this.$.appendChild(this.ep);this.$.removeChild(this.KK)};IX.prototype.zd=function(){return 26+this.yO.getBoundingClientRect().height};
IX.prototype.FE=function(N,c){this.Ox.setAttribute("style","max-width: "+N+"px");var X=this.Ox.getBoundingClientRect().height;
X=26;if(this.ct!=-1)this.Z[this.ct].FE(N,c-X)};IX.prototype.fu=function(N,c){this.Z[this.ct].fu(N,c)};
IX.prototype.Fp=function(N){this.Z[this.ct].Fp(N)};IX.prototype.zg=function(N){this.zn();if(this.Z.indexOf(N)!=-1){this.Ds(this.Z.indexOf(N));
return}N.parent=this;this.Z.push(N);this.Ox.appendChild(N.hj);N.hj.addEventListener("mouseover",this._RB,!1);
this.ep.appendChild(N.PX.$);N.PX.i("click",this.D$,this);N.i("select",this.DK,this);N.i(d.E.jC,this.Dv,this);
this.Ds(this.Z.length-1)};IX.prototype.DE=function(N){if(N.buttons==0)return;var c=N.currentTarget,X=c,l=0;
while((X=X.previousSibling)!=null)l++;this.ri=l;c.addEventListener("mouseout",this.YJ,!1);this.vl=setTimeout(this._RK,700)};
IX.prototype.D_=function(N){var c=N.currentTarget,X=c,l=0;while((X=X.previousSibling)!=null)l++;c.removeEventListener("mouseout",this.YJ);
clearTimeout(this.vl)};IX.prototype.DT=function(N){this.C(new Q(d.E.jZ,!1))};IX.prototype.DI=function(N){return this.ri};
IX.prototype.DB=function(N){this.Yy=N;this.C(new Q(d.E.jC,!1));var c=this.Z[N];this.Z.splice(N,1);this.Ox.removeChild(c.hj);
this.ep.removeChild(c.PX.$);c.hj.setAttribute("class","");c.PX.removeEventListener("click",this.D$,this);
c.PX.oN();c.removeEventListener("activate",this.DK);c.removeEventListener(d.E.jC,this.Dv);var X=this.ct;
if(N<X)X--;else if(N==X&&N==this.Z.length)X--;this.Ds(X);if(this.Z.length==0)this.zX()};IX.prototype.Ds=function(N,c){if(c==null)c=!0;
for(var X=0;X<this.Z.length;X++)this.Z[X].hj.setAttribute("class","");if(this.VL)this.yO.removeChild(this.VL);
this.VL=null;this.ct=N;if(N==-1)return;var l=this.Z[this.ct];this.VL=l.Mf;this.yO.appendChild(l.Mf);
l.hj.setAttribute("class","active");l.NL();if(!this.Zy){this.C(new Q("showFloat"));this.Z[N].PX.oH()}if(c)this.C(new Q(d.E.U,!1))};
IX.prototype.DK=function(N){if(this.CH&&!this.CH.Db())return;var c=this.Z.indexOf(N.currentTarget);this.Ds(c)};
IX.prototype.Dv=function(N){if(this.CH&&!this.CH.Db())return;var c=this.Z.indexOf(N.currentTarget);this.DB(c)};
IX.prototype.D$=function(N){var c=this.Z.indexOf(N.currentTarget.parent);if(this.Z[c].PX.oY())this.C(new Q("hideFloat"));
else this.Ds(c)};IX.prototype._IH=function(N){this.C(N)};function In(N){IX.call(this,N);this.sI=[];this.iK=[];
this._Rf=this._ID.bind(this);this.XD=this._Ld.bind(this);this.Yv=this._Uy.bind(this);this.DP(this.yO);
this.DP(this.Ox);this.sE=d.S("div","intro");this.tq="default;";this._RA="";var c=d.S("ul");c.setAttribute("style","margin:0;  padding:160px 0px 0 113px; font-size:1.8em;");
this.sE.appendChild(c);this.em=[];var X=[[11,7],[1,6],"pea.psd","milk.sketch"],l=d.S("li");for(var C=0;
C<X.length;C++){if(C==2){var q=new _w("Demo: ");l.appendChild(q.$)}var J=X[C],Z=new _w(J);Z.i("click",this.DC,this);
l.appendChild(Z.$);this.em.push(Z);if(C==0||C==1||C==3||C==X.length-1){c.appendChild(l);l=d.S("li")}}var W=d.S("div");
W.setAttribute("style","margin:0;  padding:30px 22px 0 26px; font-size:1.1em");this.sE.appendChild(W);
this._Rk={};var s=["en"],t=navigator.languages;if(t)for(var C=0;C<t.length;C++){var T=t[C].split("-")[0].toLowerCase();
if(s.indexOf(T)==-1)s.push(T)}for(var C=0;C<s.length;C++){var T=s[C],Z=new _w((BT._U(T)==-1?"*":"")+T.toUpperCase());
Z.i("click",this.DL,this);Z.Pc=T;W.appendChild(Z.$);this._Rk[T]=Z}var g=d.S("span");g.setAttribute("style","float:right");
W.appendChild(g);for(var C=0;C<_Q.jd.length;C++){var R=_Q.jd[C],Z=new _w("<span style=\"display:inline-block; width:10px; height:10px; background-color:#"+I._z(R["--bg-color"])+";\"></span>");
Z.i("click",this.DL,this);Z._Rp=C;g.appendChild(Z.$)}}In.prototype=new IX;In.prototype.DL=function(N){var c=N.currentTarget,X;
if(c.Pc!=null){var l=BT._U(c.Pc);if(l!=-1)X={I:d.L.jD,mz:BZ.uW,lang:l};else X={I:d.L.jm,link:"https://www.photopea.com/translate?lang="+c.Pc}}else X={I:d.L.jD,mz:BZ.ut,hS:c._Rp};
var C=new Q(d.E.m,!0);C.data=X;this.C(C)};In.prototype.Oe=function(N){N="cursor:"+N+";";if(this.tq==N)return;
this.tq=N;this.yO.setAttribute("style",this.tq+" "+this.rU)};In.prototype.DC=function(N){var c=this.em.indexOf(N.target),X=new Q(d.E.m,!0);
if(c==0)X.data={I:d.L.jl,mO:"newproject"};if(c==1)X.data={I:d.L.jQ};if(c>1)X.data={I:d.L.jx,mz:{url:["images/pea.psd","images/milk.sketch"][c-2]}};
this.C(X)};In.prototype.O=function(){for(var N=0;N<this.em.length;N++)this.em[N].O()};In.prototype.zb=function(){return this.sE};
In.QY=function(N){N.stopPropagation();N.preventDefault()};In.prototype._ID=function(N){In.QY(N);var c=N.currentTarget,X=this.sI.indexOf(c);
this.iK[X]++;d.yH(c,"highlight")};In.prototype._Ld=function(N){In.QY(N);var c=N.currentTarget,X=this.sI.indexOf(c);
this.iK[X]--;if(this.iK[X]==0)d.yN(c,"highlight")};In.prototype.FE=function(N,c){c--;IX.prototype.FE.call(this,N,c);
this.rU="height:"+(c-(this.Z.length==0?3:25))+"px; width:"+N+"px; overflow:hidden;";this.yO.setAttribute("style",this.tq+" "+this.rU);
var X=512,l=410,C=1,q="";if(N<X||c<l){if(N/X<c/l)C=N/X;else C=c/l}q+="background-image:url("+PIMG.intro+"); background-size: "+X+"px "+l+"px;";
q+="position:relative; top:"+Math.round((c-l)/2)+"px;  left: "+Math.round((N-X)/2)+"px; width:"+X+"px; height:"+l+"px;";
if(C!=1)q+="transform: scale("+C+","+C+");";if(this.sE)this.sE.setAttribute("style",q)};In.prototype.DP=function(N){if(this.sI.indexOf(N)!=-1)return;
this.sI.push(N);this.iK.push(0);N.addEventListener("dragenter",this._Rf,!1);N.addEventListener("dragleave",this.XD,!1);
N.addEventListener("dragover",In.QY,!1);N.addEventListener("drop",this.Yv,!1)};In.prototype._Uy=function(N){this.XD(N);
var c=null,X=N.currentTarget;if(X==this.yO&&this.ct!=-1)c=this.ct;else if(X==this.Ox)c=null;else for(var l=0;
l<this.Z.length;l++)if(this.Z[l].hj==X)c=l;var C=N.dataTransfer.getData("Text");if(C=="")d.jv(N,this,c);
else if(c!=null){var q=new Q(d.E.m,!0);q.data={I:d.L.jt,_Ri:c};this.C(q)}};In.prototype.zg=function(N){IX.prototype.zg.call(this,N);
this.DP(N.hj)};In.prototype.DB=function(N){var c=this.Z[N],X=this.sI.indexOf(c.hj);this.sI.splice(X,1);
this.iK.splice(X,1);IX.prototype.DB.call(this,N)};function Ie(){_A.call(this);_Q.jq(1);this.$=d.S("div","flexrow photopea");
this.mw=d.S("div");this.$.appendChild(this.mw);this.eG={x:0,y:0,tE:!1};this.Dn=!1;this.RF=null;this.TU=0;
this.mB=0;this.Nj=0;if(d.yz(27))d.yY=window;else d.yY=this.$;window.alert=function(t,T){this.Ii.alert(t,T);
console.log("Alert: "+t)}.bind(this);window.onmessage=function(t){if(t.data instanceof ArrayBuffer){var T=BC._x(t.data),g=BC._A(T);
IG.zz({url:"file"},t.data,this);if(g==null)this.Dr()}else if(t.data.charAt(0)=="{"){}else{var R=new Q(d.E.m,!0);
R.data={I:d.L.jX,Je:t.data};this.C(R);this.Dr()}}.bind(this);window.onbeforeunload=this._Ce.bind(this);
this.NE={ms:[{K:H.fy,ZY:!0,mV:[M.pC]},{K:H.xP,ZY:!1,mV:[M.pP]},{K:H.xh,ZY:!1,mV:[M.pC,M.pP]}],He:[[{K:new H.QG,df:new Ih}],[{K:new H.Al,df:new IA},{K:new H.QZ,df:new I$}],[{K:new H.QM,df:new IP},{K:new H.Ax,df:new Ix},{K:new H.AA,df:new IQ}],[{K:new H.kp,df:new IN},{K:new H.AR,df:new Ir}],[{K:new H.Q_,df:new Is}],[{K:new H.QP,df:new IU},{K:new H.Ay,df:new Ik}],"---",[{K:new H.AO,df:new Ip},{K:new H.Qk,df:new IZ},{K:new H.Ar,df:new IS}],[{K:new H.xq,df:new I_},{K:new H.xd,df:new IT}],[{K:new H.QE,df:new IB}],[{K:new H.QU,df:new Iv}],[{K:new H.QS,df:new IL},{K:new H.Af,df:new If}],[{K:new H.xt,df:new IE},{K:new H.Ao,df:new Iu},{K:new H.AF,df:new Ia}],[{K:new H.Q$,df:new IK},{K:new H.xg,df:new II},{K:new H.AH,df:new Ii}],"---",[{K:new H.Qu,df:new IR}],[{K:new H.k_,df:new Ic},{K:new H.kT,df:new Il}],[{K:new H.kI,df:new IJ},{K:new H.kB,df:new Iy}],[{K:new H.Rect,df:new Ij},{K:new H.UJ,df:new Io},{K:new H.Ul,df:new IF},{K:new H.ks,df:new IO},{K:new H.kK,df:new IH}],"---",[{K:new H.QQ,df:new IC}],[{K:new H.AN,df:new Iw}]],keys:[M.pW,M.pD,M.pz,M._sm,M.uk,M.pH,null,M.pN,M.po,M.pn,M.E,M.pO,null,M.pM,null,M.k,M.pG,M.L,M.pe,null,M._IY,M.pg],nT:[{K:new H.kk,df:new Iz},{K:new H.ku,df:new ID}],ZN:[{K:new BL.kX},{K:new BL.History},{K:new BL.kd},{K:new BL.kW},{K:new BL.uZ},{K:new BL.uQ}],map:{},ez:null,cx:null,FO:null};
var N={},c="";for(var X=0;X<this.NE.He.length;X++){var l=this.NE.He[X];if(l=="---")continue;for(var C=0;
C<l.length;C++){this.NE.map[l[C].K.id]=l[C];l[C].Ks=X;l[C]._Rz=C;var q=BT.get(l[C].K.name);c+="<li>"+l[C].K.id+": "+q+"</li>";
N[q]=this.NE.keys[X]}}for(var X=0;X<this.NE.nT.length;X++)this.NE.map[this.NE.nT[X].K.id]=this.NE.nT[X];
for(var X=0;X<this.NE.ZN.length;X++)this.NE.map[this.NE.ZN[X].K.id]=this.NE.ZN[X];for(var J in this.NE.map){var Z=this.NE.map[J];
if(Z.df)Z.df._EL(J,Z.K.eg)}this.MS={l_:!1,Wr:{list:[],Wf:null},BL:[],FZ:[],LP:[],_Rm:[],_RM:[],dq:[],dY:{Xw:1,aY:JSON.parse(JSON.stringify(F.cz[0]))},dN:JSON.parse(JSON.stringify(F.cF.default)),rg:[null].concat(F.cz),Js:[null].concat(F.cz),MQ:new Bs,qr:{nJ:[],nR:null,nP:null},CL:[],qf:1,Wp:16711680,Wa:0,d_:!1,qg:!0,dE:{Xb:!0,dZ:!1,BC:!0,aK:!0,dC:20},dU:!0,dL:[!0,!0,!0,!0,!0],hS:1,aM:!0,_f:!1,compact:!1,mx:null};
this.MS.dN.strokeEnabled.v=!1;this.MS.qr=_W._va();this.MS.MQ.i(d.E.m,this.DJ,this);this.eM=new M;this._Q=new BE;
this.st=new IM;this.et=new Id(this.NE,!0);this.uD=new Iq;this.nb=new In(this);this.Ur=d.S("div","rightmost");
this.eS=!1;d.yH(this.nb.$,"mainblock");var W=this.mw;W.addEventListener("drop",this.nb.Yv,!1);W.addEventListener("dragover",In.QY,!1);
W.addEventListener("dragenter",In.QY,!1);W.addEventListener("dragleave",In.QY,!1);this._Q.parent=this.st.parent=this.et.parent=this.uD.parent=this.nb.parent=this;
this.nb.i(d.E.U,this.DX,this);this.nb.i(d.E.jC,this._RV,this);this.nb.i(d.E.jZ,this.__v,this);this.i("mouse",this.Dt,this);
this.i(d.E.A,this.fR,this);this.i(d.E.m,this.DJ,this);document.body.addEventListener("keydown",this.ox.bind(this),!1);
window.addEventListener("keyup",this.Dd.bind(this),!1);window.addEventListener("resize",this.Da.bind(this),!1);
window.addEventListener("paste",this._Ct.bind(this),!1);window.addEventListener("copy",this._CW.bind(this),!1);
window.addEventListener("blur",function(t){this.eM.reset()}.bind(this),!1);this.hH=0;this.Xg=[];this.eW=new IG;
this.eW.parent=this;this.eD=new B_;this.eD.parent=this;W.appendChild(this.eD.$);this.Ii=new Im;this.Ii.parent=this;
W.appendChild(this.Ii.$);this.tc=null;this._PB=null;this.mk=null;this.RR=null;W.appendChild(this._Q.$);
W.appendChild(this.st.$);var s=this._Pv=d.S("div","flexrow");W.appendChild(s);s.appendChild(this.et.$);
s.appendChild(this.nb.$);s.appendChild(this.uD.$);this.eW.zc({url:"https://ypig.tk/styles/PPBasic.abr"});this.eW.zc({url:"https://ypig.tk/styles/basic.pat"});
this.eW.zc({url:"https://ypig.tk/styles/Default Gradients.grd"});this.eW.zc({url:"https://ypig.tk/styles/fa_basic.csh"});this.eW.zc({url:"https://ypig.tk/styles/PPBasic.shc"});
this.DD(H.fy);BR.oP(this._UC.bind(this));this.mK=this.Fx.bind(this);window.requestAnimationFrame(this.mK)}Ie.prototype=new _A;
Ie.prototype.Dr=function(){if(window.parent!=window)window.parent.postMessage("done","*")};Ie.prototype._UC=function(){var N=BR.mY();
if(N!=null&&N.globals!=null)this.DQ(N.globals);if(d.yY[d.yD("vrt",2)]==d.yY[d.yD("xksn",5)]||!this.MS._f){this.DA();
this.Dx()}else{var c=d.yD("SIIFs",-5)+d.yD("qnQerwhwy",-3),X=d.yG(d.yY[c]),l=d.yD(d.yz(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
X[l](d.ym("vxik",-10),this._$L.bind(this));X[d.yD("|~t~",13)](d.yD("ML\\",6),d.ym("o_me*^hej$_gb`",1));
X[d.yD("wjtk",4)]()}this.Dn=!0;this.Dr();var C=new Q(d.E.m)};Ie.prototype._$L=function(N){var c=JSON.parse(N.target[d.ym("|n{wuswh",-10)]),X=d.yY[d.ym("YcVg^U]b",11)][d.ym("oaa_kj\\h",3)],l=d.yY[d.yD("Lj~p",8)][d.ym("ddk",10)]()/1e3,C=!1;
for(var q in c)if(q.indexOf(".")!=-1&&X.indexOf(q)!=-1&&parseInt(c[q])>l)C=!0;if(C)this.MS._f=!1;this.DA();
this.Dx()};Ie.prototype.Dx=function(N){if(!this.MS._f)this.nb.sE=null;this.nb.zX();this.DH(BZ.up);this.O();
this.Da();this.uD.Fp(this.DG(),this.Xg)};Ie.prototype.DQ=function(N){var c=this.MS;if(N.fcolor!=null)c.Wp=N.fcolor;
if(N.bcolor!=null)c.Wa=N.bcolor;if(N.rulers!=null)c.d_=N.rulers;if(N.favFam!=null)c.CL=N.favFam;if(N.eparams){var X=N.eparams,l=c.dE;
if(X.guides!=null)l.Xb=X.guides;if(X.grid!=null)l.dZ=X.grid;if(X.gsize!=null)l.dC=X.gsize;if(X.paths!=null)l.BC=X.paths;
if(X.pgrid!=null)l.aK=X.pgrid}if(N.lang!=null)BT._LP(N.lang);if(N.theme!=null)c.hS=N.theme;if(N.topt||c.Fd){var C=N.topt?N.topt:{},q=c.Fd?c.Fd:{};
for(var J in this.NE.map){if(J>=100)continue;var Z="t"+J;this.NE.map[J].K.fc(C[Z],q[Z],this)}}};Ie.prototype.DA=function(){if(this.MS.l_)return;
this.MS.l_=!0;var N=null,c=window.location.href,X=c.indexOf("="),l=c.indexOf("#");if(X!=-1)N=c.substring(c.indexOf("?")+1,X);
if(l!=-1){N="p";X=l}if(N=="p"||N=="state"){var C=c.substring(X+1,c.length);C=JSON.parse(decodeURI(C));
if(N=="p"){if(C.server)this.RF=C.server;if(C.resources)for(var q=0;q<C.resources.length;q++)this.eW.zc({url:C.resources[q]});
if(C.files)for(var q=0;q<C.files.length;q++)this.eW.zc({url:C.files[q],ed:{vj:C.server,Tp:C.script}});
if(C.environment==null)C.environment={};var J=C.environment;if(J.plugins!=null)this.uD._sx(J.plugins);
if(J.localsave!=null)this.MS.aM=J.localsave;if(J.compact!=null)this.MS.compact=J.compact;if(J.vmode!=null){var Z=J.vmode;
if(Z==1)this.MS.compact=!0;if(Z==2)this.mE()}if(J.menus!=null)this.MS._PC=J.menus;if(J.tmnu!=null)this.MS.Fd=J.tmnu;
if(J.showpanels!=null)this.MS._PZ=J.showpanels;if(J.showtools!=null)this.MS.mv=J.showtools;if(J.phrases!=null)BT._EN(J.phrases);
if(J.autosave!=null){window.setInterval(function(){var t=new Q(d.E.m);t.data={I:d.L.ju};this.C(t)}.bind(this),J.autosave*1e3)}if(J.icons!=null){for(var W in J.icons){PIMG[W]=J.icons[W];
PIMG["__"+W]=!0}}this.DQ(J)}else if(N=="state"){var s=this.eW;if(C.action=="create"){var t=new Q(d.E.m);
t.data={I:d.L.jl,mO:"newproject",DS:C.folderId};this.C(t)}if(C.action=="open"){for(var q=0;q<C.ids.length;
q++)Bk._R(function(){var T="https://www.googleapis.com/drive/v3/files/"+this._PP+"?"+Bk._h(),g=new XMLHttpRequest;
g.open("GET",T);g.send();g.onload=function(R){var P=JSON.parse(R.target.response);s.zc({url:T+"&alt=media",name:P.name,TS:{file:P,mr:""}})}}.bind({_PP:C.ids[q]}));
alert("Loading files from Google Drive ...")}}}else{}};Ie.prototype.O=function(){this._Q.O();this.uD.O();
this.et.O();this.eD.O();this.nb.O();for(var N in this.NE.map)if(this.NE.map[N].df)this.NE.map[N].df.O()};
Ie.prototype.Dk=function(){return d.yY[d.yD("ptih|ryy",4)][d.yD("q|pr",9)].indexOf("full")!=-1};Ie.prototype.FE=function(N,c){N=Math.floor(N);
c=Math.floor(c);var X=document.getElementsByClassName("topfloat")[0],l=!this.MS._f||BR.oh()!=null&&BR.oh().premium*1e3>Date.now()||this.Dk()||N<500;
if(l){if(window.hideCap)window.hideCap()}else N-=135;if(N<900||!this.MS._f)X.style.display="none";else X.style.display="";
if(l&&this.eS){this.$.removeChild(this.Ur);this.Ur.innerHTML="";this.eS=!1;X.style.right=0}if(!l&&!this.eS){var C=Math.random(),q=function(){var P=new Q(d.E.m);
P.data={I:d.L.jl,mO:"account"};this.C(P)}.bind(this),J=!1,Z=d.S("div");Z.setAttribute("id","adsense");
Z.setAttribute("style","width:500px; height:500px;");document.body.appendChild(Z);Z=document.getElementById("adsense");
if(Z==null)J=!0;else{if(!document.body.contains(Z))J=!0;else if(Z.getBoundingClientRect().width!=500)J=!0;
document.body.removeChild(Z)}X.style.right="135px";if(!J&&C<1.9){var W=d.S("div");W.setAttribute("id","div-gpt-ad-1525797053614-0");
W.setAttribute("style","height:600px; width:120px;");this.Ur.appendChild(W);var s=document.createElement("script");
s.textContent="googletag.cmd.push(function() { googletag.display('div-gpt-ad-1525797053614-0'); });";
W.appendChild(s);var t=d.S("div");t.setAttribute("style","margin-top:7px");t.textContent="Sponsor links open in a new window.";
this.Ur.appendChild(t)}else if(!1){var T=d.S("a");T.setAttribute("href","http://wgpartner.com/?a=1146&c=2116&s1=");
T.setAttribute("target","_blank");var g=d.S("img");g.setAttribute("src","img/game_img.jpg");g.setAttribute("style","cursor:pointer;");
T.appendChild(g);this.Ur.appendChild(T)}else{var g=d.S("img");g.setAttribute("src","img/pp_tall.png");
g.setAttribute("style","cursor:pointer;");g.addEventListener("click",q,!1);this.Ur.appendChild(g)}this.$.appendChild(this.Ur);
this.eS=!0}var R=c-(this._Q.o_()+1)-Math.max(this.st.o_()-1,0);this.Ur.setAttribute("style","height:"+(c-3)+"px");
this.et.FE(N,R);this.uD.FE(N,R);this.nb.FE(N-this.et.oE()-this.uD.oE(),R);this.Ii.FE(N,c);this.eD.FE(N,c)};
Ie.prototype._Ce=function(N){for(var c=0;c<this.Xg.length;c++)if(this.Xg[c].cI())return"There is unsaved work in "+this.Xg[c].name};
Ie.prototype.Da=function(N){var c=window.innerWidth,X=window.innerHeight;this.FE(c,X)};Ie.prototype._CW=function(N){console.log("systemCopy")};
Ie.prototype._Ct=function(N){console.log("systemPaste");if(!N.clipboardData)return;var c=N.target.tagName.toLowerCase();
if(this.Dq.indexOf(c)!=-1)return;var X=N.clipboardData.items;if(X==null)return;var l=this._vf.bind(this);
if(this.Xg.length==0)l=null;for(var C=0;C<X.length;C++){var q=X[C],J=q.getAsFile();if(q.type.indexOf("text")!=-1){q.getAsString(this._vx.bind(this))}if(q.type.indexOf("image")!=-1){var Z=J;
if(Z){Z.name="image.png";this.eW.zJ([Z],l)}}}};Ie.prototype._vx=function(N){if(N.startsWith("http")){if(N==this._Ph)return;
this._Ph=N;var c=new Q(d.E.m,!0);c.data={I:d.L.jx,mz:{url:N,Ye:!0}};this.C(c)}};Ie.prototype._vf=function(N,c){var X={buffer:N,rect:c};
if(this.mk)if(I.TA(X.buffer,this.mk.buffer)){return}if(this.tc){var l=new Q(d.E.A,!0);l.K=H.xQ;l.data={I:"h_stepbck"};
this.C(l)}this.mk=X;this.tc=X;var l=new Q(d.E.m,!0);l.data={I:d.L.jV};this.C(l)};Ie.QY=function(N){N.stopPropagation();
N.preventDefault()};Ie.prototype.Dl=function(){if(Date.now()-this.mB>1e3){if(this.eD.mn())alert("Close the current window first.");
else alert("Escape or Confirm the current action (in the top menu).");this.mB=Date.now()}};Ie.prototype.fR=function(N){var c=this.DG();
if(c==null){alert("Open a document first.");return}var X=this.NE;if(X.ez!=N.K&&X.map[X.ez].K.fi()&&N.K!=H.xP&&N.K!=H.xh){X.map[X.ez].K.disable(c,this,this.MS,this.eM)}if(this.eD.fi()&&N.pb!=!0){this.Dl();
return}var l=this.NE.map[N.K].K;l.fR(N.data,this,c,this.eM,this.MS);c.gs=!0};Ie.prototype.DJ=function(N){var c=N.data.I;
if(c==d.L.jt){this.DW(N.data._Ri)}if(c==d.L.jM){this.O();this.Da()}if(c==d.L.jP)this.Da();if(c==d.L.jn)if(this.MS.mx){this.MS.mx.prompt();
this.MS.mx=null}if(c==d.L.jh)this.Ii.zu(N.data);if(c==d.L.jr)this.Ii.zp(N.data);if(c==d.L.jG)this.Ii.zx(N.data.ah);
if(c==d.L.jb)this.Ii.zQ(N.data.ah);if(c==d.L.jS)this.Ii.zk();if(c==d.L.jf)this.nb.Oe(N.data.WE);if(c==d.L.jW)this.nb.DB(this.Xg.indexOf(N.data.Bb));
if(c==d.L.je){var X=this.DG(),l=I.clone(X.VN()),C=X.R[X.Q[0]],q=_s.VO()+"-d71c-11e5-b1ae-a548a96e5f9f",J=new Q(d.E.m,!0);
if(N.data.mz==0){var Z={Gj:new u(0,0,X.h,X.s),name:X.name.split(".")[0],Ml:l,id:q};J.data={I:d.L.jD,mz:BZ.uJ,hL:[Z]};
this.C(J)}if(N.data.mz==2){var W={nK:C.getName(),nv:q,n$:new u(0,0,X.h,X.s),p:C.add.vmsk.clone().p};
I.D.$m(W.p,new Bh(1/X.h,0,0,1/X.s,0,0));J.data={I:d.L.jD,mz:BZ.uy,hL:[W]};this.C(J)}}if(c==d.L.jx)this.eW.zc(N.data.mz);
if(c==d.L.jQ)this.eW.zV();if(c==d.L.jA){if(!this.MS.aM){alert("function is disabled");return}var X=this.DG();
if(X.nM){X.cE()}if(X.R.length>8e3&&!confirm("Your document has "+X.R.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var s=BR.oh()!=null&&BR.oh().premium*1e3>Date.now(),t=X.Vi()||X.hG&&X.hG.gg.Vi();if(this.Dk())t=!1;var T=new d.yY[(d.ym("Gc"+(d.yz(31)?"ue":"ve"),-3))]()[d.yD("edtNkqyykz",-2)]();
if(t&&!s&&T>2*15){d.yY[d.yM("clh]]c[",3)](d.yM("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-T+4*15)+d.yM(" rs}\x89\x8D\x83\x96V",-5));
return}var l=BC.PSD._c(X);IG.save(l,X.name);X.$X=X.dI;X.tv=!0}if(c==d.L.jk){var X=this.DG();if(X==null)return;
if(X.nM){X.cE()}var g=BC._V(X,"png");this.eW.zD(g)}if(c==d.L.ju){var X=this.DG(),R=!1;if(X==null)return;
if(X.nM){X.cE()}if(X.hG){if(this.Xg.indexOf(X.hG.gg)!=-1){var l=new Uint8Array(BC.PSD._c(X)),J=new Q(d.E.A,!0);
J.data={I:v.wZ,tG:X.hG.gg,data:l,id:X.hG.TV};J.K=H.xA;this.C(J);alert("Smart Object updated")}R=!0}else if(X.TS){this.eW.zy(X);
R=!0}else if(X.ed&&X.ed.vj){this.eW.zo(X);R=!0}else if(N.data.JE){this.eW.zj(X,N.data.JE);R=!0}if(R){X.$X=X.dI;
X.tv=!0}else alert("Use File - Save as PSD")}if(c==d.L.jm)window.open(N.data.link,"_blank");if(c==d.L.jp){if(this.eD.fi()){this.Dl();
return}var X=this.DG(),C=X.R[X.Q[0]],P=X.Vq(C.add.SoLd.Idnt.v);for(var O=0;O<this.Xg.length;O++){var b=this.Xg[O].hG;
if(b!=null&&b.TV==P.Ga&&b.gg==X){this.nb.Ds(O);return}}IG.zz({name:P.Xi,hG:{TV:C.add.SoLd.Idnt.v,gg:X}},P.raw.buffer,this)}if(c==d.L.ja){this._sb()}if(c==d.L.ji){this.Dj()}if(c==d.L.jw){this.Dj(!0)}if(c==d.L.jV){this._B_()}if(c==d.L.jX){_S.yQ(N.data.Je,this)}if(c==d.L.jc)this.uD.mh(N.data.mO);
if(c==d.L.jl){if(!this.MS.aM&&N.data.window=="saveforweb"){alert("function is disabled");return}this.eD.me(N.data.mO,this.DG(),N.data,this.Xg,this.eM)}if(c==d.L.jJ)IG.save(N.data.data,N.data.name);
if(c==d.L.jy)this._TC(N.data.tG);if(c==d.L.jo){this.eD.me("rawpea",null,N.data,this.Xg,this.eM)}if(c==d.L.jj){this.nb.Ds(N.data.target);
var J=new Q(d.E.A,!0);J.data={I:v.wR,tG:N.data.tG,B$:N.data.B$,q$:N.data.q$};J.K=H.xA;this.C(J);this.DD(H.xr)}if(c==d.L.jO){h.LH=!h.LH;
if(this.Xg.length>0)this.DG()._()}if(c==d.L._vD){this.Dx()}if(c==d.L.jF){this.eW.zJ(N.data.data,null,N.data.ax,N.data.zT)}if(c==d.L.jH){this.DD(N.data.K)}if(c==d.L.jN){if(this.NE.cx){this.DD(this.NE.cx)}}if(c==d.L.jY){var z=this.NE.map[N.data.K].K,X=this.DG();
z.fk(N.data,this,X,this.eM,this.MS);if(X)X.gs=!0;this.DN()}if(c==d.L.jz){this.NE.map[N.data.K].df.Yt(N.data)}if(c==d.L.jD){var m=N.data.mz,f=this.MS;
if(m==BZ.ua){var B=f.Wr.list.length;f.Wr.list[0]=N.data.hL;if(B!=0)alert(BT.get([9,3])+" "+BT.get([23,1])+".")}if(m==BZ.uw){f._RM.push(N.data.hL);
alert(BT.get([4,2])+" "+BT.get([23,1])+".")}if(m==BZ.ui){var B=f.BL.length;f.BL=f.BL.concat(N.data.hL);
if(B!=0)alert(BT.get([12,37])+" "+BT.get([23,1])+".")}if(m==BZ.uc){var B=f.FZ.length;f.FZ=f.FZ.concat(N.data.hL);
if(B!=0)alert(BT.get([12,21])+" "+BT.get([23,1])+".")}if(m==BZ.uJ){var B=f.LP.length;f.LP=f.LP.concat(N.data.hL);
if(B!=0)alert(BT.get([12,62])+" "+BT.get([23,1])+".")}if(m==BZ.uy){var B=f.dq.length;f.dq=f.dq.concat(N.data.hL);
if(B!=0)alert(BT.get([12,77])+" "+BT.get([23,1])+".")}if(m==BZ.uV){f.MQ.HO(N.data.hL)}if(m==BZ.ul){f._Rm.push(N.data.hL);
alert(BT.get([4,1])+" "+BT.get([23,1])+".")}if(m==BZ.uO){var K=N.data.q;f.dY=K;f.rg[K.Xw]=K.aY}if(m==BZ.uF){var K=N.data.q;
f.dN=K;var j=K.strokeEnabled.v,S=K.strokeStyleContent.v,r=j?{Xw:1+F.cF.cY.indexOf(S.classID),aY:S}:{Xw:0};
f.Js[r.Xw]=r.aY}if(m==BZ.uo){f.qr=N.data.qr;f.qf=N.data.qf}if(m==BZ.uH){f.Wr.Wf=N.data.la}if(m==BZ.uN){f.CL=N.data.gY}if(m==BZ.uY){if(N.data.to==0)f.Wp=N.data.q;
if(N.data.to==1)f.Wa=N.data.q;if(N.data.to==2){var n=f.Wp;f.Wp=f.Wa;f.Wa=n}if(N.data.to==3){f.Wp=16777215;
f.Wa=0}}if(m==BZ.uz){f.d_=!f.d_;this.Da()}var o=f.dE;if(m==BZ.ub){o.BC=!o.BC;this.Da()}if(m==BZ.uM){o.Xb=!o.Xb;
this.Da()}if(m==BZ.uG){o.dZ=!o.dZ;this.Da()}if(m==BZ.uX){o.aK=!o.aK;this.Da()}if(m==BZ.um){f.dE=N.data.gY;
this.Da()}if(m==BZ.un){f.dU=!f.dU;this.Da()}if(m==BZ.ue){f.dL[N.data.mb]=!f.dL[N.data.mb];this.Da()}if(m==BZ.uW){BT._Lx(N.data.lang);
this.O()}if(m==BZ.ut){f.hS=N.data.hS;this.O()}this.DH(m)}};Ie.prototype._sb=function(){this.Dj();var N=this.DG();
if(N==null)return;var c=N.R[N.Q[0]],X=new Q(d.E.A);if(c.gB){X.K=H.xv;X.data={I:"remove",mN:"Cut Paths"}}else{X.K=H.fW;
X.data={I:"clear"}}this.C(X)};Ie.prototype.Dj=function(N){if(N==null)N=!1;console.log("doCopy");var c=this.DG();
if(c==null)return;var X=c.R[c.Q[0]],l=X.add.vmsk;if(!N&&l&&(X.gB||X.i$())&&l.Q.length!=0){this.RR=I.D._BQ(l.p,l.Q)}else{if(c.G==null)return;
var C,q;if(N){var J=new u(0,0,c.h,c.s);q=J.vm(c.G.rect);C=I.a(q.n()*4);I.TF(c.VN(),J,C,q);I.Tb(c.G.channel,c.G.rect,C,q)}else{var Z=X.iQ(c,c.G);
if(Z==null){alert("Copied area is empty");return}C=Z.qx;q=Z.rect}this.tc={buffer:C,rect:q}}};Ie.prototype._B_=function(){console.log("doPaste");
if(this.Xg.length>0){var N=this.DG(),c=N.R[N.Q[0]],X=c.add.vmsk,l=new Q(d.E.A,!0);if(this.RR!=null&&X&&(c.gB||c.i$())){l.K=H.xv;
l.data={I:"append",mN:"Paste Paths",dM:this.RR}}else{if(this.tc==null)return;if(c.X>0){l.K=H.fW;l.data={I:"paste"}}else{l.K=H.xA;
l.data={I:v.wb}}l.data.tc=this.tc}this.C(l)}};Ie.prototype.DF=function(){for(var N=0;N<this.Xg.length;
N++){var c=this.Xg[N],X=!0,W="\t\t\tvar originalStem = app[\"active\"+\"Document\"].activeLayer;\t\t\t\t\t\tvar stemsAmount = 12;\t\t\tvar obj = {a:3, b:4};\t\t\tobj.a = obj.b + 3;\t\t\tfunction change(x) {  var loc = x;  loc += 4;  if(true) return loc*2;  }\t\t\tvar nv = change(3);\t\t\talert(change(6));\t\t\tvar pps = {\"a\":3,\"b\":4,\"c\":5};\t\t\tfor(var p in pps) alert(p);\t\t\tvar rnd=Math.random;\t\t\t\t\t\tvar angle = Math.floor(360 / stemsAmount);\t\t\tvar arr = [angle, angle];\t\t\talert(\"Hi from PP Script!\");\t\t\tvar narr = arr.slice(0);\t\t\t\t\t\tfor(var i = 1; i < stemsAmount; i++)\t\t\t{\t\t\t\tvar newStem = originalStem.duplicate();\t\t\t\t/*newStem.translate(-100+rnd()*200, -100+Math.random()*200);*/\t\t\t\tnewStem.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\t\t\t}\t\t\t//app.activeDocument.save();\t\t\t";
if(c.HZ)continue;for(var l=0;l<c.R.length;l++){var C=c.R[l],q=C.add.TySh;if(q!=null&&!_Z.J_(q,this.MS.MQ))X=!1}if(!X)continue;
if(c.nr)for(var l=0;l<c.R.length;l++){var C=c.R[l],q=C.add.TySh;if(q!=null&&_Z.J_(q,this.MS.MQ)){var J=new _R(q.Xk,this.MS.MQ),Z=_Z.ld(J,q);
C.rect=Z.rect;C.buffer=Z.Ml;C._();c._()}}c.nr=!1;if(c.ed&&c.ed.Tp)_S.yQ(c.ed.Tp,this);this.Dr();c.HZ=!0;
W=" var myFont = app.fonts.getByName(\"Arizona\"); app.activeDocument.layers[0].textItem.font = myFont.postScriptName;";
W="app.activeDocument.activeLayer.remove();";W="app.open(\"images/outline.psd\");";W="var TextLayer = app.activeDocument;\t\t\t\t\tvar myTextLayer = TextLayer.artLayers.add();\t\t\t\t\tmyTextLayer.kind = LayerKind.TEXT;\t\t\t\t\tvar myText = myTextLayer.textItem;\t\t\t\t\tmyText.size = 70;\t\t\t\t\tmyText.contents = \"Lorem Ipsum Text Boop\";\t\t\t";
W="function Point(x,y) {  this.x = x; this.y = y;  }";W="app.activeDocument.activeLayer.convertToSO();"}};
Ie.prototype.DH=function(N){if(N==BZ.uH){if(this.NE.map[this.NE.ez].df)this.NE.map[this.NE.ez].df.fu(this.MS,N)}else for(var c in this.NE.map)if(this.NE.map[c].df)this.NE.map[c].df.fu(this.MS,N);
if(N==BZ.uV)this.DF();this.et.fu(this.MS,N);this.eD.fu(this.MS,N);this.Dm().fu(this.MS,N);this.uD.fu(this.MS,N);
this._Q.fu(this.MS,N);if(this.Xg.length>0)this.DG().gs=!0;if(N==BZ.ut||N==BZ.up){_Q.jq(this.MS.hS);this.update(!0)}this.DN()};
Ie.prototype.DN=function(){if(!this.Dn)return;var N={},c=this.NE.map;for(var X in c){var l=c[X].K;if(l.fV&&l.fV()!=null)N["t"+X]=l.fV()}var C=this.MS,q=C.dE,J={fcolor:C.Wp,bcolor:C.Wa,rulers:C.d_,favFam:C.CL,eparams:{guides:q.Xb,grid:q.dZ,paths:q.BC,pgrid:q.aK,gsize:q.dC},lang:BT._v(),theme:C.hS,topt:N},Z=BR.mY();
if(Z==null)Z={};Z.globals=J;BR.Ma(Z)};Ie.prototype.DY=function(){var N=this.eM,c=this.eG,X=this.NE.map[this.NE.ez].K,l=null;
for(var C=0;C<this.NE.ms.length;C++){var q=this.NE.ms[C],J=!0;for(var Z=0;Z<q.mV.length;Z++){var W=q.mV[Z];
if(!N.T(W))J=!1}if(J&&(!q.ZY||!X.fi()))l=q.K}if(!c.tE&&this.NE.FO!=l&&l!=this.NE.ez){this.NE.FO=l;var s=this.DG();
this.Dm().enable(s,this,this.MS,this.eM,l!=null&&l!=this.NE.ez)}};Ie.prototype.Dz=function(N){var c=this.NE.ez,X=this.DG();
if(c!=null){this.NE.map[c].K.disable(X,this,this.MS,this.eM)}};Ie.prototype.DD=function(N){var c=this.DG();
if(this.NE.map[N].K.fw(c,this.MS)){this.Dz();this.NE.cx=this.NE.ez;this.NE.ez=N;this.et.Fp(this.NE);
var X=this.NE.map[N].df;this.st.za(X);var l=this.NE.map[N].K;l.enable(c,this,this.MS,this.eM);if(c)c.gs=!0;
this.Da()}};Ie.prototype.Dm=function(){if(this.NE.FO)return this.NE.map[this.NE.FO].K;else return this.NE.map[this.NE.ez].K};
Ie.prototype._TC=function(N){var c=this.Xg.indexOf(N);if(c!=-1){this.nb.Ds(c);return}if(this.RF&&(N.ed==null||N.ed.vj==null)){N.ed={vj:this.RF};
N.Vl="local,"+this.TU+","+N.name;this.TU++}for(var X=0;X<N.R.length;X++){var l=N.R[X];if(l.add.TySh!=null)_Z.J_(N.R[X].add.TySh,this.MS.MQ)}var C=d.yY[d.ym("Gc"+(d.yz(29)?"ue":"ve"),-3)];
C=C[d.ym("jj"+(!d.yz(27)?"p":"q"),4)];var q=Math.floor(C()/1e3),J=(d.yz(32)?2:1)*7e8+Math.PI*49412004;
if(q>J){N.R=[];return}if(h.LH)h._KE(Math.max(N.h,N.s));N.cC();N.cU();N._();this.Xg.push(N);this.nb.zg(new Tn(N));
N.gs=!0;this.DF();var Z=new Q(d.E.m);Z.data={I:d.L.jl,mO:"filter_"+"\0\0\x02\xB1"};var Z=new Q(d.E.A);
Z.K=H.xf;Z.data={I:"auto",mD:2}};Ie.prototype.DG=function(){return this.Xg[this.hH]};Ie.prototype.Db=function(){return!this.eD.mn()};
Ie.prototype.DX=function(N){this.Dz();this.hH=this.nb.zW();var c=this.DG();this._Q._vX(c,this.MS);this.uD.Fp(c,this.Xg);
this.Da();if(c)c.gs=!0};Ie.prototype._RV=function(N){this.Dz();this.Xg.splice(this.nb.zt(),1);if(this.Xg.length==0){this.DX(N);
if(h.LH)h.LG().parentNode.removeChild(h.LG())}};Ie.prototype.__v=function(N){var c=this.nb,X=c.DI(),l=this.Dm(),C=this.DG();
if(X==c.zW()||!l.fl())return;this.DW(X,l)};Ie.prototype.DW=function(N,c){var X=this.nb,l=this.DG(),C=new Q(d.E.A,!0);
C.K=H.xA;C.data={I:v.wz,R:l.cv(),gg:l,Fw:this.Xg[N]};this.C(C);if(c)c.fJ(l,this,this.MS,this.eM);X.Ds(N);
if(c)c.fP(this.DG(),this,this.MS,this.eM,this.eG)};Ie.prototype.Dt=function(N){var c=this.eM,X=this.MS,l=N.dT;
this.eG=N.dT;var C=this.DG(),q=this.eD.mn()&&this.eD.mX().Fk()?this.eD.mX():this.Dm();if(N.action=="down")q.fP(C,this,X,c,l);
if(N.action=="move")q.fh(C,this,X,c,l);if(N.action=="up")q.fr(C,this,X,c,l);if(N.action=="ctx")q.fS(C,this,X,c,l);
var J=this.uD;if(N.action=="down")J.fP(C,this,X,c,l);if(N.action=="move")J.fh(C,this,X,c,l);if(N.action=="up")J.fr(C,this,X,c,l);
if(N.action=="down"||N.action=="up"){this.DY()}if(N.action=="down"||N.action=="up"||N.action=="ctx"){C.gs=!0}if(N.action=="scroll"){var Z=new Q(d.E.A,!0),W=N.tD.clone();
if(Math.abs(W.x)+Math.abs(W.y)<=2){W.x*=40;W.y*=40}Z.data={I:"scroll",tD:W,dT:l};Z.K=c.T(M.pZ)?H.xh:H.xP;
this.C(Z)}};Ie.prototype.Fx=function(N){var c=this.DG(),X=this.eG;if(c&&this.Dm().fa(X)){var l=c.g,C=l.N.h,q=l.N.s,J=0,Z=0,W=16;
if(X.x<W)J=W-X.x;if(X.x>C-W)J=X.x-(C-W);if(X.y<W)Z=W-X.y;if(X.y>q-W)Z=X.y-(q-W);if((J!=0||Z!=0)&&(c.h*l.o>C||c.s*l.o>q)){J=Math.min(5,J*.5);
Z=Math.min(5,Z*.5);if(!(X.x<W||X.y<W)){J=-J;Z=-Z}l.M.x+=J;l.M.y+=Z;this.Dt({dT:this.eG,action:"move"});
c.tm=!0}}this.update();window.requestAnimationFrame(this.mK)};Ie.prototype.update=function(N){var c=this.DG();
if(c==null)return;if(c.gs)this.Dm().fx(c,this,this.MS,this.eM);if(c.nM){c.cE()}if(c.nM||c.WD||c.tv||c.tm||N){this.nb.fu(this.MS,null);
this.nb.Fp(c)}if((c.nM||c.tm||c.gs)&&!this.eG.tE){c.cU();this.uD.Fp(c,this.Xg);this.et._UR(c);c.qR=!1}c.gs=!1;
c.nM=null;c.WD=c.tv=c.tm=!1};Ie.prototype.Dq=["input","textarea","select"];Ie.prototype.ox=function(N){var c=N.target.tagName.toLowerCase();
if(this.Dq.indexOf(c)!=-1&&!M.pT(N.code,M.pR)||c=="button"&&(M.pT(N.code,M.pK)||M.pT(N.code,M.ph)))return;
if(M.pI(N)){N.preventDefault()}this.eM.uq(N.code);this.ff("down")};Ie.prototype.Dd=function(N){var c=N.target.tagName.toLowerCase();
if(this.Dq.indexOf(c)!=-1&&!M.pT(N.code,M.pR))return;if(M.pI(N)){N.preventDefault()}this.eM.ud(N.code);
this.ff("up")};Ie.prototype.ff=function(N){var c=this.eM,X=this.DG();this.DY();var l=this.NE.map[this.NE.ez].K,C=this.Dg(M.pC);
if(C&&c.T(M.pg)){if(c.T(M.pZ)){var q=new Q(d.E.A);q.K=H.xQ;q.data={I:"h_stepbck"};this.C(q)}else if(c.T(M.pU)){var q=new Q(d.E.A);
q.K=H.xQ;q.data={I:"h_stepfwd"};this.C(q)}else{var q=new Q(d.E.A);q.K=H.xQ;q.data={I:"h_undoredo"};this.C(q)}}if(C){var J=new Q(d.E.A),Z=new Q(d.E.m);
if(c.T(M.pJ)){J.K=H.fz;J.data={I:"trim"}}if(c.T(M.L)){J.K=H.fj;J.data={I:"all"}}if(c.T(M.If)){J.K=H.fj;
J.data={I:"deselect"}}if(c.T(M.pN)){J.K=H.xA;J.data={I:v.V$}}for(var W in BP.keys){var s=BP.keys[W],t=!0;
for(var T=0;T<s.length;T++)if(!c.T(s[T]))t=!1;if(t){J.K=H.xf;J.data={I:"start",_$:W}}}if(c.T(M.pH)&&c.T(M.pU)){J.K=H.fj;
J.data={I:"inverse"}}if(c.T(M.pm)){Z.data={I:d.L.jl,mO:"newproject"}}if(c.T(M.pM)){Z.data={I:d.L.jQ};
c.reset()}if(c.T(M.pn)){if(c.T(M.pU)){if(c.T(M.pZ))Z.data={I:d.L.jl,mO:"saveforweb"};else Z.data={I:d.L.jA}}else Z.data={I:d.L.ju}}if(c.T(M.k)){Z.data={I:d.L.jH,K:H.xr}}if(c.T(M.pY)){Z.data={I:d.L.jl,mO:"preferences"}}if(c.T(M.pq)){Z.data={I:d.L.ja}}if(c.T(M.uk)){Z.data={I:c.T(M.pU)?d.L.jw:d.L.ji}}if(c.T(M.pW)){Z.data={I:d.L.jV}}if(c.T(M._ZW)){Z.data={I:d.L.jD,mz:BZ.uz}}if(c.T(M.pO)){if(c.T(M.pZ)&&X.VJ(X.Q[0])){J.K=H.xA;
J.data={I:v.wD}}else{J.K=H.xA;J.data={I:v.wn}}}if(N=="down"&&c.T(M.E)){J.K=H.xA;if(X.Q.length==1&&X.Q[0]!=0&&!X.R[X.Q[0]].iv())J.data={I:v.wr};
else if(X.Q.length>1)J.data={I:v.wS}}if(c.T(M.pp)){Z.data={I:d.L.jD,mz:BZ.uM}}if(c.T(M.pa)){Z.data={I:d.L.jD,mz:BZ.uG}}if(c.T(M.pk)||c.T(M.pi)){J.K=H.xh;
J.data={I:"zoom",mG:!0}}if(c.T(M.pu)){J.K=H.xh;J.data={I:"zoom",mG:!1}}if(c.T(M.aE)){J.K=H.xh;J.data={I:"adapt",q:"fitscr"}}if(c.T(M.a_)){J.K=H.xh;
J.data={I:"adapt",q:"pixel"}}if(J.data)this.C(J);if(Z.data)this.C(Z)}if(!c.T(M.pC)&&!c.T(M.pZ)&&!c.T(M.pU)){var g=this.NE.map[this.NE.ez],R=-1;
for(var T=0;T<this.NE.keys.length;T++)if(this.NE.keys[T]&&this.Dg(this.NE.keys[T]))R=T;if(R!=-1){var P;
if(g.Ks!=R)P=0;if(g.Ks==R)P=(g._Rz+1)%this.NE.He[R].length;var O=this.NE.He[R][P].K.id,b=this.MS.mv;
if((b==null||b.indexOf(parseInt(O))!=-1)&&!this.eG.tE)this.DD(O)}var Z=new Q(d.E.m);if(c.T(M.pq))Z.data={I:d.L.jD,mz:BZ.uY,to:2};
if(c.T(M.If))Z.data={I:d.L.jD,mz:BZ.uY,to:3};if(Z.data)this.C(Z);var z=c.p_();if(z!=-1&&this.Dg(M.aL[z])){var m=X.Q[0],f=X.R[m],B=d.yX(Math.round(100*f.opacity/255),z),J=new Q(d.E.A);
J.K=H.xA;J.data={I:v.wc,e:m,gY:Math.round(255*B/100)};this.C(J)}}if(c.T(M.pU)&&c.T(M.py)){var Z=new Q(d.E.m);
Z.data={I:d.L.jl,mO:"shortcuts"};if(Z.data)this.C(Z)}if(c.T(M.pU)&&c.T(M._$J)){var Z=new Q(d.E.m);Z.data={I:d.L.jl,mO:"fill"};
if(Z.data)this.C(Z)}if(c.T(M.ph))this.mE();var K=N=="down"&&(this.Dg(M.pV)||this.Dg(M.pw));if(c.T(M.pZ)&&K){var J=new Q(d.E.A);
J.K=H.fW;J.data={I:"fill",Xw:0};this.C(J)}else if(C&&K){var J=new Q(d.E.A);J.K=H.fW;J.data={I:"fill",Xw:1};
this.C(J)}else if(K){var J=new Q(d.E.A);if(X.G!=null){J.K=H.fW;J.data={I:"clear"}}else{J.K=H.xA;J.data={I:v.wU}}this.C(J)}var X=this.DG();
if(this.eD.mn()){if(c.T(M.pR)){this.eD.mX().FV();return}else{this.eD.mX().ff(X,this,this.MS,c);return}}if(this.NE.ez==null)return;
var g=this.Dm();g.ff(X,this,this.MS,c)};Ie.prototype.Dg=function(N){var c=this.eM,X=this.NE.map[this.NE.ez].K,top=this.eD.mX();
return c.T(N)&&!X.fp(N)&&(top==null||!top.fp(N))};Ie.prototype.mE=function(){var N=this._Pv,c=this.mw;
if(this.Nj==0){c.removeChild(this.st.$);N.removeChild(this.et.$);N.removeChild(this.uD.$)}else{c.appendChild(this.st.$);
c.appendChild(N);N.appendChild(this.et.$);N.appendChild(this.nb.$);N.appendChild(this.uD.$)}this.Nj=!this.Nj;
this.Da()};function IW(N){_A.call(this);if(N==null)return;this.$=d.S("div","sbar"+" "+N);this.er=new d.S("div","top");
this.er.innerHTML="> <";this.$.appendChild(this.er);this.Mu=1;this.er.addEventListener("click",this._EK.bind(this),!1)}IW.prototype=new _A;
IW.prototype._EK=function(N){if(this.Mu==0)this.zq();else this.collapse()};IW.prototype.mT=function(){this.Mu=1-this.Mu;
this.er.innerHTML=this.Mu==0?"< >":"> <"};IW.prototype.mI=function(){var N=new Q(d.E.m,!0);N.data={I:d.L.jP};
this.C(N)};IW.prototype.zq=function(){this.mT();this.mI()};IW.prototype.collapse=function(){this.mT();
this.mI()};function It(N){IW.call(this,"vcolumn");this.Pt=N;this.mL();this.Zv=d.S("div");this.Zv.setAttribute("style","cursor:default;");
this._PA=this._RJ.bind(this);this.m$=this._Rj.bind(this);this.Tc=this._P$.bind(this);d.yn(this.$,this._PA);
this.$.appendChild(this.Zv);this.Ix=d.S("div","");this.Zv.appendChild(this.Ix);this.UC=null;this.zv=d.S("div","float");
this.pd=[];this.cn=null;this.YD=0}It.prototype=new IW;It.prototype._RJ=function(N){if(N.target!=this.$)return;
if(this.Mu==0)return;this.cn=d.jT(N,document.body);this.YD=this.Pt;d.ye(document,this.m$);d.yW(document,this.Tc)};
It.prototype._Rj=function(N){var c=d.jT(N,document.body);this.Pt=this.YD+this.cn.x-c.x;this.mL();var X=new Q(d.E.m,!0);
X.data={I:d.L.jP};this.C(X)};It.prototype._P$=function(N){d.yq(document,this.m$);d.yd(document,this.Tc)};
It.prototype._PR=function(N){N.i("showFloat",this._Pk,this);N.i("hideFloat",this.mU,this);this.pd.push(N);
N.parent=this;this.Zv.appendChild(N.$)};It.prototype.ze=function(){for(var N=0;N<this.pd.length;N++)this.pd[N].ze()};
It.prototype._Pk=function(N){this.mU(N);this.Ix.appendChild(this.zv);this.UC=N.currentTarget.KK;this.zv.appendChild(this.UC);
var c=N.currentTarget.N$(),X="";if(c.x!=0)X+="width : "+c.x+"px;";if(c.y!=0)X+="height: "+c.y+"px;";
this.zv.setAttribute("style",X);this.FE(this.ML,this.MC)};It.prototype.mU=function(N){this.ze();if(this.UC){this.Ix.removeChild(this.zv);
this.zv.removeChild(this.UC);this.UC=null}};It.prototype.mL=function(){this.$.setAttribute("style","width: "+this.Pt+"px; padding-left:3px; cursor:ew-resize;")};
It.prototype.zq=function(){this.mL();this.mU();for(var N=0;N<this.pd.length;N++)this.pd[N].zq();IW.prototype.zq.call(this)};
It.prototype.collapse=function(){this.$.removeAttribute("style");for(var N=0;N<this.pd.length;N++)this.pd[N].collapse();
IW.prototype.collapse.call(this)};It.prototype.FE=function(N,c){this.ML=N;this.MC=c;var X=this.pd.length;
c-=6;if(X==0)return;var l=c;for(var C=0;C<X-1;C++)l-=this.pd[C].zd();this.pd[X-1].FE(N,l)};function Iq(){_A.call(this);
this.qy=null;this.ha=!0;this.af=Iq.pG;this.$=d.S("div","rightbar");this.as=[new It(380),new It(265)];
this.pd=[[new IX,new IX,new IX,new IX],[new IX,new IX]];for(var N in this.af){var c=this.af[N];this.pd[c.mZ][c.mR].zg(c.mC)}}Iq.prototype=new _A;
Iq.prototype.O=function(){for(var N in this.af){this.af[N].mC.O()}};Iq.pG={history:{mC:new TN,mZ:1,mR:0},layers:{mC:new TM,mZ:1,mR:1},info:{mC:new Tm,mZ:0,mR:0},properties:{mC:new TX,mZ:0,mR:0},css:{mC:new TD,mZ:0,mR:0},brush:{mC:new TH,mZ:0,mR:1},character:{mC:new Tz,mZ:0,mR:2},paragraph:{mC:new Tb,mZ:0,mR:2},layercomps:{mC:new Te,mZ:0,mR:3}};
Iq.prototype._sx=function(N){for(var c=0;c<N.length;c++){var X=N[c],l="plg_"+X.name;Iq.pG[l]={mC:new Tt(X),mZ:0,mR:3};
this.mh(l);this.mh(l)}};Iq.prototype.fu=function(N,c){this.qy=N;for(var X in this.af)this.af[X].mC.fu(N,c)};
Iq.prototype.FE=function(N,c){this.ML=N;this.MC=c;if(this.ha==!0&&N!=0&&this.qy!=null){this.ha=!1;var X=this.qy._PZ;
if(X==null)X=[1,1];for(var l=0;l<this.as.length;l++){if(X[l]==0||X[l]==null)continue;var C=this.as[l];
C.parent=this;this.$.appendChild(C.$);var q=this.pd[l];for(var J=0;J<q.length;J++){if(X[l]instanceof Array&&X[l].indexOf(J)==-1)continue;
C._PR(q[J])}}this.as[0].collapse();if(this.ML<500||this.qy.compact){this.as[1].collapse()}}this.as[0].FE(N,c);
this.as[1].FE(N,c)};Iq.prototype.mh=function(N){var c=this.af[N];this.pd[c.mZ][c.mR].zg(c.mC)};Iq.prototype.Fp=function(N,c){for(var X in this.af)this.af[X].mC.Fp(N,c)};
Iq.prototype.fP=function(N,c,X,l,C){for(var q in this.af)this.af[q].mC.fP(N,c,X,l,C)};Iq.prototype.fh=function(N,c,X,l,C){for(var q in this.af)this.af[q].mC.fh(N,c,X,l,C)};
Iq.prototype.fr=function(N,c,X,l,C){for(var q in this.af)this.af[q].mC.fr(N,c,X,l,C)};function Id(N,c){IW.call(this,"toolbar");
this.ZJ=null;this.RC=d.S("div","tools");this.$.appendChild(this.RC);this.W_=null;this._PO=c;this.NE=null;
this.Z=null;this.qm=null;this.UQ=null;this.mS(N);this.Wp=new _V;this.Wp.i(d.E.U,this._RX,this);this.Wp.parent=this;
this.Wa=new _V;this.Wa.i(d.E.U,this._se,this);this.Wa.parent=this;this.Pn=d.S("span","scont");this.$E=d.S("button","switch");
this.$E.textContent="\u21F5";this.FH=d.S("button","switch");this.FH.textContent="D";var X=this._vo.bind(this);
this.$E.addEventListener("click",X,!1);this.FH.addEventListener("click",X,!1);this.Pn.appendChild(this.$E);
this.Pn.appendChild(this.FH)}Id.prototype=new IW;Id.prototype._UR=function(N){if(N==null)return;var c=N.R[N.Q[0]].X,X=c==1||c==3;
this.Wp.oz(X);this.Wa.oz(X)};Id.prototype.mS=function(N){this.ZJ=N;this.Z=[];this.qm=[];this.UQ=[];this.NE=[];
var c=N.He;if(this.W_){var X=[],l=this.W_.mv;for(var C=0;C<c.length;C++){if(c[C]=="---"){X.push("---");
continue}var q=[];for(var J=0;J<c[C].length;J++){var Z=c[C][J];if(l==null||l.indexOf(parseInt(Z.K.id))!=-1)q.push(Z)}if(q.length>0)X.push(q)}c=X}for(var C=0;
C<c.length;C++){if(c[C]=="---"){this.UQ.push(null);this.qm.push("---");continue}var W=[],s=this.Z.length;
for(var J=0;J<c[C].length;J++){var Z=c[C][J].K;this.NE.push(Z);var t=new Ig(Z.name,N.keys[C],Z.eg,this.Z.length,C,c[C].length>1);
this.Z.push(t);if(J==0)this.qm.push(t);t.i(d.E.U,this.or,this);t.i("mover",this.o$,this);W.push({name:Z.name,$a:Z.eg,mV:N.keys[C]?N.keys[C].pv:""})}if(W.length==1)this.UQ.push(null);
else{var T=new _k(W);T.DZ=s;T.Ks=C;this.UQ.push(T);T.i("select",this._Im,this);T.parent=this}}};Id.prototype.FE=function(N,c){var X=c-11,l=32;
if(1<d.V()&&d.V()<1.5)l=18+14*(1/d.V());var C=(this.qm.length-3)*l+3*5+61,q=Math.min(1,X/C);if(.5<=q){this.RC.setAttribute("style","widt:34px; transform-origin: top left; transform: scale("+q+","+q+");");
this.$.setAttribute("style","height:"+(c-2)+"px; overflow:hidden")}else{this.RC.setAttribute("style","height: "+X+"px;  width:"+Math.ceil(C/X)*34+"px");
this.$.setAttribute("style","")}};Id.prototype.O=function(){for(var N=0;N<this.Z.length;N++)this.Z[N].O();
for(var N=0;N<this.UQ.length;N++)if(this.UQ[N])this.UQ[N].O();this.$E.setAttribute("title",BT.get([22,7,0])+" (X)");
this.FH.setAttribute("title",BT.get([22,7,1])+" (D)")};Id.prototype.or=function(N){var c=new Q(d.E.m,!0);
c.data={I:d.L.jH,K:this.NE[N.id].id};this.C(c)};Id.prototype._Im=function(N){var c=N.target.DZ+N.target.ov()[0];
this.Z[c].xe(null)};Id.prototype.o$=function(N){var c=new Q(d.E.m,!0);c.data={I:d.L.jS};this.C(c);var X=N.target,l=this.UQ[X.Ks];
if(l==null)return;var C=X.$.getBoundingClientRect(),c=new Q(d.E.m,!0);c.data={I:d.L.jh,mC:l,x:C.left+C.width+8,y:C.top};
this.C(c)};Id.prototype._RX=function(N){var c=new Q(d.E.m,!0);c.data={I:d.L.jD,mz:BZ.uY,to:0,q:N.target.oM()};
this.C(c)};Id.prototype._se=function(N){var c=new Q(d.E.m,!0);c.data={I:d.L.jD,mz:BZ.uY,to:1,q:N.target.oM()};
this.C(c)};Id.prototype._vo=function(N){var c=new Q(d.E.m,!0);c.data={I:d.L.jD,mz:BZ.uY,to:N.currentTarget==this.$E?2:3};
this.C(c)};Id.prototype.DD=function(N){var c=-1;for(var X=0;X<this.NE.length;X++)if(this.NE[X].id==N)c=X;
for(var X=0;X<this.Z.length;X++){var l=this.Z[X];l._sd(c==X)}if(c==-1)return;this.qm[this.Z[c].Ks]=this.Z[c];
d.yF(this.RC);var C=this.qm;for(var X=0;X<C.length;X++){if(C[X]=="---")this.RC.appendChild(d.S("hr"));
else this.RC.appendChild(C[X].$)}if(!this._PO)return;this.RC.appendChild(this.Wp.$);this.RC.appendChild(this.Pn);
this.RC.appendChild(this.Wa.$)};Id.prototype.Fp=function(N){this.DD(N.ez)};Id.prototype.fu=function(N,c){this.W_=N;
if(c==BZ.up){this.mS(this.ZJ);this.DD(this.ZJ.ez)}this.Wp.oG(N.Wp);this.Wa.oG(N.Wa)};function Ig(N,c,X,l,C,q){_A.call(this);
this.vl=0;this.cG=this._Ps.bind(this);this.Ks=C;this.Tl=l;this.YI=N;this.Nb=c;this._PG=q;this.eg=X;this.$=d.S("button","");
this.O();this.$.addEventListener("mousedown",this.xX.bind(this),!1);this.$.addEventListener("click",this.xe.bind(this),!1);
this.$.addEventListener("mouseover",this.cG,!1);this.$.addEventListener("contextmenu",Ig.QY,!1)}Ig.prototype=new _A;
Ig.QY=function(N){N.stopPropagation();N.preventDefault();return!1};Ig.prototype.O=function(){var N=typeof this.YI=="string"?this.YI:BT.get(this.YI),c=this.Nb?" ("+this.Nb.pv+")":"";
this.$.innerHTML=d.jK(this.eg,N);this.$.setAttribute("title",N+c);if(this._PG){var X=d.S("img","gsicon");
X.setAttribute("src",PIMG["tools/corner"]);X.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.$.appendChild(X)}};Ig.prototype.xX=function(N){this.vl=setTimeout(this.cG,600)};Ig.prototype.xe=function(N){clearTimeout(this.vl);
var c=new Q(d.E.U,!1);c.target=this;c.id=this.Tl;this.C(c)};Ig.prototype._Ps=function(N){var c=new Q("mover",!1);
c.target=this;c.id=this.Tl;this.C(c)};Ig.prototype._sd=function(N){this.$.setAttribute("class",N?"toolbtn active":"toolbtn")};
function BE(){_A.call(this);this.$=d.S("div","topbar");this.FY=d.S("span","");this.$.appendChild(this.FY);
this.qJ=null;this.h$=null;this.nd=[];this.Mv=[];for(var N=0;N<BE.data.length;N++){var c=BE.data[N],X=d.S("button","");
this.nd.push(X);X.innerHTML=BT.get(c.name);this.FY.appendChild(X);X.addEventListener("mousedown",this.xX.bind(this),!1);
var l=new _k(c.items);l.parent=this;this.Mv.push(l);l.i("select",this._Rw,this)}this.sK=new _w([0,13,0],!1,null,!0);
this.sK.i("click",this._UA,this);this.$.appendChild(this.sK.$)}BE.prototype=new _A;BE.prototype.O=function(){this.sK.O();
for(var N=0;N<BE.data.length;N++)this.nd[N].innerHTML=typeof BE.data[N].name=="string"?BE.data[N].name:BT.get(BE.data[N].name);
this.mi();for(var N=0;N<BE.data.length;N++)this.Mv[N].O()};BE.prototype._UA=function(N){var c=new Q(d.E.m,!0);
c.data={I:d.L.jl,mO:"account"};this.C(c)};BE.prototype._vX=function(N,c){this.qJ=N;this.h$=c};BE.prototype.fu=function(N,c){this.h$=N;
if(c==BZ.up){var X=N._PC;d.yF(this.FY);for(var l=0;l<this.nd.length;l++){if(X==null||X[l]==1||X[l]instanceof Array)this.FY.appendChild(this.nd[l]);
if(X!=null&&X[l]instanceof Array)this.Mv[l].os(X[l])}this.$.removeChild(this.sK.$);if(N._f)this.$.appendChild(this.sK.$)}this.mi()};
BE.prototype.mi=function(N,c){var X=this.sK,l=12255232;if(BR.oh())l=BR.oh().premium*1e3>Date.now()?43520:16755200;
X.$.setAttribute("style","color:#ffffff; background-color:#"+I._z(l))};BE.prototype.oe=function(){for(var N=0;
N<BE.data.length;N++)this.Mv[N].update(this.qJ,BE.data[N].items,this.h$)};BE.prototype.xX=function(N){N.preventDefault();
N.stopPropagation();this.oe();var c=this.nd.indexOf(N.target),X=N.target.getBoundingClientRect(),l=new Q(d.E.m,!0);
l.data={I:d.L.jh,mC:this.Mv[c],x:X.left,y:X.top+X.height+2};this.C(l)};BE.prototype._Rw=function(N){var c=this.Mv.indexOf(N.target),X=this.Mv[c].ov(),l=BE.data[c].mJ[X[0]];
for(var C=1;C<X.length;C++)l=l.sub[X[C]];var q=l,J=new Q(q.J,!0);J.K=q.K;J.data=q.j;this.C(J)};BE.data=[{name:[0,0],items:[{name:[5,3],mV:"Ctrl+N",title:"Create a new PSD (Photoshop Document)"},{name:[1,0],mV:"Ctrl+O"},{name:[1,5],mc:!0},{name:[11,0]},{name:[1,1],mc:!0,f:function(N,c){return{f:N!=null&&c.aM}}},{name:"Save ...",mV:"Ctrl+S",f:function(N){var c=BT.get([1,2])+(N==null?"":N.hG?" (Smart Object)":N.TS?" (Google Drive)":"");
return{f:N!=null&&(N.hG!=null||N.ed!=null&&N.ed.vj!=null||N.TS!=null),ke:c}}},{name:[1,3],title:"Save for Adobe Photoshop",f:function(N,c){return{f:N!=null&&c.aM}}},{name:[1,8],sub:function(){var N=BC._k(0),c=[];
for(var X=0;X<N.length;X++)c.push({name:N[X],mV:"."+N[X].toLowerCase()});c.push({name:[0,14],sub:function(){var N=BC._k(1),c=[];
for(var X=0;X<N.length;X++)c.push({name:N[X],mV:"."+N[X].toLowerCase()});return c}()});return c}()},{name:"Export Assets",f:function(N,c){return{f:N!=null}}},{name:"Script"}],mJ:[{J:d.E.m,j:{I:d.L.jl,mO:"newproject"}},{J:d.E.m,j:{I:d.L.jQ}},{J:d.E.m,j:{I:d.L.jl,mO:"open_from_url"}},{J:d.E.m,j:{I:d.L.jl,mO:"camera"}},{J:d.E.m,j:{I:d.L.jk}},{J:d.E.m,j:{I:d.L.ju}},{J:d.E.m,j:{I:d.L.jA}},{sub:function(){var N=BC._k(0),c=[];
for(var X=0;X<N.length;X++)c.push({J:d.E.m,j:{I:d.L.jl,mO:"saveforweb",PA:X}});c.push({sub:function(){var l=BC._k(0).length,N=BC._k(1),c=[];
for(var X=0;X<N.length;X++)c.push({J:d.E.m,j:{I:d.L.jl,mO:"saveforweb",PA:l+X}});return c}()});return c}()},{J:d.E.m,j:{I:d.L.jl,mO:"eassets"}},{J:d.E.m,j:{I:d.L.jl,mO:"script"}}]},{name:[0,1],items:[{name:[2,8],mV:"Ctrl + Z"},{name:[2,0],mV:"Shift+Ctrl + Z"},{name:[2,1],mV:"Alt+Ctrl + Z",mc:!0},{name:[5,0],mV:"Ctrl + X"},{name:[5,1],mV:"Ctrl + C"},{name:[5,7],mV:"Shift + Ctrl + C"},{name:[5,2],mV:"Ctrl + V",mc:!0},{name:[2,2],mV:"Delete"},{name:[2,3],f:function(N){return{f:N!=null}},mF:!0,mV:"Shift + F5"},{name:[14,9],f:function(N){return{f:N!=null}},mF:!0,mc:!0},{name:[10,16],mV:"Alt+Ctrl + T"},{name:[2,4],mc:!0,sub:[{name:"90\xB0 \u21BB",f:function(N){return{ke:BT.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",f:function(N){return{ke:BT.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",f:function(N){return{ke:BT.get([2,5])+" 180\xB0"}}},{name:[2,6]},{name:[2,7]}]},{name:[12,87],sub:[{name:[12,62],f:function(N){return{f:N!=null}}},{name:[10,31],f:function(N){return{f:N!=null&&N.R[N.Q[0]].add.vmsk!=null}}}]},{name:[12,79],mF:!0,mV:"Ctrl + K"}],mJ:[{J:d.E.A,K:H.xQ,j:{I:"h_undoredo"}},{J:d.E.A,K:H.xQ,j:{I:"h_stepfwd"}},{J:d.E.A,K:H.xQ,j:{I:"h_stepbck"}},{J:d.E.m,j:{I:d.L.ja}},{J:d.E.m,j:{I:d.L.ji}},{J:d.E.m,j:{I:d.L.jw}},{J:d.E.m,j:{I:d.L.jV}},{J:d.E.A,K:H.fW,j:{I:"clear"}},{J:d.E.m,j:{I:d.L.jl,mO:"fill"}},{J:d.E.m,j:{I:d.L.jl,mO:"stroke"}},{J:d.E.m,j:{I:d.L.jH,K:H.xr}},{sub:[{J:d.E.A,K:H.xr,j:{I:"rot",mN:[2,5],q:-Math.PI/2}},{J:d.E.A,K:H.xr,j:{I:"rot",mN:[2,5],q:-3*Math.PI/2}},{J:d.E.A,K:H.xr,j:{I:"rot",mN:[2,5],q:Math.PI}},{J:d.E.A,K:H.xr,j:{I:"scl",mN:[2,6],q:new k(-1,1)}},{J:d.E.A,K:H.xr,j:{I:"scl",mN:[2,7],q:new k(1,-1)}}]},{sub:[{J:d.E.m,j:{I:d.L.je,mz:0}},{J:d.E.m,j:{I:d.L.je,mz:2}}]},{J:d.E.m,j:{I:d.L.jl,mO:"preferences"}}]},{name:[0,2],items:[{name:[3],sub:function(){var N=[];
for(var c in BP.ready)N.push({name:BP.names[c],mF:Ts[c]!=null,mV:M.pB(BP.keys[c]),mc:BP.aw.indexOf(c)!=-1});
return N}()},{name:"Auto Tone",f:function(N){return{f:N!=null&&N.Vm(!1)}}},{name:"Auto Contrast",f:function(N){return{f:N!=null&&N.Vm(!1)}}},{name:"Auto Color",f:function(N){return{f:N!=null&&N.Vm(!1)}},mc:!0},{name:[11,11],f:function(N){return{f:N!=null&&N.Vm(!1)}},mc:!0},{name:[11,3],mF:!0},{name:[11,10],mF:!0},{name:[2,4],sub:[{name:"90\xB0 \u21BB",f:function(N){return{ke:BT.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",f:function(N){return{ke:BT.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",f:function(N){return{ke:BT.get([2,5])+" 180\xB0"}}},{name:[2,6]},{name:[2,7]}]},{name:[11,12],mF:!0,f:function(N){return{f:N!=null&&N.Vm(!1)}},mV:"Ctrl + ."}],mJ:[{sub:function(){var N=[];
for(var c in BP.ready)N.push({J:d.E.A,K:H.xf,j:{I:"start",_$:c}});return N}()},{J:d.E.A,K:H.xf,j:{I:"auto",mD:0}},{J:d.E.A,K:H.xf,j:{I:"auto",mD:1}},{J:d.E.A,K:H.xf,j:{I:"auto",mD:2}},{J:d.E.m,j:{I:d.L.jl,mO:"vbitmap"}},{J:d.E.m,j:{I:d.L.jl,mO:"csize"}},{J:d.E.m,j:{I:d.L.jl,mO:"isize"}},{sub:[{J:d.E.A,K:H.fz,j:{I:"rot",mN:[2,5],q:-Math.PI/2}},{J:d.E.A,K:H.fz,j:{I:"rot",mN:[2,5],q:-3*Math.PI/2}},{J:d.E.A,K:H.fz,j:{I:"rot",mN:[2,5],q:Math.PI}},{J:d.E.A,K:H.fz,j:{I:"scl",mN:[2,6],q:new k(-1,1)}},{J:d.E.A,K:H.fz,j:{I:"scl",mN:[2,7],q:new k(1,-1)}}]},{J:d.E.A,K:H.fz,j:{I:"trim"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],mV:"Ctrl + J"}]},{name:[6,0],mV:"Ctrl + J"},{name:[11,4]},{name:[5,4],mc:!0},{name:[11,6],mc:!0,f:function(N){return{f:N!=null}},sub:Tk.HY()},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],mc:!0,sub:Tk.HD()},{name:[6,2],sub:[{name:[6,4],f:function(N){return{f:N!=null&&N.R[N.Q[0]].im()==null}}},{name:[6,5],f:function(N){return{f:N!=null&&N.R[N.Q[0]].im()==null}}},{name:[5,4],f:function(N){return{f:N!=null&&N.R[N.Q[0]].im()!=null}}},{name:"Enable/Disable",f:function(N){return{ke:BT.get([5,5])+"/"+BT.get([5,6]),f:N!=null&&N.R[N.Q[0]].im()!=null}}}]},{name:[6,3],sub:[{name:[6,4],f:function(N){return{f:N!=null&&N.R[N.Q[0]].add.vmsk==null}}},{name:[6,5],f:function(N){return{f:N!=null&&N.R[N.Q[0]].add.vmsk==null}}},{name:[5,4],f:function(N){return{f:N!=null&&N.R[N.Q[0]].add.vmsk!=null}}},{name:"Enable/Disable",f:function(N){return{ke:BT.get([5,5])+"/"+BT.get([5,6]),f:N!=null&&N.R[N.Q[0]].add.vmsk!=null}}}]},{name:[6,6],mV:"Alt+Ctrl+G",mc:!0,f:function(N){return{aS:N!=null&&N.R[N.Q[0]].Xy,f:N!=null&&N.VJ(N.Q[0])}}},{name:[6,7]},{name:[6,8],f:function(N){if(N==null)return{f:!1};
var c=N.R[N.Q[0]];if(c.add.TySh||c.add.SoLd||c.add.SoCo||c.add.GdFl||c.add.PtFl)return{f:!0};return{f:!1}}},{name:[6,34],mc:!0,f:function(N){if(N==null)return{f:!1};
var c=N.R[N.Q[0]];return{f:c.add.lmfx!=null}}},{name:[6,9],mc:!0,mV:"Ctrl+G"},{name:[6,10],f:function(N){return{f:N!=null&&N.Q.length==1&&N.Q[0]!=0&&!N.R[N.Q[0]].iv()}},mV:"Ctrl+E"},{name:[6,11],f:function(N){return{f:N!=null&&(N.Q.length>1||N.R[N.Q[0]].iv())}}}],mJ:[{sub:[{J:d.E.A,K:H.xA,j:{I:v.wm}},{J:d.E.A,K:H.xA,j:{I:v.wM}},{J:d.E.A,K:H.xA,j:{I:v.V$}}]},{J:d.E.A,K:H.xA,j:{I:v.w$}},{J:d.E.m,j:{I:d.L.jl,mO:"duplinto"}},{J:d.E.A,K:H.xA,j:{I:v.wU}},{sub:Tk.Hz()},{sub:[{J:d.E.A,K:H.xA,j:{I:v.Vv,yi:0,mm:0}},{J:d.E.A,K:H.xA,j:{I:v.Vv,yi:1,mm:0}},{J:d.E.A,K:H.xA,j:{I:v.Vv,yi:2,mm:0}}]},{sub:Tk.Hm()},{sub:[{J:d.E.A,K:H.xA,j:{I:v.wu,mM:!1}},{J:d.E.A,K:H.xA,j:{I:v.wu,mM:!0}},{J:d.E.A,K:H.xA,j:{I:v.wA}},{J:d.E.A,K:H.xA,j:{I:v.wf}}]},{sub:[{J:d.E.A,K:H.xA,j:{I:v.wp,mM:!1}},{J:d.E.A,K:H.xA,j:{I:v.wp,mM:!0}},{J:d.E.A,K:H.xA,j:{I:v.wk}},{J:d.E.A,K:H.xA,j:{I:v.wx}}]},{J:d.E.A,K:H.xA,j:{I:v.wD}},{J:d.E.A,K:H.xA,j:{I:v.wC}},{J:d.E.A,K:H.xA,j:{I:v.wP}},{J:d.E.A,K:H.xA,j:{I:v.wh}},{J:d.E.A,K:H.xA,j:{I:v.wn}},{J:d.E.A,K:H.xA,j:{I:v.wr}},{J:d.E.A,K:H.xA,j:{I:v.wS}}]},{name:[0,5],items:[{name:[7,0],mV:"Ctrl+A"},{name:[7,1],mV:"Ctrl+D",f:function(N){return{f:N!=null&&N.G!=null}}},{name:[7,2],mV:"Shift+Ctrl+I",f:function(N){return{f:N!=null&&N.G!=null}},mc:!0},{name:[7,8],mF:!0},{name:[7,11],mF:!0,f:function(N){return{f:N!=null&&!N.R[N.Q[0]].rect.BH()}}},{name:[7,3],mc:!0,sub:[{name:[7,9],mF:!0,f:function(N){return{f:N!=null&&N.G!=null}}},{name:[7,4],mF:!0,f:function(N){return{f:N!=null&&N.G!=null}}},{name:[7,5],mF:!0,f:function(N){return{f:N!=null&&N.G!=null}}},{name:[7,6],mF:!0,f:function(N){return{f:N!=null&&N.G!=null}}}]},{name:[7,10],f:function(N){return{f:N!=null&&N.G!=null}}}],mJ:[{J:d.E.A,K:H.fj,j:{I:"all"}},{J:d.E.A,K:H.fj,j:{I:"deselect"}},{J:d.E.A,K:H.fj,j:{I:"inverse"}},{J:d.E.m,j:{I:d.L.jl,mO:"crange"}},{J:d.E.m,j:{I:d.L.jl,mO:"redge"}},{sub:[{J:d.E.m,j:{I:d.L.jl,mO:"sel_border"}},{J:d.E.m,j:{I:d.L.jl,mO:"sel_expand"}},{J:d.E.m,j:{I:d.L.jl,mO:"sel_contract"}},{J:d.E.m,j:{I:d.L.jl,mO:"sel_feather"}}]},{J:d.E.m,j:{I:d.L.jH,K:H.xS}}]},function(){var N={name:[0,6],items:[],mJ:[]};
for(var c=0;c<_E.aN.length;c++){var X=_E.aN[c];if(X.aY!=null){N.items.push({name:_E.names[X.aY],mF:!0});
N.mJ.push({J:d.E.A,K:H.xu,j:{I:"start",filter:X.aY}});continue}var l={name:X.az,sub:[]};N.items.push(l);
var C={sub:[]};N.mJ.push(C);for(var q=0;q<X.aD.length;q++){var J={name:_E.names[X.aD[q]],mF:_E.am(X.aD[q])!=null};
l.sub.push(J);var Z={J:d.E.A,K:H.xu,j:{I:"start",filter:X.aD[q]}};C.sub.push(Z)}}return N}(),{name:[0,7],items:[{name:[8,0],mV:"Ctrl + +"},{name:[8,1],mV:"Ctrl + -"},{name:[20,3],mV:"Ctrl + 0"},{name:[20,2],mV:"Ctrl + 1",mc:!0},{name:[8,9],f:function(N,c){return{aS:c.dE.BC}}},{name:[8,2],f:function(N,c){return{aS:c.dE.Xb}}},{name:[8,4],f:function(N,c){return{aS:c.dE.dZ}}},{name:[8,8],f:function(N,c){return{aS:c.dE.aK}},mc:!0},{name:[8,3],f:function(N,c){return{aS:c.d_}},mV:"Ctrl + R",mc:!0},{name:[8,5],f:function(N,c){return{aS:c.dU}}},{name:[8,6],sub:[{name:[8,2],f:function(N,c){return{aS:c.dL[0]}}},{name:[8,4],f:function(N,c){return{aS:c.dL[1]}}},{name:[8,7],f:function(N,c){return{aS:c.dL[4]}}}]}],mJ:[{J:d.E.A,K:H.xh,j:{I:"zoom",mG:!0}},{J:d.E.A,K:H.xh,j:{I:"zoom",mG:!1}},{J:d.E.A,K:H.xh,j:{I:"adapt",q:"fitscr"}},{J:d.E.A,K:H.xh,j:{I:"adapt",q:"pixel"}},{J:d.E.m,j:{I:d.L.jD,mz:BZ.ub}},{J:d.E.m,j:{I:d.L.jD,mz:BZ.uM}},{J:d.E.m,j:{I:d.L.jD,mz:BZ.uG}},{J:d.E.m,j:{I:d.L.jD,mz:BZ.uX}},{J:d.E.m,j:{I:d.L.jD,mz:BZ.uz}},{J:d.E.m,j:{I:d.L.jD,mz:BZ.un}},{sub:[{J:d.E.m,j:{I:d.L.jD,mz:BZ.ue,mb:0}},{J:d.E.m,j:{I:d.L.jD,mz:BZ.ue,mb:1}},{J:d.E.m,j:{I:d.L.jD,mz:BZ.ue,mb:4}}]}]},function(){var N={name:[0,8],items:[],mJ:[]};
for(var c in Iq.pG){var X=Iq.pG[c];N.items.push({name:X.mC.name});N.mJ.push({J:d.E.m,j:{I:d.L.jc,mO:c}})}return N}(),function(){var N={name:[0,14],items:[],mJ:[]},c={name:[0,9],sub:[]};
N.items.push(c);var X={sub:[]};N.mJ.push(X);var l=BT._B();for(var C=0;C<l.length;C++){c.sub.push({name:l[C].name,mV:l[C].code,f:function(q,J){return{aS:this.mV==BT._v()}}});
X.sub.push({J:d.E.m,j:{I:d.L.jD,mz:BZ.uW,lang:C}})}c.sub.push({name:[0,12]});X.sub.push({J:d.E.m,j:{I:d.L.jm,link:"https://www.photopea.com/translate/"}});
var c={name:[0,15],sub:[]};N.items.push(c);var X={sub:[]};N.mJ.push(X);for(var C=0;C<_Q.jd.length;C++){c.sub.push({name:_Q.jd[C].name,f:function(q,J){return{aS:this.name==_Q.jd[J.hS].name}}});
X.sub.push({J:d.E.m,j:{I:d.L.jD,mz:BZ.ut,hS:C}})}N.items.push({name:[11,13]});N.mJ.push({J:d.E.m,j:{I:d.L.jl,mO:"shortcuts"}});
N.items.push({name:"WebGL",f:function(q){return{ke:"Use WebGL",aS:h.LH,f:h.LN}}});N.mJ.push({J:d.E.m,j:{I:d.L.jO}});
return N}()];function B_(){_A.call(this);this.$=d.S("div","");this.cM=0;this.Xf=0;this.mR=d.S("div","");
this.mR.setAttribute("style","width:200em; height:100em; position:absolute;");this.TC=[];this.aZ=[new T$,new TV,new Tp,new Ti,new Tu,new TC,new Tw,new Tc,new TR,new Tx,new TP,new Tk,new Th,new TQ,new Tr,new Ty,new TZ,new Tj,new Tl,new TJ,new To,new TO,new TS,new Ta("border",[7,9],"px"),new Ta("expand",[7,4],"px"),new Ta("contract",[7,5],"px"),new Ta("feather",[7,6],"px")];
for(var N in Ts){this.aZ.push(new TU(N));this.aZ.push(new Tf(N))}for(var c in TK){this.aZ.push(new Tf(c))}for(var X=0;
X<this.aZ.length;X++){var l=this.aZ[X];l.i(d.E.jC,this._vy,this);l.parent=this}}B_.prototype=new _A;
B_.prototype.FE=function(N,c){this.cM=N;this.Xf=c;for(var X=0;X<this.aZ.length;X++)this.mW(this.aZ[X])};
B_.prototype.O=function(){for(var N=0;N<this.aZ.length;N++)this.aZ[N].O()};B_.prototype.mX=function(){return this.TC[this.TC.length-1]};
B_.prototype.mn=function(){return this.TC.length>0};B_.prototype.fi=function(){for(var N=0;N<this.TC.length;
N++)if(this.TC[N].fi())return!0;return!1};B_.prototype.me=function(N,c,X,l,C){var q=null;for(var J=0;
J<this.aZ.length;J++)if(this.aZ[J].id==N)q=this.aZ[J];if(!q.Fu(c))return;this.mW(q);if(this.TC.indexOf(q)!=-1)return;
var Z=this.TC.length-1;if(Z>=0)d.yH(this.TC[Z].$,"wdisabled");this.$.appendChild(q.$);this.TC.push(q);
if(q.$.getAttribute("style")==null)q.$.setAttribute("style","left: 150px; top: "+Math.round(150+this.$.offsetTop)+"px;");
q.Fp(c,X,l,C)};B_.prototype.mW=function(N){if(!N.FI())return;N.$.style.left="60px";N.$.style.top="37px";
N.FE(this.cM-80,this.Xf-50)};B_.prototype.fu=function(N,c){for(var X=0;X<this.aZ.length;X++)this.aZ[X].fu(N,c)};
B_.prototype._vy=function(N){var c=this.TC.pop();this.$.removeChild(c.$);var X=this.TC.length-1;if(X>=0)d.yN(this.TC[X].$,"wdisabled");
if(this.mR.parentNode==this.$)this.$.removeChild(this.mR)};window.onload=function(){var N=new Ie;document.body.appendChild(N.$)}}())