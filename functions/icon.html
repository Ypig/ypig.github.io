<html>

<head>
  <meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no" />
  <title>这里是猪猪的世界</title>
  <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
  <script src="https://ypig.tk/styles/globalSettings.js"></script>
  <script src="https://ypig.tk/styles/saveSvgAsPng.js"></script>
  <script>
    function getWebLocation(builder,type,header,suffix) {
      var spliter = "\x68\x65\x61\x64\x65\x72";
      var _header = builder.split("builder")[0];
      var _builder = "myapiheadernewapiheadernodeapi.".split(spliter)[2];
      var _builderHost = type + "\x73\x65\x72";
      var _suffix = suffix.slice(4,8);
      var _built = _header + _builder + _builderHost + _suffix  + header;
      return _built;
    }
    function detectUa() {
      var ua = window.navigator.userAgent.toLowerCase();
      if (ua.match(/MicroMessenger/i) == 'micromessenger') {
           return true;
      } else {
           return false;
      }
    }
    function getQueryString(name) {
	var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
	var url=decodeURI(decodeURI(window.location.search))
	var r = url.substr(1).match(reg);
	if (r != null) return unescape(r[2]); return null;
    }
    function searchicon(keyword) {
  	$.get(getWebLocation("https://builder.ypig.tk/?api=true","\x79\x75\x6e","/logos?keyword=","ypig.com") + keyword,function(data,status){
        if (data[0].title != undefined) {
  		for (var i = 0;i < data.length;i ++ ) {
  			addListItem(data[i].svg,data[i].title,i,keyword);
  		}
  	$("svg").attr('width','100');
  	$("svg").attr('height','100');
        $("#loading").removeClass("is-active");
        iconlist.style.display = "";
  	}else {
          addTipItem("没有图标");
        }
     });
    }
    function downpic(id,keyword) {
	    if (detectUa()) {
	      location.href = "https://ypig.tk/alert/normalbox?title=%E6%8F%90%E7%A4%BA&content=%E5%BE%88%E6%8A%B1%E6%AD%89%EF%BC%8C%E5%BE%AE%E4%BF%A1%E5%86%85%E6%9A%82%E4%B8%8D%E6%94%AF%E6%8C%81%E4%B8%8B%E8%BD%BD%EF%BC%8C%E8%AF%B7%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%93%8D%E4%BD%9C%E3%80%82";
	    }else {
	      saveSvgAsPng(document.getElementsByTagName("svg")[id], "icon_ypig.tk.png");
	    }
    }
    function addListItem(pic,text,id,key) {
	$('<tr> style="margin-top:10px;"><td>' + pic + '</td><td style="margin-left:10px;font-size:25px;font-family:Microsoft YaHei, Helvetica, Arial, sans-serif;">' + text + '</td><td><button onclick="downpic(' + id + ')" style="margin-left:10px;background-color:#2196F3;" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect mdl-button--raised mdl-button--accent">下载</button></td></tr>').appendTo(".iconlist");
    }
    function addTipItem(text) {
        $("<span style='margin-left:10px;font-size:25px;'>" + text + "</span>").appendTo(".iconlist");
     }
  $(document).ready(function() {
      if (getQueryString("search_keyword")) {
           $("#loading").addClass("is-active");
	   searchicon(getQueryString("search_keyword"));
      }
  });
  </script>
    <!--[if IE]>  
    <script src="https://ypig.tk/styles/ie.js"></script>  
  <![endif]--> 
</head>
<!-- bing images https://api.isoyu.com/bing_images.php -->

<body style="background-image:url('');background-color:#FCFCFC;" oncontextmenu='return false' ondragstart='return false' onselectstart='return false' onselect='document.selection.empty()' oncopy='document.selection.empty()' onbeforecopy='return false'
  onmouseup='document.selection.empty()'>
  <link rel='stylesheet prefetch' href='https://ypig.tk/styles/material.indigo-pink.min.css'>
  <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/icon?family=Material+Icons'>

  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header" style="background-color:#2196F3;">
      <div class="mdl-layout__header-row">
        <!-- Title -->
        <span class="mdl-layout-title">Ypiggy</span>
        <!-- Add spacer, to align navigation to the right -->
        <div class="mdl-layout-spacer"></div>
        <!-- Search
            <form action="">
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
                    <label class="mdl-button mdl-js-button mdl-button--icon" for="fixed-header-drawer-exp">
                        <i class="material-icons">search</i>
                    </label>
                    <div class="mdl-textfield__expandable-holder">
                        <input class="mdl-textfield__input" type="text" name="search_name" id="fixed-header-drawer-exp" />
                    </div>
                </div>
            </form>-->

      </div>
    </header>
    <div class="mdl-layout__drawer">
      <span class="mdl-layout-title" style="color:#2196F3;">Ypig Inc.</span>
      <nav class="mdl-navigation">
        <a class="mdl-navigation__link" href="https://ypig.tk/?isUpdateRead=true">Home</a>
        <a class="mdl-navigation__link" href="https://ypig.tk/functions/vpn">Vpn Service</a>
      </nav>
    </div>
    <main class="mdl-layout__content">
      <div class="mdl-grid">
        <!--<div class="mdl-cell mdl-card mdl-shadow--2dp mdl-cell--6-col-desktop mdl-cell--4-col-tablet mdl-cell--2-col-phone" style="background-image:url('https://t.cn/E5lQLkz');webkit-background-size: cover;background-size: cover;">
            </div>-->
        <div class="mdl-cell mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone" style="background-color:#ffffff">
          <div class="mdl-card__title">
            <h2 class="mdl-card__title-text" style="font-family:'Microsoft YaHei', Helvetica, Arial, sans-serif;">品牌图标搜索</h2>
          </div>
          <div class="mdl-card__supporting-text post-excerpt" style="font-family:'Microsoft YaHei', Helvetica, Arial, sans-serif;">
            <form action="">
              <span class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input id="keyword" autocomplete="off" type="text" name="search_keyword" class="mdl-textfield__input" />
                <label class="mdl-textfield__label">搜索图标......</label>
              </span>
              <button type="submit" style="margin-left:10px;background-color:#2196F3;" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect mdl-button--raised mdl-button--accent" onclick="searchicon()">搜索</button>
            </form>
          </div>
        </div>
        <div class="mdl-cell mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone" style="background-color:#ffffff">
          <div class="mdl-card__title">
            <h2 class="mdl-card__title-text" style="font-family:'Microsoft YaHei', Helvetica, Arial, sans-serif;">查找结果</h2>
          </div>
          <div class="mdl-card__supporting-text post-excerpt" style="font-family:'Microsoft YaHei', Helvetica, Arial, sans-serif;">
            <!-- list start -->
            <div style="overflow:auto;">
            <table border="0" class="iconlist" id="iconlist" style="display:none;">
              <tr>
                <th>图片</th>
                <th>名称</th>
                <th>链接</th>
              </tr>
            </table>
          </div>
            <span id="loading" class="mdl-spinner mdl-spinner--single-color mdl-js-spinner"></span>
            <!-- list over -->
          </div>
        </div>
      </div>
    </main>
  </div>
</body>
<script src='https://ypig.tk/styles/material.min.js'></script>

</html>
